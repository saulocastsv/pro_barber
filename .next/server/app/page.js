(()=>{var a={};a.id=974,a.ids=[974],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},409:a=>{var b=Function.prototype.toString;a.exports=function(a){if(null!=a){try{return b.call(a)}catch(a){}try{return a+""}catch(a){}}return""}},456:(a,b,c)=>{"use strict";a.exports=c(56796).vendored.contexts.ImageConfigContext},1269:(a,b,c)=>{var d=c(43167);a.exports=function(a,b){var c=d(this,a),e=c.size;return c.set(a,b),this.size+=+(c.size!=e),this}},1375:(a,b,c)=>{var d=c(50448),e=c(37870);a.exports=function(a,b){return d(e(a,b),1)}},1400:a=>{a.exports=function(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}},1658:a=>{var b="\ud800-\udfff",c="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",d="\ud83c[\udffb-\udfff]",e="[^"+b+"]",f="(?:\ud83c[\udde6-\uddff]){2}",g="[\ud800-\udbff][\udc00-\udfff]",h="(?:"+c+"|"+d+")?",i="[\\ufe0e\\ufe0f]?",j="(?:\\u200d(?:"+[e,f,g].join("|")+")"+i+h+")*",k=RegExp(d+"(?="+d+")|"+("(?:"+[e+c+"?",c,f,g,"["+b+"]"].join("|"))+")"+(i+h+j),"g");a.exports=function(a){return a.match(k)||[]}},2224:a=>{a.exports=function(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}},2451:(a,b,c)=>{var d=c(84957),e=c(49810);a.exports=function(a,b){return null!=a&&e(a,b,d)}},2803:a=>{a.exports=function(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}},2894:(a,b,c)=>{var d=c(64979),e=c(26440),f=c(99218);a.exports=function(a){return d(a,f,e)}},3001:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{VALID_LOADERS:function(){return c},imageConfigDefault:function(){return d}});let c=["default","imgix","cloudinary","akamai","custom"],d={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],maximumResponseBody:5e7,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3575:a=>{a.exports=function(a){return null==a}},5699:(a,b,c)=>{var d=c(72513);a.exports=function(a,b){var c=this.__data__,e=d(c,a);return e<0?(++this.size,c.push([a,b])):c[e][1]=b,this}},5909:(a,b,c)=>{var d=c(88241),e=Math.max;a.exports=function(a,b,c){return b=e(void 0===b?a.length-1:b,0),function(){for(var f=arguments,g=-1,h=e(f.length-b,0),i=Array(h);++g<h;)i[g]=f[b+g];g=-1;for(var j=Array(b+1);++g<b;)j[g]=f[g];return j[b]=c(i),d(a,this,j)}}},6289:(a,b,c)=>{var d=c(11849),e=c(95062),f=c(75958),g=c(87130);a.exports=function(a,b){return d(a)?a:e(a,b)?[a]:f(g(a))}},7285:a=>{a.exports=function(a){return this.__data__.get(a)}},7372:(a,b,c)=>{a.exports=c(59418)()},7709:(a,b,c)=>{var d=c(65197),e=c(83252),f=c(93330),g=Math.max,h=Math.min;a.exports=function(a,b,c){var i,j,k,l,m,n,o=0,p=!1,q=!1,r=!0;if("function"!=typeof a)throw TypeError("Expected a function");function s(b){var c=i,d=j;return i=j=void 0,o=b,l=a.apply(d,c)}function t(a){var c=a-n,d=a-o;return void 0===n||c>=b||c<0||q&&d>=k}function u(){var a,c,d,f=e();if(t(f))return v(f);m=setTimeout(u,(a=f-n,c=f-o,d=b-a,q?h(d,k-c):d))}function v(a){return(m=void 0,r&&i)?s(a):(i=j=void 0,l)}function w(){var a,c=e(),d=t(c);if(i=arguments,j=this,n=c,d){if(void 0===m)return o=a=n,m=setTimeout(u,b),p?s(a):l;if(q)return clearTimeout(m),m=setTimeout(u,b),s(n)}return void 0===m&&(m=setTimeout(u,b)),l}return b=f(b)||0,d(c)&&(p=!!c.leading,k=(q="maxWait"in c)?g(f(c.maxWait)||0,b):k,r="trailing"in c?!!c.trailing:r),w.cancel=function(){void 0!==m&&clearTimeout(m),o=0,i=n=j=m=void 0},w.flush=function(){return void 0===m?l:v(e())},w}},8702:(a,b,c)=>{var d=c(61353),e=c(76604),f=c(36552),g=c(10707),h=c(42605),i=c(2803),j=d?d.prototype:void 0,k=j?j.valueOf:void 0;a.exports=function(a,b,c,d,j,l,m){switch(c){case"[object DataView]":if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)break;a=a.buffer,b=b.buffer;case"[object ArrayBuffer]":if(a.byteLength!=b.byteLength||!l(new e(a),new e(b)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return f(+a,+b);case"[object Error]":return a.name==b.name&&a.message==b.message;case"[object RegExp]":case"[object String]":return a==b+"";case"[object Map]":var n=h;case"[object Set]":var o=1&d;if(n||(n=i),a.size!=b.size&&!o)break;var p=m.get(a);if(p)return p==b;d|=2,m.set(a,b);var q=g(n(a),n(b),d,j,l,m);return m.delete(a),q;case"[object Symbol]":if(k)return k.call(a)==k.call(b)}return!1}},8972:(a,b,c)=>{var d=c(61353),e=c(13292),f=c(11849),g=c(80246),h=1/0,i=d?d.prototype:void 0,j=i?i.toString:void 0;a.exports=function a(b){if("string"==typeof b)return b;if(f(b))return e(b,a)+"";if(g(b))return j?j.call(b):"";var c=b+"";return"0"==c&&1/b==-h?"-0":c}},9640:a=>{a.exports="object"==typeof global&&global&&global.Object===Object&&global},9831:(a,b,c)=>{var d=c(61353),e=c(94580),f=c(11849),g=d?d.isConcatSpreadable:void 0;a.exports=function(a){return f(a)||e(a)||!!(g&&a&&a[g])}},10446:(a,b,c)=>{a.exports=c(86002)(Object,"create")},10707:(a,b,c)=>{var d=c(55839),e=c(1400),f=c(59735);a.exports=function(a,b,c,g,h,i){var j=1&c,k=a.length,l=b.length;if(k!=l&&!(j&&l>k))return!1;var m=i.get(a),n=i.get(b);if(m&&n)return m==b&&n==a;var o=-1,p=!0,q=2&c?new d:void 0;for(i.set(a,b),i.set(b,a);++o<k;){var r=a[o],s=b[o];if(g)var t=j?g(s,r,o,b,a,i):g(r,s,o,a,b,i);if(void 0!==t){if(t)continue;p=!1;break}if(q){if(!e(b,function(a,b){if(!f(q,b)&&(r===a||h(r,a,c,g,i)))return q.push(b)})){p=!1;break}}else if(!(r===s||h(r,s,c,g,i))){p=!1;break}}return i.delete(a),i.delete(b),p}},10818:(a,b,c)=>{var d=c(6289),e=c(45157);a.exports=function(a,b){b=d(b,a);for(var c=0,f=b.length;null!=a&&c<f;)a=a[e(b[c++])];return c&&c==f?a:void 0}},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11849:a=>{a.exports=Array.isArray},12005:(a,b,c)=>{var d=c(42424),e=c(83690),f=c(22790),g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g["[object Arguments]"]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g["[object Map]"]=g["[object Number]"]=g["[object Object]"]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1,a.exports=function(a){return f(a)&&e(a.length)&&!!g[d(a)]}},12024:(a,b,c)=>{a=c.nmd(a);var d=c(98813),e=c(54363),f=b&&!b.nodeType&&b,g=f&&a&&!a.nodeType&&a,h=g&&g.exports===f?d.Buffer:void 0,i=h?h.isBuffer:void 0;a.exports=i||e},12049:(a,b,c)=>{a=c.nmd(a);var d=c(9640),e=b&&!b.nodeType&&b,f=e&&a&&!a.nodeType&&a,g=f&&f.exports===e&&d.process,h=function(){try{var a=f&&f.require&&f.require("util").types;if(a)return a;return g&&g.binding&&g.binding("util")}catch(a){}}();a.exports=h},12968:(a,b,c)=>{var d=c(97987),e=c(78494),f=Object.prototype.hasOwnProperty;a.exports=function(a){if(!d(a))return e(a);var b=[];for(var c in Object(a))f.call(a,c)&&"constructor"!=c&&b.push(c);return b}},13292:a=>{a.exports=function(a,b){for(var c=-1,d=null==a?0:a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}},13595:(a,b,c)=>{var d=c(48907),e=c(24131),f=c(29869);a.exports=function(a,b){return a&&a.length?d(a,f(b,2),e):void 0}},13936:(a,b,c)=>{var d=c(10446);a.exports=function(){this.__data__=d?d(null):{},this.size=0}},14075:(a,b,c)=>{a.exports=c(86002)(c(98813),"WeakMap")},14753:(a,b,c)=>{var d=c(43823),e=c(29869),f=c(48569),g=Math.max;a.exports=function(a,b,c){var h=null==a?0:a.length;if(!h)return -1;var i=null==c?0:f(c);return i<0&&(i=g(h+i,0)),d(a,e(b,3),i)}},15217:(a,b)=>{"use strict";function c(a){let{ampFirst:b=!1,hybrid:c=!1,hasQuery:d=!1}=void 0===a?{}:a;return b||c&&d}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"isInAmpMode",{enumerable:!0,get:function(){return c}})},15452:(a,b,c)=>{var d=c(32259),e=c(20128),f=c(98024);a.exports=function(a){return function(b,c,g){return g&&"number"!=typeof g&&e(b,c,g)&&(c=g=void 0),b=f(b),void 0===c?(c=b,b=0):c=f(c),g=void 0===g?b<c?1:-1:f(g),d(b,c,g,a)}}},16106:a=>{var b=Object.prototype.toString;a.exports=function(a){return b.call(a)}},16413:(a,b,c)=>{a.exports=c(15452)()},16953:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>i,metadata:()=>g,viewport:()=>h});var d=c(75338),e=c(15090),f=c.n(e);c(82704);let g={title:"Barvo - Gestao de Barbearia",description:"Sistema completo de gestao para barbearias. Agendamentos, fila, loja, financeiro e muito mais."},h={width:"device-width",initialScale:1,themeColor:"#081E26"};function i({children:a}){return(0,d.jsx)("html",{lang:"pt-BR",children:(0,d.jsx)("body",{className:`${f().variable} font-sans`,children:a})})}},16967:(a,b,c)=>{var d=c(43823),e=c(74899),f=c(78667);a.exports=function(a,b,c){return b==b?f(a,b,c):d(a,e,c)}},17742:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/workspaces/pro_barber/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspaces/pro_barber/app/page.tsx","default")},18355:(a,b,c)=>{"use strict";a.exports=c(56796).vendored.contexts.RouterContext},18776:(a,b,c)=>{var d=c(94958),e=c(91166),f=c(1658);a.exports=function(a){return e(a)?f(a):d(a)}},18799:(a,b,c)=>{var d=c(86002);a.exports=function(){try{var a=d(Object,"defineProperty");return a({},"",{}),a}catch(a){}}()},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19423:()=>{throw Error("Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js):\nError:   \x1b[31mx\x1b[0m 'import', and 'export' cannot be used outside of module code\n    ,-[\x1b[36;1;4m/workspaces/pro_barber/components/StrategicGrowth.tsx\x1b[0m:34:1]\n \x1b[2m31\x1b[0m | export const StrategicGrowth: React.FC<StrategicGrowthProps> = ({ services, plans, setPlans, currentUser }) => {\n \x1b[2m32\x1b[0m |   const [activeTab, setActiveTab] = useState<'membership' | 'subscribers' | 'analysis'>('membership');\n \x1b[2m33\x1b[0m |     // UIKit\n \x1b[2m34\x1b[0m |     import { Section, StatCard as UIKitStatCard, Button, Card, FormInput } from './UIKit';\n    : \x1b[35;1m    ^^^^^^\x1b[0m\n \x1b[2m35\x1b[0m |   const [selectedPlanId, setSelectedPlanId] = useState<string | null>(null);\n \x1b[2m36\x1b[0m |   const [isPlanModalOpen, setIsPlanModalOpen] = useState(false);\n \x1b[2m37\x1b[0m |   const [isCheckoutModalOpen, setIsCheckoutModalOpen] = useState(false);\n    `----\n\n\nCaused by:\n    Syntax Error")},19746:(a,b,c)=>{"use strict";a.exports=c(56796).vendored.contexts.HeadManagerContext},19779:(a,b,c)=>{var d=c(10818);a.exports=function(a){return function(b){return d(b,a)}}},20128:(a,b,c)=>{var d=c(36552),e=c(70050),f=c(40337),g=c(65197);a.exports=function(a,b,c){if(!g(c))return!1;var h=typeof b;return("number"==h?!!(e(c)&&f(b,c.length)):"string"==h&&b in c)&&d(c[b],a)}},20394:a=>{a.exports=function(){this.__data__=[],this.size=0}},22790:a=>{a.exports=function(a){return null!=a&&"object"==typeof a}},23082:(a,b,c)=>{var d=c(46304),e=c(5909),f=c(51529);a.exports=function(a,b){return f(e(a,b,d),a+"")}},24120:(a,b,c)=>{var d=c(39517),e=c(70050);a.exports=function(a,b){var c=-1,f=e(a)?Array(a.length):[];return d(a,function(a,d,e){f[++c]=b(a,d,e)}),f}},24131:a=>{a.exports=function(a,b){return a>b}},24613:a=>{a.exports=function(a){return function(b){return null==b?void 0:b[a]}}},24924:(a,b,c)=>{a.exports=c(86002)(c(98813),"Promise")},25301:(a,b,c)=>{var d=c(48907),e=c(29869),f=c(80976);a.exports=function(a,b){return a&&a.length?d(a,e(b,2),f):void 0}},25945:a=>{a.exports=function(){return[]}},26440:(a,b,c)=>{var d=c(62598),e=c(25945),f=Object.prototype.propertyIsEnumerable,g=Object.getOwnPropertySymbols;a.exports=g?function(a){return null==a?[]:d(g(a=Object(a)),function(b){return f.call(a,b)})}:e},26707:(a,b,c)=>{var d=c(42424),e=c(11849),f=c(22790);a.exports=function(a){return"string"==typeof a||!e(a)&&f(a)&&"[object String]"==d(a)}},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},27165:(a,b,c)=>{var d=c(10446),e=Object.prototype.hasOwnProperty;a.exports=function(a){var b=this.__data__;return d?void 0!==b[a]:e.call(b,a)}},28354:a=>{"use strict";a.exports=require("util")},28925:(a,b,c)=>{a.exports=c(42954)(c(14753))},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29502:(a,b,c)=>{var d=c(77822);a.exports=function(a,b,c){for(var e=-1,f=a.criteria,g=b.criteria,h=f.length,i=c.length;++e<h;){var j=d(f[e],g[e]);if(j){if(e>=i)return j;return j*("desc"==c[e]?-1:1)}}return a.index-b.index}},29514:a=>{a.exports=function(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=!!b,b}},29869:(a,b,c)=>{var d=c(83851),e=c(90230),f=c(46304),g=c(11849),h=c(71923);a.exports=function(a){return"function"==typeof a?a:null==a?f:"object"==typeof a?g(a)?e(a[0],a[1]):d(a):h(a)}},30353:(a,b,c)=>{a.exports=c(98813)["__core-js_shared__"]},30940:(a,b,c)=>{var d=c(48907),e=c(80976),f=c(46304);a.exports=function(a){return a&&a.length?d(a,f,e):void 0}},31907:(a,b,c)=>{var d=c(42424),e=c(22790);a.exports=function(a){return"number"==typeof a||e(a)&&"[object Number]"==d(a)}},32259:a=>{var b=Math.ceil,c=Math.max;a.exports=function(a,d,e,f){for(var g=-1,h=c(b((d-a)/(e||1)),0),i=Array(h);h--;)i[f?h:++g]=a,a+=e;return i}},33873:a=>{"use strict";a.exports=require("path")},34073:(a,b,c)=>{var d=c(83131),e=c(73483),f=c(86797);a.exports=function(a,b){var c=this.__data__;if(c instanceof d){var g=c.__data__;if(!e||g.length<199)return g.push([a,b]),this.size=++c.size,this;c=this.__data__=new f(g)}return c.set(a,b),this.size=c.size,this}},34311:(a,b,c)=>{var d=c(42925),e=c(99625),f=c(29869),g=c(11849),h=c(20128);a.exports=function(a,b,c){var i=g(a)?d:e;return c&&h(a,b,c)&&(b=void 0),i(a,f(b,3))}},35204:(a,b,c)=>{var d=c(83131);a.exports=function(){this.__data__=new d,this.size=0}},35557:a=>{a.exports=function(a){return function(b){return a(b)}}},36552:a=>{a.exports=function(a,b){return a===b||a!=a&&b!=b}},37070:(a,b,c)=>{var d=c(50698),e=c(18799),f=c(46304);a.exports=e?function(a,b){return e(a,"toString",{configurable:!0,enumerable:!1,value:d(b),writable:!0})}:f},37870:(a,b,c)=>{var d=c(13292),e=c(29869),f=c(24120),g=c(11849);a.exports=function(a,b){return(g(a)?d:f)(a,e(b,3))}},37972:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},38331:(a,b,c)=>{var d=c(12005),e=c(35557),f=c(12049),g=f&&f.isTypedArray;a.exports=g?e(g):d},39289:(a,b,c)=>{var d=c(98097),e=c(99218);a.exports=function(a,b){return a&&d(a,b,e)}},39517:(a,b,c)=>{var d=c(39289);a.exports=c(63185)(d)},40106:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"Image",{enumerable:!0,get:function(){return u}});let d=c(35288),e=c(55823),f=c(21124),g=e._(c(38301)),h=d._(c(23312)),i=d._(c(63725)),j=c(63974),k=c(3001),l=c(456);c(21507);let m=c(18355),n=d._(c(49656)),o=c(49427),p={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function q(a,b,c,d,e,f,g){let h=null==a?void 0:a.src;a&&a["data-loaded-src"]!==h&&(a["data-loaded-src"]=h,("decode"in a?a.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(a.parentElement&&a.isConnected){if("empty"!==b&&e(!0),null==c?void 0:c.current){let b=new Event("load");Object.defineProperty(b,"target",{writable:!1,value:a});let d=!1,e=!1;c.current({...b,nativeEvent:b,currentTarget:a,target:a,isDefaultPrevented:()=>d,isPropagationStopped:()=>e,persist:()=>{},preventDefault:()=>{d=!0,b.preventDefault()},stopPropagation:()=>{e=!0,b.stopPropagation()}})}(null==d?void 0:d.current)&&d.current(a)}}))}function r(a){return g.use?{fetchPriority:a}:{fetchpriority:a}}globalThis.__NEXT_IMAGE_IMPORTED=!0;let s=(0,g.forwardRef)((a,b)=>{let{src:c,srcSet:d,sizes:e,height:h,width:i,decoding:j,className:k,style:l,fetchPriority:m,placeholder:n,loading:p,unoptimized:s,fill:t,onLoadRef:u,onLoadingCompleteRef:v,setBlurComplete:w,setShowAltText:x,sizesInput:y,onLoad:z,onError:A,...B}=a,C=(0,g.useCallback)(a=>{a&&(A&&(a.src=a.src),a.complete&&q(a,n,u,v,w,s,y))},[c,n,u,v,w,A,s,y]),D=(0,o.useMergedRef)(b,C);return(0,f.jsx)("img",{...B,...r(m),loading:p,width:i,height:h,decoding:j,"data-nimg":t?"fill":"1",className:k,style:l,sizes:e,srcSet:d,src:c,ref:D,onLoad:a=>{q(a.currentTarget,n,u,v,w,s,y)},onError:a=>{x(!0),"empty"!==n&&w(!0),A&&A(a)}})});function t(a){let{isAppRouter:b,imgAttributes:c}=a,d={as:"image",imageSrcSet:c.srcSet,imageSizes:c.sizes,crossOrigin:c.crossOrigin,referrerPolicy:c.referrerPolicy,...r(c.fetchPriority)};return b&&h.default.preload?(h.default.preload(c.src,d),null):(0,f.jsx)(i.default,{children:(0,f.jsx)("link",{rel:"preload",href:c.srcSet?void 0:c.src,...d},"__nimg-"+c.src+c.srcSet+c.sizes)})}let u=(0,g.forwardRef)((a,b)=>{let c=(0,g.useContext)(m.RouterContext),d=(0,g.useContext)(l.ImageConfigContext),e=(0,g.useMemo)(()=>{var a;let b=p||d||k.imageConfigDefault,c=[...b.deviceSizes,...b.imageSizes].sort((a,b)=>a-b),e=b.deviceSizes.sort((a,b)=>a-b),f=null==(a=b.qualities)?void 0:a.sort((a,b)=>a-b);return{...b,allSizes:c,deviceSizes:e,qualities:f}},[d]),{onLoad:h,onLoadingComplete:i}=a,o=(0,g.useRef)(h);(0,g.useEffect)(()=>{o.current=h},[h]);let q=(0,g.useRef)(i);(0,g.useEffect)(()=>{q.current=i},[i]);let[r,u]=(0,g.useState)(!1),[v,w]=(0,g.useState)(!1),{props:x,meta:y}=(0,j.getImgProps)(a,{defaultLoader:n.default,imgConf:e,blurComplete:r,showAltText:v});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s,{...x,unoptimized:y.unoptimized,placeholder:y.placeholder,fill:y.fill,onLoadRef:o,onLoadingCompleteRef:q,setBlurComplete:u,setShowAltText:w,sizesInput:a.sizes,ref:b}),y.priority?(0,f.jsx)(t,{isAppRouter:!c,imgAttributes:x}):null]})});("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},40337:a=>{var b=/^(?:0|[1-9]\d*)$/;a.exports=function(a,c){var d=typeof a;return!!(c=null==c?0x1fffffffffffff:c)&&("number"==d||"symbol"!=d&&b.test(a))&&a>-1&&a%1==0&&a<c}},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},42424:(a,b,c)=>{var d=c(61353),e=c(92343),f=c(16106),g=d?d.toStringTag:void 0;a.exports=function(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":g&&g in Object(a)?e(a):f(a)}},42605:a=>{a.exports=function(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}},42805:(a,b,c)=>{var d=c(55839),e=c(46925),f=c(59993),g=c(59735),h=c(61477),i=c(2803);a.exports=function(a,b,c){var j=-1,k=e,l=a.length,m=!0,n=[],o=n;if(c)m=!1,k=f;else if(l>=200){var p=b?null:h(a);if(p)return i(p);m=!1,k=g,o=new d}else o=b?[]:n;a:for(;++j<l;){var q=a[j],r=b?b(q):q;if(q=c||0!==q?q:0,m&&r==r){for(var s=o.length;s--;)if(o[s]===r)continue a;b&&o.push(r),n.push(q)}else k(o,r,c)||(o!==n&&o.push(r),n.push(q))}return n}},42925:a=>{a.exports=function(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}},42954:(a,b,c)=>{var d=c(29869),e=c(70050),f=c(99218);a.exports=function(a){return function(b,c,g){var h=Object(b);if(!e(b)){var i=d(c,3);b=f(b),c=function(a){return i(h[a],a,h)}}var j=a(b,c,g);return j>-1?h[i?b[j]:j]:void 0}}},43167:(a,b,c)=>{var d=c(98038);a.exports=function(a,b){var c=a.__data__;return d(b)?c["string"==typeof b?"string":"hash"]:c.map}},43424:(a,b,c)=>{var d=c(57917),e=c(83131),f=c(73483);a.exports=function(){this.size=0,this.__data__={hash:new d,map:new(f||e),string:new d}}},43823:a=>{a.exports=function(a,b,c,d){for(var e=a.length,f=c+(d?1:-1);d?f--:++f<e;)if(b(a[f],f,a))return f;return -1}},43884:a=>{a.exports=function(a){return this.__data__.set(a,"__lodash_hash_undefined__"),this}},44956:(a,b,c)=>{var d=c(39517);a.exports=function(a,b){var c;return d(a,function(a,d,e){return!(c=b(a,d,e))}),!!c}},45e3:a=>{a.exports=function(a,b){return null==a?void 0:a[b]}},45157:(a,b,c)=>{var d=c(80246),e=1/0;a.exports=function(a){if("string"==typeof a||d(a))return a;var b=a+"";return"0"==b&&1/a==-e?"-0":b}},45380:(a,b,c)=>{a.exports=c(86002)(c(98813),"DataView")},45446:a=>{a.exports=function(a){var b=this.__data__,c=b.delete(a);return this.size=b.size,c}},45862:(a,b,c)=>{var d=c(42424),e=c(65197);a.exports=function(a){if(!e(a))return!1;var b=d(a);return"[object Function]"==b||"[object GeneratorFunction]"==b||"[object AsyncFunction]"==b||"[object Proxy]"==b}},45881:(a,b,c)=>{var d=c(43167);a.exports=function(a){return d(this,a).get(a)}},46304:a=>{a.exports=function(a){return a}},46345:(a,b,c)=>{var d=c(10446),e=Object.prototype.hasOwnProperty;a.exports=function(a){var b=this.__data__;if(d){var c=b[a];return"__lodash_hash_undefined__"===c?void 0:c}return e.call(b,a)?b[a]:void 0}},46925:(a,b,c)=>{var d=c(16967);a.exports=function(a,b){return!!(null==a?0:a.length)&&d(a,b,0)>-1}},47616:(a,b,c)=>{var d=c(72513),e=Array.prototype.splice;a.exports=function(a){var b=this.__data__,c=d(b,a);return!(c<0)&&(c==b.length-1?b.pop():e.call(b,c,1),--this.size,!0)}},48451:(a,b,c)=>{var d=c(72905),e=c(96882);a.exports=function(a,b,c,f){var g=c.length,h=g,i=!f;if(null==a)return!h;for(a=Object(a);g--;){var j=c[g];if(i&&j[2]?j[1]!==a[j[0]]:!(j[0]in a))return!1}for(;++g<h;){var k=(j=c[g])[0],l=a[k],m=j[1];if(i&&j[2]){if(void 0===l&&!(k in a))return!1}else{var n=new d;if(f)var o=f(l,m,k,a,b,n);if(!(void 0===o?e(m,l,3,f,n):o))return!1}}return!0}},48569:(a,b,c)=>{var d=c(98024);a.exports=function(a){var b=d(a),c=b%1;return b==b?c?b-c:b:0}},48768:(a,b,c)=>{var d=c(18799);a.exports=function(a,b,c){"__proto__"==b&&d?d(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}},48873:(a,b,c)=>{var d=c(2894),e=Object.prototype.hasOwnProperty;a.exports=function(a,b,c,f,g,h){var i=1&c,j=d(a),k=j.length;if(k!=d(b).length&&!i)return!1;for(var l=k;l--;){var m=j[l];if(!(i?m in b:e.call(b,m)))return!1}var n=h.get(a),o=h.get(b);if(n&&o)return n==b&&o==a;var p=!0;h.set(a,b),h.set(b,a);for(var q=i;++l<k;){var r=a[m=j[l]],s=b[m];if(f)var t=i?f(s,r,m,b,a,h):f(r,s,m,a,b,h);if(!(void 0===t?r===s||g(r,s,c,f,h):t)){p=!1;break}q||(q="constructor"==m)}if(p&&!q){var u=a.constructor,v=b.constructor;u!=v&&"constructor"in a&&"constructor"in b&&!("function"==typeof u&&u instanceof u&&"function"==typeof v&&v instanceof v)&&(p=!1)}return h.delete(a),h.delete(b),p}},48907:(a,b,c)=>{var d=c(80246);a.exports=function(a,b,c){for(var e=-1,f=a.length;++e<f;){var g=a[e],h=b(g);if(null!=h&&(void 0===i?h==h&&!d(h):c(h,i)))var i=h,j=g}return j}},49427:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"useMergedRef",{enumerable:!0,get:function(){return e}});let d=c(38301);function e(a,b){let c=(0,d.useRef)(null),e=(0,d.useRef)(null);return(0,d.useCallback)(d=>{if(null===d){let a=c.current;a&&(c.current=null,a());let b=e.current;b&&(e.current=null,b())}else a&&(c.current=f(a,d)),b&&(e.current=f(b,d))},[a,b])}function f(a,b){if("function"!=typeof a)return a.current=b,()=>{a.current=null};{let c=a(b);return"function"==typeof c?c:()=>a(null)}}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},49656:(a,b)=>{"use strict";function c(a){var b;let{config:c,src:d,width:e,quality:f}=a,g=f||(null==(b=c.qualities)?void 0:b.reduce((a,b)=>Math.abs(b-75)<Math.abs(a-75)?b:a))||75;return c.path+"?url="+encodeURIComponent(d)+"&w="+e+"&q="+g+(d.startsWith("/_next/static/media/"),"")}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"default",{enumerable:!0,get:function(){return d}}),c.__next_img_default=!0;let d=c},49810:(a,b,c)=>{var d=c(6289),e=c(94580),f=c(11849),g=c(40337),h=c(83690),i=c(45157);a.exports=function(a,b,c){b=d(b,a);for(var j=-1,k=b.length,l=!1;++j<k;){var m=i(b[j]);if(!(l=null!=a&&c(a,m)))break;a=a[m]}return l||++j!=k?l:!!(k=null==a?0:a.length)&&h(k)&&g(m,k)&&(f(a)||e(a))}},49888:a=>{a.exports=function(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}},49928:a=>{var b=/\s/;a.exports=function(a){for(var c=a.length;c--&&b.test(a.charAt(c)););return c}},50448:(a,b,c)=>{var d=c(49888),e=c(9831);a.exports=function a(b,c,f,g,h){var i=-1,j=b.length;for(f||(f=e),h||(h=[]);++i<j;){var k=b[i];c>0&&f(k)?c>1?a(k,c-1,f,g,h):d(h,k):g||(h[h.length]=k)}return h}},50464:(a,b,c)=>{var d=c(30353),e=function(){var a=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();a.exports=function(a){return!!e&&e in a}},50698:a=>{a.exports=function(a){return function(){return a}}},51529:(a,b,c)=>{var d=c(37070);a.exports=c(79655)(d)},51691:a=>{a.exports=function(a,b){return function(c){return a(b(c))}}},53032:(a,b,c)=>{var d=c(92828),e=c(99218);a.exports=function(a){for(var b=e(a),c=b.length;c--;){var f=b[c],g=a[f];b[c]=[f,g,d(g)]}return b}},54363:a=>{a.exports=function(){return!1}},54861:a=>{a.exports=function(a,b){return function(c){return null!=c&&c[a]===b&&(void 0!==b||a in Object(c))}}},55707:(a,b,c)=>{a.exports=c(51691)(Object.getPrototypeOf,Object)},55839:(a,b,c)=>{var d=c(86797),e=c(43884),f=c(89159);function g(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new d;++b<c;)this.add(a[b])}g.prototype.add=g.prototype.push=e,g.prototype.has=f,a.exports=g},57684:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"default",{enumerable:!0,get:function(){return f}});let d=c(38301),e=()=>{};function f(a){var b;let{headManager:c,reduceComponentsToState:f}=a;function g(){if(c&&c.mountedInstances){let b=d.Children.toArray(Array.from(c.mountedInstances).filter(Boolean));c.updateHead(f(b,a))}}return null==c||null==(b=c.mountedInstances)||b.add(a.children),g(),e(()=>{var b;return null==c||null==(b=c.mountedInstances)||b.add(a.children),()=>{var b;null==c||null==(b=c.mountedInstances)||b.delete(a.children)}}),e(()=>(c&&(c._pendingUpdate=g),()=>{c&&(c._pendingUpdate=g)})),null}},57750:(a,b,c)=>{var d=c(48907),e=c(24131),f=c(46304);a.exports=function(a){return a&&a.length?d(a,f,e):void 0}},57820:(a,b,c)=>{var d=c(96882);a.exports=function(a,b){return d(a,b)}},57917:(a,b,c)=>{var d=c(13936),e=c(29514),f=c(46345),g=c(27165),h=c(91429);function i(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}i.prototype.clear=d,i.prototype.delete=e,i.prototype.get=f,i.prototype.has=g,i.prototype.set=h,a.exports=i},59418:(a,b,c)=>{"use strict";var d=c(69405);function e(){}function f(){}f.resetWarningCache=e,a.exports=function(){function a(a,b,c,e,f,g){if(g!==d){var h=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}function b(){return a}a.isRequired=a;var c={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:b,element:a,elementType:a,instanceOf:b,node:a,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:f,resetWarningCache:e};return c.PropTypes=c,c}},59735:a=>{a.exports=function(a,b){return a.has(b)}},59899:(a,b,c)=>{var d=c(72513);a.exports=function(a){return d(this.__data__,a)>-1}},59993:a=>{a.exports=function(a,b,c){for(var d=-1,e=null==a?0:a.length;++d<e;)if(c(b,a[d]))return!0;return!1}},61188:(a,b,c)=>{var d=c(72905),e=c(10707),f=c(8702),g=c(48873),h=c(69797),i=c(11849),j=c(12024),k=c(38331),l="[object Arguments]",m="[object Array]",n="[object Object]",o=Object.prototype.hasOwnProperty;a.exports=function(a,b,c,p,q,r){var s=i(a),t=i(b),u=s?m:h(a),v=t?m:h(b);u=u==l?n:u,v=v==l?n:v;var w=u==n,x=v==n,y=u==v;if(y&&j(a)){if(!j(b))return!1;s=!0,w=!1}if(y&&!w)return r||(r=new d),s||k(a)?e(a,b,c,p,q,r):f(a,b,u,c,p,q,r);if(!(1&c)){var z=w&&o.call(a,"__wrapped__"),A=x&&o.call(b,"__wrapped__");if(z||A){var B=z?a.value():a,C=A?b.value():b;return r||(r=new d),q(B,C,c,p,r)}}return!!y&&(r||(r=new d),g(a,b,c,p,q,r))}},61353:(a,b,c)=>{a.exports=c(98813).Symbol},61477:(a,b,c)=>{var d=c(85161),e=c(77522),f=c(2803);a.exports=d&&1/f(new d([,-0]))[1]==1/0?function(a){return new d(a)}:e},62598:a=>{a.exports=function(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63181:(a,b,c)=>{var d=c(31907);a.exports=function(a){return d(a)&&a!=+a}},63185:(a,b,c)=>{var d=c(70050);a.exports=function(a,b){return function(c,e){if(null==c)return c;if(!d(c))return a(c,e);for(var f=c.length,g=b?f:-1,h=Object(c);(b?g--:++g<f)&&!1!==e(h[g],g,h););return c}}},63725:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{default:function(){return p},defaultHead:function(){return l}});let d=c(35288),e=c(55823),f=c(21124),g=e._(c(38301)),h=d._(c(57684)),i=c(81578),j=c(19746),k=c(15217);function l(a){void 0===a&&(a=!1);let b=[(0,f.jsx)("meta",{charSet:"utf-8"},"charset")];return a||b.push((0,f.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),b}function m(a,b){return"string"==typeof b||"number"==typeof b?a:b.type===g.default.Fragment?a.concat(g.default.Children.toArray(b.props.children).reduce((a,b)=>"string"==typeof b||"number"==typeof b?a:a.concat(b),[])):a.concat(b)}c(21507);let n=["name","httpEquiv","charSet","itemProp"];function o(a,b){let{inAmpMode:c}=b;return a.reduce(m,[]).reverse().concat(l(c).reverse()).filter(function(){let a=new Set,b=new Set,c=new Set,d={};return e=>{let f=!0,g=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){g=!0;let b=e.key.slice(e.key.indexOf("$")+1);a.has(b)?f=!1:a.add(b)}switch(e.type){case"title":case"base":b.has(e.type)?f=!1:b.add(e.type);break;case"meta":for(let a=0,b=n.length;a<b;a++){let b=n[a];if(e.props.hasOwnProperty(b))if("charSet"===b)c.has(b)?f=!1:c.add(b);else{let a=e.props[b],c=d[b]||new Set;("name"!==b||!g)&&c.has(a)?f=!1:(c.add(a),d[b]=c)}}}return f}}()).reverse().map((a,b)=>{let c=a.key||b;return g.default.cloneElement(a,{key:c})})}let p=function(a){let{children:b}=a,c=(0,g.useContext)(i.AmpStateContext),d=(0,g.useContext)(j.HeadManagerContext);return(0,f.jsx)(h.default,{reduceComponentsToState:o,headManager:d,inAmpMode:(0,k.isInAmpMode)(c),children:b})};("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},63847:(a,b,c)=>{var d=c(72513);a.exports=function(a){var b=this.__data__,c=d(b,a);return c<0?void 0:b[c][1]}},63974:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"getImgProps",{enumerable:!0,get:function(){return i}}),c(21507);let d=c(78757),e=c(3001),f=["-moz-initial","fill","none","scale-down",void 0];function g(a){return void 0!==a.default}function h(a){return void 0===a?a:"number"==typeof a?Number.isFinite(a)?a:NaN:"string"==typeof a&&/^[0-9]+$/.test(a)?parseInt(a,10):NaN}function i(a,b){var c,i;let j,k,l,{src:m,sizes:n,unoptimized:o=!1,priority:p=!1,loading:q,className:r,quality:s,width:t,height:u,fill:v=!1,style:w,overrideSrc:x,onLoad:y,onLoadingComplete:z,placeholder:A="empty",blurDataURL:B,fetchPriority:C,decoding:D="async",layout:E,objectFit:F,objectPosition:G,lazyBoundary:H,lazyRoot:I,...J}=a,{imgConf:K,showAltText:L,blurComplete:M,defaultLoader:N}=b,O=K||e.imageConfigDefault;if("allSizes"in O)j=O;else{let a=[...O.deviceSizes,...O.imageSizes].sort((a,b)=>a-b),b=O.deviceSizes.sort((a,b)=>a-b),d=null==(c=O.qualities)?void 0:c.sort((a,b)=>a-b);j={...O,allSizes:a,deviceSizes:b,qualities:d}}if(void 0===N)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let P=J.loader||N;delete J.loader,delete J.srcSet;let Q="__next_img_default"in P;if(Q){if("custom"===j.loader)throw Object.defineProperty(Error('Image with src "'+m+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader'),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let a=P;P=b=>{let{config:c,...d}=b;return a(d)}}if(E){"fill"===E&&(v=!0);let a={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[E];a&&(w={...w,...a});let b={responsive:"100vw",fill:"100vw"}[E];b&&!n&&(n=b)}let R="",S=h(t),T=h(u);if((i=m)&&"object"==typeof i&&(g(i)||void 0!==i.src)){let a=g(m)?m.default:m;if(!a.src)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(a)),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!a.height||!a.width)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(a)),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(k=a.blurWidth,l=a.blurHeight,B=B||a.blurDataURL,R=a.src,!v)if(S||T){if(S&&!T){let b=S/a.width;T=Math.round(a.height*b)}else if(!S&&T){let b=T/a.height;S=Math.round(a.width*b)}}else S=a.width,T=a.height}let U=!p&&("lazy"===q||void 0===q);(!(m="string"==typeof m?m:R)||m.startsWith("data:")||m.startsWith("blob:"))&&(o=!0,U=!1),j.unoptimized&&(o=!0),Q&&!j.dangerouslyAllowSVG&&m.split("?",1)[0].endsWith(".svg")&&(o=!0);let V=h(s),W=Object.assign(v?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:F,objectPosition:G}:{},L?{}:{color:"transparent"},w),X=M||"empty"===A?null:"blur"===A?'url("data:image/svg+xml;charset=utf-8,'+(0,d.getImageBlurSvg)({widthInt:S,heightInt:T,blurWidth:k,blurHeight:l,blurDataURL:B||"",objectFit:W.objectFit})+'")':'url("'+A+'")',Y=f.includes(W.objectFit)?"fill"===W.objectFit?"100% 100%":"cover":W.objectFit,Z=X?{backgroundSize:Y,backgroundPosition:W.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:X}:{},$=function(a){let{config:b,src:c,unoptimized:d,width:e,quality:f,sizes:g,loader:h}=a;if(d)return{src:c,srcSet:void 0,sizes:void 0};let{widths:i,kind:j}=function(a,b,c){let{deviceSizes:d,allSizes:e}=a;if(c){let a=/(^|\s)(1?\d?\d)vw/g,b=[];for(let d;d=a.exec(c);)b.push(parseInt(d[2]));if(b.length){let a=.01*Math.min(...b);return{widths:e.filter(b=>b>=d[0]*a),kind:"w"}}return{widths:e,kind:"w"}}return"number"!=typeof b?{widths:d,kind:"w"}:{widths:[...new Set([b,2*b].map(a=>e.find(b=>b>=a)||e[e.length-1]))],kind:"x"}}(b,e,g),k=i.length-1;return{sizes:g||"w"!==j?g:"100vw",srcSet:i.map((a,d)=>h({config:b,src:c,quality:f,width:a})+" "+("w"===j?a:d+1)+j).join(", "),src:h({config:b,src:c,quality:f,width:i[k]})}}({config:j,src:m,unoptimized:o,width:S,quality:V,sizes:n,loader:P});return{props:{...J,loading:U?"lazy":q,fetchPriority:C,width:S,height:T,decoding:D,className:r,style:{...W,...Z},sizes:$.sizes,srcSet:$.srcSet,src:x||$.src},meta:{unoptimized:o,priority:p,placeholder:A,fill:v}}}},64592:(a,b,c)=>{var d=c(86280);a.exports=function(a){var b=d(a,function(a){return 500===c.size&&c.clear(),a}),c=b.cache;return b}},64838:(a,b,c)=>{"use strict";let d;c.r(b),c.d(b,{default:()=>uF});var e,f,g,h,i,j,k,l,m,n,o,p={};c.r(p),c.d(p,{wn:()=>F,hI:()=>E});var q={};c.r(q),c.d(q,{scaleBand:()=>d1,scaleDiverging:()=>function a(){var b=fN(h1()(fv));return b.copy=function(){return h$(b,a())},dX.apply(b,arguments)},scaleDivergingLog:()=>function a(){var b=fW(h1()).domain([.1,1,10]);return b.copy=function(){return h$(b,a()).base(b.base())},dX.apply(b,arguments)},scaleDivergingPow:()=>h2,scaleDivergingSqrt:()=>h3,scaleDivergingSymlog:()=>function a(){var b=fZ(h1());return b.copy=function(){return h$(b,a()).constant(b.constant())},dX.apply(b,arguments)},scaleIdentity:()=>function a(b){var c;function d(a){return null==a||isNaN(a*=1)?c:a}return d.invert=d,d.domain=d.range=function(a){return arguments.length?(b=Array.from(a,ft),d):b.slice()},d.unknown=function(a){return arguments.length?(c=a,d):c},d.copy=function(){return a(b).unknown(c)},b=arguments.length?Array.from(b,ft):[0,1],fN(d)},scaleImplicit:()=>d_,scaleLinear:()=>fO,scaleLog:()=>function a(){let b=fW(fA()).domain([1,10]);return b.copy=()=>fz(b,a()).base(b.base()),dW.apply(b,arguments),b},scaleOrdinal:()=>d0,scalePoint:()=>d2,scalePow:()=>f2,scaleQuantile:()=>function a(){var b,c=[],d=[],e=[];function f(){var a=0,b=Math.max(1,d.length);for(e=Array(b-1);++a<b;)e[a-1]=function(a,b,c=eM){if(!(!(d=a.length)||isNaN(b*=1))){if(b<=0||d<2)return+c(a[0],0,a);if(b>=1)return+c(a[d-1],d-1,a);var d,e=(d-1)*b,f=Math.floor(e),g=+c(a[f],f,a);return g+(c(a[f+1],f+1,a)-g)*(e-f)}}(c,a/b);return g}function g(a){return null==a||isNaN(a*=1)?b:d[eO(e,a)]}return g.invertExtent=function(a){var b=d.indexOf(a);return b<0?[NaN,NaN]:[b>0?e[b-1]:c[0],b<e.length?e[b]:c[c.length-1]]},g.domain=function(a){if(!arguments.length)return c.slice();for(let b of(c=[],a))null==b||isNaN(b*=1)||c.push(b);return c.sort(eI),f()},g.range=function(a){return arguments.length?(d=Array.from(a),f()):d.slice()},g.unknown=function(a){return arguments.length?(b=a,g):b},g.quantiles=function(){return e.slice()},g.copy=function(){return a().domain(c).range(d).unknown(b)},dW.apply(g,arguments)},scaleQuantize:()=>function a(){var b,c=0,d=1,e=1,f=[.5],g=[0,1];function h(a){return null!=a&&a<=a?g[eO(f,a,0,e)]:b}function i(){var a=-1;for(f=Array(e);++a<e;)f[a]=((a+1)*d-(a-e)*c)/(e+1);return h}return h.domain=function(a){return arguments.length?([c,d]=a,c*=1,d*=1,i()):[c,d]},h.range=function(a){return arguments.length?(e=(g=Array.from(a)).length-1,i()):g.slice()},h.invertExtent=function(a){var b=g.indexOf(a);return b<0?[NaN,NaN]:b<1?[c,f[0]]:b>=e?[f[e-1],d]:[f[b-1],f[b]]},h.unknown=function(a){return arguments.length&&(b=a),h},h.thresholds=function(){return f.slice()},h.copy=function(){return a().domain([c,d]).range(g).unknown(b)},dW.apply(fN(h),arguments)},scaleRadial:()=>function a(){var b,c=fB(),d=[0,1],e=!1;function f(a){var d,f=Math.sign(d=c(a))*Math.sqrt(Math.abs(d));return isNaN(f)?b:e?Math.round(f):f}return f.invert=function(a){return c.invert(f4(a))},f.domain=function(a){return arguments.length?(c.domain(a),f):c.domain()},f.range=function(a){return arguments.length?(c.range((d=Array.from(a,ft)).map(f4)),f):d.slice()},f.rangeRound=function(a){return f.range(a).round(!0)},f.round=function(a){return arguments.length?(e=!!a,f):e},f.clamp=function(a){return arguments.length?(c.clamp(a),f):c.clamp()},f.unknown=function(a){return arguments.length?(b=a,f):b},f.copy=function(){return a(c.domain(),d).round(e).clamp(c.clamp()).unknown(b)},dW.apply(f,arguments),fN(f)},scaleSequential:()=>function a(){var b=fN(hZ()(fv));return b.copy=function(){return h$(b,a())},dX.apply(b,arguments)},scaleSequentialLog:()=>function a(){var b=fW(hZ()).domain([1,10]);return b.copy=function(){return h$(b,a()).base(b.base())},dX.apply(b,arguments)},scaleSequentialPow:()=>h_,scaleSequentialQuantile:()=>function a(){var b=[],c=fv;function d(a){if(null!=a&&!isNaN(a*=1))return c((eO(b,a,1)-1)/(b.length-1))}return d.domain=function(a){if(!arguments.length)return b.slice();for(let c of(b=[],a))null==c||isNaN(c*=1)||b.push(c);return b.sort(eI),d},d.interpolator=function(a){return arguments.length?(c=a,d):c},d.range=function(){return b.map((a,d)=>c(d/(b.length-1)))},d.quantiles=function(a){return Array.from({length:a+1},(c,d)=>(function(a,b,c){if(!(!(d=(a=Float64Array.from(function*(a,b){if(void 0===b)for(let b of a)null!=b&&(b*=1)>=b&&(yield b);else{let c=-1;for(let d of a)null!=(d=b(d,++c,a))&&(d*=1)>=d&&(yield d)}}(a,void 0))).length)||isNaN(b*=1))){if(b<=0||d<2)return f6(a);if(b>=1)return f5(a);var d,e=(d-1)*b,f=Math.floor(e),g=f5((function a(b,c,d=0,e=1/0,f){if(c=Math.floor(c),d=Math.floor(Math.max(0,d)),e=Math.floor(Math.min(b.length-1,e)),!(d<=c&&c<=e))return b;for(f=void 0===f?f7:function(a=eI){if(a===eI)return f7;if("function"!=typeof a)throw TypeError("compare is not a function");return(b,c)=>{let d=a(b,c);return d||0===d?d:(0===a(c,c))-(0===a(b,b))}}(f);e>d;){if(e-d>600){let g=e-d+1,h=c-d+1,i=Math.log(g),j=.5*Math.exp(2*i/3),k=.5*Math.sqrt(i*j*(g-j)/g)*(h-g/2<0?-1:1),l=Math.max(d,Math.floor(c-h*j/g+k)),m=Math.min(e,Math.floor(c+(g-h)*j/g+k));a(b,c,l,m,f)}let g=b[c],h=d,i=e;for(f8(b,d,c),f(b[e],g)>0&&f8(b,d,e);h<i;){for(f8(b,h,i),++h,--i;0>f(b[h],g);)++h;for(;f(b[i],g)>0;)--i}0===f(b[d],g)?f8(b,d,i):f8(b,++i,e),i<=c&&(d=i+1),c<=i&&(e=i-1)}return b})(a,f).subarray(0,f+1));return g+(f6(a.subarray(f+1))-g)*(e-f)}})(b,d/a))},d.copy=function(){return a(c).domain(b)},dX.apply(d,arguments)},scaleSequentialSqrt:()=>h0,scaleSequentialSymlog:()=>function a(){var b=fZ(hZ());return b.copy=function(){return h$(b,a()).constant(b.constant())},dX.apply(b,arguments)},scaleSqrt:()=>f3,scaleSymlog:()=>function a(){var b=fZ(fA());return b.copy=function(){return fz(b,a()).constant(b.constant())},dW.apply(b,arguments)},scaleThreshold:()=>function a(){var b,c=[.5],d=[0,1],e=1;function f(a){return null!=a&&a<=a?d[eO(c,a,0,e)]:b}return f.domain=function(a){return arguments.length?(e=Math.min((c=Array.from(a)).length,d.length-1),f):c.slice()},f.range=function(a){return arguments.length?(d=Array.from(a),e=Math.min(c.length,d.length-1),f):d.slice()},f.invertExtent=function(a){var b=d.indexOf(a);return[c[b-1],c[b]]},f.unknown=function(a){return arguments.length?(b=a,f):b},f.copy=function(){return a().domain(c).range(d).unknown(b)},dW.apply(f,arguments)},scaleTime:()=>hX,scaleUtc:()=>hY,tickFormat:()=>fM});var r={};c.r(r),c.d(r,{pz:()=>pM});var s=c(21124),t=c(38301),u=c.n(t),v=c(87516),w=c.n(v),x=function(a){return a.OWNER="OWNER",a.BARBER="BARBER",a.CUSTOMER="CUSTOMER",a}({}),y={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let z=(a,b)=>{let c=(0,t.forwardRef)(({color:c="currentColor",size:d=24,strokeWidth:e=2,absoluteStrokeWidth:f,children:g,...h},i)=>(0,t.createElement)("svg",{ref:i,...y,width:d,height:d,stroke:c,strokeWidth:f?24*Number(e)/Number(d):e,className:`lucide lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,...h},[...b.map(([a,b])=>(0,t.createElement)(a,b)),...(Array.isArray(g)?g:[g])||[]]));return c.displayName=`${a}`,c},A=z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),B=({url:a,name:b="Usuario",size:c="md",className:d=""})=>{let e={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"};return a?(0,s.jsx)("div",{className:`${e[c]} rounded-lg overflow-hidden bg-brand-light flex items-center justify-center ${d}`,children:(0,s.jsx)("img",{src:a,alt:b,className:"w-full h-full object-cover"})}):(0,s.jsx)("div",{className:`${e[c]} rounded-lg bg-gradient-to-br from-brand-accent to-blue-600 flex items-center justify-center shadow-md ${d}`,children:(0,s.jsx)(A,{size:{sm:16,md:24,lg:32}[c],className:"text-white"})})},C=(z("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])),D=({level:a,children:b,subtitle:c,className:d=""})=>{let e=`h${a}`;return(0,s.jsxs)("div",{className:d,children:[(0,s.jsx)(e,{className:`${{1:"text-3xl md:text-4xl",2:"text-2xl md:text-3xl",3:"text-xl md:text-2xl",4:"text-lg md:text-xl"}[a]} font-black text-brand-dark tracking-tight`,children:b}),c&&(0,s.jsx)("p",{className:"text-sm text-slate-500 mt-1 font-medium",children:c})]})},E=({label:a,value:b,unit:c,trend:d,icon:e,onClick:f})=>(0,s.jsx)("div",{onClick:f,className:`p-6 bg-white rounded-2xl border border-slate-100 shadow-sm transition-all ${f?"cursor-pointer hover:shadow-md hover:-translate-y-1":""}`,children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:a}),(0,s.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,s.jsx)("span",{className:"text-3xl font-black text-brand-dark",children:b}),c&&(0,s.jsx)("span",{className:"text-sm text-slate-400 font-medium",children:c})]}),d&&(0,s.jsxs)("p",{className:"text-xs font-bold text-emerald-600 mt-2",children:["â†‘ ",d]})]}),e&&(0,s.jsx)("div",{className:"text-slate-400",children:e})]})}),F=({title:a,subtitle:b,action:c,children:d})=>(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)(D,{level:2,subtitle:b,children:a}),c&&(0,s.jsx)("div",{children:c})]}),d]}),G=(z("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),z("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])),H=z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),I=(z("Tags",[["path",{d:"M9 5H2v7l6.29 6.29c.94.94 2.48.94 3.42 0l3.58-3.58c.94-.94.94-2.48 0-3.42L9 5Z",key:"gt587u"}],["path",{d:"M6 9.01V9",key:"1flxpt"}],["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}]]),z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])),J=z("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),K=z("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]),L=z("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),M=(z("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),z("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])),N=(z("PackageSearch",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]),z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])),O=z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),P=z("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Q=z("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),R=(z("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])),S=(z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),z("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),z("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]),z("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]),z("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),z("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])),T=function(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d};var U=c(91594),V=c.n(U),W=c(26707),X=c.n(W),Y=c(63181),Z=c.n(Y),$=c(78996),_=c.n($),aa=c(31907),ab=c.n(aa),ac=c(3575),ad=c.n(ac),ae=function(a){return 0===a?0:a>0?1:-1},af=function(a){return X()(a)&&a.indexOf("%")===a.length-1},ag=function(a){return ab()(a)&&!Z()(a)},ah=function(a){return ag(a)||X()(a)},ai=0,aj=function(a){var b=++ai;return"".concat(a||"").concat(b)},ak=function(a,b){var c,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!ag(a)&&!X()(a))return d;if(af(a)){var f=a.indexOf("%");c=b*parseFloat(a.slice(0,f))/100}else c=+a;return Z()(c)&&(c=d),e&&c>b&&(c=b),c},al=function(a){if(!a)return null;var b=Object.keys(a);return b&&b.length?a[b[0]]:null},am=function(a){if(!Array.isArray(a))return!1;for(var b=a.length,c={},d=0;d<b;d++)if(c[a[d]])return!0;else c[a[d]]=!0;return!1},an=function(a,b){return ag(a)&&ag(b)?function(c){return a+c*(b-a)}:function(){return b}};function ao(a,b,c){return a&&a.length?a.find(function(a){return a&&("function"==typeof b?b(a):_()(a,b))===c}):null}var ap=function(a,b){return ag(a)&&ag(b)?a-b:X()(a)&&X()(b)?a.localeCompare(b):a instanceof Date&&b instanceof Date?a.getTime()-b.getTime():String(a).localeCompare(String(b))},aq=function(a,b){for(var c=arguments.length,d=Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e]},ar=c(45862),as=c.n(ar),at=c(65197),au=c.n(at),av=c(68543);function aw(a,b){for(var c in a)if(({}).hasOwnProperty.call(a,c)&&(!({}).hasOwnProperty.call(b,c)||a[c]!==b[c]))return!1;for(var d in b)if(({}).hasOwnProperty.call(b,d)&&!({}).hasOwnProperty.call(a,d))return!1;return!0}function ax(a){return(ax="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var ay=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],az=["points","pathLength"],aA={svg:["viewBox","children"],polygon:az,polyline:az},aB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],aC=function(a,b){if(!a||"function"==typeof a||"boolean"==typeof a)return null;var c=a;if((0,t.isValidElement)(a)&&(c=a.props),!au()(c))return null;var d={};return Object.keys(c).forEach(function(a){aB.includes(a)&&(d[a]=b||function(b){return c[a](c,b)})}),d},aD=function(a,b,c){if(!au()(a)||"object"!==ax(a))return null;var d=null;return Object.keys(a).forEach(function(e){var f=a[e];aB.includes(e)&&"function"==typeof f&&(d||(d={}),d[e]=function(a){return f(b,c,a),null})}),d},aE=["children"],aF=["children"];function aG(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function aH(a){return(aH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var aI={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},aJ=function(a){return"string"==typeof a?a:a?a.displayName||a.name||"Component":""},aK=null,aL=null,aM=function a(b){if(b===aK&&Array.isArray(aL))return aL;var c=[];return t.Children.forEach(b,function(b){ad()(b)||((0,av.isFragment)(b)?c=c.concat(a(b.props.children)):c.push(b))}),aL=c,aK=b,c};function aN(a,b){var c=[],d=[];return d=Array.isArray(b)?b.map(function(a){return aJ(a)}):[aJ(b)],aM(a).forEach(function(a){var b=_()(a,"type.displayName")||_()(a,"type.name");-1!==d.indexOf(b)&&c.push(a)}),c}function aO(a,b){var c=aN(a,b);return c&&c[0]}var aP=function(a){if(!a||!a.props)return!1;var b=a.props,c=b.width,d=b.height;return!!ag(c)&&!(c<=0)&&!!ag(d)&&!(d<=0)},aQ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],aR=function(a,b,c,d){var e,f=null!=(e=null==aA?void 0:aA[d])?e:[];return b.startsWith("data-")||!as()(a)&&(d&&f.includes(b)||ay.includes(b))||c&&aB.includes(b)},aS=function(a,b,c){if(!a||"function"==typeof a||"boolean"==typeof a)return null;var d=a;if((0,t.isValidElement)(a)&&(d=a.props),!au()(d))return null;var e={};return Object.keys(d).forEach(function(a){var f;aR(null==(f=d)?void 0:f[a],a,b,c)&&(e[a]=d[a])}),e},aT=function a(b,c){if(b===c)return!0;var d=t.Children.count(b);if(d!==t.Children.count(c))return!1;if(0===d)return!0;if(1===d)return aU(Array.isArray(b)?b[0]:b,Array.isArray(c)?c[0]:c);for(var e=0;e<d;e++){var f=b[e],g=c[e];if(Array.isArray(f)||Array.isArray(g)){if(!a(f,g))return!1}else if(!aU(f,g))return!1}return!0},aU=function(a,b){if(ad()(a)&&ad()(b))return!0;if(!ad()(a)&&!ad()(b)){var c=a.props||{},d=c.children,e=aG(c,aE),f=b.props||{},g=f.children,h=aG(f,aF);if(d&&g)return aw(e,h)&&aT(d,g);if(!d&&!g)return aw(e,h)}return!1},aV=function(a,b){var c=[],d={};return aM(a).forEach(function(a,e){if(a&&a.type&&X()(a.type)&&aQ.indexOf(a.type)>=0)c.push(a);else if(a){var f=aJ(a.type),g=b[f]||{},h=g.handler,i=g.once;if(h&&(!i||!d[f])){var j=h(a,f,e);c.push(j),d[f]=!0}}}),c},aW=function(a){var b=a&&a.type;return b&&aI[b]?aI[b]:null};function aX(a){return(aX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function aY(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function aZ(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aY(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=aX(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=aX(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==aX(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aY(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function a$(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var a_=(0,t.forwardRef)(function(a,b){var c,d=a.aspect,e=a.initialDimension,f=void 0===e?{width:-1,height:-1}:e,g=a.width,h=void 0===g?"100%":g,i=a.height,j=void 0===i?"100%":i,k=a.minWidth,l=void 0===k?0:k,m=a.minHeight,n=a.maxHeight,o=a.children,p=a.debounce,q=void 0===p?0:p,r=a.id,s=a.className,v=a.onResize,w=a.style,x=(0,t.useRef)(null),y=(0,t.useRef)();y.current=v,(0,t.useImperativeHandle)(b,function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})});var z=function(a){if(Array.isArray(a))return a}(c=(0,t.useState)({containerWidth:f.width,containerHeight:f.height}))||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{f=(c=c.call(a)).next,!1;for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(c,2)||function(a,b){if(a){if("string"==typeof a)return a$(a,2);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return a$(a,b)}}(c,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),A=z[0],B=z[1],C=(0,t.useCallback)(function(a,b){B(function(c){var d=Math.round(a),e=Math.round(b);return c.containerWidth===d&&c.containerHeight===e?c:{containerWidth:d,containerHeight:e}})},[]);(0,t.useEffect)(function(){var a=function(a){var b,c=a[0].contentRect,d=c.width,e=c.height;C(d,e),null==(b=y.current)||b.call(y,d,e)};q>0&&(a=V()(a,q,{trailing:!0,leading:!1}));var b=new ResizeObserver(a),c=x.current.getBoundingClientRect();return C(c.width,c.height),b.observe(x.current),function(){b.disconnect()}},[C,q]);var D=(0,t.useMemo)(function(){var a=A.containerWidth,b=A.containerHeight;if(a<0||b<0)return null;aq(af(h)||af(j),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",h,j),aq(!d||d>0,"The aspect(%s) must be greater than zero.",d);var c=af(h)?a:h,e=af(j)?b:j;d&&d>0&&(c?e=c/d:e&&(c=e*d),n&&e>n&&(e=n)),aq(c>0||e>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",c,e,h,j,l,m,d);var f=!Array.isArray(o)&&aJ(o.type).endsWith("Chart");return u().Children.map(o,function(a){return u().isValidElement(a)?(0,t.cloneElement)(a,aZ({width:c,height:e},f?{style:aZ({height:"100%",width:"100%",maxHeight:e,maxWidth:c},a.props.style)}:{})):a})},[d,o,j,n,m,l,A,h]);return u().createElement("div",{id:r?"".concat(r):void 0,className:T("recharts-responsive-container",s),style:aZ(aZ({},void 0===w?{}:w),{},{width:h,height:j,minWidth:l,minHeight:m,maxHeight:n}),ref:x},D)}),a0=c(16413),a1=c.n(a0),a2=c(77955),a3=c.n(a2);function a4(a,b){if(!a)throw Error("Invariant failed")}var a5=["children","width","height","viewBox","className","style","title","desc"];function a6(){return(a6=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function a7(a){var b=a.children,c=a.width,d=a.height,e=a.viewBox,f=a.className,g=a.style,h=a.title,i=a.desc,j=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,a5),k=e||{width:c,height:d,x:0,y:0},l=T("recharts-surface",f);return u().createElement("svg",a6({},aS(j,!0,"svg"),{className:l,width:c,height:d,style:g,viewBox:"".concat(k.x," ").concat(k.y," ").concat(k.width," ").concat(k.height)}),u().createElement("title",null,h),u().createElement("desc",null,i),b)}var a8=["children","className"];function a9(){return(a9=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var ba=u().forwardRef(function(a,b){var c=a.children,d=a.className,e=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,a8),f=T("recharts-layer",d);return u().createElement("g",a9({className:f},aS(e,!0),{ref:b}),c)});function bb(a){return(bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function bc(){return(bc=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function bd(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function be(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function bf(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?be(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=bb(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=bb(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==bb(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):be(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function bg(a){return Array.isArray(a)&&ah(a[0])&&ah(a[1])?a.join(" ~ "):a}var bh=function(a){var b=a.separator,c=void 0===b?" : ":b,d=a.contentStyle,e=a.itemStyle,f=void 0===e?{}:e,g=a.labelStyle,h=a.payload,i=a.formatter,j=a.itemSorter,k=a.wrapperClassName,l=a.labelClassName,m=a.label,n=a.labelFormatter,o=a.accessibilityLayer,p=bf({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},void 0===d?{}:d),q=bf({margin:0},void 0===g?{}:g),r=!ad()(m),s=r?m:"",t=T("recharts-default-tooltip",k),v=T("recharts-tooltip-label",l);return r&&n&&null!=h&&(s=n(m,h)),u().createElement("div",bc({className:t,style:p},void 0!==o&&o?{role:"status","aria-live":"assertive"}:{}),u().createElement("p",{className:v,style:q},u().isValidElement(s)?s:"".concat(s)),function(){if(h&&h.length){var a=(j?a3()(h,j):h).map(function(a,b){if("none"===a.type)return null;var d=bf({display:"block",paddingTop:4,paddingBottom:4,color:a.color||"#000"},f),e=a.formatter||i||bg,g=a.value,j=a.name,k=g,l=j;if(e&&null!=k&&null!=l){var m=e(g,j,a,b,h);if(Array.isArray(m)){var n=function(a){if(Array.isArray(a))return a}(m)||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{f=(c=c.call(a)).next,!1;for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(m,2)||function(a,b){if(a){if("string"==typeof a)return bd(a,2);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return bd(a,b)}}(m,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();k=n[0],l=n[1]}else k=m}return u().createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(b),style:d},ah(l)?u().createElement("span",{className:"recharts-tooltip-item-name"},l):null,ah(l)?u().createElement("span",{className:"recharts-tooltip-item-separator"},c):null,u().createElement("span",{className:"recharts-tooltip-item-value"},k),u().createElement("span",{className:"recharts-tooltip-item-unit"},a.unit||""))});return u().createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},a)}return null}())};function bi(a){return(bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function bj(a,b,c){var d;return(d=function(a,b){if("object"!=bi(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=bi(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"),(b="symbol"==bi(d)?d:d+"")in a)?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var bk="recharts-tooltip-wrapper",bl={visibility:"hidden"};function bm(a){var b=a.allowEscapeViewBox,c=a.coordinate,d=a.key,e=a.offsetTopLeft,f=a.position,g=a.reverseDirection,h=a.tooltipDimension,i=a.viewBox,j=a.viewBoxDimension;if(f&&ag(f[d]))return f[d];var k=c[d]-h-e,l=c[d]+e;return b[d]?g[d]?k:l:g[d]?k<i[d]?Math.max(l,i[d]):Math.max(k,i[d]):l+h>i[d]+j?Math.max(k,i[d]):Math.max(l,i[d])}function bn(a){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function bo(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function bp(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?bo(Object(c),!0).forEach(function(b){bt(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):bo(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function bq(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(bq=function(){return!!a})()}function br(a){return(br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function bs(a,b){return(bs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function bt(a,b,c){return(b=bu(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function bu(a){var b=function(a,b){if("object"!=bn(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=bn(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==bn(b)?b:b+""}var bv=function(a){var b;function c(){var a,b,d;if(!(this instanceof c))throw TypeError("Cannot call a class as a function");for(var e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];return b=c,d=[].concat(f),b=br(b),bt(a=function(a,b){if(b&&("object"===bn(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,bq()?Reflect.construct(b,d||[],br(this).constructor):b.apply(this,d)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),bt(a,"handleKeyDown",function(b){if("Escape"===b.key){var c,d,e,f;a.setState({dismissed:!0,dismissedAtCoordinate:{x:null!=(c=null==(d=a.props.coordinate)?void 0:d.x)?c:0,y:null!=(e=null==(f=a.props.coordinate)?void 0:f.y)?e:0}})}}),a}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),a&&bs(c,a),b=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>1||Math.abs(a.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(-1!==this.state.lastBoundingBox.width||-1!==this.state.lastBoundingBox.height)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,b;this.props.active&&this.updateBBox(),this.state.dismissed&&((null==(a=this.props.coordinate)?void 0:a.x)!==this.state.dismissedAtCoordinate.x||(null==(b=this.props.coordinate)?void 0:b.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=this,v=this.props,w=v.active,x=v.allowEscapeViewBox,y=v.animationDuration,z=v.animationEasing,A=v.children,B=v.coordinate,C=v.hasPayload,D=v.isAnimationActive,E=v.offset,F=v.position,G=v.reverseDirection,H=v.useTranslate3d,I=v.viewBox,J=v.wrapperStyle,K=(l=(a={allowEscapeViewBox:x,coordinate:B,offsetTopLeft:E,position:F,reverseDirection:G,tooltipBox:this.state.lastBoundingBox,useTranslate3d:H,viewBox:I}).allowEscapeViewBox,m=a.coordinate,n=a.offsetTopLeft,o=a.position,p=a.reverseDirection,q=a.tooltipBox,r=a.useTranslate3d,s=a.viewBox,q.height>0&&q.width>0&&m?(c=(b={translateX:j=bm({allowEscapeViewBox:l,coordinate:m,key:"x",offsetTopLeft:n,position:o,reverseDirection:p,tooltipDimension:q.width,viewBox:s,viewBoxDimension:s.width}),translateY:k=bm({allowEscapeViewBox:l,coordinate:m,key:"y",offsetTopLeft:n,position:o,reverseDirection:p,tooltipDimension:q.height,viewBox:s,viewBoxDimension:s.height}),useTranslate3d:r}).translateX,d=b.translateY,i={transform:b.useTranslate3d?"translate3d(".concat(c,"px, ").concat(d,"px, 0)"):"translate(".concat(c,"px, ").concat(d,"px)")}):i=bl,{cssProperties:i,cssClasses:(f=(e={translateX:j,translateY:k,coordinate:m}).coordinate,g=e.translateX,h=e.translateY,T(bk,bj(bj(bj(bj({},"".concat(bk,"-right"),ag(g)&&f&&ag(f.x)&&g>=f.x),"".concat(bk,"-left"),ag(g)&&f&&ag(f.x)&&g<f.x),"".concat(bk,"-bottom"),ag(h)&&f&&ag(f.y)&&h>=f.y),"".concat(bk,"-top"),ag(h)&&f&&ag(f.y)&&h<f.y)))}),L=K.cssClasses,M=K.cssProperties,N=bp(bp({transition:D&&w?"transform ".concat(y,"ms ").concat(z):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&w&&C?"visible":"hidden",position:"absolute",top:0,left:0},J);return u().createElement("div",{tabIndex:-1,className:L,style:N,ref:function(a){t.wrapperNode=a}},A)}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,bu(d.key),d)}}(c.prototype,b),Object.defineProperty(c,"prototype",{writable:!1}),c}(t.PureComponent),bw={isSsr:!0,get:function(a){return bw[a]},set:function(a,b){if("string"==typeof a)bw[a]=b;else{var c=Object.keys(a);c&&c.length&&c.forEach(function(b){bw[b]=a[b]})}}},bx=c(66850),by=c.n(bx);function bz(a,b,c){return!0===b?by()(a,c):as()(b)?by()(a,b):a}function bA(a){return(bA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function bB(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function bC(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?bB(Object(c),!0).forEach(function(b){bG(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):bB(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function bD(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(bD=function(){return!!a})()}function bE(a){return(bE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function bF(a,b){return(bF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function bG(a,b,c){return(b=bH(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function bH(a){var b=function(a,b){if("object"!=bA(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=bA(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==bA(b)?b:b+""}function bI(a){return a.dataKey}var bJ=function(a){var b;function c(){var a,b;if(!(this instanceof c))throw TypeError("Cannot call a class as a function");return a=c,b=arguments,a=bE(a),function(a,b){if(b&&("object"===bA(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,bD()?Reflect.construct(a,b||[],bE(this).constructor):a.apply(this,b))}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),a&&bF(c,a),b=[{key:"render",value:function(){var a,b=this,c=this.props,d=c.active,e=c.allowEscapeViewBox,f=c.animationDuration,g=c.animationEasing,h=c.content,i=c.coordinate,j=c.filterNull,k=c.isAnimationActive,l=c.offset,m=c.payload,n=c.payloadUniqBy,o=c.position,p=c.reverseDirection,q=c.useTranslate3d,r=c.viewBox,s=c.wrapperStyle,t=null!=m?m:[];j&&t.length&&(t=bz(m.filter(function(a){return null!=a.value&&(!0!==a.hide||b.props.includeHidden)}),n,bI));var v=t.length>0;return u().createElement(bv,{allowEscapeViewBox:e,animationDuration:f,animationEasing:g,isAnimationActive:k,active:d,coordinate:i,hasPayload:v,offset:l,position:o,reverseDirection:p,useTranslate3d:q,viewBox:r,wrapperStyle:s},(a=bC(bC({},this.props),{},{payload:t}),u().isValidElement(h)?u().cloneElement(h,a):"function"==typeof h?u().createElement(h,a):u().createElement(bh,a)))}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,bH(d.key),d)}}(c.prototype,b),Object.defineProperty(c,"prototype",{writable:!1}),c}(t.PureComponent);bG(bJ,"displayName","Tooltip"),bG(bJ,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!bw.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var bK=c(97376),bL=c.n(bK);let bM=Math.cos,bN=Math.sin,bO=Math.sqrt,bP=Math.PI,bQ=2*bP,bR={draw(a,b){let c=bO(b/bP);a.moveTo(c,0),a.arc(0,0,c,0,bQ)}},bS=bO(1/3),bT=2*bS,bU=bN(bP/10)/bN(7*bP/10),bV=bN(bQ/10)*bU,bW=-bM(bQ/10)*bU,bX=bO(3),bY=bO(3)/2,bZ=1/bO(12),b$=(bZ/2+1)*3;function b_(a){return function(){return a}}let b0=Math.PI,b1=2*b0,b2=b1-1e-6;function b3(a){this._+=a[0];for(let b=1,c=a.length;b<c;++b)this._+=arguments[b]+a[b]}class b4{constructor(a){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==a?b3:function(a){let b=Math.floor(a);if(!(b>=0))throw Error(`invalid digits: ${a}`);if(b>15)return b3;let c=10**b;return function(a){this._+=a[0];for(let b=1,d=a.length;b<d;++b)this._+=Math.round(arguments[b]*c)/c+a[b]}}(a)}moveTo(a,b){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+b}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(a,b){this._append`L${this._x1=+a},${this._y1=+b}`}quadraticCurveTo(a,b,c,d){this._append`Q${+a},${+b},${this._x1=+c},${this._y1=+d}`}bezierCurveTo(a,b,c,d,e,f){this._append`C${+a},${+b},${+c},${+d},${this._x1=+e},${this._y1=+f}`}arcTo(a,b,c,d,e){if(a*=1,b*=1,c*=1,d*=1,(e*=1)<0)throw Error(`negative radius: ${e}`);let f=this._x1,g=this._y1,h=c-a,i=d-b,j=f-a,k=g-b,l=j*j+k*k;if(null===this._x1)this._append`M${this._x1=a},${this._y1=b}`;else if(l>1e-6)if(Math.abs(k*h-i*j)>1e-6&&e){let m=c-f,n=d-g,o=h*h+i*i,p=Math.sqrt(o),q=Math.sqrt(l),r=e*Math.tan((b0-Math.acos((o+l-(m*m+n*n))/(2*p*q)))/2),s=r/q,t=r/p;Math.abs(s-1)>1e-6&&this._append`L${a+s*j},${b+s*k}`,this._append`A${e},${e},0,0,${+(k*m>j*n)},${this._x1=a+t*h},${this._y1=b+t*i}`}else this._append`L${this._x1=a},${this._y1=b}`}arc(a,b,c,d,e,f){if(a*=1,b*=1,c*=1,f=!!f,c<0)throw Error(`negative radius: ${c}`);let g=c*Math.cos(d),h=c*Math.sin(d),i=a+g,j=b+h,k=1^f,l=f?d-e:e-d;null===this._x1?this._append`M${i},${j}`:(Math.abs(this._x1-i)>1e-6||Math.abs(this._y1-j)>1e-6)&&this._append`L${i},${j}`,c&&(l<0&&(l=l%b1+b1),l>b2?this._append`A${c},${c},0,1,${k},${a-g},${b-h}A${c},${c},0,1,${k},${this._x1=i},${this._y1=j}`:l>1e-6&&this._append`A${c},${c},0,${+(l>=b0)},${k},${this._x1=a+c*Math.cos(e)},${this._y1=b+c*Math.sin(e)}`)}rect(a,b,c,d){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+b}h${c*=1}v${+d}h${-c}Z`}toString(){return this._}}function b5(a){let b=3;return a.digits=function(c){if(!arguments.length)return b;if(null==c)b=null;else{let a=Math.floor(c);if(!(a>=0))throw RangeError(`invalid digits: ${c}`);b=a}return a},()=>new b4(b)}function b6(a){return(b6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}b4.prototype,bO(3),bO(3);var b7=["type","size","sizeType"];function b8(){return(b8=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function b9(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ca(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?b9(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=b6(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=b6(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==b6(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):b9(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var cb={symbolCircle:bR,symbolCross:{draw(a,b){let c=bO(b/5)/2;a.moveTo(-3*c,-c),a.lineTo(-c,-c),a.lineTo(-c,-3*c),a.lineTo(c,-3*c),a.lineTo(c,-c),a.lineTo(3*c,-c),a.lineTo(3*c,c),a.lineTo(c,c),a.lineTo(c,3*c),a.lineTo(-c,3*c),a.lineTo(-c,c),a.lineTo(-3*c,c),a.closePath()}},symbolDiamond:{draw(a,b){let c=bO(b/bT),d=c*bS;a.moveTo(0,-c),a.lineTo(d,0),a.lineTo(0,c),a.lineTo(-d,0),a.closePath()}},symbolSquare:{draw(a,b){let c=bO(b),d=-c/2;a.rect(d,d,c,c)}},symbolStar:{draw(a,b){let c=bO(.8908130915292852*b),d=bV*c,e=bW*c;a.moveTo(0,-c),a.lineTo(d,e);for(let b=1;b<5;++b){let f=bQ*b/5,g=bM(f),h=bN(f);a.lineTo(h*c,-g*c),a.lineTo(g*d-h*e,h*d+g*e)}a.closePath()}},symbolTriangle:{draw(a,b){let c=-bO(b/(3*bX));a.moveTo(0,2*c),a.lineTo(-bX*c,-c),a.lineTo(bX*c,-c),a.closePath()}},symbolWye:{draw(a,b){let c=bO(b/b$),d=c/2,e=c*bZ,f=c*bZ+c,g=-d;a.moveTo(d,e),a.lineTo(d,f),a.lineTo(g,f),a.lineTo(-.5*d-bY*e,bY*d+-.5*e),a.lineTo(-.5*d-bY*f,bY*d+-.5*f),a.lineTo(-.5*g-bY*f,bY*g+-.5*f),a.lineTo(-.5*d+bY*e,-.5*e-bY*d),a.lineTo(-.5*d+bY*f,-.5*f-bY*d),a.lineTo(-.5*g+bY*f,-.5*f-bY*g),a.closePath()}}},cc=Math.PI/180,cd=function(a,b,c){if("area"===b)return a;switch(c){case"cross":return 5*a*a/9;case"diamond":return .5*a*a/Math.sqrt(3);case"square":return a*a;case"star":var d=18*cc;return 1.25*a*a*(Math.tan(d)-Math.tan(2*d)*Math.pow(Math.tan(d),2));case"triangle":return Math.sqrt(3)*a*a/4;case"wye":return(21-10*Math.sqrt(3))*a*a/8;default:return Math.PI*a*a/4}},ce=function(a){var b,c=a.type,d=void 0===c?"circle":c,e=a.size,f=void 0===e?64:e,g=a.sizeType,h=void 0===g?"area":g,i=ca(ca({},function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,b7)),{},{type:d,size:f,sizeType:h}),j=i.className,k=i.cx,l=i.cy,m=aS(i,!0);return k===+k&&l===+l&&f===+f?u().createElement("path",b8({},m,{className:T("recharts-symbols",j),transform:"translate(".concat(k,", ").concat(l,")"),d:(b=cb["symbol".concat(bL()(d))]||bR,(function(a,b){let c=null,d=b5(e);function e(){let e;if(c||(c=e=d()),a.apply(this,arguments).draw(c,+b.apply(this,arguments)),e)return c=null,e+""||null}return a="function"==typeof a?a:b_(a||bR),b="function"==typeof b?b:b_(void 0===b?64:+b),e.type=function(b){return arguments.length?(a="function"==typeof b?b:b_(b),e):a},e.size=function(a){return arguments.length?(b="function"==typeof a?a:b_(+a),e):b},e.context=function(a){return arguments.length?(c=null==a?null:a,e):c},e})().type(b).size(cd(f,h,d))())})):null};function cf(a){return(cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function cg(){return(cg=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function ch(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}ce.registerSymbol=function(a,b){cb["symbol".concat(bL()(a))]=b};function ci(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(ci=function(){return!!a})()}function cj(a){return(cj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function ck(a,b){return(ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function cl(a,b,c){return(b=cm(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function cm(a){var b=function(a,b){if("object"!=cf(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=cf(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==cf(b)?b:b+""}var cn=function(a){var b;function c(){var a,b;if(!(this instanceof c))throw TypeError("Cannot call a class as a function");return a=c,b=arguments,a=cj(a),function(a,b){if(b&&("object"===cf(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,ci()?Reflect.construct(a,b||[],cj(this).constructor):a.apply(this,b))}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),a&&ck(c,a),b=[{key:"renderIcon",value:function(a){var b=this.props.inactiveColor,c=32/6,d=32/3,e=a.inactive?b:a.color;if("plainline"===a.type)return u().createElement("line",{strokeWidth:4,fill:"none",stroke:e,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"});if("line"===a.type)return u().createElement("path",{strokeWidth:4,fill:"none",stroke:e,d:"M0,".concat(16,"h").concat(d,"\n            A").concat(c,",").concat(c,",0,1,1,").concat(2*d,",").concat(16,"\n            H").concat(32,"M").concat(2*d,",").concat(16,"\n            A").concat(c,",").concat(c,",0,1,1,").concat(d,",").concat(16),className:"recharts-legend-icon"});if("rect"===a.type)return u().createElement("path",{stroke:"none",fill:e,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(u().isValidElement(a.legendIcon)){var f=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ch(Object(c),!0).forEach(function(b){cl(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ch(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},a);return delete f.legendIcon,u().cloneElement(a.legendIcon,f)}return u().createElement(ce,{fill:e,cx:16,cy:16,size:32,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,b=this.props,c=b.payload,d=b.iconSize,e=b.layout,f=b.formatter,g=b.inactiveColor,h={x:0,y:0,width:32,height:32},i={display:"horizontal"===e?"inline-block":"block",marginRight:10},j={display:"inline-block",verticalAlign:"middle",marginRight:4};return c.map(function(b,c){var e=b.formatter||f,k=T(cl(cl({"recharts-legend-item":!0},"legend-item-".concat(c),!0),"inactive",b.inactive));if("none"===b.type)return null;var l=as()(b.value)?null:b.value;aq(!as()(b.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var m=b.inactive?g:b.color;return u().createElement("li",cg({className:k,style:i,key:"legend-item-".concat(c)},aD(a.props,b,c)),u().createElement(a7,{width:d,height:d,viewBox:h,style:j},a.renderIcon(b)),u().createElement("span",{className:"recharts-legend-item-text",style:{color:m}},e?e(l,b,c):l))})}},{key:"render",value:function(){var a=this.props,b=a.payload,c=a.layout,d=a.align;return b&&b.length?u().createElement("ul",{className:"recharts-default-legend",style:{padding:0,margin:0,textAlign:"horizontal"===c?d:"left"}},this.renderItems()):null}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,cm(d.key),d)}}(c.prototype,b),Object.defineProperty(c,"prototype",{writable:!1}),c}(t.PureComponent);function co(a){return(co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}cl(cn,"displayName","Legend"),cl(cn,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var cp=["ref"];function cq(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function cr(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?cq(Object(c),!0).forEach(function(b){cw(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):cq(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function cs(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,cx(d.key),d)}}function ct(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(ct=function(){return!!a})()}function cu(a){return(cu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function cv(a,b){return(cv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function cw(a,b,c){return(b=cx(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function cx(a){var b=function(a,b){if("object"!=co(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=co(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==co(b)?b:b+""}function cy(a){return a.value}var cz=function(a){var b,c;function d(){var a,b,c;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");for(var e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];return b=d,c=[].concat(f),b=cu(b),cw(a=function(a,b){if(b&&("object"===co(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,ct()?Reflect.construct(b,c||[],cu(this).constructor):b.apply(this,c)),"lastBoundingBox",{width:-1,height:-1}),a}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),a&&cv(d,a),b=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,b=this.getBBox();b?(Math.abs(b.width-this.lastBoundingBox.width)>1||Math.abs(b.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=b.width,this.lastBoundingBox.height=b.height,a&&a(b)):(-1!==this.lastBoundingBox.width||-1!==this.lastBoundingBox.height)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?cr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var b,c,d=this.props,e=d.layout,f=d.align,g=d.verticalAlign,h=d.margin,i=d.chartWidth,j=d.chartHeight;return a&&(void 0!==a.left&&null!==a.left||void 0!==a.right&&null!==a.right)||(b="center"===f&&"vertical"===e?{left:((i||0)-this.getBBoxSnapshot().width)/2}:"right"===f?{right:h&&h.right||0}:{left:h&&h.left||0}),a&&(void 0!==a.top&&null!==a.top||void 0!==a.bottom&&null!==a.bottom)||(c="middle"===g?{top:((j||0)-this.getBBoxSnapshot().height)/2}:"bottom"===g?{bottom:h&&h.bottom||0}:{top:h&&h.top||0}),cr(cr({},b),c)}},{key:"render",value:function(){var a=this,b=this.props,c=b.content,d=b.width,e=b.height,f=b.wrapperStyle,g=b.payloadUniqBy,h=b.payload,i=cr(cr({position:"absolute",width:d||"auto",height:e||"auto"},this.getDefaultPosition(f)),f);return u().createElement("div",{className:"recharts-legend-wrapper",style:i,ref:function(b){a.wrapperNode=b}},function(a,b){if(u().isValidElement(a))return u().cloneElement(a,b);if("function"==typeof a)return u().createElement(a,b);b.ref;var c=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(b,cp);return u().createElement(cn,c)}(c,cr(cr({},this.props),{},{payload:bz(h,g,cy)})))}}],c=[{key:"getWithHeight",value:function(a,b){var c=cr(cr({},this.defaultProps),a.props).layout;return"vertical"===c&&ag(a.props.height)?{height:a.props.height}:"horizontal"===c?{width:a.props.width||b}:null}}],b&&cs(d.prototype,b),c&&cs(d,c),Object.defineProperty(d,"prototype",{writable:!1}),d}(t.PureComponent);function cA(){return(cA=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}cw(cz,"displayName","Legend"),cw(cz,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var cB=function(a){var b=a.cx,c=a.cy,d=a.r,e=T("recharts-dot",a.className);return b===+b&&c===+c&&d===+d?t.createElement("circle",cA({},aS(a,!1),aC(a),{className:e,cx:b,cy:c,r:d})):null},cC=c(7372),cD=c.n(cC);let{getOwnPropertyNames:cE,getOwnPropertySymbols:cF}=Object,{hasOwnProperty:cG}=Object.prototype;function cH(a,b){return function(c,d,e){return a(c,d,e)&&b(c,d,e)}}function cI(a){return function(b,c,d){if(!b||!c||"object"!=typeof b||"object"!=typeof c)return a(b,c,d);let{cache:e}=d,f=e.get(b),g=e.get(c);if(f&&g)return f===c&&g===b;e.set(b,c),e.set(c,b);let h=a(b,c,d);return e.delete(b),e.delete(c),h}}function cJ(a){return cE(a).concat(cF(a))}let cK=Object.hasOwn||((a,b)=>cG.call(a,b));function cL(a,b){return a===b||!a&&!b&&a!=a&&b!=b}let{getOwnPropertyDescriptor:cM,keys:cN}=Object;function cO(a,b){return a.byteLength===b.byteLength&&c$(new Uint8Array(a),new Uint8Array(b))}function cP(a,b,c){let d=a.length;if(b.length!==d)return!1;for(;d-- >0;)if(!c.equals(a[d],b[d],d,d,a,b,c))return!1;return!0}function cQ(a,b){return a.byteLength===b.byteLength&&c$(new Uint8Array(a.buffer,a.byteOffset,a.byteLength),new Uint8Array(b.buffer,b.byteOffset,b.byteLength))}function cR(a,b){return cL(a.getTime(),b.getTime())}function cS(a,b){return a.name===b.name&&a.message===b.message&&a.cause===b.cause&&a.stack===b.stack}function cT(a,b){return a===b}function cU(a,b,c){let d,e,f=a.size;if(f!==b.size)return!1;if(!f)return!0;let g=Array(f),h=a.entries(),i=0;for(;(d=h.next())&&!d.done;){let f=b.entries(),h=!1,j=0;for(;(e=f.next())&&!e.done;){if(g[j]){j++;continue}let f=d.value,k=e.value;if(c.equals(f[0],k[0],i,j,a,b,c)&&c.equals(f[1],k[1],f[0],k[0],a,b,c)){h=g[j]=!0;break}j++}if(!h)return!1;i++}return!0}function cV(a,b,c){let d=cN(a),e=d.length;if(cN(b).length!==e)return!1;for(;e-- >0;)if(!c0(a,b,c,d[e]))return!1;return!0}function cW(a,b,c){let d,e,f,g=cJ(a),h=g.length;if(cJ(b).length!==h)return!1;for(;h-- >0;)if(!c0(a,b,c,d=g[h])||(e=cM(a,d),f=cM(b,d),(e||f)&&(!e||!f||e.configurable!==f.configurable||e.enumerable!==f.enumerable||e.writable!==f.writable)))return!1;return!0}function cX(a,b){return cL(a.valueOf(),b.valueOf())}function cY(a,b){return a.source===b.source&&a.flags===b.flags}function cZ(a,b,c){let d,e,f=a.size;if(f!==b.size)return!1;if(!f)return!0;let g=Array(f),h=a.values();for(;(d=h.next())&&!d.done;){let f=b.values(),h=!1,i=0;for(;(e=f.next())&&!e.done;){if(!g[i]&&c.equals(d.value,e.value,d.value,e.value,a,b,c)){h=g[i]=!0;break}i++}if(!h)return!1}return!0}function c$(a,b){let c=a.byteLength;if(b.byteLength!==c||a.byteOffset!==b.byteOffset)return!1;for(;c-- >0;)if(a[c]!==b[c])return!1;return!0}function c_(a,b){return a.hostname===b.hostname&&a.pathname===b.pathname&&a.protocol===b.protocol&&a.port===b.port&&a.hash===b.hash&&a.username===b.username&&a.password===b.password}function c0(a,b,c,d){return("_owner"===d||"__o"===d||"__v"===d)&&(!!a.$$typeof||!!b.$$typeof)||cK(b,d)&&c.equals(a[d],b[d],d,d,a,b,c)}let c1={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},c2=Object.prototype.toString,c3=c4();function c4(a={}){let{circular:b=!1,createInternalComparator:c,createState:d,strict:e=!1}=a,f=function({areArrayBuffersEqual:a,areArraysEqual:b,areDataViewsEqual:c,areDatesEqual:d,areErrorsEqual:e,areFunctionsEqual:f,areMapsEqual:g,areNumbersEqual:h,areObjectsEqual:i,arePrimitiveWrappersEqual:j,areRegExpsEqual:k,areSetsEqual:l,areTypedArraysEqual:m,areUrlsEqual:n,unknownTagComparators:o}){return function(p,q,r){if(p===q)return!0;if(null==p||null==q)return!1;let s=typeof p;if(s!==typeof q)return!1;if("object"!==s)return"number"===s?h(p,q,r):"function"===s&&f(p,q,r);let t=p.constructor;if(t!==q.constructor)return!1;if(t===Object)return i(p,q,r);if(Array.isArray(p))return b(p,q,r);if(t===Date)return d(p,q,r);if(t===RegExp)return k(p,q,r);if(t===Map)return g(p,q,r);if(t===Set)return l(p,q,r);let u=c2.call(p);if("[object Date]"===u)return d(p,q,r);if("[object RegExp]"===u)return k(p,q,r);if("[object Map]"===u)return g(p,q,r);if("[object Set]"===u)return l(p,q,r);if("[object Object]"===u)return"function"!=typeof p.then&&"function"!=typeof q.then&&i(p,q,r);if("[object URL]"===u)return n(p,q,r);if("[object Error]"===u)return e(p,q,r);if("[object Arguments]"===u)return i(p,q,r);if(c1[u])return m(p,q,r);if("[object ArrayBuffer]"===u)return a(p,q,r);if("[object DataView]"===u)return c(p,q,r);if("[object Boolean]"===u||"[object Number]"===u||"[object String]"===u)return j(p,q,r);if(o){let a=o[u];if(!a){let b=null!=p?p[Symbol.toStringTag]:void 0;b&&(a=o[b])}if(a)return a(p,q,r)}return!1}}(function({circular:a,createCustomConfig:b,strict:c}){let d={areArrayBuffersEqual:cO,areArraysEqual:c?cW:cP,areDataViewsEqual:cQ,areDatesEqual:cR,areErrorsEqual:cS,areFunctionsEqual:cT,areMapsEqual:c?cH(cU,cW):cU,areNumbersEqual:cL,areObjectsEqual:c?cW:cV,arePrimitiveWrappersEqual:cX,areRegExpsEqual:cY,areSetsEqual:c?cH(cZ,cW):cZ,areTypedArraysEqual:c?cH(c$,cW):c$,areUrlsEqual:c_,unknownTagComparators:void 0};if(b&&(d=Object.assign({},d,b(d))),a){let a=cI(d.areArraysEqual),b=cI(d.areMapsEqual),c=cI(d.areObjectsEqual),e=cI(d.areSetsEqual);d=Object.assign({},d,{areArraysEqual:a,areMapsEqual:b,areObjectsEqual:c,areSetsEqual:e})}return d}(a)),g=c?c(f):function(a,b,c,d,e,g,h){return f(a,b,h)};return function({circular:a,comparator:b,createState:c,equals:d,strict:e}){if(c)return function(f,g){let{cache:h=a?new WeakMap:void 0,meta:i}=c();return b(f,g,{cache:h,equals:d,meta:i,strict:e})};if(a)return function(a,c){return b(a,c,{cache:new WeakMap,equals:d,meta:void 0,strict:e})};let f={cache:void 0,equals:d,meta:void 0,strict:e};return function(a,c){return b(a,c,f)}}({circular:b,comparator:f,createState:d,equals:g,strict:e})}function c5(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=-1;requestAnimationFrame(function d(e){if(c<0&&(c=e),e-c>b)a(e),c=-1;else{var f;f=d,"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(f)}})}function c6(a){return(c6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function c7(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function c8(a){return(c8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function c9(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function da(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?c9(Object(c),!0).forEach(function(b){db(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):c9(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function db(a,b,c){var d;return(d=function(a,b){if("object"!==c8(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!==c8(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"),(b="symbol"===c8(d)?d:String(d))in a)?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}c4({strict:!0}),c4({circular:!0}),c4({circular:!0,strict:!0}),c4({createInternalComparator:()=>cL}),c4({strict:!0,createInternalComparator:()=>cL}),c4({circular:!0,createInternalComparator:()=>cL}),c4({circular:!0,createInternalComparator:()=>cL,strict:!0});var dc=function(a){return a},dd=function(a,b){return Object.keys(b).reduce(function(c,d){return da(da({},c),{},db({},d,a(d,b[d])))},{})},de=function(a,b,c){return a.map(function(a){return"".concat(a.replace(/([A-Z])/g,function(a){return"-".concat(a.toLowerCase())})," ").concat(b,"ms ").concat(c)}).join(",")},df=function(a,b,c,d,e,f,g,h){};function dg(a,b){if(a){if("string"==typeof a)return dh(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return dh(a,b)}}function dh(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var di=function(a,b){return[0,3*a,3*b-6*a,3*a-3*b+1]},dj=function(a,b){return a.map(function(a,c){return a*Math.pow(b,c)}).reduce(function(a,b){return a+b})},dk=function(a,b){return function(c){return dj(di(a,b),c)}},dl=function(){for(var a,b,c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=d[0],g=d[1],h=d[2],i=d[3];if(1===d.length)switch(d[0]){case"linear":f=0,g=0,h=1,i=1;break;case"ease":f=.25,g=.1,h=.25,i=1;break;case"ease-in":f=.42,g=0,h=1,i=1;break;case"ease-out":f=.42,g=0,h=.58,i=1;break;case"ease-in-out":f=0,g=0,h=.58,i=1;break;default:var j=d[0].split("(");if("cubic-bezier"===j[0]&&4===j[1].split(")")[0].split(",").length){var k,l=function(a){if(Array.isArray(a))return a}(k=j[1].split(")")[0].split(",").map(function(a){return parseFloat(a)}))||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{f=(c=c.call(a)).next,!1;for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(k,4)||dg(k,4)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();f=l[0],g=l[1],h=l[2],i=l[3]}else df(!1,"[configBezier]: arguments should be one of oneOf 'linear', 'ease', 'ease-in', 'ease-out', 'ease-in-out','cubic-bezier(x1,y1,x2,y2)', instead received %s",d)}df([f,h,g,i].every(function(a){return"number"==typeof a&&a>=0&&a<=1}),"[configBezier]: arguments should be x1, y1, x2, y2 of [0, 1] instead received %s",d);var m=dk(f,h),n=dk(g,i),o=(a=f,b=h,function(c){var d;return dj([].concat(function(a){if(Array.isArray(a))return dh(a)}(d=di(a,b).map(function(a,b){return a*b}).slice(1))||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(d)||dg(d)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[0]),c)}),p=function(a){for(var b=a>1?1:a,c=b,d=0;d<8;++d){var e,f=m(c)-b,g=o(c);if(1e-4>Math.abs(f-b)||g<1e-4)break;c=(e=c-f/g)>1?1:e<0?0:e}return n(c)};return p.isStepper=!1,p},dm=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.stiff,c=void 0===b?100:b,d=a.damping,e=void 0===d?8:d,f=a.dt,g=void 0===f?17:f,h=function(a,b,d){var f=d+(-(a-b)*c-d*e)*g/1e3,h=d*g/1e3+a;return 1e-4>Math.abs(h-b)&&1e-4>Math.abs(f)?[b,0]:[h,f]};return h.isStepper=!0,h.dt=g,h},dn=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=b[0];if("string"==typeof d)switch(d){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return dl(d);case"spring":return dm();default:if("cubic-bezier"===d.split("(")[0])return dl(d);df(!1,"[configEasing]: first argument should be one of 'ease', 'ease-in', 'ease-out', 'ease-in-out','cubic-bezier(x1,y1,x2,y2)', 'linear' and 'spring', instead  received %s",b)}return"function"==typeof d?d:(df(!1,"[configEasing]: first argument type should be function or string, instead received %s",b),null)};function dp(a){return(dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function dq(a){return function(a){if(Array.isArray(a))return dv(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||du(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dr(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ds(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?dr(Object(c),!0).forEach(function(b){dt(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):dr(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function dt(a,b,c){var d;return(d=function(a,b){if("object"!==dp(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!==dp(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"),(b="symbol"===dp(d)?d:String(d))in a)?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function du(a,b){if(a){if("string"==typeof a)return dv(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return dv(a,b)}}function dv(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var dw=function(a,b,c){return a+(b-a)*c},dx=function(a){return a.from!==a.to},dy=function a(b,c,d){var e=dd(function(a,c){if(dx(c)){var d,e=function(a){if(Array.isArray(a))return a}(d=b(c.from,c.to,c.velocity))||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{f=(c=c.call(a)).next,!1;for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(d,2)||du(d,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=e[0],g=e[1];return ds(ds({},c),{},{from:f,velocity:g})}return c},c);return d<1?dd(function(a,b){return dx(b)?ds(ds({},b),{},{velocity:dw(b.velocity,e[a].velocity,d),from:dw(b.from,e[a].from,d)}):b},c):a(b,e,d-1)};let dz=function(a,b,c,d,e){var f,g,h=[Object.keys(a),Object.keys(b)].reduce(function(a,b){return a.filter(function(a){return b.includes(a)})}),i=h.reduce(function(c,d){return ds(ds({},c),{},dt({},d,[a[d],b[d]]))},{}),j=h.reduce(function(c,d){return ds(ds({},c),{},dt({},d,{from:a[d],velocity:0,to:b[d]}))},{}),k=-1,l=function(){return null};return l=c.isStepper?function(d){f||(f=d);var g=(d-f)/c.dt;j=dy(c,j,g),e(ds(ds(ds({},a),b),dd(function(a,b){return b.from},j))),f=d,Object.values(j).filter(dx).length&&(k=requestAnimationFrame(l))}:function(f){g||(g=f);var h=(f-g)/d,j=dd(function(a,b){return dw.apply(void 0,dq(b).concat([c(h)]))},i);if(e(ds(ds(ds({},a),b),j)),h<1)k=requestAnimationFrame(l);else{var m=dd(function(a,b){return dw.apply(void 0,dq(b).concat([c(1)]))},i);e(ds(ds(ds({},a),b),m))}},function(){return requestAnimationFrame(l),function(){cancelAnimationFrame(k)}}};function dA(a){return(dA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var dB=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dC(a){return function(a){if(Array.isArray(a))return dD(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function(a,b){if(a){if("string"==typeof a)return dD(a,void 0);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return dD(a,b)}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dD(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function dE(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function dF(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?dE(Object(c),!0).forEach(function(b){dG(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):dE(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function dG(a,b,c){return(b=dH(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function dH(a){var b=function(a,b){if("object"!==dA(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!==dA(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"===dA(b)?b:String(b)}function dI(a,b){return(dI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function dJ(a,b){if(b&&("object"===dA(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");return dK(a)}function dK(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function dL(a){return(dL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}var dM=function(a){if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),a&&dI(e,a);var b,c,d=(b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,c=dL(e);return a=b?Reflect.construct(c,arguments,dL(this).constructor):c.apply(this,arguments),dJ(this,a)});function e(a,b){if(!(this instanceof e))throw TypeError("Cannot call a class as a function");var c=d.call(this,a,b),f=c.props,g=f.isActive,h=f.attributeName,i=f.from,j=f.to,k=f.steps,l=f.children,m=f.duration;if(c.handleStyleChange=c.handleStyleChange.bind(dK(c)),c.changeStyle=c.changeStyle.bind(dK(c)),!g||m<=0)return c.state={style:{}},"function"==typeof l&&(c.state={style:j}),dJ(c);if(k&&k.length)c.state={style:k[0].style};else if(i){if("function"==typeof l)return c.state={style:i},dJ(c);c.state={style:h?dG({},h,i):i}}else c.state={style:{}};return c}return c=[{key:"componentDidMount",value:function(){var a=this.props,b=a.isActive,c=a.canBegin;this.mounted=!0,b&&c&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var b=this.props,c=b.isActive,d=b.canBegin,e=b.attributeName,f=b.shouldReAnimate,g=b.to,h=b.from,i=this.state.style;if(d){if(!c){var j={style:e?dG({},e,g):g};this.state&&i&&(e&&i[e]!==g||!e&&i!==g)&&this.setState(j);return}if(!c3(a.to,g)||!a.canBegin||!a.isActive){var k=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var l=k||f?h:a.to;if(this.state&&i){var m={style:e?dG({},e,l):l};(e&&i[e]!==l||!e&&i!==l)&&this.setState(m)}this.runAnimation(dF(dF({},this.props),{},{from:l,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var b=this,c=a.from,d=a.to,e=a.duration,f=a.easing,g=a.begin,h=a.onAnimationEnd,i=a.onAnimationStart,j=dz(c,d,dn(f),e,this.changeStyle);this.manager.start([i,g,function(){b.stopJSAnimation=j()},e,h])}},{key:"runStepAnimation",value:function(a){var b=this,c=a.steps,d=a.begin,e=a.onAnimationStart,f=c[0],g=f.style,h=f.duration;return this.manager.start([e].concat(dC(c.reduce(function(a,d,e){if(0===e)return a;var f=d.duration,g=d.easing,h=void 0===g?"ease":g,i=d.style,j=d.properties,k=d.onAnimationEnd,l=e>0?c[e-1]:d,m=j||Object.keys(i);if("function"==typeof h||"spring"===h)return[].concat(dC(a),[b.runJSAnimation.bind(b,{from:l.style,to:i,duration:f,easing:h}),f]);var n=de(m,f,h),o=dF(dF(dF({},l.style),i),{},{transition:n});return[].concat(dC(a),[o,f,k]).filter(dc)},[g,Math.max(void 0===h?0:h,d)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=(b=function(){return null},c=!1,d=function a(d){if(!c){if(Array.isArray(d)){if(!d.length)return;var e=function(a){if(Array.isArray(a))return a}(d)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(d)||function(a,b){if(a){if("string"==typeof a)return c7(a,void 0);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return c7(a,b)}}(d)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=e[0],g=e.slice(1);return"number"==typeof f?void c5(a.bind(null,g),f):(a(f),void c5(a.bind(null,g)))}"object"===c6(d)&&b(d),"function"==typeof d&&d()}},{stop:function(){c=!0},start:function(a){c=!1,d(a)},subscribe:function(a){return b=a,function(){b=function(){return null}}}}));var b,c,d,e=a.begin,f=a.duration,g=a.attributeName,h=a.to,i=a.easing,j=a.onAnimationStart,k=a.onAnimationEnd,l=a.steps,m=a.children,n=this.manager;if(this.unSubscribe=n.subscribe(this.handleStyleChange),"function"==typeof i||"function"==typeof m||"spring"===i)return void this.runJSAnimation(a);if(l.length>1)return void this.runStepAnimation(a);var o=g?dG({},g,h):h,p=de(Object.keys(o),f,i);n.start([j,e,dF(dF({},o),{},{transition:p}),f,k])}},{key:"render",value:function(){var a=this.props,b=a.children,c=(a.begin,a.duration),d=(a.attributeName,a.easing,a.isActive),e=(a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart,function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,dB)),f=t.Children.count(b),g=this.state.style;if("function"==typeof b)return b(g);if(!d||0===f||c<=0)return b;var h=function(a){var b=a.props,c=b.style,d=b.className;return(0,t.cloneElement)(a,dF(dF({},e),{},{style:dF(dF({},void 0===c?{}:c),g),className:d}))};return 1===f?h(t.Children.only(b)):u().createElement("div",null,t.Children.map(b,function(a){return h(a)}))}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,dH(d.key),d)}}(e.prototype,c),Object.defineProperty(e,"prototype",{writable:!1}),e}(t.PureComponent);function dN(a){return(dN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function dO(){return(dO=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function dP(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function dQ(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function dR(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?dQ(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=dN(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=dN(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==dN(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):dQ(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}dM.displayName="Animate",dM.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},dM.propTypes={from:cD().oneOfType([cD().object,cD().string]),to:cD().oneOfType([cD().object,cD().string]),attributeName:cD().string,duration:cD().number,begin:cD().number,easing:cD().oneOfType([cD().string,cD().func]),steps:cD().arrayOf(cD().shape({duration:cD().number.isRequired,style:cD().object.isRequired,easing:cD().oneOfType([cD().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),cD().func]),properties:cD().arrayOf("string"),onAnimationEnd:cD().func})),children:cD().oneOfType([cD().node,cD().func]),isActive:cD().bool,canBegin:cD().bool,onAnimationEnd:cD().func,shouldReAnimate:cD().bool,onAnimationStart:cD().func,onAnimationReStart:cD().func};var dS=function(a,b,c,d,e){var f,g=Math.min(Math.abs(c)/2,Math.abs(d)/2),h=d>=0?1:-1,i=c>=0?1:-1,j=+(d>=0&&c>=0||d<0&&c<0);if(g>0&&e instanceof Array){for(var k=[0,0,0,0],l=0;l<4;l++)k[l]=e[l]>g?g:e[l];f="M".concat(a,",").concat(b+h*k[0]),k[0]>0&&(f+="A ".concat(k[0],",").concat(k[0],",0,0,").concat(j,",").concat(a+i*k[0],",").concat(b)),f+="L ".concat(a+c-i*k[1],",").concat(b),k[1]>0&&(f+="A ".concat(k[1],",").concat(k[1],",0,0,").concat(j,",\n        ").concat(a+c,",").concat(b+h*k[1])),f+="L ".concat(a+c,",").concat(b+d-h*k[2]),k[2]>0&&(f+="A ".concat(k[2],",").concat(k[2],",0,0,").concat(j,",\n        ").concat(a+c-i*k[2],",").concat(b+d)),f+="L ".concat(a+i*k[3],",").concat(b+d),k[3]>0&&(f+="A ".concat(k[3],",").concat(k[3],",0,0,").concat(j,",\n        ").concat(a,",").concat(b+d-h*k[3])),f+="Z"}else if(g>0&&e===+e&&e>0){var m=Math.min(g,e);f="M ".concat(a,",").concat(b+h*m,"\n            A ").concat(m,",").concat(m,",0,0,").concat(j,",").concat(a+i*m,",").concat(b,"\n            L ").concat(a+c-i*m,",").concat(b,"\n            A ").concat(m,",").concat(m,",0,0,").concat(j,",").concat(a+c,",").concat(b+h*m,"\n            L ").concat(a+c,",").concat(b+d-h*m,"\n            A ").concat(m,",").concat(m,",0,0,").concat(j,",").concat(a+c-i*m,",").concat(b+d,"\n            L ").concat(a+i*m,",").concat(b+d,"\n            A ").concat(m,",").concat(m,",0,0,").concat(j,",").concat(a,",").concat(b+d-h*m," Z")}else f="M ".concat(a,",").concat(b," h ").concat(c," v ").concat(d," h ").concat(-c," Z");return f},dT=function(a,b){if(!a||!b)return!1;var c=a.x,d=a.y,e=b.x,f=b.y,g=b.width,h=b.height;if(Math.abs(g)>0&&Math.abs(h)>0){var i=Math.min(e,e+g),j=Math.max(e,e+g),k=Math.min(f,f+h),l=Math.max(f,f+h);return c>=i&&c<=j&&d>=k&&d<=l}return!1},dU={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dV=function(a){var b,c=dR(dR({},dU),a),d=(0,t.useRef)(),e=function(a){if(Array.isArray(a))return a}(b=(0,t.useState)(-1))||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{f=(c=c.call(a)).next,!1;for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(b,2)||function(a,b){if(a){if("string"==typeof a)return dP(a,2);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return dP(a,b)}}(b,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=e[0],g=e[1];(0,t.useEffect)(function(){if(d.current&&d.current.getTotalLength)try{var a=d.current.getTotalLength();a&&g(a)}catch(a){}},[]);var h=c.x,i=c.y,j=c.width,k=c.height,l=c.radius,m=c.className,n=c.animationEasing,o=c.animationDuration,p=c.animationBegin,q=c.isAnimationActive,r=c.isUpdateAnimationActive;if(h!==+h||i!==+i||j!==+j||k!==+k||0===j||0===k)return null;var s=T("recharts-rectangle",m);return r?u().createElement(dM,{canBegin:f>0,from:{width:j,height:k,x:h,y:i},to:{width:j,height:k,x:h,y:i},duration:o,animationEasing:n,isActive:r},function(a){var b=a.width,e=a.height,g=a.x,h=a.y;return u().createElement(dM,{canBegin:f>0,from:"0px ".concat(-1===f?1:f,"px"),to:"".concat(f,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:o,isActive:q,easing:n},u().createElement("path",dO({},aS(c,!0),{className:s,d:dS(g,h,b,e,l),ref:d})))}):u().createElement("path",dO({},aS(c,!0),{className:s,d:dS(h,i,j,k,l)}))};function dW(a,b){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(b).domain(a)}return this}function dX(a,b){switch(arguments.length){case 0:break;case 1:"function"==typeof a?this.interpolator(a):this.range(a);break;default:this.domain(a),"function"==typeof b?this.interpolator(b):this.range(b)}return this}class dY extends Map{constructor(a,b=d$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:b}}),null!=a)for(let[b,c]of a)this.set(b,c)}get(a){return super.get(dZ(this,a))}has(a){return super.has(dZ(this,a))}set(a,b){return super.set(function({_intern:a,_key:b},c){let d=b(c);return a.has(d)?a.get(d):(a.set(d,c),c)}(this,a),b)}delete(a){return super.delete(function({_intern:a,_key:b},c){let d=b(c);return a.has(d)&&(c=a.get(d),a.delete(d)),c}(this,a))}}function dZ({_intern:a,_key:b},c){let d=b(c);return a.has(d)?a.get(d):c}function d$(a){return null!==a&&"object"==typeof a?a.valueOf():a}let d_=Symbol("implicit");function d0(){var a=new dY,b=[],c=[],d=d_;function e(e){let f=a.get(e);if(void 0===f){if(d!==d_)return d;a.set(e,f=b.push(e)-1)}return c[f%c.length]}return e.domain=function(c){if(!arguments.length)return b.slice();for(let d of(b=[],a=new dY,c))a.has(d)||a.set(d,b.push(d)-1);return e},e.range=function(a){return arguments.length?(c=Array.from(a),e):c.slice()},e.unknown=function(a){return arguments.length?(d=a,e):d},e.copy=function(){return d0(b,c).unknown(d)},dW.apply(e,arguments),e}function d1(){var a,b,c=d0().unknown(void 0),d=c.domain,e=c.range,f=0,g=1,h=!1,i=0,j=0,k=.5;function l(){var c=d().length,l=g<f,m=l?g:f,n=l?f:g;a=(n-m)/Math.max(1,c-i+2*j),h&&(a=Math.floor(a)),m+=(n-m-a*(c-i))*k,b=a*(1-i),h&&(m=Math.round(m),b=Math.round(b));var o=(function(a,b,c){a*=1,b*=1,c=(e=arguments.length)<2?(b=a,a=0,1):e<3?1:+c;for(var d=-1,e=0|Math.max(0,Math.ceil((b-a)/c)),f=Array(e);++d<e;)f[d]=a+d*c;return f})(c).map(function(b){return m+a*b});return e(l?o.reverse():o)}return delete c.unknown,c.domain=function(a){return arguments.length?(d(a),l()):d()},c.range=function(a){return arguments.length?([f,g]=a,f*=1,g*=1,l()):[f,g]},c.rangeRound=function(a){return[f,g]=a,f*=1,g*=1,h=!0,l()},c.bandwidth=function(){return b},c.step=function(){return a},c.round=function(a){return arguments.length?(h=!!a,l()):h},c.padding=function(a){return arguments.length?(i=Math.min(1,j=+a),l()):i},c.paddingInner=function(a){return arguments.length?(i=Math.min(1,a),l()):i},c.paddingOuter=function(a){return arguments.length?(j=+a,l()):j},c.align=function(a){return arguments.length?(k=Math.max(0,Math.min(1,a)),l()):k},c.copy=function(){return d1(d(),[f,g]).round(h).paddingInner(i).paddingOuter(j).align(k)},dW.apply(l(),arguments)}function d2(){return function a(b){var c=b.copy;return b.padding=b.paddingOuter,delete b.paddingInner,delete b.paddingOuter,b.copy=function(){return a(c())},b}(d1.apply(null,arguments).paddingInner(1))}function d3(a){return(d3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function d4(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function d5(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?d4(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=d3(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=d3(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==d3(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):d4(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var d6={widthCache:{},cacheCount:0},d7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},d8="recharts_measurement_span",d9=function(a){var b,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==a||bw.isSsr)return{width:0,height:0};var d=(Object.keys(b=d5({},c)).forEach(function(a){b[a]||delete b[a]}),b),e=JSON.stringify({text:a,copyStyle:d});if(d6.widthCache[e])return d6.widthCache[e];try{var f=document.getElementById(d8);f||((f=document.createElement("span")).setAttribute("id",d8),f.setAttribute("aria-hidden","true"),document.body.appendChild(f));var g=d5(d5({},d7),d);Object.assign(f.style,g),f.textContent="".concat(a);var h=f.getBoundingClientRect(),i={width:h.width,height:h.height};return d6.widthCache[e]=i,++d6.cacheCount>2e3&&(d6.cacheCount=0,d6.widthCache={}),i}catch(a){return{width:0,height:0}}};function ea(a){return(ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function eb(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{if(f=(c=c.call(a)).next,0===b){if(Object(c)!==c)return;i=!1}else for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(a,b)||function(a,b){if(a){if("string"==typeof a)return ec(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return ec(a,b)}}(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ec(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function ed(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,function(a){var b=function(a,b){if("object"!=ea(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=ea(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==ea(b)?b:b+""}(d.key),d)}}var ee=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ef=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eg=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,eh=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ei={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},ej=Object.keys(ei),ek=function(){var a,b;function c(a,b){if(!(this instanceof c))throw TypeError("Cannot call a class as a function");this.num=a,this.unit=b,this.num=a,this.unit=b,Number.isNaN(a)&&(this.unit=""),""===b||eg.test(b)||(this.num=NaN,this.unit=""),ej.includes(b)&&(this.num=a*ei[b],this.unit="px")}return a=[{key:"add",value:function(a){return this.unit!==a.unit?new c(NaN,""):new c(this.num+a.num,this.unit)}},{key:"subtract",value:function(a){return this.unit!==a.unit?new c(NaN,""):new c(this.num-a.num,this.unit)}},{key:"multiply",value:function(a){return""!==this.unit&&""!==a.unit&&this.unit!==a.unit?new c(NaN,""):new c(this.num*a.num,this.unit||a.unit)}},{key:"divide",value:function(a){return""!==this.unit&&""!==a.unit&&this.unit!==a.unit?new c(NaN,""):new c(this.num/a.num,this.unit||a.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],b=[{key:"parse",value:function(a){var b,d=eb(null!=(b=eh.exec(a))?b:[],3),e=d[1],f=d[2];return new c(parseFloat(e),null!=f?f:"")}}],a&&ed(c.prototype,a),b&&ed(c,b),Object.defineProperty(c,"prototype",{writable:!1}),c}();function el(a){if(a.includes("NaN"))return"NaN";for(var b=a;b.includes("*")||b.includes("/");){var c,d=eb(null!=(c=ee.exec(b))?c:[],4),e=d[1],f=d[2],g=d[3],h=ek.parse(null!=e?e:""),i=ek.parse(null!=g?g:""),j="*"===f?h.multiply(i):h.divide(i);if(j.isNaN())return"NaN";b=b.replace(ee,j.toString())}for(;b.includes("+")||/.-\d+(?:\.\d+)?/.test(b);){var k,l=eb(null!=(k=ef.exec(b))?k:[],4),m=l[1],n=l[2],o=l[3],p=ek.parse(null!=m?m:""),q=ek.parse(null!=o?o:""),r="+"===n?p.add(q):p.subtract(q);if(r.isNaN())return"NaN";b=b.replace(ef,r.toString())}return b}var em=/\(([^()]*)\)/;function en(a){var b=function(a){try{var b;return b=a.replace(/\s+/g,""),b=function(a){for(var b=a;b.includes("(");){var c=eb(em.exec(b),2)[1];b=b.replace(em,el(c))}return b}(b),b=el(b)}catch(a){return"NaN"}}(a.slice(5,-1));return"NaN"===b?"":b}var eo=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ep=["dx","dy","angle","className","breakAll"];function eq(){return(eq=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function er(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function es(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{if(f=(c=c.call(a)).next,0===b){if(Object(c)!==c)return;i=!1}else for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(a,b)||function(a,b){if(a){if("string"==typeof a)return et(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return et(a,b)}}(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var eu=/[ \f\n\r\t\v\u2028\u2029]+/,ev=function(a){var b=a.children,c=a.breakAll,d=a.style;try{var e=[];ad()(b)||(e=c?b.toString().split(""):b.toString().split(eu));var f=e.map(function(a){return{word:a,width:d9(a,d).width}}),g=c?0:d9("\xa0",d).width;return{wordsWithComputedWidth:f,spaceWidth:g}}catch(a){return null}},ew=function(a,b,c,d,e){var f,g=a.maxLines,h=a.children,i=a.style,j=a.breakAll,k=ag(g),l=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.reduce(function(a,b){var f=b.word,g=b.width,h=a[a.length-1];return h&&(null==d||e||h.width+g+c<Number(d))?(h.words.push(f),h.width+=g+c):a.push({words:[f],width:g}),a},[])},m=l(b);if(!k)return m;for(var n=function(a){var b=l(ev({breakAll:j,style:i,children:h.slice(0,a)+"â€¦"}).wordsWithComputedWidth);return[b.length>g||b.reduce(function(a,b){return a.width>b.width?a:b}).width>Number(d),b]},o=0,p=h.length-1,q=0;o<=p&&q<=h.length-1;){var r=Math.floor((o+p)/2),s=es(n(r-1),2),t=s[0],u=s[1],v=es(n(r),1)[0];if(t||v||(o=r+1),t&&v&&(p=r-1),!t&&v){f=u;break}q++}return f||m},ex=function(a){return[{words:ad()(a)?[]:a.toString().split(eu)}]},ey=function(a){var b=a.width,c=a.scaleToFit,d=a.children,e=a.style,f=a.breakAll,g=a.maxLines;if((b||c)&&!bw.isSsr){var h=ev({breakAll:f,children:d,style:e});if(!h)return ex(d);var i=h.wordsWithComputedWidth,j=h.spaceWidth;return ew({breakAll:f,children:d,maxLines:g,style:e},i,j,b,c)}return ex(d)},ez="#808080",eA=function(a){var b,c=a.x,d=void 0===c?0:c,e=a.y,f=void 0===e?0:e,g=a.lineHeight,h=void 0===g?"1em":g,i=a.capHeight,j=void 0===i?"0.71em":i,k=a.scaleToFit,l=void 0!==k&&k,m=a.textAnchor,n=a.verticalAnchor,o=a.fill,p=void 0===o?ez:o,q=er(a,eo),r=(0,t.useMemo)(function(){return ey({breakAll:q.breakAll,children:q.children,maxLines:q.maxLines,scaleToFit:l,style:q.style,width:q.width})},[q.breakAll,q.children,q.maxLines,l,q.style,q.width]),s=q.dx,v=q.dy,w=q.angle,x=q.className,y=q.breakAll,z=er(q,ep);if(!ah(d)||!ah(f))return null;var A=d+(ag(s)?s:0),B=f+(ag(v)?v:0);switch(void 0===n?"end":n){case"start":b=en("calc(".concat(j,")"));break;case"middle":b=en("calc(".concat((r.length-1)/2," * -").concat(h," + (").concat(j," / 2))"));break;default:b=en("calc(".concat(r.length-1," * -").concat(h,")"))}var C=[];if(l){var D=r[0].width,E=q.width;C.push("scale(".concat((ag(E)?E/D:1)/D,")"))}return w&&C.push("rotate(".concat(w,", ").concat(A,", ").concat(B,")")),C.length&&(z.transform=C.join(" ")),u().createElement("text",eq({},aS(z,!0),{x:A,y:B,className:T("recharts-text",x),textAnchor:void 0===m?"start":m,fill:p.includes("url")?ez:p}),r.map(function(a,c){var d=a.words.join(y?"":" ");return u().createElement("tspan",{x:A,dy:0===c?b:h,key:"".concat(d,"-").concat(c)},d)}))};let eB=Math.sqrt(50),eC=Math.sqrt(10),eD=Math.sqrt(2);function eE(a,b,c){let d,e,f,g=(b-a)/Math.max(0,c),h=Math.floor(Math.log10(g)),i=g/Math.pow(10,h),j=i>=eB?10:i>=eC?5:i>=eD?2:1;return(h<0?(d=Math.round(a*(f=Math.pow(10,-h)/j)),e=Math.round(b*f),d/f<a&&++d,e/f>b&&--e,f=-f):(d=Math.round(a/(f=Math.pow(10,h)*j)),e=Math.round(b/f),d*f<a&&++d,e*f>b&&--e),e<d&&.5<=c&&c<2)?eE(a,b,2*c):[d,e,f]}function eF(a,b,c){if(b*=1,a*=1,!((c*=1)>0))return[];if(a===b)return[a];let d=b<a,[e,f,g]=d?eE(b,a,c):eE(a,b,c);if(!(f>=e))return[];let h=f-e+1,i=Array(h);if(d)if(g<0)for(let a=0;a<h;++a)i[a]=-((f-a)/g);else for(let a=0;a<h;++a)i[a]=(f-a)*g;else if(g<0)for(let a=0;a<h;++a)i[a]=-((e+a)/g);else for(let a=0;a<h;++a)i[a]=(e+a)*g;return i}function eG(a,b,c){return eE(a*=1,b*=1,c*=1)[2]}function eH(a,b,c){b*=1,a*=1,c*=1;let d=b<a,e=d?eG(b,a,c):eG(a,b,c);return(d?-1:1)*(e<0?-(1/e):e)}function eI(a,b){return null==a||null==b?NaN:a<b?-1:a>b?1:a>=b?0:NaN}function eJ(a,b){return null==a||null==b?NaN:b<a?-1:b>a?1:b>=a?0:NaN}function eK(a){let b,c,d;function e(a,d,f=0,g=a.length){if(f<g){if(0!==b(d,d))return g;do{let b=f+g>>>1;0>c(a[b],d)?f=b+1:g=b}while(f<g)}return f}return 2!==a.length?(b=eI,c=(b,c)=>eI(a(b),c),d=(b,c)=>a(b)-c):(b=a===eI||a===eJ?a:eL,c=a,d=a),{left:e,center:function(a,b,c=0,f=a.length){let g=e(a,b,c,f-1);return g>c&&d(a[g-1],b)>-d(a[g],b)?g-1:g},right:function(a,d,e=0,f=a.length){if(e<f){if(0!==b(d,d))return f;do{let b=e+f>>>1;0>=c(a[b],d)?e=b+1:f=b}while(e<f)}return e}}}function eL(){return 0}function eM(a){return null===a?NaN:+a}let eN=eK(eI),eO=eN.right;function eP(a,b,c){a.prototype=b.prototype=c,c.constructor=a}function eQ(a,b){var c=Object.create(a.prototype);for(var d in b)c[d]=b[d];return c}function eR(){}eN.left,eK(eM).center;var eS="\\s*([+-]?\\d+)\\s*",eT="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",eU="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eV=/^#([0-9a-f]{3,8})$/,eW=RegExp(`^rgb\\(${eS},${eS},${eS}\\)$`),eX=RegExp(`^rgb\\(${eU},${eU},${eU}\\)$`),eY=RegExp(`^rgba\\(${eS},${eS},${eS},${eT}\\)$`),eZ=RegExp(`^rgba\\(${eU},${eU},${eU},${eT}\\)$`),e$=RegExp(`^hsl\\(${eT},${eU},${eU}\\)$`),e_=RegExp(`^hsla\\(${eT},${eU},${eU},${eT}\\)$`),e0={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function e1(){return this.rgb().formatHex()}function e2(){return this.rgb().formatRgb()}function e3(a){var b,c;return a=(a+"").trim().toLowerCase(),(b=eV.exec(a))?(c=b[1].length,b=parseInt(b[1],16),6===c?e4(b):3===c?new e7(b>>8&15|b>>4&240,b>>4&15|240&b,(15&b)<<4|15&b,1):8===c?e5(b>>24&255,b>>16&255,b>>8&255,(255&b)/255):4===c?e5(b>>12&15|b>>8&240,b>>8&15|b>>4&240,b>>4&15|240&b,((15&b)<<4|15&b)/255):null):(b=eW.exec(a))?new e7(b[1],b[2],b[3],1):(b=eX.exec(a))?new e7(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=eY.exec(a))?e5(b[1],b[2],b[3],b[4]):(b=eZ.exec(a))?e5(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=e$.exec(a))?fd(b[1],b[2]/100,b[3]/100,1):(b=e_.exec(a))?fd(b[1],b[2]/100,b[3]/100,b[4]):e0.hasOwnProperty(a)?e4(e0[a]):"transparent"===a?new e7(NaN,NaN,NaN,0):null}function e4(a){return new e7(a>>16&255,a>>8&255,255&a,1)}function e5(a,b,c,d){return d<=0&&(a=b=c=NaN),new e7(a,b,c,d)}function e6(a,b,c,d){var e;return 1==arguments.length?((e=a)instanceof eR||(e=e3(e)),e)?new e7((e=e.rgb()).r,e.g,e.b,e.opacity):new e7:new e7(a,b,c,null==d?1:d)}function e7(a,b,c,d){this.r=+a,this.g=+b,this.b=+c,this.opacity=+d}function e8(){return`#${fc(this.r)}${fc(this.g)}${fc(this.b)}`}function e9(){let a=fa(this.opacity);return`${1===a?"rgb(":"rgba("}${fb(this.r)}, ${fb(this.g)}, ${fb(this.b)}${1===a?")":`, ${a})`}`}function fa(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function fb(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function fc(a){return((a=fb(a))<16?"0":"")+a.toString(16)}function fd(a,b,c,d){return d<=0?a=b=c=NaN:c<=0||c>=1?a=b=NaN:b<=0&&(a=NaN),new ff(a,b,c,d)}function fe(a){if(a instanceof ff)return new ff(a.h,a.s,a.l,a.opacity);if(a instanceof eR||(a=e3(a)),!a)return new ff;if(a instanceof ff)return a;var b=(a=a.rgb()).r/255,c=a.g/255,d=a.b/255,e=Math.min(b,c,d),f=Math.max(b,c,d),g=NaN,h=f-e,i=(f+e)/2;return h?(g=b===f?(c-d)/h+(c<d)*6:c===f?(d-b)/h+2:(b-c)/h+4,h/=i<.5?f+e:2-f-e,g*=60):h=i>0&&i<1?0:g,new ff(g,h,i,a.opacity)}function ff(a,b,c,d){this.h=+a,this.s=+b,this.l=+c,this.opacity=+d}function fg(a){return(a=(a||0)%360)<0?a+360:a}function fh(a){return Math.max(0,Math.min(1,a||0))}function fi(a,b,c){return(a<60?b+(c-b)*a/60:a<180?c:a<240?b+(c-b)*(240-a)/60:b)*255}function fj(a,b,c,d,e){var f=a*a,g=f*a;return((1-3*a+3*f-g)*b+(4-6*f+3*g)*c+(1+3*a+3*f-3*g)*d+g*e)/6}eP(eR,e3,{copy(a){return Object.assign(new this.constructor,this,a)},displayable(){return this.rgb().displayable()},hex:e1,formatHex:e1,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return fe(this).formatHsl()},formatRgb:e2,toString:e2}),eP(e7,e6,eQ(eR,{brighter(a){return a=null==a?1.4285714285714286:Math.pow(1.4285714285714286,a),new e7(this.r*a,this.g*a,this.b*a,this.opacity)},darker(a){return a=null==a?.7:Math.pow(.7,a),new e7(this.r*a,this.g*a,this.b*a,this.opacity)},rgb(){return this},clamp(){return new e7(fb(this.r),fb(this.g),fb(this.b),fa(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:e8,formatHex:e8,formatHex8:function(){return`#${fc(this.r)}${fc(this.g)}${fc(this.b)}${fc((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:e9,toString:e9})),eP(ff,function(a,b,c,d){return 1==arguments.length?fe(a):new ff(a,b,c,null==d?1:d)},eQ(eR,{brighter(a){return a=null==a?1.4285714285714286:Math.pow(1.4285714285714286,a),new ff(this.h,this.s,this.l*a,this.opacity)},darker(a){return a=null==a?.7:Math.pow(.7,a),new ff(this.h,this.s,this.l*a,this.opacity)},rgb(){var a=this.h%360+(this.h<0)*360,b=isNaN(a)||isNaN(this.s)?0:this.s,c=this.l,d=c+(c<.5?c:1-c)*b,e=2*c-d;return new e7(fi(a>=240?a-240:a+120,e,d),fi(a,e,d),fi(a<120?a+240:a-120,e,d),this.opacity)},clamp(){return new ff(fg(this.h),fh(this.s),fh(this.l),fa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let a=fa(this.opacity);return`${1===a?"hsl(":"hsla("}${fg(this.h)}, ${100*fh(this.s)}%, ${100*fh(this.l)}%${1===a?")":`, ${a})`}`}}));let fk=a=>()=>a;function fl(a,b){var c=b-a;return c?function(b){return a+b*c}:fk(isNaN(a)?b:a)}let fm=function a(b){var c,d=1==(c=+b)?fl:function(a,b){var d,e,f;return b-a?(d=a,e=b,d=Math.pow(d,f=c),e=Math.pow(e,f)-d,f=1/f,function(a){return Math.pow(d+a*e,f)}):fk(isNaN(a)?b:a)};function e(a,b){var c=d((a=e6(a)).r,(b=e6(b)).r),e=d(a.g,b.g),f=d(a.b,b.b),g=fl(a.opacity,b.opacity);return function(b){return a.r=c(b),a.g=e(b),a.b=f(b),a.opacity=g(b),a+""}}return e.gamma=a,e}(1);function fn(a){return function(b){var c,d,e=b.length,f=Array(e),g=Array(e),h=Array(e);for(c=0;c<e;++c)d=e6(b[c]),f[c]=d.r||0,g[c]=d.g||0,h[c]=d.b||0;return f=a(f),g=a(g),h=a(h),d.opacity=1,function(a){return d.r=f(a),d.g=g(a),d.b=h(a),d+""}}}function fo(a,b){return a*=1,b*=1,function(c){return a*(1-c)+b*c}}fn(function(a){var b=a.length-1;return function(c){var d=c<=0?c=0:c>=1?(c=1,b-1):Math.floor(c*b),e=a[d],f=a[d+1],g=d>0?a[d-1]:2*e-f,h=d<b-1?a[d+2]:2*f-e;return fj((c-d/b)*b,g,e,f,h)}}),fn(function(a){var b=a.length;return function(c){var d=Math.floor(((c%=1)<0?++c:c)*b),e=a[(d+b-1)%b],f=a[d%b],g=a[(d+1)%b],h=a[(d+2)%b];return fj((c-d/b)*b,e,f,g,h)}});var fp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fq=RegExp(fp.source,"g");function fr(a,b){var c,d,e=typeof b;return null==b||"boolean"===e?fk(b):("number"===e?fo:"string"===e?(d=e3(b))?(b=d,fm):function(a,b){var c,d,e,f,g,h=fp.lastIndex=fq.lastIndex=0,i=-1,j=[],k=[];for(a+="",b+="";(e=fp.exec(a))&&(f=fq.exec(b));)(g=f.index)>h&&(g=b.slice(h,g),j[i]?j[i]+=g:j[++i]=g),(e=e[0])===(f=f[0])?j[i]?j[i]+=f:j[++i]=f:(j[++i]=null,k.push({i:i,x:fo(e,f)})),h=fq.lastIndex;return h<b.length&&(g=b.slice(h),j[i]?j[i]+=g:j[++i]=g),j.length<2?k[0]?(c=k[0].x,function(a){return c(a)+""}):(d=b,function(){return d}):(b=k.length,function(a){for(var c,d=0;d<b;++d)j[(c=k[d]).i]=c.x(a);return j.join("")})}:b instanceof e3?fm:b instanceof Date?function(a,b){var c=new Date;return a*=1,b*=1,function(d){return c.setTime(a*(1-d)+b*d),c}}:!ArrayBuffer.isView(c=b)||c instanceof DataView?Array.isArray(b)?function(a,b){var c,d=b?b.length:0,e=a?Math.min(d,a.length):0,f=Array(e),g=Array(d);for(c=0;c<e;++c)f[c]=fr(a[c],b[c]);for(;c<d;++c)g[c]=b[c];return function(a){for(c=0;c<e;++c)g[c]=f[c](a);return g}}:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?function(a,b){var c,d={},e={};for(c in(null===a||"object"!=typeof a)&&(a={}),(null===b||"object"!=typeof b)&&(b={}),b)c in a?d[c]=fr(a[c],b[c]):e[c]=b[c];return function(a){for(c in d)e[c]=d[c](a);return e}}:fo:function(a,b){b||(b=[]);var c,d=a?Math.min(b.length,a.length):0,e=b.slice();return function(f){for(c=0;c<d;++c)e[c]=a[c]*(1-f)+b[c]*f;return e}})(a,b)}function fs(a,b){return a*=1,b*=1,function(c){return Math.round(a*(1-c)+b*c)}}function ft(a){return+a}var fu=[0,1];function fv(a){return a}function fw(a,b){var c;return(b-=a*=1)?function(c){return(c-a)/b}:(c=isNaN(b)?NaN:.5,function(){return c})}function fx(a,b,c){var d=a[0],e=a[1],f=b[0],g=b[1];return e<d?(d=fw(e,d),f=c(g,f)):(d=fw(d,e),f=c(f,g)),function(a){return f(d(a))}}function fy(a,b,c){var d=Math.min(a.length,b.length)-1,e=Array(d),f=Array(d),g=-1;for(a[d]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++g<d;)e[g]=fw(a[g],a[g+1]),f[g]=c(b[g],b[g+1]);return function(b){var c=eO(a,b,1,d)-1;return f[c](e[c](b))}}function fz(a,b){return b.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp()).unknown(a.unknown())}function fA(){var a,b,c,d,e,f,g=fu,h=fu,i=fr,j=fv;function k(){var a,b,c,i=Math.min(g.length,h.length);return j!==fv&&(a=g[0],b=g[i-1],a>b&&(c=a,a=b,b=c),j=function(c){return Math.max(a,Math.min(b,c))}),d=i>2?fy:fx,e=f=null,l}function l(b){return null==b||isNaN(b*=1)?c:(e||(e=d(g.map(a),h,i)))(a(j(b)))}return l.invert=function(c){return j(b((f||(f=d(h,g.map(a),fo)))(c)))},l.domain=function(a){return arguments.length?(g=Array.from(a,ft),k()):g.slice()},l.range=function(a){return arguments.length?(h=Array.from(a),k()):h.slice()},l.rangeRound=function(a){return h=Array.from(a),i=fs,k()},l.clamp=function(a){return arguments.length?(j=!!a||fv,k()):j!==fv},l.interpolate=function(a){return arguments.length?(i=a,k()):i},l.unknown=function(a){return arguments.length?(c=a,l):c},function(c,d){return a=c,b=d,k()}}function fB(){return fA()(fv,fv)}var fC=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fD(a){var b;if(!(b=fC.exec(a)))throw Error("invalid format: "+a);return new fE({fill:b[1],align:b[2],sign:b[3],symbol:b[4],zero:b[5],width:b[6],comma:b[7],precision:b[8]&&b[8].slice(1),trim:b[9],type:b[10]})}function fE(a){this.fill=void 0===a.fill?" ":a.fill+"",this.align=void 0===a.align?">":a.align+"",this.sign=void 0===a.sign?"-":a.sign+"",this.symbol=void 0===a.symbol?"":a.symbol+"",this.zero=!!a.zero,this.width=void 0===a.width?void 0:+a.width,this.comma=!!a.comma,this.precision=void 0===a.precision?void 0:+a.precision,this.trim=!!a.trim,this.type=void 0===a.type?"":a.type+""}function fF(a,b){if(!isFinite(a)||0===a)return null;var c=(a=b?a.toExponential(b-1):a.toExponential()).indexOf("e"),d=a.slice(0,c);return[d.length>1?d[0]+d.slice(2):d,+a.slice(c+1)]}function fG(a){return(a=fF(Math.abs(a)))?a[1]:NaN}function fH(a,b){var c=fF(a,b);if(!c)return a+"";var d=c[0],e=c[1];return e<0?"0."+Array(-e).join("0")+d:d.length>e+1?d.slice(0,e+1)+"."+d.slice(e+1):d+Array(e-d.length+2).join("0")}fD.prototype=fE.prototype,fE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};let fI={"%":(a,b)=>(100*a).toFixed(b),b:a=>Math.round(a).toString(2),c:a=>a+"",d:function(a){return Math.abs(a=Math.round(a))>=1e21?a.toLocaleString("en").replace(/,/g,""):a.toString(10)},e:(a,b)=>a.toExponential(b),f:(a,b)=>a.toFixed(b),g:(a,b)=>a.toPrecision(b),o:a=>Math.round(a).toString(8),p:(a,b)=>fH(100*a,b),r:fH,s:function(a,b){var c=fF(a,b);if(!c)return h9=void 0,a.toPrecision(b);var d=c[0],e=c[1],f=e-(h9=3*Math.max(-8,Math.min(8,Math.floor(e/3))))+1,g=d.length;return f===g?d:f>g?d+Array(f-g+1).join("0"):f>0?d.slice(0,f)+"."+d.slice(f):"0."+Array(1-f).join("0")+fF(a,Math.max(0,b+f-1))[0]},X:a=>Math.round(a).toString(16).toUpperCase(),x:a=>Math.round(a).toString(16)};function fJ(a){return a}var fK=Array.prototype.map,fL=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function fM(a,b,c,d){var e,f,g=eH(a,b,c);switch((d=fD(null==d?",f":d)).type){case"s":var h=Math.max(Math.abs(a),Math.abs(b));return null!=d.precision||isNaN(f=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(fG(h)/3)))-fG(Math.abs(g))))||(d.precision=f),ic(d,h);case"":case"e":case"g":case"p":case"r":null!=d.precision||isNaN(f=Math.max(0,fG(Math.abs(Math.max(Math.abs(a),Math.abs(b)))-(e=Math.abs(e=g)))-fG(e))+1)||(d.precision=f-("e"===d.type));break;case"f":case"%":null!=d.precision||isNaN(f=Math.max(0,-fG(Math.abs(g))))||(d.precision=f-("%"===d.type)*2)}return ib(d)}function fN(a){var b=a.domain;return a.ticks=function(a){var c=b();return eF(c[0],c[c.length-1],null==a?10:a)},a.tickFormat=function(a,c){var d=b();return fM(d[0],d[d.length-1],null==a?10:a,c)},a.nice=function(c){null==c&&(c=10);var d,e,f=b(),g=0,h=f.length-1,i=f[g],j=f[h],k=10;for(j<i&&(e=i,i=j,j=e,e=g,g=h,h=e);k-- >0;){if((e=eG(i,j,c))===d)return f[g]=i,f[h]=j,b(f);if(e>0)i=Math.floor(i/e)*e,j=Math.ceil(j/e)*e;else if(e<0)i=Math.ceil(i*e)/e,j=Math.floor(j*e)/e;else break;d=e}return a},a}function fO(){var a=fB();return a.copy=function(){return fz(a,fO())},dW.apply(a,arguments),fN(a)}function fP(a,b){a=a.slice();var c,d=0,e=a.length-1,f=a[d],g=a[e];return g<f&&(c=d,d=e,e=c,c=f,f=g,g=c),a[d]=b.floor(f),a[e]=b.ceil(g),a}function fQ(a){return Math.log(a)}function fR(a){return Math.exp(a)}function fS(a){return-Math.log(-a)}function fT(a){return-Math.exp(-a)}function fU(a){return isFinite(a)?+("1e"+a):a<0?0:a}function fV(a){return(b,c)=>-a(-b,c)}function fW(a){let b,c,d=a(fQ,fR),e=d.domain,f=10;function g(){var g,h;return b=(g=f)===Math.E?Math.log:10===g&&Math.log10||2===g&&Math.log2||(g=Math.log(g),a=>Math.log(a)/g),c=10===(h=f)?fU:h===Math.E?Math.exp:a=>Math.pow(h,a),e()[0]<0?(b=fV(b),c=fV(c),a(fS,fT)):a(fQ,fR),d}return d.base=function(a){return arguments.length?(f=+a,g()):f},d.domain=function(a){return arguments.length?(e(a),g()):e()},d.ticks=a=>{let d,g,h=e(),i=h[0],j=h[h.length-1],k=j<i;k&&([i,j]=[j,i]);let l=b(i),m=b(j),n=null==a?10:+a,o=[];if(!(f%1)&&m-l<n){if(l=Math.floor(l),m=Math.ceil(m),i>0){for(;l<=m;++l)for(d=1;d<f;++d)if(!((g=l<0?d/c(-l):d*c(l))<i)){if(g>j)break;o.push(g)}}else for(;l<=m;++l)for(d=f-1;d>=1;--d)if(!((g=l>0?d/c(-l):d*c(l))<i)){if(g>j)break;o.push(g)}2*o.length<n&&(o=eF(i,j,n))}else o=eF(l,m,Math.min(m-l,n)).map(c);return k?o.reverse():o},d.tickFormat=(a,e)=>{if(null==a&&(a=10),null==e&&(e=10===f?"s":","),"function"!=typeof e&&(f%1||null!=(e=fD(e)).precision||(e.trim=!0),e=ib(e)),a===1/0)return e;let g=Math.max(1,f*a/d.ticks().length);return a=>{let d=a/c(Math.round(b(a)));return d*f<f-.5&&(d*=f),d<=g?e(a):""}},d.nice=()=>e(fP(e(),{floor:a=>c(Math.floor(b(a))),ceil:a=>c(Math.ceil(b(a)))})),d}function fX(a){return function(b){return Math.sign(b)*Math.log1p(Math.abs(b/a))}}function fY(a){return function(b){return Math.sign(b)*Math.expm1(Math.abs(b))*a}}function fZ(a){var b=1,c=a(fX(1),fY(b));return c.constant=function(c){return arguments.length?a(fX(b=+c),fY(b)):b},fN(c)}function f$(a){return function(b){return b<0?-Math.pow(-b,a):Math.pow(b,a)}}function f_(a){return a<0?-Math.sqrt(-a):Math.sqrt(a)}function f0(a){return a<0?-a*a:a*a}function f1(a){var b=a(fv,fv),c=1;return b.exponent=function(b){return arguments.length?1==(c=+b)?a(fv,fv):.5===c?a(f_,f0):a(f$(c),f$(1/c)):c},fN(b)}function f2(){var a=f1(fA());return a.copy=function(){return fz(a,f2()).exponent(a.exponent())},dW.apply(a,arguments),a}function f3(){return f2.apply(null,arguments).exponent(.5)}function f4(a){return Math.sign(a)*a*a}function f5(a,b){let c;if(void 0===b)for(let b of a)null!=b&&(c<b||void 0===c&&b>=b)&&(c=b);else{let d=-1;for(let e of a)null!=(e=b(e,++d,a))&&(c<e||void 0===c&&e>=e)&&(c=e)}return c}function f6(a,b){let c;if(void 0===b)for(let b of a)null!=b&&(c>b||void 0===c&&b>=b)&&(c=b);else{let d=-1;for(let e of a)null!=(e=b(e,++d,a))&&(c>e||void 0===c&&e>=e)&&(c=e)}return c}function f7(a,b){return(null==a||!(a>=a))-(null==b||!(b>=b))||(a<b?-1:+(a>b))}function f8(a,b,c){let d=a[b];a[b]=a[c],a[c]=d}ib=(ia=function(a){var b,c,d,e=void 0===a.grouping||void 0===a.thousands?fJ:(b=fK.call(a.grouping,Number),c=a.thousands+"",function(a,d){for(var e=a.length,f=[],g=0,h=b[0],i=0;e>0&&h>0&&(i+h+1>d&&(h=Math.max(1,d-i)),f.push(a.substring(e-=h,e+h)),!((i+=h+1)>d));)h=b[g=(g+1)%b.length];return f.reverse().join(c)}),f=void 0===a.currency?"":a.currency[0]+"",g=void 0===a.currency?"":a.currency[1]+"",h=void 0===a.decimal?".":a.decimal+"",i=void 0===a.numerals?fJ:(d=fK.call(a.numerals,String),function(a){return a.replace(/[0-9]/g,function(a){return d[+a]})}),j=void 0===a.percent?"%":a.percent+"",k=void 0===a.minus?"âˆ’":a.minus+"",l=void 0===a.nan?"NaN":a.nan+"";function m(a,b){var c=(a=fD(a)).fill,d=a.align,m=a.sign,n=a.symbol,o=a.zero,p=a.width,q=a.comma,r=a.precision,s=a.trim,t=a.type;"n"===t?(q=!0,t="g"):fI[t]||(void 0===r&&(r=12),s=!0,t="g"),(o||"0"===c&&"="===d)&&(o=!0,c="0",d="=");var u=(b&&void 0!==b.prefix?b.prefix:"")+("$"===n?f:"#"===n&&/[boxX]/.test(t)?"0"+t.toLowerCase():""),v=("$"===n?g:/[%p]/.test(t)?j:"")+(b&&void 0!==b.suffix?b.suffix:""),w=fI[t],x=/[defgprs%]/.test(t);function y(a){var b,f,g,j=u,n=v;if("c"===t)n=w(a)+n,a="";else{var y=(a*=1)<0||1/a<0;if(a=isNaN(a)?l:w(Math.abs(a),r),s&&(a=function(a){b:for(var b,c=a.length,d=1,e=-1;d<c;++d)switch(a[d]){case".":e=b=d;break;case"0":0===e&&(e=d),b=d;break;default:if(!+a[d])break b;e>0&&(e=0)}return e>0?a.slice(0,e)+a.slice(b+1):a}(a)),y&&0==+a&&"+"!==m&&(y=!1),j=(y?"("===m?m:k:"-"===m||"("===m?"":m)+j,n=("s"!==t||isNaN(a)||void 0===h9?"":fL[8+h9/3])+n+(y&&"("===m?")":""),x){for(b=-1,f=a.length;++b<f;)if(48>(g=a.charCodeAt(b))||g>57){n=(46===g?h+a.slice(b+1):a.slice(b))+n,a=a.slice(0,b);break}}}q&&!o&&(a=e(a,1/0));var z=j.length+a.length+n.length,A=z<p?Array(p-z+1).join(c):"";switch(q&&o&&(a=e(A+a,A.length?p-n.length:1/0),A=""),d){case"<":a=j+a+n+A;break;case"=":a=j+A+a+n;break;case"^":a=A.slice(0,z=A.length>>1)+j+a+n+A.slice(z);break;default:a=A+j+a+n}return i(a)}return r=void 0===r?6:/[gprs]/.test(t)?Math.max(1,Math.min(21,r)):Math.max(0,Math.min(20,r)),y.toString=function(){return a+""},y}return{format:m,formatPrefix:function(a,b){var c=3*Math.max(-8,Math.min(8,Math.floor(fG(b)/3))),d=Math.pow(10,-c),e=m(((a=fD(a)).type="f",a),{suffix:fL[8+c/3]});return function(a){return e(d*a)}}}}({thousands:",",grouping:[3],currency:["$",""]})).format,ic=ia.formatPrefix;let f9=new Date,ga=new Date;function gb(a,b,c,d){function e(b){return a(b=0==arguments.length?new Date:new Date(+b)),b}return e.floor=b=>(a(b=new Date(+b)),b),e.ceil=c=>(a(c=new Date(c-1)),b(c,1),a(c),c),e.round=a=>{let b=e(a),c=e.ceil(a);return a-b<c-a?b:c},e.offset=(a,c)=>(b(a=new Date(+a),null==c?1:Math.floor(c)),a),e.range=(c,d,f)=>{let g,h=[];if(c=e.ceil(c),f=null==f?1:Math.floor(f),!(c<d)||!(f>0))return h;do h.push(g=new Date(+c)),b(c,f),a(c);while(g<c&&c<d);return h},e.filter=c=>gb(b=>{if(b>=b)for(;a(b),!c(b);)b.setTime(b-1)},(a,d)=>{if(a>=a)if(d<0)for(;++d<=0;)for(;b(a,-1),!c(a););else for(;--d>=0;)for(;b(a,1),!c(a););}),c&&(e.count=(b,d)=>(f9.setTime(+b),ga.setTime(+d),a(f9),a(ga),Math.floor(c(f9,ga))),e.every=a=>isFinite(a=Math.floor(a))&&a>0?a>1?e.filter(d?b=>d(b)%a==0:b=>e.count(0,b)%a==0):e:null),e}let gc=gb(()=>{},(a,b)=>{a.setTime(+a+b)},(a,b)=>b-a);gc.every=a=>isFinite(a=Math.floor(a))&&a>0?a>1?gb(b=>{b.setTime(Math.floor(b/a)*a)},(b,c)=>{b.setTime(+b+c*a)},(b,c)=>(c-b)/a):gc:null,gc.range;let gd=gb(a=>{a.setTime(a-a.getMilliseconds())},(a,b)=>{a.setTime(+a+1e3*b)},(a,b)=>(b-a)/1e3,a=>a.getUTCSeconds());gd.range;let ge=gb(a=>{a.setTime(a-a.getMilliseconds()-1e3*a.getSeconds())},(a,b)=>{a.setTime(+a+6e4*b)},(a,b)=>(b-a)/6e4,a=>a.getMinutes());ge.range;let gf=gb(a=>{a.setUTCSeconds(0,0)},(a,b)=>{a.setTime(+a+6e4*b)},(a,b)=>(b-a)/6e4,a=>a.getUTCMinutes());gf.range;let gg=gb(a=>{a.setTime(a-a.getMilliseconds()-1e3*a.getSeconds()-6e4*a.getMinutes())},(a,b)=>{a.setTime(+a+36e5*b)},(a,b)=>(b-a)/36e5,a=>a.getHours());gg.range;let gh=gb(a=>{a.setUTCMinutes(0,0,0)},(a,b)=>{a.setTime(+a+36e5*b)},(a,b)=>(b-a)/36e5,a=>a.getUTCHours());gh.range;let gi=gb(a=>a.setHours(0,0,0,0),(a,b)=>a.setDate(a.getDate()+b),(a,b)=>(b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*6e4)/864e5,a=>a.getDate()-1);gi.range;let gj=gb(a=>{a.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCDate(a.getUTCDate()+b)},(a,b)=>(b-a)/864e5,a=>a.getUTCDate()-1);gj.range;let gk=gb(a=>{a.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCDate(a.getUTCDate()+b)},(a,b)=>(b-a)/864e5,a=>Math.floor(a/864e5));function gl(a){return gb(b=>{b.setDate(b.getDate()-(b.getDay()+7-a)%7),b.setHours(0,0,0,0)},(a,b)=>{a.setDate(a.getDate()+7*b)},(a,b)=>(b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*6e4)/6048e5)}gk.range;let gm=gl(0),gn=gl(1),go=gl(2),gp=gl(3),gq=gl(4),gr=gl(5),gs=gl(6);function gt(a){return gb(b=>{b.setUTCDate(b.getUTCDate()-(b.getUTCDay()+7-a)%7),b.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCDate(a.getUTCDate()+7*b)},(a,b)=>(b-a)/6048e5)}gm.range,gn.range,go.range,gp.range,gq.range,gr.range,gs.range;let gu=gt(0),gv=gt(1),gw=gt(2),gx=gt(3),gy=gt(4),gz=gt(5),gA=gt(6);gu.range,gv.range,gw.range,gx.range,gy.range,gz.range,gA.range;let gB=gb(a=>{a.setDate(1),a.setHours(0,0,0,0)},(a,b)=>{a.setMonth(a.getMonth()+b)},(a,b)=>b.getMonth()-a.getMonth()+(b.getFullYear()-a.getFullYear())*12,a=>a.getMonth());gB.range;let gC=gb(a=>{a.setUTCDate(1),a.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCMonth(a.getUTCMonth()+b)},(a,b)=>b.getUTCMonth()-a.getUTCMonth()+(b.getUTCFullYear()-a.getUTCFullYear())*12,a=>a.getUTCMonth());gC.range;let gD=gb(a=>{a.setMonth(0,1),a.setHours(0,0,0,0)},(a,b)=>{a.setFullYear(a.getFullYear()+b)},(a,b)=>b.getFullYear()-a.getFullYear(),a=>a.getFullYear());gD.every=a=>isFinite(a=Math.floor(a))&&a>0?gb(b=>{b.setFullYear(Math.floor(b.getFullYear()/a)*a),b.setMonth(0,1),b.setHours(0,0,0,0)},(b,c)=>{b.setFullYear(b.getFullYear()+c*a)}):null,gD.range;let gE=gb(a=>{a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCFullYear(a.getUTCFullYear()+b)},(a,b)=>b.getUTCFullYear()-a.getUTCFullYear(),a=>a.getUTCFullYear());function gF(a,b,c,d,e,f){let g=[[gd,1,1e3],[gd,5,5e3],[gd,15,15e3],[gd,30,3e4],[f,1,6e4],[f,5,3e5],[f,15,9e5],[f,30,18e5],[e,1,36e5],[e,3,108e5],[e,6,216e5],[e,12,432e5],[d,1,864e5],[d,2,1728e5],[c,1,6048e5],[b,1,2592e6],[b,3,7776e6],[a,1,31536e6]];function h(b,c,d){let e=Math.abs(c-b)/d,f=eK(([,,a])=>a).right(g,e);if(f===g.length)return a.every(eH(b/31536e6,c/31536e6,d));if(0===f)return gc.every(Math.max(eH(b,c,d),1));let[h,i]=g[e/g[f-1][2]<g[f][2]/e?f-1:f];return h.every(i)}return[function(a,b,c){let d=b<a;d&&([a,b]=[b,a]);let e=c&&"function"==typeof c.range?c:h(a,b,c),f=e?e.range(a,+b+1):[];return d?f.reverse():f},h]}gE.every=a=>isFinite(a=Math.floor(a))&&a>0?gb(b=>{b.setUTCFullYear(Math.floor(b.getUTCFullYear()/a)*a),b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},(b,c)=>{b.setUTCFullYear(b.getUTCFullYear()+c*a)}):null,gE.range;let[gG,gH]=gF(gE,gC,gu,gk,gh,gf),[gI,gJ]=gF(gD,gB,gm,gi,gg,ge);function gK(a){if(0<=a.y&&a.y<100){var b=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);return b.setFullYear(a.y),b}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function gL(a){if(0<=a.y&&a.y<100){var b=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));return b.setUTCFullYear(a.y),b}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function gM(a,b,c){return{y:a,m:b,d:c,H:0,M:0,S:0,L:0}}var gN={"-":"",_:" ",0:"0"},gO=/^\s*\d+/,gP=/^%/,gQ=/[\\^$*+?|[\]().{}]/g;function gR(a,b,c){var d=a<0?"-":"",e=(d?-a:a)+"",f=e.length;return d+(f<c?Array(c-f+1).join(b)+e:e)}function gS(a){return a.replace(gQ,"\\$&")}function gT(a){return RegExp("^(?:"+a.map(gS).join("|")+")","i")}function gU(a){return new Map(a.map((a,b)=>[a.toLowerCase(),b]))}function gV(a,b,c){var d=gO.exec(b.slice(c,c+1));return d?(a.w=+d[0],c+d[0].length):-1}function gW(a,b,c){var d=gO.exec(b.slice(c,c+1));return d?(a.u=+d[0],c+d[0].length):-1}function gX(a,b,c){var d=gO.exec(b.slice(c,c+2));return d?(a.U=+d[0],c+d[0].length):-1}function gY(a,b,c){var d=gO.exec(b.slice(c,c+2));return d?(a.V=+d[0],c+d[0].length):-1}function gZ(a,b,c){var d=gO.exec(b.slice(c,c+2));return d?(a.W=+d[0],c+d[0].length):-1}function g$(a,b,c){var d=gO.exec(b.slice(c,c+4));return d?(a.y=+d[0],c+d[0].length):-1}function g_(a,b,c){var d=gO.exec(b.slice(c,c+2));return d?(a.y=+d[0]+(+d[0]>68?1900:2e3),c+d[0].length):-1}function g0(a,b,c){var d=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(b.slice(c,c+6));return d?(a.Z=d[1]?0:-(d[2]+(d[3]||"00")),c+d[0].length):-1}function g1(a,b,c){var d=gO.exec(b.slice(c,c+1));return d?(a.q=3*d[0]-3,c+d[0].length):-1}function g2(a,b,c){var d=gO.exec(b.slice(c,c+2));return d?(a.m=d[0]-1,c+d[0].length):-1}function g3(a,b,c){var d=gO.exec(b.slice(c,c+2));return d?(a.d=+d[0],c+d[0].length):-1}function g4(a,b,c){var d=gO.exec(b.slice(c,c+3));return d?(a.m=0,a.d=+d[0],c+d[0].length):-1}function g5(a,b,c){var d=gO.exec(b.slice(c,c+2));return d?(a.H=+d[0],c+d[0].length):-1}function g6(a,b,c){var d=gO.exec(b.slice(c,c+2));return d?(a.M=+d[0],c+d[0].length):-1}function g7(a,b,c){var d=gO.exec(b.slice(c,c+2));return d?(a.S=+d[0],c+d[0].length):-1}function g8(a,b,c){var d=gO.exec(b.slice(c,c+3));return d?(a.L=+d[0],c+d[0].length):-1}function g9(a,b,c){var d=gO.exec(b.slice(c,c+6));return d?(a.L=Math.floor(d[0]/1e3),c+d[0].length):-1}function ha(a,b,c){var d=gP.exec(b.slice(c,c+1));return d?c+d[0].length:-1}function hb(a,b,c){var d=gO.exec(b.slice(c));return d?(a.Q=+d[0],c+d[0].length):-1}function hc(a,b,c){var d=gO.exec(b.slice(c));return d?(a.s=+d[0],c+d[0].length):-1}function hd(a,b){return gR(a.getDate(),b,2)}function he(a,b){return gR(a.getHours(),b,2)}function hf(a,b){return gR(a.getHours()%12||12,b,2)}function hg(a,b){return gR(1+gi.count(gD(a),a),b,3)}function hh(a,b){return gR(a.getMilliseconds(),b,3)}function hi(a,b){return hh(a,b)+"000"}function hj(a,b){return gR(a.getMonth()+1,b,2)}function hk(a,b){return gR(a.getMinutes(),b,2)}function hl(a,b){return gR(a.getSeconds(),b,2)}function hm(a){var b=a.getDay();return 0===b?7:b}function hn(a,b){return gR(gm.count(gD(a)-1,a),b,2)}function ho(a){var b=a.getDay();return b>=4||0===b?gq(a):gq.ceil(a)}function hp(a,b){return a=ho(a),gR(gq.count(gD(a),a)+(4===gD(a).getDay()),b,2)}function hq(a){return a.getDay()}function hr(a,b){return gR(gn.count(gD(a)-1,a),b,2)}function hs(a,b){return gR(a.getFullYear()%100,b,2)}function ht(a,b){return gR((a=ho(a)).getFullYear()%100,b,2)}function hu(a,b){return gR(a.getFullYear()%1e4,b,4)}function hv(a,b){var c=a.getDay();return gR((a=c>=4||0===c?gq(a):gq.ceil(a)).getFullYear()%1e4,b,4)}function hw(a){var b=a.getTimezoneOffset();return(b>0?"-":(b*=-1,"+"))+gR(b/60|0,"0",2)+gR(b%60,"0",2)}function hx(a,b){return gR(a.getUTCDate(),b,2)}function hy(a,b){return gR(a.getUTCHours(),b,2)}function hz(a,b){return gR(a.getUTCHours()%12||12,b,2)}function hA(a,b){return gR(1+gj.count(gE(a),a),b,3)}function hB(a,b){return gR(a.getUTCMilliseconds(),b,3)}function hC(a,b){return hB(a,b)+"000"}function hD(a,b){return gR(a.getUTCMonth()+1,b,2)}function hE(a,b){return gR(a.getUTCMinutes(),b,2)}function hF(a,b){return gR(a.getUTCSeconds(),b,2)}function hG(a){var b=a.getUTCDay();return 0===b?7:b}function hH(a,b){return gR(gu.count(gE(a)-1,a),b,2)}function hI(a){var b=a.getUTCDay();return b>=4||0===b?gy(a):gy.ceil(a)}function hJ(a,b){return a=hI(a),gR(gy.count(gE(a),a)+(4===gE(a).getUTCDay()),b,2)}function hK(a){return a.getUTCDay()}function hL(a,b){return gR(gv.count(gE(a)-1,a),b,2)}function hM(a,b){return gR(a.getUTCFullYear()%100,b,2)}function hN(a,b){return gR((a=hI(a)).getUTCFullYear()%100,b,2)}function hO(a,b){return gR(a.getUTCFullYear()%1e4,b,4)}function hP(a,b){var c=a.getUTCDay();return gR((a=c>=4||0===c?gy(a):gy.ceil(a)).getUTCFullYear()%1e4,b,4)}function hQ(){return"+0000"}function hR(){return"%"}function hS(a){return+a}function hT(a){return Math.floor(a/1e3)}function hU(a){return new Date(a)}function hV(a){return a instanceof Date?+a:+new Date(+a)}function hW(a,b,c,d,e,f,g,h,i,j){var k=fB(),l=k.invert,m=k.domain,n=j(".%L"),o=j(":%S"),p=j("%I:%M"),q=j("%I %p"),r=j("%a %d"),s=j("%b %d"),t=j("%B"),u=j("%Y");function v(a){return(i(a)<a?n:h(a)<a?o:g(a)<a?p:f(a)<a?q:d(a)<a?e(a)<a?r:s:c(a)<a?t:u)(a)}return k.invert=function(a){return new Date(l(a))},k.domain=function(a){return arguments.length?m(Array.from(a,hV)):m().map(hU)},k.ticks=function(b){var c=m();return a(c[0],c[c.length-1],null==b?10:b)},k.tickFormat=function(a,b){return null==b?v:j(b)},k.nice=function(a){var c=m();return a&&"function"==typeof a.range||(a=b(c[0],c[c.length-1],null==a?10:a)),a?m(fP(c,a)):k},k.copy=function(){return fz(k,hW(a,b,c,d,e,f,g,h,i,j))},k}function hX(){return dW.apply(hW(gI,gJ,gD,gB,gm,gi,gg,ge,gd,ie).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function hY(){return dW.apply(hW(gG,gH,gE,gC,gu,gj,gh,gf,gd,ig).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hZ(){var a,b,c,d,e,f=0,g=1,h=fv,i=!1;function j(b){return null==b||isNaN(b*=1)?e:h(0===c?.5:(b=(d(b)-a)*c,i?Math.max(0,Math.min(1,b)):b))}function k(a){return function(b){var c,d;return arguments.length?([c,d]=b,h=a(c,d),j):[h(0),h(1)]}}return j.domain=function(e){return arguments.length?([f,g]=e,a=d(f*=1),b=d(g*=1),c=a===b?0:1/(b-a),j):[f,g]},j.clamp=function(a){return arguments.length?(i=!!a,j):i},j.interpolator=function(a){return arguments.length?(h=a,j):h},j.range=k(fr),j.rangeRound=k(fs),j.unknown=function(a){return arguments.length?(e=a,j):e},function(e){return d=e,a=e(f),b=e(g),c=a===b?0:1/(b-a),j}}function h$(a,b){return b.domain(a.domain()).interpolator(a.interpolator()).clamp(a.clamp()).unknown(a.unknown())}function h_(){var a=f1(hZ());return a.copy=function(){return h$(a,h_()).exponent(a.exponent())},dX.apply(a,arguments)}function h0(){return h_.apply(null,arguments).exponent(.5)}function h1(){var a,b,c,d,e,f,g,h=0,i=.5,j=1,k=1,l=fv,m=!1;function n(a){return isNaN(a*=1)?g:(a=.5+((a=+f(a))-b)*(k*a<k*b?d:e),l(m?Math.max(0,Math.min(1,a)):a))}function o(a){return function(b){var c,d,e;return arguments.length?([c,d,e]=b,l=function(a,b){void 0===b&&(b=a,a=fr);for(var c=0,d=b.length-1,e=b[0],f=Array(d<0?0:d);c<d;)f[c]=a(e,e=b[++c]);return function(a){var b=Math.max(0,Math.min(d-1,Math.floor(a*=d)));return f[b](a-b)}}(a,[c,d,e]),n):[l(0),l(.5),l(1)]}}return n.domain=function(g){return arguments.length?([h,i,j]=g,a=f(h*=1),b=f(i*=1),c=f(j*=1),d=a===b?0:.5/(b-a),e=b===c?0:.5/(c-b),k=b<a?-1:1,n):[h,i,j]},n.clamp=function(a){return arguments.length?(m=!!a,n):m},n.interpolator=function(a){return arguments.length?(l=a,n):l},n.range=o(fr),n.rangeRound=o(fs),n.unknown=function(a){return arguments.length?(g=a,n):g},function(g){return f=g,a=g(h),b=g(i),c=g(j),d=a===b?0:.5/(b-a),e=b===c?0:.5/(c-b),k=b<a?-1:1,n}}function h2(){var a=f1(h1());return a.copy=function(){return h$(a,h2()).exponent(a.exponent())},dX.apply(a,arguments)}function h3(){return h2.apply(null,arguments).exponent(.5)}function h4(a,b){if((e=a.length)>1)for(var c,d,e,f=1,g=a[b[0]],h=g.length;f<e;++f)for(d=g,g=a[b[f]],c=0;c<h;++c)g[c][1]+=g[c][0]=isNaN(d[c][1])?d[c][0]:d[c][1]}function h5(a){return"object"==typeof a&&"length"in a?a:Array.from(a)}function h6(a){for(var b=a.length,c=Array(b);--b>=0;)c[b]=b;return c}function h7(a,b){return a[b]}function h8(a){let b=[];return b.key=a,b}ie=(id=function(a){var b=a.dateTime,c=a.date,d=a.time,e=a.periods,f=a.days,g=a.shortDays,h=a.months,i=a.shortMonths,j=gT(e),k=gU(e),l=gT(f),m=gU(f),n=gT(g),o=gU(g),p=gT(h),q=gU(h),r=gT(i),s=gU(i),t={a:function(a){return g[a.getDay()]},A:function(a){return f[a.getDay()]},b:function(a){return i[a.getMonth()]},B:function(a){return h[a.getMonth()]},c:null,d:hd,e:hd,f:hi,g:ht,G:hv,H:he,I:hf,j:hg,L:hh,m:hj,M:hk,p:function(a){return e[+(a.getHours()>=12)]},q:function(a){return 1+~~(a.getMonth()/3)},Q:hS,s:hT,S:hl,u:hm,U:hn,V:hp,w:hq,W:hr,x:null,X:null,y:hs,Y:hu,Z:hw,"%":hR},u={a:function(a){return g[a.getUTCDay()]},A:function(a){return f[a.getUTCDay()]},b:function(a){return i[a.getUTCMonth()]},B:function(a){return h[a.getUTCMonth()]},c:null,d:hx,e:hx,f:hC,g:hN,G:hP,H:hy,I:hz,j:hA,L:hB,m:hD,M:hE,p:function(a){return e[+(a.getUTCHours()>=12)]},q:function(a){return 1+~~(a.getUTCMonth()/3)},Q:hS,s:hT,S:hF,u:hG,U:hH,V:hJ,w:hK,W:hL,x:null,X:null,y:hM,Y:hO,Z:hQ,"%":hR},v={a:function(a,b,c){var d=n.exec(b.slice(c));return d?(a.w=o.get(d[0].toLowerCase()),c+d[0].length):-1},A:function(a,b,c){var d=l.exec(b.slice(c));return d?(a.w=m.get(d[0].toLowerCase()),c+d[0].length):-1},b:function(a,b,c){var d=r.exec(b.slice(c));return d?(a.m=s.get(d[0].toLowerCase()),c+d[0].length):-1},B:function(a,b,c){var d=p.exec(b.slice(c));return d?(a.m=q.get(d[0].toLowerCase()),c+d[0].length):-1},c:function(a,c,d){return y(a,b,c,d)},d:g3,e:g3,f:g9,g:g_,G:g$,H:g5,I:g5,j:g4,L:g8,m:g2,M:g6,p:function(a,b,c){var d=j.exec(b.slice(c));return d?(a.p=k.get(d[0].toLowerCase()),c+d[0].length):-1},q:g1,Q:hb,s:hc,S:g7,u:gW,U:gX,V:gY,w:gV,W:gZ,x:function(a,b,d){return y(a,c,b,d)},X:function(a,b,c){return y(a,d,b,c)},y:g_,Y:g$,Z:g0,"%":ha};function w(a,b){return function(c){var d,e,f,g=[],h=-1,i=0,j=a.length;for(c instanceof Date||(c=new Date(+c));++h<j;)37===a.charCodeAt(h)&&(g.push(a.slice(i,h)),null!=(e=gN[d=a.charAt(++h)])?d=a.charAt(++h):e="e"===d?" ":"0",(f=b[d])&&(d=f(c,e)),g.push(d),i=h+1);return g.push(a.slice(i,h)),g.join("")}}function x(a,b){return function(c){var d,e,f=gM(1900,void 0,1);if(y(f,a,c+="",0)!=c.length)return null;if("Q"in f)return new Date(f.Q);if("s"in f)return new Date(1e3*f.s+("L"in f?f.L:0));if(!b||"Z"in f||(f.Z=0),"p"in f&&(f.H=f.H%12+12*f.p),void 0===f.m&&(f.m="q"in f?f.q:0),"V"in f){if(f.V<1||f.V>53)return null;"w"in f||(f.w=1),"Z"in f?(d=(e=(d=gL(gM(f.y,0,1))).getUTCDay())>4||0===e?gv.ceil(d):gv(d),d=gj.offset(d,(f.V-1)*7),f.y=d.getUTCFullYear(),f.m=d.getUTCMonth(),f.d=d.getUTCDate()+(f.w+6)%7):(d=(e=(d=gK(gM(f.y,0,1))).getDay())>4||0===e?gn.ceil(d):gn(d),d=gi.offset(d,(f.V-1)*7),f.y=d.getFullYear(),f.m=d.getMonth(),f.d=d.getDate()+(f.w+6)%7)}else("W"in f||"U"in f)&&("w"in f||(f.w="u"in f?f.u%7:+("W"in f)),e="Z"in f?gL(gM(f.y,0,1)).getUTCDay():gK(gM(f.y,0,1)).getDay(),f.m=0,f.d="W"in f?(f.w+6)%7+7*f.W-(e+5)%7:f.w+7*f.U-(e+6)%7);return"Z"in f?(f.H+=f.Z/100|0,f.M+=f.Z%100,gL(f)):gK(f)}}function y(a,b,c,d){for(var e,f,g=0,h=b.length,i=c.length;g<h;){if(d>=i)return -1;if(37===(e=b.charCodeAt(g++))){if(!(f=v[(e=b.charAt(g++))in gN?b.charAt(g++):e])||(d=f(a,c,d))<0)return -1}else if(e!=c.charCodeAt(d++))return -1}return d}return t.x=w(c,t),t.X=w(d,t),t.c=w(b,t),u.x=w(c,u),u.X=w(d,u),u.c=w(b,u),{format:function(a){var b=w(a+="",t);return b.toString=function(){return a},b},parse:function(a){var b=x(a+="",!1);return b.toString=function(){return a},b},utcFormat:function(a){var b=w(a+="",u);return b.toString=function(){return a},b},utcParse:function(a){var b=x(a+="",!0);return b.toString=function(){return a},b}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,id.parse,ig=id.utcFormat,id.utcParse,Array.prototype.slice;var h9,ia,ib,ic,id,ie,ig,ih,ii,ij=c(57750),ik=c.n(ij),il=c(30940),im=c.n(il),io=c(1375),ip=c.n(io),iq=c(57820),ir=c.n(iq),is=!0,it="[DecimalError] ",iu=it+"Invalid argument: ",iv=it+"Exponent out of range: ",iw=Math.floor,ix=Math.pow,iy=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,iz=iw(1286742750677284.5),iA={};function iB(a,b){var c,d,e,f,g,h,i,j,k=a.constructor,l=k.precision;if(!a.s||!b.s)return b.s||(b=new k(a)),is?iL(b,l):b;if(i=a.d,j=b.d,g=a.e,e=b.e,i=i.slice(),f=g-e){for(f<0?(d=i,f=-f,h=j.length):(d=j,e=g,h=i.length),f>(h=(g=Math.ceil(l/7))>h?g+1:h+1)&&(f=h,d.length=1),d.reverse();f--;)d.push(0);d.reverse()}for((h=i.length)-(f=j.length)<0&&(f=h,d=j,j=i,i=d),c=0;f;)c=(i[--f]=i[f]+j[f]+c)/1e7|0,i[f]%=1e7;for(c&&(i.unshift(c),++e),h=i.length;0==i[--h];)i.pop();return b.d=i,b.e=e,is?iL(b,l):b}function iC(a,b,c){if(a!==~~a||a<b||a>c)throw Error(iu+a)}function iD(a){var b,c,d,e=a.length-1,f="",g=a[0];if(e>0){for(f+=g,b=1;b<e;b++)(c=7-(d=a[b]+"").length)&&(f+=iI(c)),f+=d;(c=7-(d=(g=a[b])+"").length)&&(f+=iI(c))}else if(0===g)return"0";for(;g%10==0;)g/=10;return f+g}iA.absoluteValue=iA.abs=function(){var a=new this.constructor(this);return a.s&&(a.s=1),a},iA.comparedTo=iA.cmp=function(a){var b,c,d,e;if(a=new this.constructor(a),this.s!==a.s)return this.s||-a.s;if(this.e!==a.e)return this.e>a.e^this.s<0?1:-1;for(b=0,c=(d=this.d.length)<(e=a.d.length)?d:e;b<c;++b)if(this.d[b]!==a.d[b])return this.d[b]>a.d[b]^this.s<0?1:-1;return d===e?0:d>e^this.s<0?1:-1},iA.decimalPlaces=iA.dp=function(){var a=this.d.length-1,b=(a-this.e)*7;if(a=this.d[a])for(;a%10==0;a/=10)b--;return b<0?0:b},iA.dividedBy=iA.div=function(a){return iE(this,new this.constructor(a))},iA.dividedToIntegerBy=iA.idiv=function(a){var b=this.constructor;return iL(iE(this,new b(a),0,1),b.precision)},iA.equals=iA.eq=function(a){return!this.cmp(a)},iA.exponent=function(){return iG(this)},iA.greaterThan=iA.gt=function(a){return this.cmp(a)>0},iA.greaterThanOrEqualTo=iA.gte=function(a){return this.cmp(a)>=0},iA.isInteger=iA.isint=function(){return this.e>this.d.length-2},iA.isNegative=iA.isneg=function(){return this.s<0},iA.isPositive=iA.ispos=function(){return this.s>0},iA.isZero=function(){return 0===this.s},iA.lessThan=iA.lt=function(a){return 0>this.cmp(a)},iA.lessThanOrEqualTo=iA.lte=function(a){return 1>this.cmp(a)},iA.logarithm=iA.log=function(a){var b,c=this.constructor,d=c.precision,e=d+5;if(void 0===a)a=new c(10);else if((a=new c(a)).s<1||a.eq(ii))throw Error(it+"NaN");if(this.s<1)throw Error(it+(this.s?"NaN":"-Infinity"));return this.eq(ii)?new c(0):(is=!1,b=iE(iJ(this,e),iJ(a,e),e),is=!0,iL(b,d))},iA.minus=iA.sub=function(a){return a=new this.constructor(a),this.s==a.s?iM(this,a):iB(this,(a.s=-a.s,a))},iA.modulo=iA.mod=function(a){var b,c=this.constructor,d=c.precision;if(!(a=new c(a)).s)throw Error(it+"NaN");return this.s?(is=!1,b=iE(this,a,0,1).times(a),is=!0,this.minus(b)):iL(new c(this),d)},iA.naturalExponential=iA.exp=function(){return iF(this)},iA.naturalLogarithm=iA.ln=function(){return iJ(this)},iA.negated=iA.neg=function(){var a=new this.constructor(this);return a.s=-a.s||0,a},iA.plus=iA.add=function(a){return a=new this.constructor(a),this.s==a.s?iB(this,a):iM(this,(a.s=-a.s,a))},iA.precision=iA.sd=function(a){var b,c,d;if(void 0!==a&&!!a!==a&&1!==a&&0!==a)throw Error(iu+a);if(b=iG(this)+1,c=7*(d=this.d.length-1)+1,d=this.d[d]){for(;d%10==0;d/=10)c--;for(d=this.d[0];d>=10;d/=10)c++}return a&&b>c?b:c},iA.squareRoot=iA.sqrt=function(){var a,b,c,d,e,f,g,h=this.constructor;if(this.s<1){if(!this.s)return new h(0);throw Error(it+"NaN")}for(a=iG(this),is=!1,0==(e=Math.sqrt(+this))||e==1/0?(((b=iD(this.d)).length+a)%2==0&&(b+="0"),e=Math.sqrt(b),a=iw((a+1)/2)-(a<0||a%2),d=new h(b=e==1/0?"5e"+a:(b=e.toExponential()).slice(0,b.indexOf("e")+1)+a)):d=new h(e.toString()),e=g=(c=h.precision)+3;;)if(d=(f=d).plus(iE(this,f,g+2)).times(.5),iD(f.d).slice(0,g)===(b=iD(d.d)).slice(0,g)){if(b=b.slice(g-3,g+1),e==g&&"4999"==b){if(iL(f,c+1,0),f.times(f).eq(this)){d=f;break}}else if("9999"!=b)break;g+=4}return is=!0,iL(d,c)},iA.times=iA.mul=function(a){var b,c,d,e,f,g,h,i,j,k=this.constructor,l=this.d,m=(a=new k(a)).d;if(!this.s||!a.s)return new k(0);for(a.s*=this.s,c=this.e+a.e,(i=l.length)<(j=m.length)&&(f=l,l=m,m=f,g=i,i=j,j=g),f=[],d=g=i+j;d--;)f.push(0);for(d=j;--d>=0;){for(b=0,e=i+d;e>d;)h=f[e]+m[d]*l[e-d-1]+b,f[e--]=h%1e7|0,b=h/1e7|0;f[e]=(f[e]+b)%1e7|0}for(;!f[--g];)f.pop();return b?++c:f.shift(),a.d=f,a.e=c,is?iL(a,k.precision):a},iA.toDecimalPlaces=iA.todp=function(a,b){var c=this,d=c.constructor;return(c=new d(c),void 0===a)?c:(iC(a,0,1e9),void 0===b?b=d.rounding:iC(b,0,8),iL(c,a+iG(c)+1,b))},iA.toExponential=function(a,b){var c,d=this,e=d.constructor;return void 0===a?c=iN(d,!0):(iC(a,0,1e9),void 0===b?b=e.rounding:iC(b,0,8),c=iN(d=iL(new e(d),a+1,b),!0,a+1)),c},iA.toFixed=function(a,b){var c,d,e=this.constructor;return void 0===a?iN(this):(iC(a,0,1e9),void 0===b?b=e.rounding:iC(b,0,8),c=iN((d=iL(new e(this),a+iG(this)+1,b)).abs(),!1,a+iG(d)+1),this.isneg()&&!this.isZero()?"-"+c:c)},iA.toInteger=iA.toint=function(){var a=this.constructor;return iL(new a(this),iG(this)+1,a.rounding)},iA.toNumber=function(){return+this},iA.toPower=iA.pow=function(a){var b,c,d,e,f,g,h=this,i=h.constructor,j=+(a=new i(a));if(!a.s)return new i(ii);if(!(h=new i(h)).s){if(a.s<1)throw Error(it+"Infinity");return h}if(h.eq(ii))return h;if(d=i.precision,a.eq(ii))return iL(h,d);if(g=(b=a.e)>=(c=a.d.length-1),f=h.s,g){if((c=j<0?-j:j)<=0x1fffffffffffff){for(e=new i(ii),b=Math.ceil(d/7+4),is=!1;c%2&&iO((e=e.times(h)).d,b),0!==(c=iw(c/2));)iO((h=h.times(h)).d,b);return is=!0,a.s<0?new i(ii).div(e):iL(e,d)}}else if(f<0)throw Error(it+"NaN");return f=f<0&&1&a.d[Math.max(b,c)]?-1:1,h.s=1,is=!1,e=a.times(iJ(h,d+12)),is=!0,(e=iF(e)).s=f,e},iA.toPrecision=function(a,b){var c,d,e=this,f=e.constructor;return void 0===a?(c=iG(e),d=iN(e,c<=f.toExpNeg||c>=f.toExpPos)):(iC(a,1,1e9),void 0===b?b=f.rounding:iC(b,0,8),c=iG(e=iL(new f(e),a,b)),d=iN(e,a<=c||c<=f.toExpNeg,a)),d},iA.toSignificantDigits=iA.tosd=function(a,b){var c=this.constructor;return void 0===a?(a=c.precision,b=c.rounding):(iC(a,1,1e9),void 0===b?b=c.rounding:iC(b,0,8)),iL(new c(this),a,b)},iA.toString=iA.valueOf=iA.val=iA.toJSON=iA[Symbol.for("nodejs.util.inspect.custom")]=function(){var a=iG(this),b=this.constructor;return iN(this,a<=b.toExpNeg||a>=b.toExpPos)};var iE=function(){function a(a,b){var c,d=0,e=a.length;for(a=a.slice();e--;)c=a[e]*b+d,a[e]=c%1e7|0,d=c/1e7|0;return d&&a.unshift(d),a}function b(a,b,c,d){var e,f;if(c!=d)f=c>d?1:-1;else for(e=f=0;e<c;e++)if(a[e]!=b[e]){f=a[e]>b[e]?1:-1;break}return f}function c(a,b,c){for(var d=0;c--;)a[c]-=d,d=+(a[c]<b[c]),a[c]=1e7*d+a[c]-b[c];for(;!a[0]&&a.length>1;)a.shift()}return function(d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z=d.constructor,A=d.s==e.s?1:-1,B=d.d,C=e.d;if(!d.s)return new z(d);if(!e.s)throw Error(it+"Division by zero");for(j=0,i=d.e-e.e,x=C.length,v=B.length,o=(n=new z(A)).d=[];C[j]==(B[j]||0);)++j;if(C[j]>(B[j]||0)&&--i,(s=null==f?f=z.precision:g?f+(iG(d)-iG(e))+1:f)<0)return new z(0);if(s=s/7+2|0,j=0,1==x)for(k=0,C=C[0],s++;(j<v||k)&&s--;j++)t=1e7*k+(B[j]||0),o[j]=t/C|0,k=t%C|0;else{for((k=1e7/(C[0]+1)|0)>1&&(C=a(C,k),B=a(B,k),x=C.length,v=B.length),u=x,q=(p=B.slice(0,x)).length;q<x;)p[q++]=0;(y=C.slice()).unshift(0),w=C[0],C[1]>=1e7/2&&++w;do k=0,(h=b(C,p,x,q))<0?(r=p[0],x!=q&&(r=1e7*r+(p[1]||0)),(k=r/w|0)>1?(k>=1e7&&(k=1e7-1),m=(l=a(C,k)).length,q=p.length,1==(h=b(l,p,m,q))&&(k--,c(l,x<m?y:C,m))):(0==k&&(h=k=1),l=C.slice()),(m=l.length)<q&&l.unshift(0),c(p,l,q),-1==h&&(q=p.length,(h=b(C,p,x,q))<1&&(k++,c(p,x<q?y:C,q))),q=p.length):0===h&&(k++,p=[0]),o[j++]=k,h&&p[0]?p[q++]=B[u]||0:(p=[B[u]],q=1);while((u++<v||void 0!==p[0])&&s--)}return o[0]||o.shift(),n.e=i,iL(n,g?f+iG(n)+1:f)}}();function iF(a,b){var c,d,e,f,g,h=0,i=0,j=a.constructor,k=j.precision;if(iG(a)>16)throw Error(iv+iG(a));if(!a.s)return new j(ii);for(null==b?(is=!1,g=k):g=b,f=new j(.03125);a.abs().gte(.1);)a=a.times(f),i+=5;for(g+=Math.log(ix(2,i))/Math.LN10*2+5|0,c=d=e=new j(ii),j.precision=g;;){if(d=iL(d.times(a),g),c=c.times(++h),iD((f=e.plus(iE(d,c,g))).d).slice(0,g)===iD(e.d).slice(0,g)){for(;i--;)e=iL(e.times(e),g);return j.precision=k,null==b?(is=!0,iL(e,k)):e}e=f}}function iG(a){for(var b=7*a.e,c=a.d[0];c>=10;c/=10)b++;return b}function iH(a,b,c){if(b>a.LN10.sd())throw is=!0,c&&(a.precision=c),Error(it+"LN10 precision limit exceeded");return iL(new a(a.LN10),b)}function iI(a){for(var b="";a--;)b+="0";return b}function iJ(a,b){var c,d,e,f,g,h,i,j,k,l=1,m=a,n=m.d,o=m.constructor,p=o.precision;if(m.s<1)throw Error(it+(m.s?"NaN":"-Infinity"));if(m.eq(ii))return new o(0);if(null==b?(is=!1,j=p):j=b,m.eq(10))return null==b&&(is=!0),iH(o,j);if(o.precision=j+=10,d=(c=iD(n)).charAt(0),!(15e14>Math.abs(f=iG(m))))return i=iH(o,j+2,p).times(f+""),m=iJ(new o(d+"."+c.slice(1)),j-10).plus(i),o.precision=p,null==b?(is=!0,iL(m,p)):m;for(;d<7&&1!=d||1==d&&c.charAt(1)>3;)d=(c=iD((m=m.times(a)).d)).charAt(0),l++;for(f=iG(m),d>1?(m=new o("0."+c),f++):m=new o(d+"."+c.slice(1)),h=g=m=iE(m.minus(ii),m.plus(ii),j),k=iL(m.times(m),j),e=3;;){if(g=iL(g.times(k),j),iD((i=h.plus(iE(g,new o(e),j))).d).slice(0,j)===iD(h.d).slice(0,j))return h=h.times(2),0!==f&&(h=h.plus(iH(o,j+2,p).times(f+""))),h=iE(h,new o(l),j),o.precision=p,null==b?(is=!0,iL(h,p)):h;h=i,e+=2}}function iK(a,b){var c,d,e;for((c=b.indexOf("."))>-1&&(b=b.replace(".","")),(d=b.search(/e/i))>0?(c<0&&(c=d),c+=+b.slice(d+1),b=b.substring(0,d)):c<0&&(c=b.length),d=0;48===b.charCodeAt(d);)++d;for(e=b.length;48===b.charCodeAt(e-1);)--e;if(b=b.slice(d,e)){if(e-=d,a.e=iw((c=c-d-1)/7),a.d=[],d=(c+1)%7,c<0&&(d+=7),d<e){for(d&&a.d.push(+b.slice(0,d)),e-=7;d<e;)a.d.push(+b.slice(d,d+=7));d=7-(b=b.slice(d)).length}else d-=e;for(;d--;)b+="0";if(a.d.push(+b),is&&(a.e>iz||a.e<-iz))throw Error(iv+c)}else a.s=0,a.e=0,a.d=[0];return a}function iL(a,b,c){var d,e,f,g,h,i,j,k,l=a.d;for(g=1,f=l[0];f>=10;f/=10)g++;if((d=b-g)<0)d+=7,e=b,j=l[k=0];else{if((k=Math.ceil((d+1)/7))>=(f=l.length))return a;for(g=1,j=f=l[k];f>=10;f/=10)g++;d%=7,e=d-7+g}if(void 0!==c&&(h=j/(f=ix(10,g-e-1))%10|0,i=b<0||void 0!==l[k+1]||j%f,i=c<4?(h||i)&&(0==c||c==(a.s<0?3:2)):h>5||5==h&&(4==c||i||6==c&&(d>0?e>0?j/ix(10,g-e):0:l[k-1])%10&1||c==(a.s<0?8:7))),b<1||!l[0])return i?(f=iG(a),l.length=1,b=b-f-1,l[0]=ix(10,(7-b%7)%7),a.e=iw(-b/7)||0):(l.length=1,l[0]=a.e=a.s=0),a;if(0==d?(l.length=k,f=1,k--):(l.length=k+1,f=ix(10,7-d),l[k]=e>0?(j/ix(10,g-e)%ix(10,e)|0)*f:0),i)for(;;)if(0==k){1e7==(l[0]+=f)&&(l[0]=1,++a.e);break}else{if(l[k]+=f,1e7!=l[k])break;l[k--]=0,f=1}for(d=l.length;0===l[--d];)l.pop();if(is&&(a.e>iz||a.e<-iz))throw Error(iv+iG(a));return a}function iM(a,b){var c,d,e,f,g,h,i,j,k,l,m=a.constructor,n=m.precision;if(!a.s||!b.s)return b.s?b.s=-b.s:b=new m(a),is?iL(b,n):b;if(i=a.d,l=b.d,d=b.e,j=a.e,i=i.slice(),g=j-d){for((k=g<0)?(c=i,g=-g,h=l.length):(c=l,d=j,h=i.length),g>(e=Math.max(Math.ceil(n/7),h)+2)&&(g=e,c.length=1),c.reverse(),e=g;e--;)c.push(0);c.reverse()}else{for((k=(e=i.length)<(h=l.length))&&(h=e),e=0;e<h;e++)if(i[e]!=l[e]){k=i[e]<l[e];break}g=0}for(k&&(c=i,i=l,l=c,b.s=-b.s),h=i.length,e=l.length-h;e>0;--e)i[h++]=0;for(e=l.length;e>g;){if(i[--e]<l[e]){for(f=e;f&&0===i[--f];)i[f]=1e7-1;--i[f],i[e]+=1e7}i[e]-=l[e]}for(;0===i[--h];)i.pop();for(;0===i[0];i.shift())--d;return i[0]?(b.d=i,b.e=d,is?iL(b,n):b):new m(0)}function iN(a,b,c){var d,e=iG(a),f=iD(a.d),g=f.length;return b?(c&&(d=c-g)>0?f=f.charAt(0)+"."+f.slice(1)+iI(d):g>1&&(f=f.charAt(0)+"."+f.slice(1)),f=f+(e<0?"e":"e+")+e):e<0?(f="0."+iI(-e-1)+f,c&&(d=c-g)>0&&(f+=iI(d))):e>=g?(f+=iI(e+1-g),c&&(d=c-e-1)>0&&(f=f+"."+iI(d))):((d=e+1)<g&&(f=f.slice(0,d)+"."+f.slice(d)),c&&(d=c-g)>0&&(e+1===g&&(f+="."),f+=iI(d))),a.s<0?"-"+f:f}function iO(a,b){if(a.length>b)return a.length=b,!0}function iP(a){if(!a||"object"!=typeof a)throw Error(it+"Object expected");var b,c,d,e=["precision",1,1e9,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(b=0;b<e.length;b+=3)if(void 0!==(d=a[c=e[b]]))if(iw(d)===d&&d>=e[b+1]&&d<=e[b+2])this[c]=d;else throw Error(iu+c+": "+d);if(void 0!==(d=a[c="LN10"]))if(d==Math.LN10)this[c]=new this(d);else throw Error(iu+c+": "+d);return this}var ih=function a(b){var c,d,e;function f(a){if(!(this instanceof f))return new f(a);if(this.constructor=f,a instanceof f){this.s=a.s,this.e=a.e,this.d=(a=a.d)?a.slice():a;return}if("number"==typeof a){if(0*a!=0)throw Error(iu+a);if(a>0)this.s=1;else if(a<0)a=-a,this.s=-1;else{this.s=0,this.e=0,this.d=[0];return}if(a===~~a&&a<1e7){this.e=0,this.d=[a];return}return iK(this,a.toString())}if("string"!=typeof a)throw Error(iu+a);if(45===a.charCodeAt(0)?(a=a.slice(1),this.s=-1):this.s=1,iy.test(a))iK(this,a);else throw Error(iu+a)}if(f.prototype=iA,f.ROUND_UP=0,f.ROUND_DOWN=1,f.ROUND_CEIL=2,f.ROUND_FLOOR=3,f.ROUND_HALF_UP=4,f.ROUND_HALF_DOWN=5,f.ROUND_HALF_EVEN=6,f.ROUND_HALF_CEIL=7,f.ROUND_HALF_FLOOR=8,f.clone=a,f.config=f.set=iP,void 0===b&&(b={}),b)for(c=0,e=["precision","rounding","toExpNeg","toExpPos","LN10"];c<e.length;)b.hasOwnProperty(d=e[c++])||(b[d]=this[d]);return f.config(b),f}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});ii=new ih(1);let iQ=ih;function iR(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var iS=function(a){return a},iT={},iU=function(a){return a===iT},iV=function(a){return function b(){return 0==arguments.length||1==arguments.length&&iU(arguments.length<=0?void 0:arguments[0])?b:a.apply(void 0,arguments)}},iW=function(a){return function a(b,c){return 1===b?c:iV(function(){for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];var g=e.filter(function(a){return a!==iT}).length;return g>=b?c.apply(void 0,e):a(b-g,iV(function(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=arguments[d];var f=e.map(function(a){return iU(a)?b.shift():a});return c.apply(void 0,((function(a){if(Array.isArray(a))return iR(a)})(f)||function(a){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a))return Array.from(a)}(f)||function(a,b){if(a){if("string"==typeof a)return iR(a,void 0);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return iR(a,b)}}(f)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat(b))}))})}(a.length,a)},iX=function(a,b){for(var c=[],d=a;d<b;++d)c[d-a]=d;return c},iY=iW(function(a,b){return Array.isArray(b)?b.map(a):Object.keys(b).map(function(a){return b[a]}).map(a)}),iZ=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];if(!b.length)return iS;var d=b.reverse(),e=d[0],f=d.slice(1);return function(){return f.reduce(function(a,b){return b(a)},e.apply(void 0,arguments))}},i$=function(a){return Array.isArray(a)?a.reverse():a.split("").reverse.join("")},i_=function(a){var b=null,c=null;return function(){for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return b&&e.every(function(a,c){return a===b[c]})?c:(b=e,c=a.apply(void 0,e))}};iW(function(a,b,c){var d=+a;return d+c*(b-d)}),iW(function(a,b,c){var d=b-a;return(c-a)/(d=d||1/0)}),iW(function(a,b,c){var d=b-a;return Math.max(0,Math.min(1,(c-a)/(d=d||1/0)))});let i0={rangeStep:function(a,b,c){for(var d=new iQ(a),e=0,f=[];d.lt(b)&&e<1e5;)f.push(d.toNumber()),d=d.add(c),e++;return f},getDigitCount:function(a){return 0===a?1:Math.floor(new iQ(a).abs().log(10).toNumber())+1}};function i1(a){return function(a){if(Array.isArray(a))return i4(a)}(a)||function(a){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a))return Array.from(a)}(a)||i3(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i2(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a)){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h.return||h.return()}finally{if(e)throw f}}return c}}(a,b)||i3(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i3(a,b){if(a){if("string"==typeof a)return i4(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return i4(a,b)}}function i4(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function i5(a){var b=i2(a,2),c=b[0],d=b[1],e=c,f=d;return c>d&&(e=d,f=c),[e,f]}function i6(a,b,c){if(a.lte(0))return new iQ(0);var d=i0.getDigitCount(a.toNumber()),e=new iQ(10).pow(d),f=a.div(e),g=1!==d?.05:.1,h=new iQ(Math.ceil(f.div(g).toNumber())).add(c).mul(g).mul(e);return b?h:new iQ(Math.ceil(h))}function i7(a,b,c){var d=1,e=new iQ(a);if(!e.isint()&&c){var f=Math.abs(a);f<1?(d=new iQ(10).pow(i0.getDigitCount(a)-1),e=new iQ(Math.floor(e.div(d).toNumber())).mul(d)):f>1&&(e=new iQ(Math.floor(a)))}else 0===a?e=new iQ(Math.floor((b-1)/2)):c||(e=new iQ(Math.floor(a)));var g=Math.floor((b-1)/2);return iZ(iY(function(a){return e.add(new iQ(a-g).mul(d)).toNumber()}),iX)(0,b)}var i8=i_(function(a){var b=i2(a,2),c=b[0],d=b[1],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,f=!(arguments.length>2)||void 0===arguments[2]||arguments[2],g=Math.max(e,2),h=i2(i5([c,d]),2),i=h[0],j=h[1];if(i===-1/0||j===1/0){var k=j===1/0?[i].concat(i1(iX(0,e-1).map(function(){return 1/0}))):[].concat(i1(iX(0,e-1).map(function(){return-1/0})),[j]);return c>d?i$(k):k}if(i===j)return i7(i,e,f);var l=function a(b,c,d,e){var f,g=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((c-b)/(d-1)))return{step:new iQ(0),tickMin:new iQ(0),tickMax:new iQ(0)};var h=i6(new iQ(c).sub(b).div(d-1),e,g),i=Math.ceil((f=b<=0&&c>=0?new iQ(0):(f=new iQ(b).add(c).div(2)).sub(new iQ(f).mod(h))).sub(b).div(h).toNumber()),j=Math.ceil(new iQ(c).sub(f).div(h).toNumber()),k=i+j+1;return k>d?a(b,c,d,e,g+1):(k<d&&(j=c>0?j+(d-k):j,i=c>0?i:i+(d-k)),{step:h,tickMin:f.sub(new iQ(i).mul(h)),tickMax:f.add(new iQ(j).mul(h))})}(i,j,g,f),m=l.step,n=l.tickMin,o=l.tickMax,p=i0.rangeStep(n,o.add(new iQ(.1).mul(m)),m);return c>d?i$(p):p});i_(function(a){var b=i2(a,2),c=b[0],d=b[1],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,f=!(arguments.length>2)||void 0===arguments[2]||arguments[2],g=Math.max(e,2),h=i2(i5([c,d]),2),i=h[0],j=h[1];if(i===-1/0||j===1/0)return[c,d];if(i===j)return i7(i,e,f);var k=i6(new iQ(j).sub(i).div(g-1),f,0),l=iZ(iY(function(a){return new iQ(i).add(new iQ(a).mul(k)).toNumber()}),iX)(0,g).filter(function(a){return a>=i&&a<=j});return c>d?i$(l):l});var i9=i_(function(a,b){var c=i2(a,2),d=c[0],e=c[1],f=!(arguments.length>2)||void 0===arguments[2]||arguments[2],g=i2(i5([d,e]),2),h=g[0],i=g[1];if(h===-1/0||i===1/0)return[d,e];if(h===i)return[h];var j=Math.max(b,2),k=i6(new iQ(i).sub(h).div(j-1),f,0),l=[].concat(i1(i0.rangeStep(new iQ(h),new iQ(i).sub(new iQ(.99).mul(k)),k)),[i]);return d>e?i$(l):l}),ja=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function jb(a){return(jb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function jc(){return(jc=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function jd(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function je(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(je=function(){return!!a})()}function jf(a){return(jf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function jg(a,b){return(jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function jh(a,b,c){return(b=ji(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function ji(a){var b=function(a,b){if("object"!=jb(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=jb(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==jb(b)?b:b+""}var jj=function(a){var b;function c(){var a,b;if(!(this instanceof c))throw TypeError("Cannot call a class as a function");return a=c,b=arguments,a=jf(a),function(a,b){if(b&&("object"===jb(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,je()?Reflect.construct(a,b||[],jf(this).constructor):a.apply(this,b))}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),a&&jg(c,a),b=[{key:"render",value:function(){var a=this.props,b=a.offset,c=a.layout,d=a.width,e=a.dataKey,f=a.data,g=a.dataPointFormatter,h=a.xAxis,i=a.yAxis,j=aS(function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,ja),!1);"x"===this.props.direction&&"number"!==h.type&&a4(!1);var k=f.map(function(a){var f,k,l=g(a,e),m=l.x,n=l.y,o=l.value,p=l.errorVal;if(!p)return null;var q=[];if(Array.isArray(p)){var r=function(a){if(Array.isArray(a))return a}(p)||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{f=(c=c.call(a)).next,!1;for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(p,2)||function(a,b){if(a){if("string"==typeof a)return jd(a,2);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return jd(a,b)}}(p,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();f=r[0],k=r[1]}else f=k=p;if("vertical"===c){var s=h.scale,t=n+b,v=t+d,w=t-d,x=s(o-f),y=s(o+k);q.push({x1:y,y1:v,x2:y,y2:w}),q.push({x1:x,y1:t,x2:y,y2:t}),q.push({x1:x,y1:v,x2:x,y2:w})}else if("horizontal"===c){var z=i.scale,A=m+b,B=A-d,C=A+d,D=z(o-f),E=z(o+k);q.push({x1:B,y1:E,x2:C,y2:E}),q.push({x1:A,y1:D,x2:A,y2:E}),q.push({x1:B,y1:D,x2:C,y2:D})}return u().createElement(ba,jc({className:"recharts-errorBar",key:"bar-".concat(q.map(function(a){return"".concat(a.x1,"-").concat(a.x2,"-").concat(a.y1,"-").concat(a.y2)}))},j),q.map(function(a){return u().createElement("line",jc({},a,{key:"line-".concat(a.x1,"-").concat(a.x2,"-").concat(a.y1,"-").concat(a.y2)}))}))});return u().createElement(ba,{className:"recharts-errorBars"},k)}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,ji(d.key),d)}}(c.prototype,b),Object.defineProperty(c,"prototype",{writable:!1}),c}(u().Component);function jk(a){return(jk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function jl(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function jm(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?jl(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=jk(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=jk(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==jk(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):jl(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}jh(jj,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),jh(jj,"displayName","ErrorBar");var jn=function(a){var b,c=a.children,d=a.formattedGraphicalItems,e=a.legendWidth,f=a.legendContent,g=aO(c,cz);if(!g)return null;var h=cz.defaultProps,i=void 0!==h?jm(jm({},h),g.props):{};return b=g.props&&g.props.payload?g.props&&g.props.payload:"children"===f?(d||[]).reduce(function(a,b){var c=b.item,d=b.props,e=d.sectors||d.data||[];return a.concat(e.map(function(a){return{type:g.props.iconType||c.props.legendType,value:a.name,color:a.fill,payload:a}}))},[]):(d||[]).map(function(a){var b=a.item,c=b.type.defaultProps,d=void 0!==c?jm(jm({},c),b.props):{},e=d.dataKey,f=d.name,g=d.legendType;return{inactive:d.hide,dataKey:e,type:i.iconType||g||"square",color:jx(b),value:f||e,payload:d}}),jm(jm(jm({},i),cz.getWithHeight(g,e)),{},{payload:b,item:g})};function jo(a){return(jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function jp(a){return function(a){if(Array.isArray(a))return jq(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function(a,b){if(a){if("string"==typeof a)return jq(a,void 0);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return jq(a,b)}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jq(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function jr(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function js(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?jr(Object(c),!0).forEach(function(b){jt(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):jr(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function jt(a,b,c){var d;return(d=function(a,b){if("object"!=jo(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=jo(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"),(b="symbol"==jo(d)?d:d+"")in a)?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function ju(a,b,c){return ad()(a)||ad()(b)?c:ah(b)?_()(a,b,c):as()(b)?b(a):c}function jv(a,b,c,d){var e=ip()(a,function(a){return ju(a,b)});if("number"===c){var f=e.filter(function(a){return ag(a)||parseFloat(a)});return f.length?[im()(f),ik()(f)]:[1/0,-1/0]}return(d?e.filter(function(a){return!ad()(a)}):e).map(function(a){return ah(a)||a instanceof Date?a:""})}var jw=function(a){var b,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],d=arguments.length>2?arguments[2]:void 0,e=arguments.length>3?arguments[3]:void 0,f=-1,g=null!=(b=null==c?void 0:c.length)?b:0;if(g<=1)return 0;if(e&&"angleAxis"===e.axisType&&1e-6>=Math.abs(Math.abs(e.range[1]-e.range[0])-360))for(var h=e.range,i=0;i<g;i++){var j=i>0?d[i-1].coordinate:d[g-1].coordinate,k=d[i].coordinate,l=i>=g-1?d[0].coordinate:d[i+1].coordinate,m=void 0;if(ae(k-j)!==ae(l-k)){var n=[];if(ae(l-k)===ae(h[1]-h[0])){m=l;var o=k+h[1]-h[0];n[0]=Math.min(o,(o+j)/2),n[1]=Math.max(o,(o+j)/2)}else{m=j;var p=l+h[1]-h[0];n[0]=Math.min(k,(p+k)/2),n[1]=Math.max(k,(p+k)/2)}var q=[Math.min(k,(m+k)/2),Math.max(k,(m+k)/2)];if(a>q[0]&&a<=q[1]||a>=n[0]&&a<=n[1]){f=d[i].index;break}}else{var r=Math.min(j,l),s=Math.max(j,l);if(a>(r+k)/2&&a<=(s+k)/2){f=d[i].index;break}}}else for(var t=0;t<g;t++)if(0===t&&a<=(c[t].coordinate+c[t+1].coordinate)/2||t>0&&t<g-1&&a>(c[t].coordinate+c[t-1].coordinate)/2&&a<=(c[t].coordinate+c[t+1].coordinate)/2||t===g-1&&a>(c[t].coordinate+c[t-1].coordinate)/2){f=c[t].index;break}return f},jx=function(a){var b,c,d=a.type.displayName,e=null!=(b=a.type)&&b.defaultProps?js(js({},a.type.defaultProps),a.props):a.props,f=e.stroke,g=e.fill;switch(d){case"Line":c=f;break;case"Area":case"Radar":c=f&&"none"!==f?f:g;break;default:c=g}return c},jy=function(a){var b=a.barSize,c=a.totalSize,d=a.stackGroups,e=void 0===d?{}:d;if(!e)return{};for(var f={},g=Object.keys(e),h=0,i=g.length;h<i;h++)for(var j=e[g[h]].stackGroups,k=Object.keys(j),l=0,m=k.length;l<m;l++){var n=j[k[l]],o=n.items,p=n.cateAxisId,q=o.filter(function(a){return aJ(a.type).indexOf("Bar")>=0});if(q&&q.length){var r=q[0].type.defaultProps,s=void 0!==r?js(js({},r),q[0].props):q[0].props,t=s.barSize,u=s[p];f[u]||(f[u]=[]);var v=ad()(t)?b:t;f[u].push({item:q[0],stackList:q.slice(1),barSize:ad()(v)?void 0:ak(v,c,0)})}}return f},jz=function(a){var b,c=a.barGap,d=a.barCategoryGap,e=a.bandSize,f=a.sizeList,g=void 0===f?[]:f,h=a.maxBarSize,i=g.length;if(i<1)return null;var j=ak(c,e,0,!0),k=[];if(g[0].barSize===+g[0].barSize){var l=!1,m=e/i,n=g.reduce(function(a,b){return a+b.barSize||0},0);(n+=(i-1)*j)>=e&&(n-=(i-1)*j,j=0),n>=e&&m>0&&(l=!0,m*=.9,n=i*m);var o={offset:((e-n)/2|0)-j,size:0};b=g.reduce(function(a,b){var c={item:b.item,position:{offset:o.offset+o.size+j,size:l?m:b.barSize}},d=[].concat(jp(a),[c]);return o=d[d.length-1].position,b.stackList&&b.stackList.length&&b.stackList.forEach(function(a){d.push({item:a,position:o})}),d},k)}else{var p=ak(d,e,0,!0);e-2*p-(i-1)*j<=0&&(j=0);var q=(e-2*p-(i-1)*j)/i;q>1&&(q>>=0);var r=h===+h?Math.min(q,h):q;b=g.reduce(function(a,b,c){var d=[].concat(jp(a),[{item:b.item,position:{offset:p+(q+j)*c+(q-r)/2,size:r}}]);return b.stackList&&b.stackList.length&&b.stackList.forEach(function(a){d.push({item:a,position:d[d.length-1].position})}),d},k)}return b},jA=function(a,b,c,d){var e=c.children,f=c.width,g=c.margin,h=jn({children:e,legendWidth:f-(g.left||0)-(g.right||0)});if(h){var i=d||{},j=i.width,k=i.height,l=h.align,m=h.verticalAlign,n=h.layout;if(("vertical"===n||"horizontal"===n&&"middle"===m)&&"center"!==l&&ag(a[l]))return js(js({},a),{},jt({},l,a[l]+(j||0)));if(("horizontal"===n||"vertical"===n&&"center"===l)&&"middle"!==m&&ag(a[m]))return js(js({},a),{},jt({},m,a[m]+(k||0)))}return a},jB=function(a,b,c,d,e){var f=aN(b.props.children,jj).filter(function(a){var b;return b=a.props.direction,!!ad()(e)||("horizontal"===d?"yAxis"===e:"vertical"===d||"x"===b?"xAxis"===e:"y"!==b||"yAxis"===e)});if(f&&f.length){var g=f.map(function(a){return a.props.dataKey});return a.reduce(function(a,b){var d=ju(b,c);if(ad()(d))return a;var e=Array.isArray(d)?[im()(d),ik()(d)]:[d,d],f=g.reduce(function(a,c){var d=ju(b,c,0),f=e[0]-Math.abs(Array.isArray(d)?d[0]:d),g=e[1]+Math.abs(Array.isArray(d)?d[1]:d);return[Math.min(f,a[0]),Math.max(g,a[1])]},[1/0,-1/0]);return[Math.min(f[0],a[0]),Math.max(f[1],a[1])]},[1/0,-1/0])}return null},jC=function(a,b,c,d,e){var f=b.map(function(b){return jB(a,b,c,e,d)}).filter(function(a){return!ad()(a)});return f&&f.length?f.reduce(function(a,b){return[Math.min(a[0],b[0]),Math.max(a[1],b[1])]},[1/0,-1/0]):null},jD=function(a,b,c,d,e){var f=b.map(function(b){var f=b.props.dataKey;return"number"===c&&f&&jB(a,b,f,d)||jv(a,f,c,e)});if("number"===c)return f.reduce(function(a,b){return[Math.min(a[0],b[0]),Math.max(a[1],b[1])]},[1/0,-1/0]);var g={};return f.reduce(function(a,b){for(var c=0,d=b.length;c<d;c++)g[b[c]]||(g[b[c]]=!0,a.push(b[c]));return a},[])},jE=function(a,b){return"horizontal"===a&&"xAxis"===b||"vertical"===a&&"yAxis"===b||"centric"===a&&"angleAxis"===b||"radial"===a&&"radiusAxis"===b},jF=function(a,b,c,d){if(d)return a.map(function(a){return a.coordinate});var e,f,g=a.map(function(a){return a.coordinate===b&&(e=!0),a.coordinate===c&&(f=!0),a.coordinate});return e||g.push(b),f||g.push(c),g},jG=function(a,b,c){if(!a)return null;var d=a.scale,e=a.duplicateDomain,f=a.type,g=a.range,h="scaleBand"===a.realScaleType?d.bandwidth()/2:2,i=(b||c)&&"category"===f&&d.bandwidth?d.bandwidth()/h:0;return(i="angleAxis"===a.axisType&&(null==g?void 0:g.length)>=2?2*ae(g[0]-g[1])*i:i,b&&(a.ticks||a.niceTicks))?(a.ticks||a.niceTicks).map(function(a){return{coordinate:d(e?e.indexOf(a):a)+i,value:a,offset:i}}).filter(function(a){return!Z()(a.coordinate)}):a.isCategorical&&a.categoricalDomain?a.categoricalDomain.map(function(a,b){return{coordinate:d(a)+i,value:a,index:b,offset:i}}):d.ticks&&!c?d.ticks(a.tickCount).map(function(a){return{coordinate:d(a)+i,value:a,offset:i}}):d.domain().map(function(a,b){return{coordinate:d(a)+i,value:e?e[a]:a,index:b,offset:i}})},jH=new WeakMap,jI=function(a,b){if("function"!=typeof b)return a;jH.has(a)||jH.set(a,new WeakMap);var c=jH.get(a);if(c.has(b))return c.get(b);var d=function(){a.apply(void 0,arguments),b.apply(void 0,arguments)};return c.set(b,d),d},jJ=function(a,b,c){var d=a.scale,e=a.type,f=a.layout,g=a.axisType;if("auto"===d)return"radial"===f&&"radiusAxis"===g?{scale:d1(),realScaleType:"band"}:"radial"===f&&"angleAxis"===g?{scale:fO(),realScaleType:"linear"}:"category"===e&&b&&(b.indexOf("LineChart")>=0||b.indexOf("AreaChart")>=0||b.indexOf("ComposedChart")>=0&&!c)?{scale:d2(),realScaleType:"point"}:"category"===e?{scale:d1(),realScaleType:"band"}:{scale:fO(),realScaleType:"linear"};if(X()(d)){var h="scale".concat(bL()(d));return{scale:(q[h]||d2)(),realScaleType:q[h]?h:"point"}}return as()(d)?{scale:d}:{scale:d2(),realScaleType:"point"}},jK=function(a){var b=a.domain();if(b&&!(b.length<=2)){var c=b.length,d=a.range(),e=Math.min(d[0],d[1])-1e-4,f=Math.max(d[0],d[1])+1e-4,g=a(b[0]),h=a(b[c-1]);(g<e||g>f||h<e||h>f)&&a.domain([b[0],b[c-1]])}},jL=function(a,b){if(!a)return null;for(var c=0,d=a.length;c<d;c++)if(a[c].item===b)return a[c].position;return null},jM=function(a,b){if(!b||2!==b.length||!ag(b[0])||!ag(b[1]))return a;var c=Math.min(b[0],b[1]),d=Math.max(b[0],b[1]),e=[a[0],a[1]];return(!ag(a[0])||a[0]<c)&&(e[0]=c),(!ag(a[1])||a[1]>d)&&(e[1]=d),e[0]>d&&(e[0]=d),e[1]<c&&(e[1]=c),e},jN={sign:function(a){var b=a.length;if(!(b<=0))for(var c=0,d=a[0].length;c<d;++c)for(var e=0,f=0,g=0;g<b;++g){var h=Z()(a[g][c][1])?a[g][c][0]:a[g][c][1];h>=0?(a[g][c][0]=e,a[g][c][1]=e+h,e=a[g][c][1]):(a[g][c][0]=f,a[g][c][1]=f+h,f=a[g][c][1])}},expand:function(a,b){if((d=a.length)>0){for(var c,d,e,f=0,g=a[0].length;f<g;++f){for(e=c=0;c<d;++c)e+=a[c][f][1]||0;if(e)for(c=0;c<d;++c)a[c][f][1]/=e}h4(a,b)}},none:h4,silhouette:function(a,b){if((c=a.length)>0){for(var c,d=0,e=a[b[0]],f=e.length;d<f;++d){for(var g=0,h=0;g<c;++g)h+=a[g][d][1]||0;e[d][1]+=e[d][0]=-h/2}h4(a,b)}},wiggle:function(a,b){if((e=a.length)>0&&(d=(c=a[b[0]]).length)>0){for(var c,d,e,f=0,g=1;g<d;++g){for(var h=0,i=0,j=0;h<e;++h){for(var k=a[b[h]],l=k[g][1]||0,m=(l-(k[g-1][1]||0))/2,n=0;n<h;++n){var o=a[b[n]];m+=(o[g][1]||0)-(o[g-1][1]||0)}i+=l,j+=m*l}c[g-1][1]+=c[g-1][0]=f,i&&(f-=j/i)}c[g-1][1]+=c[g-1][0]=f,h4(a,b)}},positive:function(a){var b=a.length;if(!(b<=0))for(var c=0,d=a[0].length;c<d;++c)for(var e=0,f=0;f<b;++f){var g=Z()(a[f][c][1])?a[f][c][0]:a[f][c][1];g>=0?(a[f][c][0]=e,a[f][c][1]=e+g,e=a[f][c][1]):(a[f][c][0]=0,a[f][c][1]=0)}}},jO=function(a,b,c){var d=b.map(function(a){return a.props.dataKey}),e=jN[c];return(function(){var a=b_([]),b=h6,c=h4,d=h7;function e(e){var f,g,h=Array.from(a.apply(this,arguments),h8),i=h.length,j=-1;for(let a of e)for(f=0,++j;f<i;++f)(h[f][j]=[0,+d(a,h[f].key,j,e)]).data=a;for(f=0,g=h5(b(h));f<i;++f)h[g[f]].index=f;return c(h,g),h}return e.keys=function(b){return arguments.length?(a="function"==typeof b?b:b_(Array.from(b)),e):a},e.value=function(a){return arguments.length?(d="function"==typeof a?a:b_(+a),e):d},e.order=function(a){return arguments.length?(b=null==a?h6:"function"==typeof a?a:b_(Array.from(a)),e):b},e.offset=function(a){return arguments.length?(c=null==a?h4:a,e):c},e})().keys(d).value(function(a,b){return+ju(a,b,0)}).order(h6).offset(e)(a)},jP=function(a,b,c,d,e,f){if(!a)return null;var g=(f?b.reverse():b).reduce(function(a,b){var e,f=null!=(e=b.type)&&e.defaultProps?js(js({},b.type.defaultProps),b.props):b.props,g=f.stackId;if(f.hide)return a;var h=f[c],i=a[h]||{hasStack:!1,stackGroups:{}};if(ah(g)){var j=i.stackGroups[g]||{numericAxisId:c,cateAxisId:d,items:[]};j.items.push(b),i.hasStack=!0,i.stackGroups[g]=j}else i.stackGroups[aj("_stackId_")]={numericAxisId:c,cateAxisId:d,items:[b]};return js(js({},a),{},jt({},h,i))},{});return Object.keys(g).reduce(function(b,f){var h=g[f];return h.hasStack&&(h.stackGroups=Object.keys(h.stackGroups).reduce(function(b,f){var g=h.stackGroups[f];return js(js({},b),{},jt({},f,{numericAxisId:c,cateAxisId:d,items:g.items,stackedData:jO(a,g.items,e)}))},{})),js(js({},b),{},jt({},f,h))},{})},jQ=function(a,b){var c=b.realScaleType,d=b.type,e=b.tickCount,f=b.originalDomain,g=b.allowDecimals,h=c||b.scale;if("auto"!==h&&"linear"!==h)return null;if(e&&"number"===d&&f&&("auto"===f[0]||"auto"===f[1])){var i=a.domain();if(!i.length)return null;var j=i8(i,e,g);return a.domain([im()(j),ik()(j)]),{niceTicks:j}}return e&&"number"===d?{niceTicks:i9(a.domain(),e,g)}:null};function jR(a){var b=a.axis,c=a.ticks,d=a.bandSize,e=a.entry,f=a.index,g=a.dataKey;if("category"===b.type){if(!b.allowDuplicatedCategory&&b.dataKey&&!ad()(e[b.dataKey])){var h=ao(c,"value",e[b.dataKey]);if(h)return h.coordinate+d/2}return c[f]?c[f].coordinate+d/2:null}var i=ju(e,ad()(g)?b.dataKey:g);return ad()(i)?null:b.scale(i)}var jS=function(a){var b=a.axis,c=a.ticks,d=a.offset,e=a.bandSize,f=a.entry,g=a.index;if("category"===b.type)return c[g]?c[g].coordinate+d:null;var h=ju(f,b.dataKey,b.domain[g]);return ad()(h)?null:b.scale(h)-e/2+d},jT=function(a){var b=a.numericAxis,c=b.scale.domain();if("number"===b.type){var d=Math.min(c[0],c[1]),e=Math.max(c[0],c[1]);return d<=0&&e>=0?0:e<0?e:d}return c[0]},jU=function(a,b){var c,d=(null!=(c=a.type)&&c.defaultProps?js(js({},a.type.defaultProps),a.props):a.props).stackId;if(ah(d)){var e=b[d];if(e){var f=e.items.indexOf(a);return f>=0?e.stackedData[f]:null}}return null},jV=function(a,b,c){return Object.keys(a).reduce(function(d,e){var f=a[e].stackedData.reduce(function(a,d){var e=d.slice(b,c+1).reduce(function(a,b){return[im()(b.concat([a[0]]).filter(ag)),ik()(b.concat([a[1]]).filter(ag))]},[1/0,-1/0]);return[Math.min(a[0],e[0]),Math.max(a[1],e[1])]},[1/0,-1/0]);return[Math.min(f[0],d[0]),Math.max(f[1],d[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},jW=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jX=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jY=function(a,b,c){if(as()(a))return a(b,c);if(!Array.isArray(a))return b;var d=[];if(ag(a[0]))d[0]=c?a[0]:Math.min(a[0],b[0]);else if(jW.test(a[0])){var e=+jW.exec(a[0])[1];d[0]=b[0]-e}else as()(a[0])?d[0]=a[0](b[0]):d[0]=b[0];if(ag(a[1]))d[1]=c?a[1]:Math.max(a[1],b[1]);else if(jX.test(a[1])){var f=+jX.exec(a[1])[1];d[1]=b[1]+f}else as()(a[1])?d[1]=a[1](b[1]):d[1]=b[1];return d},jZ=function(a,b,c){if(a&&a.scale&&a.scale.bandwidth){var d=a.scale.bandwidth();if(!c||d>0)return d}if(a&&b&&b.length>=2){for(var e=a3()(b,function(a){return a.coordinate}),f=1/0,g=1,h=e.length;g<h;g++){var i=e[g],j=e[g-1];f=Math.min((i.coordinate||0)-(j.coordinate||0),f)}return f===1/0?0:f}return c?void 0:0},j$=function(a,b,c){return!a||!a.length||ir()(a,_()(c,"type.defaultProps.domain"))?b:a},j_=function(a,b){var c=a.type.defaultProps?js(js({},a.type.defaultProps),a.props):a.props,d=c.dataKey,e=c.name,f=c.unit,g=c.formatter,h=c.tooltipType,i=c.chartType,j=c.hide;return js(js({},aS(a,!1)),{},{dataKey:d,unit:f,formatter:g,name:e||d,color:jx(a),value:ju(b,d),type:h,payload:b,chartType:i,hide:j})};function j0(a){return(j0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function j1(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function j2(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?j1(Object(c),!0).forEach(function(b){j3(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):j1(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function j3(a,b,c){var d;return(d=function(a,b){if("object"!=j0(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=j0(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"),(b="symbol"==j0(d)?d:d+"")in a)?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var j4=["Webkit","Moz","O","ms"],j5=function(a,b){if(!a)return null;var c=a.replace(/(\w)/,function(a){return a.toUpperCase()}),d=j4.reduce(function(a,d){return j2(j2({},a),{},j3({},d+c,b))},{});return d[a]=b,d};function j6(a){return(j6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function j7(){return(j7=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function j8(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function j9(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?j8(Object(c),!0).forEach(function(b){ke(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):j8(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function ka(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,kf(d.key),d)}}function kb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(kb=function(){return!!a})()}function kc(a){return(kc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function kd(a,b){return(kd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function ke(a,b,c){return(b=kf(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function kf(a){var b=function(a,b){if("object"!=j6(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=j6(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==j6(b)?b:b+""}var kg=function(a){var b=a.data,c=a.startIndex,d=a.endIndex,e=a.x,f=a.width,g=a.travellerWidth;if(!b||!b.length)return{};var h=b.length,i=d2().domain(a1()(0,h)).range([e,e+f-g]),j=i.domain().map(function(a){return i(a)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:i(c),endX:i(d),scale:i,scaleValues:j}},kh=function(a){return a.changedTouches&&!!a.changedTouches.length},ki=function(a){var b,c;function d(a){var b,c,e;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");return c=d,e=[a],c=kc(c),ke(b=function(a,b){if(b&&("object"===j6(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,kb()?Reflect.construct(c,e||[],kc(this).constructor):c.apply(this,e)),"handleDrag",function(a){b.leaveTimer&&(clearTimeout(b.leaveTimer),b.leaveTimer=null),b.state.isTravellerMoving?b.handleTravellerMove(a):b.state.isSlideMoving&&b.handleSlideDrag(a)}),ke(b,"handleTouchMove",function(a){null!=a.changedTouches&&a.changedTouches.length>0&&b.handleDrag(a.changedTouches[0])}),ke(b,"handleDragEnd",function(){b.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=b.props,c=a.endIndex,d=a.onDragEnd,e=a.startIndex;null==d||d({endIndex:c,startIndex:e})}),b.detachDragEndListener()}),ke(b,"handleLeaveWrapper",function(){(b.state.isTravellerMoving||b.state.isSlideMoving)&&(b.leaveTimer=window.setTimeout(b.handleDragEnd,b.props.leaveTimeOut))}),ke(b,"handleEnterSlideOrTraveller",function(){b.setState({isTextActive:!0})}),ke(b,"handleLeaveSlideOrTraveller",function(){b.setState({isTextActive:!1})}),ke(b,"handleSlideDragStart",function(a){var c=kh(a)?a.changedTouches[0]:a;b.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:c.pageX}),b.attachDragEndListener()}),b.travellerDragStartHandlers={startX:b.handleTravellerDragStart.bind(b,"startX"),endX:b.handleTravellerDragStart.bind(b,"endX")},b.state={},b}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),a&&kd(d,a),b=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var b=a.startX,c=a.endX,e=this.state.scaleValues,f=this.props,g=f.gap,h=f.data.length-1,i=Math.min(b,c),j=Math.max(b,c),k=d.getIndexInRange(e,i),l=d.getIndexInRange(e,j);return{startIndex:k-k%g,endIndex:l===h?h:l-l%g}}},{key:"getTextOfTick",value:function(a){var b=this.props,c=b.data,d=b.tickFormatter,e=b.dataKey,f=ju(c[a],e,a);return as()(d)?d(f,a):f}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var b=this.state,c=b.slideMoveStartX,d=b.startX,e=b.endX,f=this.props,g=f.x,h=f.width,i=f.travellerWidth,j=f.startIndex,k=f.endIndex,l=f.onChange,m=a.pageX-c;m>0?m=Math.min(m,g+h-i-e,g+h-i-d):m<0&&(m=Math.max(m,g-d,g-e));var n=this.getIndex({startX:d+m,endX:e+m});(n.startIndex!==j||n.endIndex!==k)&&l&&l(n),this.setState({startX:d+m,endX:e+m,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,b){var c=kh(b)?b.changedTouches[0]:b;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:c.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var b=this.state,c=b.brushMoveStartX,d=b.movingTravellerId,e=b.endX,f=b.startX,g=this.state[d],h=this.props,i=h.x,j=h.width,k=h.travellerWidth,l=h.onChange,m=h.gap,n=h.data,o={startX:this.state.startX,endX:this.state.endX},p=a.pageX-c;p>0?p=Math.min(p,i+j-k-g):p<0&&(p=Math.max(p,i-g)),o[d]=g+p;var q=this.getIndex(o),r=q.startIndex,s=q.endIndex,t=function(){var a=n.length-1;return"startX"===d&&(e>f?r%m==0:s%m==0)||!!(e<f)&&s===a||"endX"===d&&(e>f?s%m==0:r%m==0)||!!(e>f)&&s===a};this.setState(ke(ke({},d,g+p),"brushMoveStartX",a.pageX),function(){l&&t()&&l(q)})}},{key:"handleTravellerMoveKeyboard",value:function(a,b){var c=this,d=this.state,e=d.scaleValues,f=d.startX,g=d.endX,h=this.state[b],i=e.indexOf(h);if(-1!==i){var j=i+a;if(-1!==j&&!(j>=e.length)){var k=e[j];"startX"===b&&k>=g||"endX"===b&&k<=f||this.setState(ke({},b,k),function(){c.props.onChange(c.getIndex({startX:c.state.startX,endX:c.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,b=a.x,c=a.y,d=a.width,e=a.height,f=a.fill,g=a.stroke;return u().createElement("rect",{stroke:g,fill:f,x:b,y:c,width:d,height:e})}},{key:"renderPanorama",value:function(){var a=this.props,b=a.x,c=a.y,d=a.width,e=a.height,f=a.data,g=a.children,h=a.padding,i=t.Children.only(g);return i?u().cloneElement(i,{x:b,y:c,width:d,height:e,margin:h,compact:!0,data:f}):null}},{key:"renderTravellerLayer",value:function(a,b){var c,e,f=this,g=this.props,h=g.y,i=g.travellerWidth,j=g.height,k=g.traveller,l=g.ariaLabel,m=g.data,n=g.startIndex,o=g.endIndex,p=Math.max(a,this.props.x),q=j9(j9({},aS(this.props,!1)),{},{x:p,y:h,width:i,height:j}),r=l||"Min value: ".concat(null==(c=m[n])?void 0:c.name,", Max value: ").concat(null==(e=m[o])?void 0:e.name);return u().createElement(ba,{tabIndex:0,role:"slider","aria-label":r,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[b],onTouchStart:this.travellerDragStartHandlers[b],onKeyDown:function(a){["ArrowLeft","ArrowRight"].includes(a.key)&&(a.preventDefault(),a.stopPropagation(),f.handleTravellerMoveKeyboard("ArrowRight"===a.key?1:-1,b))},onFocus:function(){f.setState({isTravellerFocused:!0})},onBlur:function(){f.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},d.renderTraveller(k,q))}},{key:"renderSlide",value:function(a,b){var c=this.props,d=c.y,e=c.height,f=c.stroke,g=c.travellerWidth,h=Math.min(a,b)+g,i=Math.max(Math.abs(b-a)-g,0);return u().createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:f,fillOpacity:.2,x:h,y:d,width:i,height:e})}},{key:"renderText",value:function(){var a=this.props,b=a.startIndex,c=a.endIndex,d=a.y,e=a.height,f=a.travellerWidth,g=a.stroke,h=this.state,i=h.startX,j=h.endX,k={pointerEvents:"none",fill:g};return u().createElement(ba,{className:"recharts-brush-texts"},u().createElement(eA,j7({textAnchor:"end",verticalAnchor:"middle",x:Math.min(i,j)-5,y:d+e/2},k),this.getTextOfTick(b)),u().createElement(eA,j7({textAnchor:"start",verticalAnchor:"middle",x:Math.max(i,j)+f+5,y:d+e/2},k),this.getTextOfTick(c)))}},{key:"render",value:function(){var a=this.props,b=a.data,c=a.className,d=a.children,e=a.x,f=a.y,g=a.width,h=a.height,i=a.alwaysShowText,j=this.state,k=j.startX,l=j.endX,m=j.isTextActive,n=j.isSlideMoving,o=j.isTravellerMoving,p=j.isTravellerFocused;if(!b||!b.length||!ag(e)||!ag(f)||!ag(g)||!ag(h)||g<=0||h<=0)return null;var q=T("recharts-brush",c),r=1===u().Children.count(d),s=j5("userSelect","none");return u().createElement(ba,{className:q,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:s},this.renderBackground(),r&&this.renderPanorama(),this.renderSlide(k,l),this.renderTravellerLayer(k,"startX"),this.renderTravellerLayer(l,"endX"),(m||n||o||p||i)&&this.renderText())}}],c=[{key:"renderDefaultTraveller",value:function(a){var b=a.x,c=a.y,d=a.width,e=a.height,f=a.stroke,g=Math.floor(c+e/2)-1;return u().createElement(u().Fragment,null,u().createElement("rect",{x:b,y:c,width:d,height:e,fill:f,stroke:"none"}),u().createElement("line",{x1:b+1,y1:g,x2:b+d-1,y2:g,fill:"none",stroke:"#fff"}),u().createElement("line",{x1:b+1,y1:g+2,x2:b+d-1,y2:g+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,b){return u().isValidElement(a)?u().cloneElement(a,b):as()(a)?a(b):d.renderDefaultTraveller(b)}},{key:"getDerivedStateFromProps",value:function(a,b){var c=a.data,d=a.width,e=a.x,f=a.travellerWidth,g=a.updateId,h=a.startIndex,i=a.endIndex;if(c!==b.prevData||g!==b.prevUpdateId)return j9({prevData:c,prevTravellerWidth:f,prevUpdateId:g,prevX:e,prevWidth:d},c&&c.length?kg({data:c,width:d,x:e,travellerWidth:f,startIndex:h,endIndex:i}):{scale:null,scaleValues:null});if(b.scale&&(d!==b.prevWidth||e!==b.prevX||f!==b.prevTravellerWidth)){b.scale.range([e,e+d-f]);var j=b.scale.domain().map(function(a){return b.scale(a)});return{prevData:c,prevTravellerWidth:f,prevUpdateId:g,prevX:e,prevWidth:d,startX:b.scale(a.startIndex),endX:b.scale(a.endIndex),scaleValues:j}}return null}},{key:"getIndexInRange",value:function(a,b){for(var c=a.length,d=0,e=c-1;e-d>1;){var f=Math.floor((d+e)/2);a[f]>b?e=f:d=f}return b>=a[e]?e:d}}],b&&ka(d.prototype,b),c&&ka(d,c),Object.defineProperty(d,"prototype",{writable:!1}),d}(t.PureComponent);function kj(a){return(kj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function kk(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function kl(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?kk(Object(c),!0).forEach(function(b){km(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):kk(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function km(a,b,c){var d;return(d=function(a,b){if("object"!=kj(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=kj(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"),(b="symbol"==kj(d)?d:d+"")in a)?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function kn(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}ke(ki,"displayName","Brush"),ke(ki,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ko=Math.PI/180,kp=function(a,b,c,d){return{x:a+Math.cos(-ko*d)*c,y:b+Math.sin(-ko*d)*c}},kq=function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(a-(c.left||0)-(c.right||0)),Math.abs(b-(c.top||0)-(c.bottom||0)))/2},kr=function(a,b){var c=a.x,d=a.y;return Math.sqrt(Math.pow(c-b.x,2)+Math.pow(d-b.y,2))},ks=function(a,b){var c=a.x,d=a.y,e=b.cx,f=b.cy,g=kr({x:c,y:d},{x:e,y:f});if(g<=0)return{radius:g};var h=Math.acos((c-e)/g);return d>f&&(h=2*Math.PI-h),{radius:g,angle:180*h/Math.PI,angleInRadian:h}},kt=function(a){var b=a.startAngle,c=a.endAngle,d=Math.min(Math.floor(b/360),Math.floor(c/360));return{startAngle:b-360*d,endAngle:c-360*d}},ku=function(a,b){var c,d=ks({x:a.x,y:a.y},b),e=d.radius,f=d.angle,g=b.innerRadius,h=b.outerRadius;if(e<g||e>h)return!1;if(0===e)return!0;var i=kt(b),j=i.startAngle,k=i.endAngle,l=f;if(j<=k){for(;l>k;)l-=360;for(;l<j;)l+=360;c=l>=j&&l<=k}else{for(;l>j;)l-=360;for(;l<k;)l+=360;c=l>=k&&l<=j}return c?kl(kl({},b),{},{radius:e,angle:l+360*Math.min(Math.floor(b.startAngle/360),Math.floor(b.endAngle/360))}):null},kv=function(a){return(0,t.isValidElement)(a)||as()(a)||"boolean"==typeof a?"":a.className};function kw(a){return(kw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var kx=["offset"];function ky(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function kz(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function kA(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?kz(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=kw(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=kw(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==kw(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):kz(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function kB(){return(kB=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var kC=function(a){var b=a.value,c=a.formatter,d=ad()(a.children)?b:a.children;return as()(c)?c(d):d},kD=function(a,b,c){var d,e,f=a.position,g=a.viewBox,h=a.offset,i=a.className,j=g.cx,k=g.cy,l=g.innerRadius,m=g.outerRadius,n=g.startAngle,o=g.endAngle,p=g.clockWise,q=(l+m)/2,r=ae(o-n)*Math.min(Math.abs(o-n),360),s=r>=0?1:-1;"insideStart"===f?(d=n+s*h,e=p):"insideEnd"===f?(d=o-s*h,e=!p):"end"===f&&(d=o+s*h,e=p),e=r<=0?e:!e;var t=kp(j,k,q,d),v=kp(j,k,q,d+(e?1:-1)*359),w="M".concat(t.x,",").concat(t.y,"\n    A").concat(q,",").concat(q,",0,1,").concat(+!e,",\n    ").concat(v.x,",").concat(v.y),x=ad()(a.id)?aj("recharts-radial-line-"):a.id;return u().createElement("text",kB({},c,{dominantBaseline:"central",className:T("recharts-radial-bar-label",i)}),u().createElement("defs",null,u().createElement("path",{id:x,d:w})),u().createElement("textPath",{xlinkHref:"#".concat(x)},b))},kE=function(a){var b=a.viewBox,c=a.offset,d=a.position,e=b.cx,f=b.cy,g=b.innerRadius,h=b.outerRadius,i=(b.startAngle+b.endAngle)/2;if("outside"===d){var j=kp(e,f,h+c,i),k=j.x;return{x:k,y:j.y,textAnchor:k>=e?"start":"end",verticalAnchor:"middle"}}if("center"===d)return{x:e,y:f,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===d)return{x:e,y:f,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===d)return{x:e,y:f,textAnchor:"middle",verticalAnchor:"end"};var l=kp(e,f,(g+h)/2,i);return{x:l.x,y:l.y,textAnchor:"middle",verticalAnchor:"middle"}},kF=function(a){var b=a.viewBox,c=a.parentViewBox,d=a.offset,e=a.position,f=b.x,g=b.y,h=b.width,i=b.height,j=i>=0?1:-1,k=j*d,l=j>0?"end":"start",m=j>0?"start":"end",n=h>=0?1:-1,o=n*d,p=n>0?"end":"start",q=n>0?"start":"end";if("top"===e)return kA(kA({},{x:f+h/2,y:g-j*d,textAnchor:"middle",verticalAnchor:l}),c?{height:Math.max(g-c.y,0),width:h}:{});if("bottom"===e)return kA(kA({},{x:f+h/2,y:g+i+k,textAnchor:"middle",verticalAnchor:m}),c?{height:Math.max(c.y+c.height-(g+i),0),width:h}:{});if("left"===e){var r={x:f-o,y:g+i/2,textAnchor:p,verticalAnchor:"middle"};return kA(kA({},r),c?{width:Math.max(r.x-c.x,0),height:i}:{})}if("right"===e){var s={x:f+h+o,y:g+i/2,textAnchor:q,verticalAnchor:"middle"};return kA(kA({},s),c?{width:Math.max(c.x+c.width-s.x,0),height:i}:{})}var t=c?{width:h,height:i}:{};return"insideLeft"===e?kA({x:f+o,y:g+i/2,textAnchor:q,verticalAnchor:"middle"},t):"insideRight"===e?kA({x:f+h-o,y:g+i/2,textAnchor:p,verticalAnchor:"middle"},t):"insideTop"===e?kA({x:f+h/2,y:g+k,textAnchor:"middle",verticalAnchor:m},t):"insideBottom"===e?kA({x:f+h/2,y:g+i-k,textAnchor:"middle",verticalAnchor:l},t):"insideTopLeft"===e?kA({x:f+o,y:g+k,textAnchor:q,verticalAnchor:m},t):"insideTopRight"===e?kA({x:f+h-o,y:g+k,textAnchor:p,verticalAnchor:m},t):"insideBottomLeft"===e?kA({x:f+o,y:g+i-k,textAnchor:q,verticalAnchor:l},t):"insideBottomRight"===e?kA({x:f+h-o,y:g+i-k,textAnchor:p,verticalAnchor:l},t):au()(e)&&(ag(e.x)||af(e.x))&&(ag(e.y)||af(e.y))?kA({x:f+ak(e.x,h),y:g+ak(e.y,i),textAnchor:"end",verticalAnchor:"end"},t):kA({x:f+h/2,y:g+i/2,textAnchor:"middle",verticalAnchor:"middle"},t)};function kG(a){var b,c=a.offset,d=kA({offset:void 0===c?5:c},function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,kx)),e=d.viewBox,f=d.position,g=d.value,h=d.children,i=d.content,j=d.className,k=d.textBreakAll;if(!e||ad()(g)&&ad()(h)&&!(0,t.isValidElement)(i)&&!as()(i))return null;if((0,t.isValidElement)(i))return(0,t.cloneElement)(i,d);if(as()(i)){if(b=(0,t.createElement)(i,d),(0,t.isValidElement)(b))return b}else b=kC(d);var l="cx"in e&&ag(e.cx),m=aS(d,!0);if(l&&("insideStart"===f||"insideEnd"===f||"end"===f))return kD(d,b,m);var n=l?kE(d):kF(d);return u().createElement(eA,kB({className:T("recharts-label",void 0===j?"":j)},m,n,{breakAll:k}),b)}kG.displayName="Label";var kH=function(a){var b=a.cx,c=a.cy,d=a.angle,e=a.startAngle,f=a.endAngle,g=a.r,h=a.radius,i=a.innerRadius,j=a.outerRadius,k=a.x,l=a.y,m=a.top,n=a.left,o=a.width,p=a.height,q=a.clockWise,r=a.labelViewBox;if(r)return r;if(ag(o)&&ag(p)){if(ag(k)&&ag(l))return{x:k,y:l,width:o,height:p};if(ag(m)&&ag(n))return{x:m,y:n,width:o,height:p}}return ag(k)&&ag(l)?{x:k,y:l,width:0,height:0}:ag(b)&&ag(c)?{cx:b,cy:c,startAngle:e||d||0,endAngle:f||d||0,innerRadius:i||0,outerRadius:j||h||g||0,clockWise:q}:a.viewBox?a.viewBox:{}};kG.parseViewBox=kH,kG.renderCallByParent=function(a,b){var c,d,e=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!a||!a.children&&e&&!a.label)return null;var f=a.children,g=kH(a),h=aN(f,kG).map(function(a,c){return(0,t.cloneElement)(a,{viewBox:b||g,key:"label-".concat(c)})});if(!e)return h;return[(c=a.label,d=b||g,!c?null:!0===c?u().createElement(kG,{key:"label-implicit",viewBox:d}):ah(c)?u().createElement(kG,{key:"label-implicit",viewBox:d,value:c}):(0,t.isValidElement)(c)?c.type===kG?(0,t.cloneElement)(c,{key:"label-implicit",viewBox:d}):u().createElement(kG,{key:"label-implicit",content:c,viewBox:d}):as()(c)?u().createElement(kG,{key:"label-implicit",content:c,viewBox:d}):au()(c)?u().createElement(kG,kB({viewBox:d},c,{key:"label-implicit"})):null)].concat(function(a){if(Array.isArray(a))return ky(a)}(h)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(h)||function(a,b){if(a){if("string"==typeof a)return ky(a,void 0);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return ky(a,b)}}(h)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())};var kI=function(a,b){var c=a.alwaysShow,d=a.ifOverflow;return c&&(d="extendDomain"),d===b},kJ=c(71140),kK=c.n(kJ),kL=c(34311),kM=c.n(kL),kN=function(a){return null};kN.displayName="Cell";var kO=c(97510),kP=c.n(kO);function kQ(a){return(kQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var kR=["valueAccessor"],kS=["data","dataKey","clockWise","id","textBreakAll"];function kT(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function kU(){return(kU=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function kV(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function kW(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?kV(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=kQ(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=kQ(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==kQ(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):kV(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function kX(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}var kY=function(a){return Array.isArray(a.value)?kP()(a.value):a.value};function kZ(a){var b=a.valueAccessor,c=void 0===b?kY:b,d=kX(a,kR),e=d.data,f=d.dataKey,g=d.clockWise,h=d.id,i=d.textBreakAll,j=kX(d,kS);return e&&e.length?u().createElement(ba,{className:"recharts-label-list"},e.map(function(a,b){var d=ad()(f)?c(a,b):ju(a&&a.payload,f),e=ad()(h)?{}:{id:"".concat(h,"-").concat(b)};return u().createElement(kG,kU({},aS(a,!0),j,e,{parentViewBox:a.parentViewBox,value:d,textBreakAll:i,viewBox:kG.parseViewBox(ad()(g)?a:kW(kW({},a),{},{clockWise:g})),key:"label-".concat(b),index:b}))})):null}kZ.displayName="LabelList",kZ.renderCallByParent=function(a,b){var c,d=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!a||!a.children&&d&&!a.label)return null;var e=aN(a.children,kZ).map(function(a,c){return(0,t.cloneElement)(a,{data:b,key:"labelList-".concat(c)})});return d?[(c=a.label,!c?null:!0===c?u().createElement(kZ,{key:"labelList-implicit",data:b}):u().isValidElement(c)||as()(c)?u().createElement(kZ,{key:"labelList-implicit",data:b,content:c}):au()(c)?u().createElement(kZ,kU({data:b},c,{key:"labelList-implicit"})):null)].concat(function(a){if(Array.isArray(a))return kT(a)}(e)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(e)||function(a,b){if(a){if("string"==typeof a)return kT(a,void 0);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return kT(a,b)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):e};var k$=c(85511),k_=c.n(k$),k0=c(77516),k1=c.n(k0);function k2(a){return(k2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function k3(){return(k3=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function k4(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function k5(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function k6(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?k5(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=k2(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=k2(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==k2(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):k5(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var k7=function(a,b,c,d,e){var f=c-d;return"M ".concat(a,",").concat(b)+"L ".concat(a+c,",").concat(b)+"L ".concat(a+c-f/2,",").concat(b+e)+"L ".concat(a+c-f/2-d,",").concat(b+e)+"L ".concat(a,",").concat(b," Z")},k8={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},k9=function(a){var b,c=k6(k6({},k8),a),d=(0,t.useRef)(),e=function(a){if(Array.isArray(a))return a}(b=(0,t.useState)(-1))||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{f=(c=c.call(a)).next,!1;for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(b,2)||function(a,b){if(a){if("string"==typeof a)return k4(a,2);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return k4(a,b)}}(b,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=e[0],g=e[1];(0,t.useEffect)(function(){if(d.current&&d.current.getTotalLength)try{var a=d.current.getTotalLength();a&&g(a)}catch(a){}},[]);var h=c.x,i=c.y,j=c.upperWidth,k=c.lowerWidth,l=c.height,m=c.className,n=c.animationEasing,o=c.animationDuration,p=c.animationBegin,q=c.isUpdateAnimationActive;if(h!==+h||i!==+i||j!==+j||k!==+k||l!==+l||0===j&&0===k||0===l)return null;var r=T("recharts-trapezoid",m);return q?u().createElement(dM,{canBegin:f>0,from:{upperWidth:0,lowerWidth:0,height:l,x:h,y:i},to:{upperWidth:j,lowerWidth:k,height:l,x:h,y:i},duration:o,animationEasing:n,isActive:q},function(a){var b=a.upperWidth,e=a.lowerWidth,g=a.height,h=a.x,i=a.y;return u().createElement(dM,{canBegin:f>0,from:"0px ".concat(-1===f?1:f,"px"),to:"".concat(f,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:o,easing:n},u().createElement("path",k3({},aS(c,!0),{className:r,d:k7(h,i,b,e,g),ref:d})))}):u().createElement("g",null,u().createElement("path",k3({},aS(c,!0),{className:r,d:k7(h,i,j,k,l)})))};function la(a){return(la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function lb(){return(lb=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function lc(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ld(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?lc(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=la(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=la(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==la(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):lc(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var le=function(a){var b=a.cx,c=a.cy,d=a.radius,e=a.angle,f=a.sign,g=a.isExternal,h=a.cornerRadius,i=a.cornerIsExternal,j=h*(g?1:-1)+d,k=Math.asin(h/j)/ko,l=i?e:e+f*k;return{center:kp(b,c,j,l),circleTangency:kp(b,c,d,l),lineTangency:kp(b,c,j*Math.cos(k*ko),i?e-f*k:e),theta:k}},lf=function(a){var b=a.cx,c=a.cy,d=a.innerRadius,e=a.outerRadius,f=a.startAngle,g=a.endAngle,h=ae(g-f)*Math.min(Math.abs(g-f),359.999),i=f+h,j=kp(b,c,e,f),k=kp(b,c,e,i),l="M ".concat(j.x,",").concat(j.y,"\n    A ").concat(e,",").concat(e,",0,\n    ").concat(+(Math.abs(h)>180),",").concat(+(f>i),",\n    ").concat(k.x,",").concat(k.y,"\n  ");if(d>0){var m=kp(b,c,d,f),n=kp(b,c,d,i);l+="L ".concat(n.x,",").concat(n.y,"\n            A ").concat(d,",").concat(d,",0,\n            ").concat(+(Math.abs(h)>180),",").concat(+(f<=i),",\n            ").concat(m.x,",").concat(m.y," Z")}else l+="L ".concat(b,",").concat(c," Z");return l},lg=function(a){var b=a.cx,c=a.cy,d=a.innerRadius,e=a.outerRadius,f=a.cornerRadius,g=a.forceCornerRadius,h=a.cornerIsExternal,i=a.startAngle,j=a.endAngle,k=ae(j-i),l=le({cx:b,cy:c,radius:e,angle:i,sign:k,cornerRadius:f,cornerIsExternal:h}),m=l.circleTangency,n=l.lineTangency,o=l.theta,p=le({cx:b,cy:c,radius:e,angle:j,sign:-k,cornerRadius:f,cornerIsExternal:h}),q=p.circleTangency,r=p.lineTangency,s=p.theta,t=h?Math.abs(i-j):Math.abs(i-j)-o-s;if(t<0)return g?"M ".concat(n.x,",").concat(n.y,"\n        a").concat(f,",").concat(f,",0,0,1,").concat(2*f,",0\n        a").concat(f,",").concat(f,",0,0,1,").concat(-(2*f),",0\n      "):lf({cx:b,cy:c,innerRadius:d,outerRadius:e,startAngle:i,endAngle:j});var u="M ".concat(n.x,",").concat(n.y,"\n    A").concat(f,",").concat(f,",0,0,").concat(+(k<0),",").concat(m.x,",").concat(m.y,"\n    A").concat(e,",").concat(e,",0,").concat(+(t>180),",").concat(+(k<0),",").concat(q.x,",").concat(q.y,"\n    A").concat(f,",").concat(f,",0,0,").concat(+(k<0),",").concat(r.x,",").concat(r.y,"\n  ");if(d>0){var v=le({cx:b,cy:c,radius:d,angle:i,sign:k,isExternal:!0,cornerRadius:f,cornerIsExternal:h}),w=v.circleTangency,x=v.lineTangency,y=v.theta,z=le({cx:b,cy:c,radius:d,angle:j,sign:-k,isExternal:!0,cornerRadius:f,cornerIsExternal:h}),A=z.circleTangency,B=z.lineTangency,C=z.theta,D=h?Math.abs(i-j):Math.abs(i-j)-y-C;if(D<0&&0===f)return"".concat(u,"L").concat(b,",").concat(c,"Z");u+="L".concat(B.x,",").concat(B.y,"\n      A").concat(f,",").concat(f,",0,0,").concat(+(k<0),",").concat(A.x,",").concat(A.y,"\n      A").concat(d,",").concat(d,",0,").concat(+(D>180),",").concat(+(k>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(f,",").concat(f,",0,0,").concat(+(k<0),",").concat(x.x,",").concat(x.y,"Z")}else u+="L".concat(b,",").concat(c,"Z");return u},lh={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},li=function(a){var b,c=ld(ld({},lh),a),d=c.cx,e=c.cy,f=c.innerRadius,g=c.outerRadius,h=c.cornerRadius,i=c.forceCornerRadius,j=c.cornerIsExternal,k=c.startAngle,l=c.endAngle,m=c.className;if(g<f||k===l)return null;var n=T("recharts-sector",m),o=g-f,p=ak(h,o,0,!0);return b=p>0&&360>Math.abs(k-l)?lg({cx:d,cy:e,innerRadius:f,outerRadius:g,cornerRadius:Math.min(p,o/2),forceCornerRadius:i,cornerIsExternal:j,startAngle:k,endAngle:l}):lf({cx:d,cy:e,innerRadius:f,outerRadius:g,startAngle:k,endAngle:l}),u().createElement("path",lb({},aS(c,!0),{className:n,d:b,role:"img"}))},lj=["option","shapeType","propTransformer","activeClassName","isActive"];function lk(a){return(lk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function ll(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function lm(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ll(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=lk(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=lk(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==lk(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ll(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function ln(a){var b=a.shapeType,c=a.elementProps;switch(b){case"rectangle":return u().createElement(dV,c);case"trapezoid":return u().createElement(k9,c);case"sector":return u().createElement(li,c);case"symbols":if("symbols"===b)return u().createElement(ce,c);break;default:return null}}function lo(a){var b,c=a.option,d=a.shapeType,e=a.propTransformer,f=a.activeClassName,g=a.isActive,h=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,lj);if((0,t.isValidElement)(c))b=(0,t.cloneElement)(c,lm(lm({},h),(0,t.isValidElement)(c)?c.props:c));else if(as()(c))b=c(h);else if(k_()(c)&&!k1()(c)){var i=(void 0===e?function(a,b){return lm(lm({},b),a)}:e)(c,h);b=u().createElement(ln,{shapeType:d,elementProps:i})}else b=u().createElement(ln,{shapeType:d,elementProps:h});return g?u().createElement(ba,{className:void 0===f?"recharts-active-shape":f},b):b}function lp(a,b){return null!=b&&"trapezoids"in a.props}function lq(a,b){return null!=b&&"sectors"in a.props}function lr(a,b){return null!=b&&"points"in a.props}function ls(a,b){var c,d,e=a.x===(null==b||null==(c=b.labelViewBox)?void 0:c.x)||a.x===b.x,f=a.y===(null==b||null==(d=b.labelViewBox)?void 0:d.y)||a.y===b.y;return e&&f}function lt(a,b){var c=a.endAngle===b.endAngle,d=a.startAngle===b.startAngle;return c&&d}function lu(a,b){var c=a.x===b.x,d=a.y===b.y,e=a.z===b.z;return c&&d&&e}var lv=["x","y"];function lw(a){return(lw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function lx(){return(lx=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function ly(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function lz(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ly(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=lw(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=lw(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==lw(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ly(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function lA(a,b){var c=a.x,d=a.y,e=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,lv),f=parseInt("".concat(c),10),g=parseInt("".concat(d),10),h=parseInt("".concat(b.height||e.height),10),i=parseInt("".concat(b.width||e.width),10);return lz(lz(lz(lz(lz({},b),e),f?{x:f}:{}),g?{y:g}:{}),{},{height:h,width:i,name:b.name,radius:b.radius})}function lB(a){return u().createElement(lo,lx({shapeType:"rectangle",propTransformer:lA,activeClassName:"recharts-active-bar"},a))}var lC=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(c,d){if("number"==typeof a)return a;var e=ag(c)||ad()(c);return e?a(c,d):(e||a4(!1),b)}},lD=["value","background"];function lE(a){return(lE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function lF(){return(lF=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function lG(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function lH(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?lG(Object(c),!0).forEach(function(b){lM(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):lG(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function lI(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,lN(d.key),d)}}function lJ(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(lJ=function(){return!!a})()}function lK(a){return(lK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function lL(a,b){return(lL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function lM(a,b,c){return(b=lN(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function lN(a){var b=function(a,b){if("object"!=lE(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=lE(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==lE(b)?b:b+""}var lO=function(a){var b,c;function d(){var a,b,c;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");for(var e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];return b=d,c=[].concat(f),b=lK(b),lM(a=function(a,b){if(b&&("object"===lE(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,lJ()?Reflect.construct(b,c||[],lK(this).constructor):b.apply(this,c)),"state",{isAnimationFinished:!1}),lM(a,"id",aj("recharts-bar-")),lM(a,"handleAnimationEnd",function(){var b=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),b&&b()}),lM(a,"handleAnimationStart",function(){var b=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),b&&b()}),a}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),a&&lL(d,a),b=[{key:"renderRectanglesStatically",value:function(a){var b=this,c=this.props,d=c.shape,e=c.dataKey,f=c.activeIndex,g=c.activeBar,h=aS(this.props,!1);return a&&a.map(function(a,c){var i=c===f,j=lH(lH(lH({},h),a),{},{isActive:i,option:i?g:d,index:c,dataKey:e,onAnimationStart:b.handleAnimationStart,onAnimationEnd:b.handleAnimationEnd});return u().createElement(ba,lF({className:"recharts-bar-rectangle"},aD(b.props,a,c),{key:"rectangle-".concat(null==a?void 0:a.x,"-").concat(null==a?void 0:a.y,"-").concat(null==a?void 0:a.value,"-").concat(c)}),u().createElement(lB,j))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,b=this.props,c=b.data,d=b.layout,e=b.isAnimationActive,f=b.animationBegin,g=b.animationDuration,h=b.animationEasing,i=b.animationId,j=this.state.prevData;return u().createElement(dM,{begin:f,duration:g,isActive:e,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(i),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var e=b.t,f=c.map(function(a,b){var c=j&&j[b];if(c){var f=an(c.x,a.x),g=an(c.y,a.y),h=an(c.width,a.width),i=an(c.height,a.height);return lH(lH({},a),{},{x:f(e),y:g(e),width:h(e),height:i(e)})}if("horizontal"===d){var k=an(0,a.height)(e);return lH(lH({},a),{},{y:a.y+a.height-k,height:k})}var l=an(0,a.width)(e);return lH(lH({},a),{},{width:l})});return u().createElement(ba,null,a.renderRectanglesStatically(f))})}},{key:"renderRectangles",value:function(){var a=this.props,b=a.data,c=a.isAnimationActive,d=this.state.prevData;return c&&b&&b.length&&(!d||!ir()(d,b))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(b)}},{key:"renderBackground",value:function(){var a=this,b=this.props,c=b.data,d=b.dataKey,e=b.activeIndex,f=aS(this.props.background,!1);return c.map(function(b,c){b.value;var g=b.background,h=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(b,lD);if(!g)return null;var i=lH(lH(lH(lH(lH({},h),{},{fill:"#eee"},g),f),aD(a.props,b,c)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:d,index:c,className:"recharts-bar-background-rectangle"});return u().createElement(lB,lF({key:"background-bar-".concat(c),option:a.props.background,isActive:c===e},i))})}},{key:"renderErrorBar",value:function(a,b){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var c=this.props,d=c.data,e=c.xAxis,f=c.yAxis,g=c.layout,h=aN(c.children,jj);if(!h)return null;var i="vertical"===g?d[0].height/2:d[0].width/2,j=function(a,b){var c=Array.isArray(a.value)?a.value[1]:a.value;return{x:a.x,y:a.y,value:c,errorVal:ju(a,b)}};return u().createElement(ba,{clipPath:a?"url(#clipPath-".concat(b,")"):null},h.map(function(a){return u().cloneElement(a,{key:"error-bar-".concat(b,"-").concat(a.props.dataKey),data:d,xAxis:e,yAxis:f,layout:g,offset:i,dataPointFormatter:j})}))}},{key:"render",value:function(){var a=this.props,b=a.hide,c=a.data,d=a.className,e=a.xAxis,f=a.yAxis,g=a.left,h=a.top,i=a.width,j=a.height,k=a.isAnimationActive,l=a.background,m=a.id;if(b||!c||!c.length)return null;var n=this.state.isAnimationFinished,o=T("recharts-bar",d),p=e&&e.allowDataOverflow,q=f&&f.allowDataOverflow,r=p||q,s=ad()(m)?this.id:m;return u().createElement(ba,{className:o},p||q?u().createElement("defs",null,u().createElement("clipPath",{id:"clipPath-".concat(s)},u().createElement("rect",{x:p?g:g-i/2,y:q?h:h-j/2,width:p?i:2*i,height:q?j:2*j}))):null,u().createElement(ba,{className:"recharts-bar-rectangles",clipPath:r?"url(#clipPath-".concat(s,")"):null},l?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(r,s),(!k||n)&&kZ.renderCallByParent(this.props,c))}}],c=[{key:"getDerivedStateFromProps",value:function(a,b){return a.animationId!==b.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:b.curData}:a.data!==b.curData?{curData:a.data}:null}}],b&&lI(d.prototype,b),c&&lI(d,c),Object.defineProperty(d,"prototype",{writable:!1}),d}(t.PureComponent);function lP(a){return(lP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function lQ(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,lU(d.key),d)}}function lR(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function lS(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?lR(Object(c),!0).forEach(function(b){lT(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):lR(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function lT(a,b,c){return(b=lU(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function lU(a){var b=function(a,b){if("object"!=lP(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=lP(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==lP(b)?b:b+""}lM(lO,"displayName","Bar"),lM(lO,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!bw.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),lM(lO,"getComposedData",function(a){var b=a.props,c=a.item,d=a.barPosition,e=a.bandSize,f=a.xAxis,g=a.yAxis,h=a.xAxisTicks,i=a.yAxisTicks,j=a.stackedData,k=a.dataStartIndex,l=a.displayedData,m=a.offset,n=jL(d,c);if(!n)return null;var o=b.layout,p=c.type.defaultProps,q=void 0!==p?lH(lH({},p),c.props):c.props,r=q.dataKey,s=q.children,t=q.minPointSize,u="horizontal"===o?g:f,v=j?u.scale.domain():null,w=jT({numericAxis:u}),x=aN(s,kN),y=l.map(function(a,b){j?l=jM(j[k+b],v):Array.isArray(l=ju(a,r))||(l=[w,l]);var d=lC(t,lO.defaultProps.minPointSize)(l[1],b);if("horizontal"===o){var l,m,p,q,s,u,y,z=[g.scale(l[0]),g.scale(l[1])],A=z[0],B=z[1];m=jS({axis:f,ticks:h,bandSize:e,offset:n.offset,entry:a,index:b}),p=null!=(y=null!=B?B:A)?y:void 0,q=n.size;var C=A-B;if(s=Number.isNaN(C)?0:C,u={x:m,y:g.y,width:q,height:g.height},Math.abs(d)>0&&Math.abs(s)<Math.abs(d)){var D=ae(s||d)*(Math.abs(d)-Math.abs(s));p-=D,s+=D}}else{var E=[f.scale(l[0]),f.scale(l[1])],F=E[0],G=E[1];if(m=F,p=jS({axis:g,ticks:i,bandSize:e,offset:n.offset,entry:a,index:b}),q=G-F,s=n.size,u={x:f.x,y:p,width:f.width,height:s},Math.abs(d)>0&&Math.abs(q)<Math.abs(d)){var H=ae(q||d)*(Math.abs(d)-Math.abs(q));q+=H}}return lH(lH(lH({},a),{},{x:m,y:p,width:q,height:s,value:j?l:l[1],payload:a,background:u},x&&x[b]&&x[b].props),{},{tooltipPayload:[j_(c,a)],tooltipPosition:{x:m+q/2,y:p+s/2}})});return lH({data:y,layout:o},m)});var lV=function(a,b,c,d,e){var f=a.width,g=a.height,h=a.layout,i=a.children,j=Object.keys(b),k={left:c.left,leftMirror:c.left,right:f-c.right,rightMirror:f-c.right,top:c.top,topMirror:c.top,bottom:g-c.bottom,bottomMirror:g-c.bottom},l=!!aO(i,lO);return j.reduce(function(f,g){var i,j,m,n,o,p=b[g],q=p.orientation,r=p.domain,s=p.padding,t=void 0===s?{}:s,u=p.mirror,v=p.reversed,w="".concat(q).concat(u?"Mirror":"");if("number"===p.type&&("gap"===p.padding||"no-gap"===p.padding)){var x=r[1]-r[0],y=1/0,z=p.categoricalDomain.sort(ap);if(z.forEach(function(a,b){b>0&&(y=Math.min((a||0)-(z[b-1]||0),y))}),Number.isFinite(y)){var A=y/x,B="vertical"===p.layout?c.height:c.width;if("gap"===p.padding&&(i=A*B/2),"no-gap"===p.padding){var C=ak(a.barCategoryGap,A*B),D=A*B/2;i=D-C-(D-C)/B*C}}}j="xAxis"===d?[c.left+(t.left||0)+(i||0),c.left+c.width-(t.right||0)-(i||0)]:"yAxis"===d?"horizontal"===h?[c.top+c.height-(t.bottom||0),c.top+(t.top||0)]:[c.top+(t.top||0)+(i||0),c.top+c.height-(t.bottom||0)-(i||0)]:p.range,v&&(j=[j[1],j[0]]);var E=jJ(p,e,l),F=E.scale,G=E.realScaleType;F.domain(r).range(j),jK(F);var H=jQ(F,lS(lS({},p),{},{realScaleType:G}));"xAxis"===d?(o="top"===q&&!u||"bottom"===q&&u,m=c.left,n=k[w]-o*p.height):"yAxis"===d&&(o="left"===q&&!u||"right"===q&&u,m=k[w]-o*p.width,n=c.top);var I=lS(lS(lS({},p),H),{},{realScaleType:G,x:m,y:n,scale:F,width:"xAxis"===d?c.width:p.width,height:"yAxis"===d?c.height:p.height});return I.bandSize=jZ(I,H),p.hide||"xAxis"!==d?p.hide||(k[w]+=(o?-1:1)*I.width):k[w]+=(o?-1:1)*I.height,lS(lS({},f),{},lT({},g,I))},{})},lW=function(a,b){var c=a.x,d=a.y,e=b.x,f=b.y;return{x:Math.min(c,e),y:Math.min(d,f),width:Math.abs(e-c),height:Math.abs(f-d)}},lX=function(){var a,b;function c(a){if(!(this instanceof c))throw TypeError("Cannot call a class as a function");this.scale=a}return a=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=b.bandAware,d=b.position;if(void 0!==a){if(d)switch(d){case"start":default:return this.scale(a);case"middle":var e=this.bandwidth?this.bandwidth()/2:0;return this.scale(a)+e;case"end":var f=this.bandwidth?this.bandwidth():0;return this.scale(a)+f}if(c){var g=this.bandwidth?this.bandwidth()/2:0;return this.scale(a)+g}return this.scale(a)}}},{key:"isInRange",value:function(a){var b=this.range(),c=b[0],d=b[b.length-1];return c<=d?a>=c&&a<=d:a>=d&&a<=c}}],b=[{key:"create",value:function(a){return new c(a)}}],a&&lQ(c.prototype,a),b&&lQ(c,b),Object.defineProperty(c,"prototype",{writable:!1}),c}();lT(lX,"EPS",1e-4);var lY=function(a){var b=Object.keys(a).reduce(function(b,c){return lS(lS({},b),{},lT({},c,lX.create(a[c])))},{});return lS(lS({},b),{},{apply:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=c.bandAware,e=c.position;return kK()(a,function(a,c){return b[c].apply(a,{bandAware:d,position:e})})},isInRange:function(a){return kM()(a,function(a,c){return b[c].isInRange(a)})}})},lZ=function(a){var b=a.width,c=a.height,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(d%180+180)%180*Math.PI/180,f=Math.atan(c/b);return Math.abs(e>f&&e<Math.PI-f?c/Math.sin(e):b/Math.cos(e))};function l$(){return(l$=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function l_(a){return(l_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function l0(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function l1(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?l0(Object(c),!0).forEach(function(b){l5(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):l0(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function l2(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(l2=function(){return!!a})()}function l3(a){return(l3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function l4(a,b){return(l4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function l5(a,b,c){return(b=l6(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function l6(a){var b=function(a,b){if("object"!=l_(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=l_(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==l_(b)?b:b+""}var l7=function(a){var b=a.x,c=a.y,d=a.xAxis,e=a.yAxis,f=lY({x:d.scale,y:e.scale}),g=f.apply({x:b,y:c},{bandAware:!0});return kI(a,"discard")&&!f.isInRange(g)?null:g},l8=function(a){var b;function c(){var a,b;if(!(this instanceof c))throw TypeError("Cannot call a class as a function");return a=c,b=arguments,a=l3(a),function(a,b){if(b&&("object"===l_(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,l2()?Reflect.construct(a,b||[],l3(this).constructor):a.apply(this,b))}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),a&&l4(c,a),b=[{key:"render",value:function(){var a=this.props,b=a.x,d=a.y,e=a.r,f=a.alwaysShow,g=a.clipPathId,h=ah(b),i=ah(d);if(aq(void 0===f,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!i)return null;var j=l7(this.props);if(!j)return null;var k=j.x,l=j.y,m=this.props,n=m.shape,o=m.className,p=l1(l1({clipPath:kI(this.props,"hidden")?"url(#".concat(g,")"):void 0},aS(this.props,!0)),{},{cx:k,cy:l});return u().createElement(ba,{className:T("recharts-reference-dot",o)},c.renderDot(n,p),kG.renderCallByParent(this.props,{x:k-e,y:l-e,width:2*e,height:2*e}))}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,l6(d.key),d)}}(c.prototype,b),Object.defineProperty(c,"prototype",{writable:!1}),c}(u().Component);l5(l8,"displayName","ReferenceDot"),l5(l8,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),l5(l8,"renderDot",function(a,b){return u().isValidElement(a)?u().cloneElement(a,b):as()(a)?a(b):u().createElement(cB,l$({},b,{cx:b.cx,cy:b.cy,className:"recharts-reference-dot-dot"}))});var l9=c(84678),ma=c.n(l9),mb=c(28925),mc=c.n(mb),md=c(86280),me=c.n(md)()(function(a){return{x:a.left,y:a.top,width:a.width,height:a.height}},function(a){return"l"+a.left+"t"+a.top+"w"+a.width+"h"+a.height}),mf=(0,t.createContext)(void 0),mg=(0,t.createContext)(void 0),mh=(0,t.createContext)(void 0),mi=(0,t.createContext)({}),mj=(0,t.createContext)(void 0),mk=(0,t.createContext)(0),ml=(0,t.createContext)(0),mm=function(a){var b=a.state,c=b.xAxisMap,d=b.yAxisMap,e=b.offset,f=a.clipPathId,g=a.children,h=a.width,i=a.height,j=me(e);return u().createElement(mf.Provider,{value:c},u().createElement(mg.Provider,{value:d},u().createElement(mi.Provider,{value:e},u().createElement(mh.Provider,{value:j},u().createElement(mj.Provider,{value:f},u().createElement(mk.Provider,{value:i},u().createElement(ml.Provider,{value:h},g)))))))},mn=function(a){var b=(0,t.useContext)(mf);null==b&&a4(!1);var c=b[a];return null==c&&a4(!1),c},mo=function(){var a=(0,t.useContext)(mg);return mc()(a,function(a){return kM()(a.domain,Number.isFinite)})||al(a)},mp=function(a){var b=(0,t.useContext)(mg);null==b&&a4(!1);var c=b[a];return null==c&&a4(!1),c},mq=function(){return(0,t.useContext)(ml)},mr=function(){return(0,t.useContext)(mk)};function ms(a){return(ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function mt(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(mt=function(){return!!a})()}function mu(a){return(mu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function mv(a,b){return(mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function mw(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function mx(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?mw(Object(c),!0).forEach(function(b){my(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):mw(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function my(a,b,c){return(b=mz(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function mz(a){var b=function(a,b){if("object"!=ms(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=ms(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==ms(b)?b:b+""}function mA(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function mB(){return(mB=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var mC=function(a,b){return u().isValidElement(a)?u().cloneElement(a,b):as()(a)?a(b):u().createElement("line",mB({},b,{className:"recharts-reference-line-line"}))},mD=function(a,b,c,d,e,f,g,h,i){var j=e.x,k=e.y,l=e.width,m=e.height;if(c){var n=i.y,o=a.y.apply(n,{position:f});if(kI(i,"discard")&&!a.y.isInRange(o))return null;var p=[{x:j+l,y:o},{x:j,y:o}];return"left"===h?p.reverse():p}if(b){var q=i.x,r=a.x.apply(q,{position:f});if(kI(i,"discard")&&!a.x.isInRange(r))return null;var s=[{x:r,y:k+m},{x:r,y:k}];return"top"===g?s.reverse():s}if(d){var t=i.segment.map(function(b){return a.apply(b,{position:f})});return kI(i,"discard")&&ma()(t,function(b){return!a.isInRange(b)})?null:t}return null};function mE(a){var b,c=a.x,d=a.y,e=a.segment,f=a.xAxisId,g=a.yAxisId,h=a.shape,i=a.className,j=a.alwaysShow,k=(0,t.useContext)(mj),l=mn(f),m=mp(g),n=(0,t.useContext)(mh);if(!k||!n)return null;aq(void 0===j,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var o=mD(lY({x:l.scale,y:m.scale}),ah(c),ah(d),e&&2===e.length,n,a.position,l.orientation,m.orientation,a);if(!o)return null;var p=function(a){if(Array.isArray(a))return a}(o)||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{f=(c=c.call(a)).next,!1;for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(o,2)||function(a,b){if(a){if("string"==typeof a)return mA(a,2);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return mA(a,b)}}(o,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),q=p[0],r=q.x,s=q.y,v=p[1],w=v.x,x=v.y,y=mx(mx({clipPath:kI(a,"hidden")?"url(#".concat(k,")"):void 0},aS(a,!0)),{},{x1:r,y1:s,x2:w,y2:x});return u().createElement(ba,{className:T("recharts-reference-line",i)},mC(h,y),kG.renderCallByParent(a,lW({x:(b={x1:r,y1:s,x2:w,y2:x}).x1,y:b.y1},{x:b.x2,y:b.y2})))}var mF=function(a){var b;function c(){var a,b;if(!(this instanceof c))throw TypeError("Cannot call a class as a function");return a=c,b=arguments,a=mu(a),function(a,b){if(b&&("object"===ms(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,mt()?Reflect.construct(a,b||[],mu(this).constructor):a.apply(this,b))}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),a&&mv(c,a),b=[{key:"render",value:function(){return u().createElement(mE,this.props)}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,mz(d.key),d)}}(c.prototype,b),Object.defineProperty(c,"prototype",{writable:!1}),c}(u().Component);function mG(){return(mG=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function mH(a){return(mH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function mI(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function mJ(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?mI(Object(c),!0).forEach(function(b){mN(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):mI(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}my(mF,"displayName","ReferenceLine"),my(mF,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function mK(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(mK=function(){return!!a})()}function mL(a){return(mL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function mM(a,b){return(mM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function mN(a,b,c){return(b=mO(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function mO(a){var b=function(a,b){if("object"!=mH(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=mH(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==mH(b)?b:b+""}var mP=function(a,b,c,d,e){var f=e.x1,g=e.x2,h=e.y1,i=e.y2,j=e.xAxis,k=e.yAxis;if(!j||!k)return null;var l=lY({x:j.scale,y:k.scale}),m={x:a?l.x.apply(f,{position:"start"}):l.x.rangeMin,y:c?l.y.apply(h,{position:"start"}):l.y.rangeMin},n={x:b?l.x.apply(g,{position:"end"}):l.x.rangeMax,y:d?l.y.apply(i,{position:"end"}):l.y.rangeMax};return!kI(e,"discard")||l.isInRange(m)&&l.isInRange(n)?lW(m,n):null},mQ=function(a){var b;function c(){var a,b;if(!(this instanceof c))throw TypeError("Cannot call a class as a function");return a=c,b=arguments,a=mL(a),function(a,b){if(b&&("object"===mH(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,mK()?Reflect.construct(a,b||[],mL(this).constructor):a.apply(this,b))}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),a&&mM(c,a),b=[{key:"render",value:function(){var a=this.props,b=a.x1,d=a.x2,e=a.y1,f=a.y2,g=a.className,h=a.alwaysShow,i=a.clipPathId;aq(void 0===h,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var j=ah(b),k=ah(d),l=ah(e),m=ah(f),n=this.props.shape;if(!j&&!k&&!l&&!m&&!n)return null;var o=mP(j,k,l,m,this.props);if(!o&&!n)return null;var p=kI(this.props,"hidden")?"url(#".concat(i,")"):void 0;return u().createElement(ba,{className:T("recharts-reference-area",g)},c.renderRect(n,mJ(mJ({clipPath:p},aS(this.props,!0)),o)),kG.renderCallByParent(this.props,o))}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,mO(d.key),d)}}(c.prototype,b),Object.defineProperty(c,"prototype",{writable:!1}),c}(u().Component);function mR(a){return function(a){if(Array.isArray(a))return mS(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function(a,b){if(a){if("string"==typeof a)return mS(a,void 0);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return mS(a,b)}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mS(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}mN(mQ,"displayName","ReferenceArea"),mN(mQ,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),mN(mQ,"renderRect",function(a,b){return u().isValidElement(a)?u().cloneElement(a,b):as()(a)?a(b):u().createElement(dV,mG({},b,{className:"recharts-reference-area-rect"}))});var mT=function(a,b,c,d,e){var f=aN(a,mF),g=aN(a,l8),h=[].concat(mR(f),mR(g)),i=aN(a,mQ),j="".concat(d,"Id"),k=d[0],l=b;if(h.length&&(l=h.reduce(function(a,b){if(b.props[j]===c&&kI(b.props,"extendDomain")&&ag(b.props[k])){var d=b.props[k];return[Math.min(a[0],d),Math.max(a[1],d)]}return a},l)),i.length){var m="".concat(k,"1"),n="".concat(k,"2");l=i.reduce(function(a,b){if(b.props[j]===c&&kI(b.props,"extendDomain")&&ag(b.props[m])&&ag(b.props[n])){var d=b.props[m],e=b.props[n];return[Math.min(a[0],d,e),Math.max(a[1],d,e)]}return a},l)}return e&&e.length&&(l=e.reduce(function(a,b){return ag(b)?[Math.min(a[0],b),Math.max(a[1],b)]:a},l)),l},mU=c(85964),mV=new(c.n(mU)()),mW="recharts.syncMouseEvents";function mX(a){return(mX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function mY(a,b,c){return(b=mZ(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function mZ(a){var b=function(a,b){if("object"!=mX(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=mX(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==mX(b)?b:b+""}var m$=function(){var a,b;return a=function a(){if(!(this instanceof a))throw TypeError("Cannot call a class as a function");mY(this,"activeIndex",0),mY(this,"coordinateList",[]),mY(this,"layout","horizontal")},b=[{key:"setDetails",value:function(a){var b,c=a.coordinateList,d=void 0===c?null:c,e=a.container,f=void 0===e?null:e,g=a.layout,h=void 0===g?null:g,i=a.offset,j=void 0===i?null:i,k=a.mouseHandlerCallback,l=void 0===k?null:k;this.coordinateList=null!=(b=null!=d?d:this.coordinateList)?b:[],this.container=null!=f?f:this.container,this.layout=null!=h?h:this.layout,this.offset=null!=j?j:this.offset,this.mouseHandlerCallback=null!=l?l:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(a){if(0!==this.coordinateList.length)switch(a.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(a){this.activeIndex=a}},{key:"spoofMouse",value:function(){if("horizontal"===this.layout&&0!==this.coordinateList.length){var a,b,c=this.container.getBoundingClientRect(),d=c.x,e=c.y,f=c.height,g=this.coordinateList[this.activeIndex].coordinate,h=(null==(a=window)?void 0:a.scrollX)||0,i=(null==(b=window)?void 0:b.scrollY)||0,j=e+this.offset.top+f/2+i;this.mouseHandlerCallback({pageX:d+g+h,pageY:j})}}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,mZ(d.key),d)}}(a.prototype,b),Object.defineProperty(a,"prototype",{writable:!1}),a}();function m_(){}function m0(a,b,c){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+b)/6,(a._y0+4*a._y1+c)/6)}function m1(a){this._context=a}function m2(a){this._context=a}function m3(a){this._context=a}m1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:m0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:m0(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}},m2.prototype={areaStart:m_,areaEnd:m_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._x2=a,this._y2=b;break;case 1:this._point=2,this._x3=a,this._y3=b;break;case 2:this._point=3,this._x4=a,this._y4=b,this._context.moveTo((this._x0+4*this._x1+a)/6,(this._y0+4*this._y1+b)/6);break;default:m0(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}},m3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var c=(this._x0+4*this._x1+a)/6,d=(this._y0+4*this._y1+b)/6;this._line?this._context.lineTo(c,d):this._context.moveTo(c,d);break;case 3:this._point=4;default:m0(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}};class m4{constructor(a,b){this._context=a,this._x=b}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+a)/2,this._y0,this._x0,b,a,b):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+b)/2,a,this._y0,a,b)}this._x0=a,this._y0=b}}function m5(a){this._context=a}function m6(a){this._context=a}function m7(a){return new m6(a)}m5.prototype={areaStart:m_,areaEnd:m_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(a,b){a*=1,b*=1,this._point?this._context.lineTo(a,b):(this._point=1,this._context.moveTo(a,b))}};function m8(a,b,c){var d=a._x1-a._x0,e=b-a._x1,f=(a._y1-a._y0)/(d||e<0&&-0),g=(c-a._y1)/(e||d<0&&-0);return((f<0?-1:1)+(g<0?-1:1))*Math.min(Math.abs(f),Math.abs(g),.5*Math.abs((f*e+g*d)/(d+e)))||0}function m9(a,b){var c=a._x1-a._x0;return c?(3*(a._y1-a._y0)/c-b)/2:b}function na(a,b,c){var d=a._x0,e=a._y0,f=a._x1,g=a._y1,h=(f-d)/3;a._context.bezierCurveTo(d+h,e+h*b,f-h,g-h*c,f,g)}function nb(a){this._context=a}function nc(a){this._context=new nd(a)}function nd(a){this._context=a}function ne(a){this._context=a}function nf(a){var b,c,d=a.length-1,e=Array(d),f=Array(d),g=Array(d);for(e[0]=0,f[0]=2,g[0]=a[0]+2*a[1],b=1;b<d-1;++b)e[b]=1,f[b]=4,g[b]=4*a[b]+2*a[b+1];for(e[d-1]=2,f[d-1]=7,g[d-1]=8*a[d-1]+a[d],b=1;b<d;++b)c=e[b]/f[b-1],f[b]-=c,g[b]-=c*g[b-1];for(e[d-1]=g[d-1]/f[d-1],b=d-2;b>=0;--b)e[b]=(g[b]-e[b+1])/f[b];for(b=0,f[d-1]=(a[d]+e[d-1])/2;b<d-1;++b)f[b]=2*a[b+1]-e[b+1];return[e,f]}function ng(a,b){this._context=a,this._t=b}function nh(a){return a[0]}function ni(a){return a[1]}function nj(a,b){var c=b_(!0),d=null,e=m7,f=null,g=b5(h);function h(h){var i,j,k,l=(h=h5(h)).length,m=!1;for(null==d&&(f=e(k=g())),i=0;i<=l;++i)!(i<l&&c(j=h[i],i,h))===m&&((m=!m)?f.lineStart():f.lineEnd()),m&&f.point(+a(j,i,h),+b(j,i,h));if(k)return f=null,k+""||null}return a="function"==typeof a?a:void 0===a?nh:b_(a),b="function"==typeof b?b:void 0===b?ni:b_(b),h.x=function(b){return arguments.length?(a="function"==typeof b?b:b_(+b),h):a},h.y=function(a){return arguments.length?(b="function"==typeof a?a:b_(+a),h):b},h.defined=function(a){return arguments.length?(c="function"==typeof a?a:b_(!!a),h):c},h.curve=function(a){return arguments.length?(e=a,null!=d&&(f=e(d)),h):e},h.context=function(a){return arguments.length?(null==a?d=f=null:f=e(d=a),h):d},h}function nk(a,b,c){var d=null,e=b_(!0),f=null,g=m7,h=null,i=b5(j);function j(j){var k,l,m,n,o,p=(j=h5(j)).length,q=!1,r=Array(p),s=Array(p);for(null==f&&(h=g(o=i())),k=0;k<=p;++k){if(!(k<p&&e(n=j[k],k,j))===q)if(q=!q)l=k,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),m=k-1;m>=l;--m)h.point(r[m],s[m]);h.lineEnd(),h.areaEnd()}q&&(r[k]=+a(n,k,j),s[k]=+b(n,k,j),h.point(d?+d(n,k,j):r[k],c?+c(n,k,j):s[k]))}if(o)return h=null,o+""||null}function k(){return nj().defined(e).curve(g).context(f)}return a="function"==typeof a?a:void 0===a?nh:b_(+a),b="function"==typeof b?b:void 0===b?b_(0):b_(+b),c="function"==typeof c?c:void 0===c?ni:b_(+c),j.x=function(b){return arguments.length?(a="function"==typeof b?b:b_(+b),d=null,j):a},j.x0=function(b){return arguments.length?(a="function"==typeof b?b:b_(+b),j):a},j.x1=function(a){return arguments.length?(d=null==a?null:"function"==typeof a?a:b_(+a),j):d},j.y=function(a){return arguments.length?(b="function"==typeof a?a:b_(+a),c=null,j):b},j.y0=function(a){return arguments.length?(b="function"==typeof a?a:b_(+a),j):b},j.y1=function(a){return arguments.length?(c=null==a?null:"function"==typeof a?a:b_(+a),j):c},j.lineX0=j.lineY0=function(){return k().x(a).y(b)},j.lineY1=function(){return k().x(a).y(c)},j.lineX1=function(){return k().x(d).y(b)},j.defined=function(a){return arguments.length?(e="function"==typeof a?a:b_(!!a),j):e},j.curve=function(a){return arguments.length?(g=a,null!=f&&(h=g(f)),j):g},j.context=function(a){return arguments.length?(null==a?f=h=null:h=g(f=a),j):f},j}function nl(a){return(nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function nm(){return(nm=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function nn(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function no(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?nn(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=nl(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=nl(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==nl(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):nn(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}m6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:this._context.lineTo(a,b)}}},nb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:na(this,this._t0,m9(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){var c=NaN;if(b*=1,(a*=1)!==this._x1||b!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3,na(this,m9(this,c=m8(this,a,b)),c);break;default:na(this,this._t0,c=m8(this,a,b))}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b,this._t0=c}}},(nc.prototype=Object.create(nb.prototype)).point=function(a,b){nb.prototype.point.call(this,b,a)},nd.prototype={moveTo:function(a,b){this._context.moveTo(b,a)},closePath:function(){this._context.closePath()},lineTo:function(a,b){this._context.lineTo(b,a)},bezierCurveTo:function(a,b,c,d,e,f){this._context.bezierCurveTo(b,a,d,c,f,e)}},ne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var a=this._x,b=this._y,c=a.length;if(c)if(this._line?this._context.lineTo(a[0],b[0]):this._context.moveTo(a[0],b[0]),2===c)this._context.lineTo(a[1],b[1]);else for(var d=nf(a),e=nf(b),f=0,g=1;g<c;++f,++g)this._context.bezierCurveTo(d[0][f],e[0][f],d[1][f],e[1][f],a[g],b[g]);(this._line||0!==this._line&&1===c)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(a,b){this._x.push(+a),this._y.push(+b)}},ng.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,b),this._context.lineTo(a,b);else{var c=this._x*(1-this._t)+a*this._t;this._context.lineTo(c,this._y),this._context.lineTo(c,b)}}this._x=a,this._y=b}};var np={curveBasisClosed:function(a){return new m2(a)},curveBasisOpen:function(a){return new m3(a)},curveBasis:function(a){return new m1(a)},curveBumpX:function(a){return new m4(a,!0)},curveBumpY:function(a){return new m4(a,!1)},curveLinearClosed:function(a){return new m5(a)},curveLinear:m7,curveMonotoneX:function(a){return new nb(a)},curveMonotoneY:function(a){return new nc(a)},curveNatural:function(a){return new ne(a)},curveStep:function(a){return new ng(a,.5)},curveStepAfter:function(a){return new ng(a,1)},curveStepBefore:function(a){return new ng(a,0)}},nq=function(a){return a.x===+a.x&&a.y===+a.y},nr=function(a){return a.x},ns=function(a){return a.y},nt=function(a,b){if(as()(a))return a;var c="curve".concat(bL()(a));return("curveMonotone"===c||"curveBump"===c)&&b?np["".concat(c).concat("vertical"===b?"Y":"X")]:np[c]||m7},nu=function(a){var b,c=a.type,d=a.points,e=void 0===d?[]:d,f=a.baseLine,g=a.layout,h=a.connectNulls,i=void 0!==h&&h,j=nt(void 0===c?"linear":c,g),k=i?e.filter(function(a){return nq(a)}):e;if(Array.isArray(f)){var l=i?f.filter(function(a){return nq(a)}):f,m=k.map(function(a,b){return no(no({},a),{},{base:l[b]})});return(b="vertical"===g?nk().y(ns).x1(nr).x0(function(a){return a.base.x}):nk().x(nr).y1(ns).y0(function(a){return a.base.y})).defined(nq).curve(j),b(m)}return(b="vertical"===g&&ag(f)?nk().y(ns).x1(nr).x0(f):ag(f)?nk().x(nr).y1(ns).y0(f):nj().x(nr).y(ns)).defined(nq).curve(j),b(k)},nv=function(a){var b=a.className,c=a.points,d=a.path,e=a.pathRef;if((!c||!c.length)&&!d)return null;var f=c&&c.length?nu(a):d;return t.createElement("path",nm({},aS(a,!1),aC(a),{className:T("recharts-curve",b),d:f,ref:e}))};function nw(a){return(nw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var nx=["x","y","top","left","width","height","className"];function ny(){return(ny=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function nz(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}var nA=function(a){var b=a.x,c=void 0===b?0:b,d=a.y,e=void 0===d?0:d,f=a.top,g=void 0===f?0:f,h=a.left,i=void 0===h?0:h,j=a.width,k=void 0===j?0:j,l=a.height,m=void 0===l?0:l,n=a.className,o=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?nz(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=nw(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=nw(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==nw(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):nz(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({x:c,y:e,top:g,left:i,width:k,height:m},function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,nx));return ag(c)&&ag(e)&&ag(k)&&ag(m)&&ag(g)&&ag(i)?u().createElement("path",ny({},aS(o,!0),{className:T("recharts-cross",n),d:"M".concat(c,",").concat(g,"v").concat(m,"M").concat(i,",").concat(e,"h").concat(k)})):null};function nB(a){var b=a.cx,c=a.cy,d=a.radius,e=a.startAngle,f=a.endAngle;return{points:[kp(b,c,d,e),kp(b,c,d,f)],cx:b,cy:c,radius:d,startAngle:e,endAngle:f}}function nC(a){return(nC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function nD(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function nE(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?nD(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=nC(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=nC(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==nC(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):nD(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function nF(a){var b,c,d,e,f=a.element,g=a.tooltipEventType,h=a.isActive,i=a.activeCoordinate,j=a.activePayload,k=a.offset,l=a.activeTooltipIndex,m=a.tooltipAxisBandSize,n=a.layout,o=a.chartName,p=null!=(c=f.props.cursor)?c:null==(d=f.type.defaultProps)?void 0:d.cursor;if(!f||!p||!h||!i||"ScatterChart"!==o&&"axis"!==g)return null;var q=nv;if("ScatterChart"===o)e=i,q=nA;else if("BarChart"===o)b=m/2,e={stroke:"none",fill:"#ccc",x:"horizontal"===n?i.x-b:k.left+.5,y:"horizontal"===n?k.top+.5:i.y-b,width:"horizontal"===n?m:k.width-1,height:"horizontal"===n?k.height-1:m},q=dV;else if("radial"===n){var r=nB(i),s=r.cx,u=r.cy,v=r.radius;e={cx:s,cy:u,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:v,outerRadius:v},q=li}else e={points:function(a,b,c){var d,e,f,g;if("horizontal"===a)f=d=b.x,e=c.top,g=c.top+c.height;else if("vertical"===a)g=e=b.y,d=c.left,f=c.left+c.width;else if(null!=b.cx&&null!=b.cy)if("centric"!==a)return nB(b);else{var h=b.cx,i=b.cy,j=b.innerRadius,k=b.outerRadius,l=b.angle,m=kp(h,i,j,l),n=kp(h,i,k,l);d=m.x,e=m.y,f=n.x,g=n.y}return[{x:d,y:e},{x:f,y:g}]}(n,i,k)},q=nv;var w=nE(nE(nE(nE({stroke:"#ccc",pointerEvents:"none"},k),e),aS(p,!1)),{},{payload:j,payloadIndex:l,className:T("recharts-tooltip-cursor",p.className)});return(0,t.isValidElement)(p)?(0,t.cloneElement)(p,w):(0,t.createElement)(q,w)}var nG=["item"],nH=["children","className","width","height","style","compact","title","desc"];function nI(a){return(nI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function nJ(){return(nJ=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function nK(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{if(f=(c=c.call(a)).next,0===b){if(Object(c)!==c)return;i=!1}else for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(a,b)||nQ(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nL(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function nM(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(nM=function(){return!!a})()}function nN(a){return(nN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function nO(a,b){return(nO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function nP(a){return function(a){if(Array.isArray(a))return nR(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||nQ(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nQ(a,b){if(a){if("string"==typeof a)return nR(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return nR(a,b)}}function nR(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function nS(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function nT(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?nS(Object(c),!0).forEach(function(b){nU(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):nS(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function nU(a,b,c){return(b=nV(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function nV(a){var b=function(a,b){if("object"!=nI(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=nI(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==nI(b)?b:b+""}var nW={xAxis:["bottom","top"],yAxis:["left","right"]},nX={width:"100%",height:"100%"},nY={x:0,y:0};function nZ(a){return a}var n$=function(a,b,c,d){var e=b.find(function(a){return a&&a.index===c});if(e){if("horizontal"===a)return{x:e.coordinate,y:d.y};if("vertical"===a)return{x:d.x,y:e.coordinate};if("centric"===a){var f=e.coordinate,g=d.radius;return nT(nT(nT({},d),kp(d.cx,d.cy,g,f)),{},{angle:f,radius:g})}var h=e.coordinate,i=d.angle;return nT(nT(nT({},d),kp(d.cx,d.cy,h,i)),{},{angle:i,radius:h})}return nY},n_=function(a,b){var c=b.graphicalItems,d=b.dataStartIndex,e=b.dataEndIndex,f=(null!=c?c:[]).reduce(function(a,b){var c=b.props.data;return c&&c.length?[].concat(nP(a),nP(c)):a},[]);return f.length>0?f:a&&a.length&&ag(d)&&ag(e)?a.slice(d,e+1):[]};function n0(a){return"number"===a?[0,"auto"]:void 0}var n1=function(a,b,c,d){var e=a.graphicalItems,f=a.tooltipAxis,g=n_(b,a);return c<0||!e||!e.length||c>=g.length?null:e.reduce(function(e,h){var i,j,k=null!=(i=h.props.data)?i:b;return(k&&a.dataStartIndex+a.dataEndIndex!==0&&a.dataEndIndex-a.dataStartIndex>=c&&(k=k.slice(a.dataStartIndex,a.dataEndIndex+1)),j=f.dataKey&&!f.allowDuplicatedCategory?ao(void 0===k?g:k,f.dataKey,d):k&&k[c]||g[c])?[].concat(nP(e),[j_(h,j)]):e},[])},n2=function(a,b,c,d){var e=d||{x:a.chartX,y:a.chartY},f="horizontal"===c?e.x:"vertical"===c?e.y:"centric"===c?e.angle:e.radius,g=a.orderedTooltipTicks,h=a.tooltipAxis,i=a.tooltipTicks,j=jw(f,g,i,h);if(j>=0&&i){var k=i[j]&&i[j].value,l=n1(a,b,j,k),m=n$(c,g,j,e);return{activeTooltipIndex:j,activeLabel:k,activePayload:l,activeCoordinate:m}}return null},n3=function(a,b){var c=b.axes,d=b.graphicalItems,e=b.axisType,f=b.axisIdKey,g=b.stackGroups,h=b.dataStartIndex,i=b.dataEndIndex,j=a.layout,k=a.children,l=a.stackOffset,m=jE(j,e);return c.reduce(function(b,c){var n=void 0!==c.type.defaultProps?nT(nT({},c.type.defaultProps),c.props):c.props,o=n.type,p=n.dataKey,q=n.allowDataOverflow,r=n.allowDuplicatedCategory,s=n.scale,t=n.ticks,u=n.includeHidden,v=n[f];if(b[v])return b;var w=n_(a.data,{graphicalItems:d.filter(function(a){var b;return(f in a.props?a.props[f]:null==(b=a.type.defaultProps)?void 0:b[f])===v}),dataStartIndex:h,dataEndIndex:i}),x=w.length;(function(a,b,c){if("number"===c&&!0===b&&Array.isArray(a)){var d=null==a?void 0:a[0],e=null==a?void 0:a[1];if(d&&e&&ag(d)&&ag(e))return!0}return!1})(n.domain,q,o)&&(A=jY(n.domain,null,q),m&&("number"===o||"auto"!==s)&&(C=jv(w,p,"category")));var y=n0(o);if(!A||0===A.length){var z,A,B,C,D,E=null!=(D=n.domain)?D:y;if(p){if(A=jv(w,p,o),"category"===o&&m){var F=am(A);r&&F?(B=A,A=a1()(0,x)):r||(A=j$(E,A,c).reduce(function(a,b){return a.indexOf(b)>=0?a:[].concat(nP(a),[b])},[]))}else if("category"===o)A=r?A.filter(function(a){return""!==a&&!ad()(a)}):j$(E,A,c).reduce(function(a,b){return a.indexOf(b)>=0||""===b||ad()(b)?a:[].concat(nP(a),[b])},[]);else if("number"===o){var G=jC(w,d.filter(function(a){var b,c,d=f in a.props?a.props[f]:null==(b=a.type.defaultProps)?void 0:b[f],e="hide"in a.props?a.props.hide:null==(c=a.type.defaultProps)?void 0:c.hide;return d===v&&(u||!e)}),p,e,j);G&&(A=G)}m&&("number"===o||"auto"!==s)&&(C=jv(w,p,"category"))}else A=m?a1()(0,x):g&&g[v]&&g[v].hasStack&&"number"===o?"expand"===l?[0,1]:jV(g[v].stackGroups,h,i):jD(w,d.filter(function(a){var b=f in a.props?a.props[f]:a.type.defaultProps[f],c="hide"in a.props?a.props.hide:a.type.defaultProps.hide;return b===v&&(u||!c)}),o,j,!0);"number"===o?(A=mT(k,A,v,e,t),E&&(A=jY(E,A,q))):"category"===o&&E&&A.every(function(a){return E.indexOf(a)>=0})&&(A=E)}return nT(nT({},b),{},nU({},v,nT(nT({},n),{},{axisType:e,domain:A,categoricalDomain:C,duplicateDomain:B,originalDomain:null!=(z=n.domain)?z:y,isCategorical:m,layout:j})))},{})},n4=function(a,b){var c=b.graphicalItems,d=b.Axis,e=b.axisType,f=b.axisIdKey,g=b.stackGroups,h=b.dataStartIndex,i=b.dataEndIndex,j=a.layout,k=a.children,l=n_(a.data,{graphicalItems:c,dataStartIndex:h,dataEndIndex:i}),m=l.length,n=jE(j,e),o=-1;return c.reduce(function(a,b){var p,q=(void 0!==b.type.defaultProps?nT(nT({},b.type.defaultProps),b.props):b.props)[f],r=n0("number");return a[q]?a:(o++,p=n?a1()(0,m):g&&g[q]&&g[q].hasStack?mT(k,p=jV(g[q].stackGroups,h,i),q,e):mT(k,p=jY(r,jD(l,c.filter(function(a){var b,c,d=f in a.props?a.props[f]:null==(b=a.type.defaultProps)?void 0:b[f],e="hide"in a.props?a.props.hide:null==(c=a.type.defaultProps)?void 0:c.hide;return d===q&&!e}),"number",j),d.defaultProps.allowDataOverflow),q,e),nT(nT({},a),{},nU({},q,nT(nT({axisType:e},d.defaultProps),{},{hide:!0,orientation:_()(nW,"".concat(e,".").concat(o%2),null),domain:p,originalDomain:r,isCategorical:n,layout:j}))))},{})},n5=function(a,b){var c=b.axisType,d=void 0===c?"xAxis":c,e=b.AxisComp,f=b.graphicalItems,g=b.stackGroups,h=b.dataStartIndex,i=b.dataEndIndex,j=a.children,k="".concat(d,"Id"),l=aN(j,e),m={};return l&&l.length?m=n3(a,{axes:l,graphicalItems:f,axisType:d,axisIdKey:k,stackGroups:g,dataStartIndex:h,dataEndIndex:i}):f&&f.length&&(m=n4(a,{Axis:e,graphicalItems:f,axisType:d,axisIdKey:k,stackGroups:g,dataStartIndex:h,dataEndIndex:i})),m},n6=function(a){var b=al(a),c=jG(b,!1,!0);return{tooltipTicks:c,orderedTooltipTicks:a3()(c,function(a){return a.coordinate}),tooltipAxis:b,tooltipAxisBandSize:jZ(b,c)}},n7=function(a){var b=a.children,c=a.defaultShowTooltip,d=aO(b,ki),e=0,f=0;return a.data&&0!==a.data.length&&(f=a.data.length-1),d&&d.props&&(d.props.startIndex>=0&&(e=d.props.startIndex),d.props.endIndex>=0&&(f=d.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:e,dataEndIndex:f,activeTooltipIndex:-1,isTooltipActive:!!c}},n8=function(a){return"horizontal"===a?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===a?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===a?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},n9=function(a,b){var c=a.props,d=a.graphicalItems,e=a.xAxisMap,f=void 0===e?{}:e,g=a.yAxisMap,h=void 0===g?{}:g,i=c.width,j=c.height,k=c.children,l=c.margin||{},m=aO(k,ki),n=aO(k,cz),o=Object.keys(h).reduce(function(a,b){var c=h[b],d=c.orientation;return c.mirror||c.hide?a:nT(nT({},a),{},nU({},d,a[d]+c.width))},{left:l.left||0,right:l.right||0}),p=Object.keys(f).reduce(function(a,b){var c=f[b],d=c.orientation;return c.mirror||c.hide?a:nT(nT({},a),{},nU({},d,_()(a,"".concat(d))+c.height))},{top:l.top||0,bottom:l.bottom||0}),q=nT(nT({},p),o),r=q.bottom;m&&(q.bottom+=m.props.height||ki.defaultProps.height),n&&b&&(q=jA(q,d,c,b));var s=i-q.left-q.right,t=j-q.top-q.bottom;return nT(nT({brushBottom:r},q),{},{width:Math.max(s,0),height:Math.max(t,0)})},oa=function(a){var b=a.chartName,c=a.GraphicalChild,d=a.defaultTooltipEventType,e=void 0===d?"axis":d,f=a.validateTooltipEventTypes,g=void 0===f?["axis"]:f,h=a.axisComponents,i=a.legendContent,j=a.formatAxisMap,k=a.defaultProps,l=function(a,b){var c=b.graphicalItems,d=b.stackGroups,e=b.offset,f=b.updateId,g=b.dataStartIndex,i=b.dataEndIndex,j=a.barSize,k=a.layout,l=a.barGap,m=a.barCategoryGap,n=a.maxBarSize,o=n8(k),p=o.numericAxisName,q=o.cateAxisName,r=!!c&&!!c.length&&c.some(function(a){var b=aJ(a&&a.type);return b&&b.indexOf("Bar")>=0}),s=[];return c.forEach(function(c,o){var t=n_(a.data,{graphicalItems:[c],dataStartIndex:g,dataEndIndex:i}),u=void 0!==c.type.defaultProps?nT(nT({},c.type.defaultProps),c.props):c.props,v=u.dataKey,w=u.maxBarSize,x=u["".concat(p,"Id")],y=u["".concat(q,"Id")],z=h.reduce(function(a,c){var d=b["".concat(c.axisType,"Map")],e=u["".concat(c.axisType,"Id")];d&&d[e]||"zAxis"===c.axisType||a4(!1);var f=d[e];return nT(nT({},a),{},nU(nU({},c.axisType,f),"".concat(c.axisType,"Ticks"),jG(f)))},{}),A=z[q],B=z["".concat(q,"Ticks")],C=d&&d[x]&&d[x].hasStack&&jU(c,d[x].stackGroups),D=aJ(c.type).indexOf("Bar")>=0,E=jZ(A,B),F=[],G=r&&jy({barSize:j,stackGroups:d,totalSize:"xAxis"===q?z[q].width:"yAxis"===q?z[q].height:void 0});if(D){var H,I,J=ad()(w)?n:w,K=null!=(H=null!=(I=jZ(A,B,!0))?I:J)?H:0;F=jz({barGap:l,barCategoryGap:m,bandSize:K!==E?K:E,sizeList:G[y],maxBarSize:J}),K!==E&&(F=F.map(function(a){return nT(nT({},a),{},{position:nT(nT({},a.position),{},{offset:a.position.offset-K/2})})}))}var L=c&&c.type&&c.type.getComposedData;L&&s.push({props:nT(nT({},L(nT(nT({},z),{},{displayedData:t,props:a,dataKey:v,item:c,bandSize:E,barPosition:F,offset:e,stackedData:C,layout:k,dataStartIndex:g,dataEndIndex:i}))),{},nU(nU(nU({key:c.key||"item-".concat(o)},p,z[p]),q,z[q]),"animationId",f)),childIndex:aM(a.children).indexOf(c),item:c})}),s},m=function(a,d){var e=a.props,f=a.dataStartIndex,g=a.dataEndIndex,i=a.updateId;if(!aP({props:e}))return null;var k=e.children,m=e.layout,n=e.stackOffset,o=e.data,p=e.reverseStackOrder,q=n8(m),r=q.numericAxisName,s=q.cateAxisName,t=aN(k,c),u=jP(o,t,"".concat(r,"Id"),"".concat(s,"Id"),n,p),v=h.reduce(function(a,b){var c="".concat(b.axisType,"Map");return nT(nT({},a),{},nU({},c,n5(e,nT(nT({},b),{},{graphicalItems:t,stackGroups:b.axisType===r&&u,dataStartIndex:f,dataEndIndex:g}))))},{}),w=n9(nT(nT({},v),{},{props:e,graphicalItems:t}),null==d?void 0:d.legendBBox);Object.keys(v).forEach(function(a){v[a]=j(e,v[a],w,a.replace("Map",""),b)});var x=n6(v["".concat(s,"Map")]),y=l(e,nT(nT({},v),{},{dataStartIndex:f,dataEndIndex:g,updateId:i,graphicalItems:t,stackGroups:u,offset:w}));return nT(nT({formattedGraphicalItems:y,graphicalItems:t,offset:w,stackGroups:u},x),v)},n=function(a){var c;function d(a){var c,e,f,g,h;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");return g=d,h=[a],g=nN(g),nU(f=function(a,b){if(b&&("object"===nI(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,nM()?Reflect.construct(g,h||[],nN(this).constructor):g.apply(this,h)),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),nU(f,"accessibilityManager",new m$),nU(f,"handleLegendBBoxUpdate",function(a){if(a){var b=f.state,c=b.dataStartIndex,d=b.dataEndIndex,e=b.updateId;f.setState(nT({legendBBox:a},m({props:f.props,dataStartIndex:c,dataEndIndex:d,updateId:e},nT(nT({},f.state),{},{legendBBox:a}))))}}),nU(f,"handleReceiveSyncEvent",function(a,b,c){f.props.syncId===a&&(c!==f.eventEmitterSymbol||"function"==typeof f.props.syncMethod)&&f.applySyncEvent(b)}),nU(f,"handleBrushChange",function(a){var b=a.startIndex,c=a.endIndex;if(b!==f.state.dataStartIndex||c!==f.state.dataEndIndex){var d=f.state.updateId;f.setState(function(){return nT({dataStartIndex:b,dataEndIndex:c},m({props:f.props,dataStartIndex:b,dataEndIndex:c,updateId:d},f.state))}),f.triggerSyncEvent({dataStartIndex:b,dataEndIndex:c})}}),nU(f,"handleMouseEnter",function(a){var b=f.getMouseInfo(a);if(b){var c=nT(nT({},b),{},{isTooltipActive:!0});f.setState(c),f.triggerSyncEvent(c);var d=f.props.onMouseEnter;as()(d)&&d(c,a)}}),nU(f,"triggeredAfterMouseMove",function(a){var b=f.getMouseInfo(a),c=b?nT(nT({},b),{},{isTooltipActive:!0}):{isTooltipActive:!1};f.setState(c),f.triggerSyncEvent(c);var d=f.props.onMouseMove;as()(d)&&d(c,a)}),nU(f,"handleItemMouseEnter",function(a){f.setState(function(){return{isTooltipActive:!0,activeItem:a,activePayload:a.tooltipPayload,activeCoordinate:a.tooltipPosition||{x:a.cx,y:a.cy}}})}),nU(f,"handleItemMouseLeave",function(){f.setState(function(){return{isTooltipActive:!1}})}),nU(f,"handleMouseMove",function(a){a.persist(),f.throttleTriggeredAfterMouseMove(a)}),nU(f,"handleMouseLeave",function(a){f.throttleTriggeredAfterMouseMove.cancel();var b={isTooltipActive:!1};f.setState(b),f.triggerSyncEvent(b);var c=f.props.onMouseLeave;as()(c)&&c(b,a)}),nU(f,"handleOuterEvent",function(a){var b,c=aW(a),d=_()(f.props,"".concat(c));c&&as()(d)&&d(null!=(b=/.*touch.*/i.test(c)?f.getMouseInfo(a.changedTouches[0]):f.getMouseInfo(a))?b:{},a)}),nU(f,"handleClick",function(a){var b=f.getMouseInfo(a);if(b){var c=nT(nT({},b),{},{isTooltipActive:!0});f.setState(c),f.triggerSyncEvent(c);var d=f.props.onClick;as()(d)&&d(c,a)}}),nU(f,"handleMouseDown",function(a){var b=f.props.onMouseDown;as()(b)&&b(f.getMouseInfo(a),a)}),nU(f,"handleMouseUp",function(a){var b=f.props.onMouseUp;as()(b)&&b(f.getMouseInfo(a),a)}),nU(f,"handleTouchMove",function(a){null!=a.changedTouches&&a.changedTouches.length>0&&f.throttleTriggeredAfterMouseMove(a.changedTouches[0])}),nU(f,"handleTouchStart",function(a){null!=a.changedTouches&&a.changedTouches.length>0&&f.handleMouseDown(a.changedTouches[0])}),nU(f,"handleTouchEnd",function(a){null!=a.changedTouches&&a.changedTouches.length>0&&f.handleMouseUp(a.changedTouches[0])}),nU(f,"handleDoubleClick",function(a){var b=f.props.onDoubleClick;as()(b)&&b(f.getMouseInfo(a),a)}),nU(f,"handleContextMenu",function(a){var b=f.props.onContextMenu;as()(b)&&b(f.getMouseInfo(a),a)}),nU(f,"triggerSyncEvent",function(a){void 0!==f.props.syncId&&mV.emit(mW,f.props.syncId,a,f.eventEmitterSymbol)}),nU(f,"applySyncEvent",function(a){var b=f.props,c=b.layout,d=b.syncMethod,e=f.state.updateId,g=a.dataStartIndex,h=a.dataEndIndex;if(void 0!==a.dataStartIndex||void 0!==a.dataEndIndex)f.setState(nT({dataStartIndex:g,dataEndIndex:h},m({props:f.props,dataStartIndex:g,dataEndIndex:h,updateId:e},f.state)));else if(void 0!==a.activeTooltipIndex){var i=a.chartX,j=a.chartY,k=a.activeTooltipIndex,l=f.state,n=l.offset,o=l.tooltipTicks;if(!n)return;if("function"==typeof d)k=d(o,a);else if("value"===d){k=-1;for(var p=0;p<o.length;p++)if(o[p].value===a.activeLabel){k=p;break}}var q=nT(nT({},n),{},{x:n.left,y:n.top}),r=Math.min(i,q.x+q.width),s=Math.min(j,q.y+q.height),t=o[k]&&o[k].value,u=n1(f.state,f.props.data,k),v=o[k]?{x:"horizontal"===c?o[k].coordinate:r,y:"horizontal"===c?s:o[k].coordinate}:nY;f.setState(nT(nT({},a),{},{activeLabel:t,activeCoordinate:v,activePayload:u,activeTooltipIndex:k}))}else f.setState(a)}),nU(f,"renderCursor",function(a){var c,d=f.state,e=d.isTooltipActive,g=d.activeCoordinate,h=d.activePayload,i=d.offset,j=d.activeTooltipIndex,k=d.tooltipAxisBandSize,l=f.getTooltipEventType(),m=null!=(c=a.props.active)?c:e,n=f.props.layout,o=a.key||"_recharts-cursor";return u().createElement(nF,{key:o,activeCoordinate:g,activePayload:h,activeTooltipIndex:j,chartName:b,element:a,isActive:m,layout:n,offset:i,tooltipAxisBandSize:k,tooltipEventType:l})}),nU(f,"renderPolarAxis",function(a,b,c){var d=_()(a,"type.axisType"),e=_()(f.state,"".concat(d,"Map")),g=a.type.defaultProps,h=void 0!==g?nT(nT({},g),a.props):a.props,i=e&&e[h["".concat(d,"Id")]];return(0,t.cloneElement)(a,nT(nT({},i),{},{className:T(d,i.className),key:a.key||"".concat(b,"-").concat(c),ticks:jG(i,!0)}))}),nU(f,"renderPolarGrid",function(a){var b=a.props,c=b.radialLines,d=b.polarAngles,e=b.polarRadius,g=f.state,h=g.radiusAxisMap,i=g.angleAxisMap,j=al(h),k=al(i),l=k.cx,m=k.cy,n=k.innerRadius,o=k.outerRadius;return(0,t.cloneElement)(a,{polarAngles:Array.isArray(d)?d:jG(k,!0).map(function(a){return a.coordinate}),polarRadius:Array.isArray(e)?e:jG(j,!0).map(function(a){return a.coordinate}),cx:l,cy:m,innerRadius:n,outerRadius:o,key:a.key||"polar-grid",radialLines:c})}),nU(f,"renderLegend",function(){var a=f.state.formattedGraphicalItems,b=f.props,c=b.children,d=b.width,e=b.height,g=f.props.margin||{},h=jn({children:c,formattedGraphicalItems:a,legendWidth:d-(g.left||0)-(g.right||0),legendContent:i});if(!h)return null;var j=h.item,k=nL(h,nG);return(0,t.cloneElement)(j,nT(nT({},k),{},{chartWidth:d,chartHeight:e,margin:g,onBBoxUpdate:f.handleLegendBBoxUpdate}))}),nU(f,"renderTooltip",function(){var a,b=f.props,c=b.children,d=b.accessibilityLayer,e=aO(c,bJ);if(!e)return null;var g=f.state,h=g.isTooltipActive,i=g.activeCoordinate,j=g.activePayload,k=g.activeLabel,l=g.offset,m=null!=(a=e.props.active)?a:h;return(0,t.cloneElement)(e,{viewBox:nT(nT({},l),{},{x:l.left,y:l.top}),active:m,label:k,payload:m?j:[],coordinate:i,accessibilityLayer:d})}),nU(f,"renderBrush",function(a){var b=f.props,c=b.margin,d=b.data,e=f.state,g=e.offset,h=e.dataStartIndex,i=e.dataEndIndex,j=e.updateId;return(0,t.cloneElement)(a,{key:a.key||"_recharts-brush",onChange:jI(f.handleBrushChange,a.props.onChange),data:d,x:ag(a.props.x)?a.props.x:g.left,y:ag(a.props.y)?a.props.y:g.top+g.height+g.brushBottom-(c.bottom||0),width:ag(a.props.width)?a.props.width:g.width,startIndex:h,endIndex:i,updateId:"brush-".concat(j)})}),nU(f,"renderReferenceElement",function(a,b,c){if(!a)return null;var d=f.clipPathId,e=f.state,g=e.xAxisMap,h=e.yAxisMap,i=e.offset,j=a.type.defaultProps||{},k=a.props,l=k.xAxisId,m=void 0===l?j.xAxisId:l,n=k.yAxisId,o=void 0===n?j.yAxisId:n;return(0,t.cloneElement)(a,{key:a.key||"".concat(b,"-").concat(c),xAxis:g[m],yAxis:h[o],viewBox:{x:i.left,y:i.top,width:i.width,height:i.height},clipPathId:d})}),nU(f,"renderActivePoints",function(a){var b=a.item,c=a.activePoint,e=a.basePoint,f=a.childIndex,g=a.isRange,h=[],i=b.props.key,j=void 0!==b.item.type.defaultProps?nT(nT({},b.item.type.defaultProps),b.item.props):b.item.props,k=j.activeDot,l=nT(nT({index:f,dataKey:j.dataKey,cx:c.x,cy:c.y,r:4,fill:jx(b.item),strokeWidth:2,stroke:"#fff",payload:c.payload,value:c.value},aS(k,!1)),aC(k));return h.push(d.renderActiveDot(k,l,"".concat(i,"-activePoint-").concat(f))),e?h.push(d.renderActiveDot(k,nT(nT({},l),{},{cx:e.x,cy:e.y}),"".concat(i,"-basePoint-").concat(f))):g&&h.push(null),h}),nU(f,"renderGraphicChild",function(a,b,c){var d=f.filterFormatItem(a,b,c);if(!d)return null;var e=f.getTooltipEventType(),g=f.state,h=g.isTooltipActive,i=g.tooltipAxis,j=g.activeTooltipIndex,k=g.activeLabel,l=aO(f.props.children,bJ),m=d.props,n=m.points,o=m.isRange,p=m.baseLine,q=void 0!==d.item.type.defaultProps?nT(nT({},d.item.type.defaultProps),d.item.props):d.item.props,r=q.activeDot,s=q.hide,u=q.activeBar,v=q.activeShape,w=!!(!s&&h&&l&&(r||u||v)),x={};"axis"!==e&&l&&"click"===l.props.trigger?x={onClick:jI(f.handleItemMouseEnter,a.props.onClick)}:"axis"!==e&&(x={onMouseLeave:jI(f.handleItemMouseLeave,a.props.onMouseLeave),onMouseEnter:jI(f.handleItemMouseEnter,a.props.onMouseEnter)});var y=(0,t.cloneElement)(a,nT(nT({},d.props),x));if(w)if(j>=0){if(i.dataKey&&!i.allowDuplicatedCategory){var z="function"==typeof i.dataKey?function(a){return"function"==typeof i.dataKey?i.dataKey(a.payload):null}:"payload.".concat(i.dataKey.toString());B=ao(n,z,k),C=o&&p&&ao(p,z,k)}else B=null==n?void 0:n[j],C=o&&p&&p[j];if(v||u){var A=void 0!==a.props.activeIndex?a.props.activeIndex:j;return[(0,t.cloneElement)(a,nT(nT(nT({},d.props),x),{},{activeIndex:A})),null,null]}if(!ad()(B))return[y].concat(nP(f.renderActivePoints({item:d,activePoint:B,basePoint:C,childIndex:j,isRange:o})))}else{var B,C,D,E=(null!=(D=f.getItemByXY(f.state.activeCoordinate))?D:{graphicalItem:y}).graphicalItem,F=E.item,G=void 0===F?a:F,H=E.childIndex,I=nT(nT(nT({},d.props),x),{},{activeIndex:H});return[(0,t.cloneElement)(G,I),null,null]}return o?[y,null,null]:[y,null]}),nU(f,"renderCustomized",function(a,b,c){return(0,t.cloneElement)(a,nT(nT({key:"recharts-customized-".concat(c)},f.props),f.state))}),nU(f,"renderMap",{CartesianGrid:{handler:nZ,once:!0},ReferenceArea:{handler:f.renderReferenceElement},ReferenceLine:{handler:nZ},ReferenceDot:{handler:f.renderReferenceElement},XAxis:{handler:nZ},YAxis:{handler:nZ},Brush:{handler:f.renderBrush,once:!0},Bar:{handler:f.renderGraphicChild},Line:{handler:f.renderGraphicChild},Area:{handler:f.renderGraphicChild},Radar:{handler:f.renderGraphicChild},RadialBar:{handler:f.renderGraphicChild},Scatter:{handler:f.renderGraphicChild},Pie:{handler:f.renderGraphicChild},Funnel:{handler:f.renderGraphicChild},Tooltip:{handler:f.renderCursor,once:!0},PolarGrid:{handler:f.renderPolarGrid,once:!0},PolarAngleAxis:{handler:f.renderPolarAxis},PolarRadiusAxis:{handler:f.renderPolarAxis},Customized:{handler:f.renderCustomized}}),f.clipPathId="".concat(null!=(c=a.id)?c:aj("recharts"),"-clip"),f.throttleTriggeredAfterMouseMove=V()(f.triggeredAfterMouseMove,null!=(e=a.throttleDelay)?e:1e3/60),f.state={},f}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),a&&nO(d,a),c=[{key:"componentDidMount",value:function(){var a,b;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!=(a=this.props.margin.left)?a:0,top:null!=(b=this.props.margin.top)?b:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var a=this.props,b=a.children,c=a.data,d=a.height,e=a.layout,f=aO(b,bJ);if(f){var g=f.props.defaultIndex;if("number"==typeof g&&!(g<0)&&!(g>this.state.tooltipTicks.length-1)){var h=this.state.tooltipTicks[g]&&this.state.tooltipTicks[g].value,i=n1(this.state,c,g,h),j=this.state.tooltipTicks[g].coordinate,k=(this.state.offset.top+d)/2,l="horizontal"===e?{x:j,y:k}:{y:j,x:k},m=this.state.formattedGraphicalItems.find(function(a){return"Scatter"===a.item.type.name});m&&(l=nT(nT({},l),m.props.points[g].tooltipPosition),i=m.props.points[g].tooltipPayload);var n={activeTooltipIndex:g,isTooltipActive:!0,activeLabel:h,activePayload:i,activeCoordinate:l};this.setState(n),this.renderCursor(f),this.accessibilityManager.setIndex(g)}}}},{key:"getSnapshotBeforeUpdate",value:function(a,b){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==b.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==a.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==a.margin){var c,d;this.accessibilityManager.setDetails({offset:{left:null!=(c=this.props.margin.left)?c:0,top:null!=(d=this.props.margin.top)?d:0}})}return null}},{key:"componentDidUpdate",value:function(a){aT([aO(a.children,bJ)],[aO(this.props.children,bJ)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var a=aO(this.props.children,bJ);if(a&&"boolean"==typeof a.props.shared){var b=a.props.shared?"axis":"item";return g.indexOf(b)>=0?b:e}return e}},{key:"getMouseInfo",value:function(a){if(!this.container)return null;var b=this.container,c=b.getBoundingClientRect(),d={top:c.top+window.scrollY-document.documentElement.clientTop,left:c.left+window.scrollX-document.documentElement.clientLeft},e={chartX:Math.round(a.pageX-d.left),chartY:Math.round(a.pageY-d.top)},f=c.width/b.offsetWidth||1,g=this.inRange(e.chartX,e.chartY,f);if(!g)return null;var h=this.state,i=h.xAxisMap,j=h.yAxisMap,k=this.getTooltipEventType(),l=n2(this.state,this.props.data,this.props.layout,g);if("axis"!==k&&i&&j){var m=al(i).scale,n=al(j).scale,o=m&&m.invert?m.invert(e.chartX):null,p=n&&n.invert?n.invert(e.chartY):null;return nT(nT({},e),{},{xValue:o,yValue:p},l)}return l?nT(nT({},e),l):null}},{key:"inRange",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,d=this.props.layout,e=a/c,f=b/c;if("horizontal"===d||"vertical"===d){var g=this.state.offset;return e>=g.left&&e<=g.left+g.width&&f>=g.top&&f<=g.top+g.height?{x:e,y:f}:null}var h=this.state,i=h.angleAxisMap,j=h.radiusAxisMap;return i&&j?ku({x:e,y:f},al(i)):null}},{key:"parseEventsOfWrapper",value:function(){var a=this.props.children,b=this.getTooltipEventType(),c=aO(a,bJ),d={};return c&&"axis"===b&&(d="click"===c.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),nT(nT({},aC(this.props,this.handleOuterEvent)),d)}},{key:"addListener",value:function(){mV.on(mW,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){mV.removeListener(mW,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(a,b,c){for(var d=this.state.formattedGraphicalItems,e=0,f=d.length;e<f;e++){var g=d[e];if(g.item===a||g.props.key===a.key||b===aJ(g.item.type)&&c===g.childIndex)return g}return null}},{key:"renderClipPath",value:function(){var a=this.clipPathId,b=this.state.offset,c=b.left,d=b.top,e=b.height,f=b.width;return u().createElement("defs",null,u().createElement("clipPath",{id:a},u().createElement("rect",{x:c,y:d,height:e,width:f})))}},{key:"getXScales",value:function(){var a=this.state.xAxisMap;return a?Object.entries(a).reduce(function(a,b){var c=nK(b,2),d=c[0],e=c[1];return nT(nT({},a),{},nU({},d,e.scale))},{}):null}},{key:"getYScales",value:function(){var a=this.state.yAxisMap;return a?Object.entries(a).reduce(function(a,b){var c=nK(b,2),d=c[0],e=c[1];return nT(nT({},a),{},nU({},d,e.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(a){var b;return null==(b=this.state.xAxisMap)||null==(b=b[a])?void 0:b.scale}},{key:"getYScaleByAxisId",value:function(a){var b;return null==(b=this.state.yAxisMap)||null==(b=b[a])?void 0:b.scale}},{key:"getItemByXY",value:function(a){var b=this.state,c=b.formattedGraphicalItems,d=b.activeItem;if(c&&c.length)for(var e=0,f=c.length;e<f;e++){var g=c[e],h=g.props,i=g.item,j=void 0!==i.type.defaultProps?nT(nT({},i.type.defaultProps),i.props):i.props,k=aJ(i.type);if("Bar"===k){var l=(h.data||[]).find(function(b){return dT(a,b)});if(l)return{graphicalItem:g,payload:l}}else if("RadialBar"===k){var m=(h.data||[]).find(function(b){return ku(a,b)});if(m)return{graphicalItem:g,payload:m}}else if(lp(g,d)||lq(g,d)||lr(g,d)){var n=function(a){var b,c,d,e=a.activeTooltipItem,f=a.graphicalItem,g=a.itemData,h=(lp(f,e)?b="trapezoids":lq(f,e)?b="sectors":lr(f,e)&&(b="points"),b),i=lp(f,e)?null==(c=e.tooltipPayload)||null==(c=c[0])||null==(c=c.payload)?void 0:c.payload:lq(f,e)?null==(d=e.tooltipPayload)||null==(d=d[0])||null==(d=d.payload)?void 0:d.payload:lr(f,e)?e.payload:{},j=g.filter(function(a,b){var c=ir()(i,a),d=f.props[h].filter(function(a){var b;return(lp(f,e)?b=ls:lq(f,e)?b=lt:lr(f,e)&&(b=lu),b)(a,e)}),g=f.props[h].indexOf(d[d.length-1]);return c&&b===g});return g.indexOf(j[j.length-1])}({graphicalItem:g,activeTooltipItem:d,itemData:j.data}),o=void 0===j.activeIndex?n:j.activeIndex;return{graphicalItem:nT(nT({},g),{},{childIndex:o}),payload:lr(g,d)?j.data[n]:g.props.data[n]}}}return null}},{key:"render",value:function(){var a,b,c=this;if(!aP(this))return null;var d=this.props,e=d.children,f=d.className,g=d.width,h=d.height,i=d.style,j=d.compact,k=d.title,l=d.desc,m=aS(nL(d,nH),!1);if(j)return u().createElement(mm,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},u().createElement(a7,nJ({},m,{width:g,height:h,title:k,desc:l}),this.renderClipPath(),aV(e,this.renderMap)));this.props.accessibilityLayer&&(m.tabIndex=null!=(a=this.props.tabIndex)?a:0,m.role=null!=(b=this.props.role)?b:"application",m.onKeyDown=function(a){c.accessibilityManager.keyboardEvent(a)},m.onFocus=function(){c.accessibilityManager.focus()});var n=this.parseEventsOfWrapper();return u().createElement(mm,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},u().createElement("div",nJ({className:T("recharts-wrapper",f),style:nT({position:"relative",cursor:"default",width:g,height:h},i)},n,{ref:function(a){c.container=a}}),u().createElement(a7,nJ({},m,{width:g,height:h,title:k,desc:l,style:nX}),this.renderClipPath(),aV(e,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,nV(d.key),d)}}(d.prototype,c),Object.defineProperty(d,"prototype",{writable:!1}),d}(t.Component);nU(n,"displayName",b),nU(n,"defaultProps",nT({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},k)),nU(n,"getDerivedStateFromProps",function(a,b){var c=a.dataKey,d=a.data,e=a.children,f=a.width,g=a.height,h=a.layout,i=a.stackOffset,j=a.margin,k=b.dataStartIndex,l=b.dataEndIndex;if(void 0===b.updateId){var n=n7(a);return nT(nT(nT({},n),{},{updateId:0},m(nT(nT({props:a},n),{},{updateId:0}),b)),{},{prevDataKey:c,prevData:d,prevWidth:f,prevHeight:g,prevLayout:h,prevStackOffset:i,prevMargin:j,prevChildren:e})}if(c!==b.prevDataKey||d!==b.prevData||f!==b.prevWidth||g!==b.prevHeight||h!==b.prevLayout||i!==b.prevStackOffset||!aw(j,b.prevMargin)){var o=n7(a),p={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},q=nT(nT({},n2(b,d,h)),{},{updateId:b.updateId+1}),r=nT(nT(nT({},o),p),q);return nT(nT(nT({},r),m(nT({props:a},r),b)),{},{prevDataKey:c,prevData:d,prevWidth:f,prevHeight:g,prevLayout:h,prevStackOffset:i,prevMargin:j,prevChildren:e})}if(!aT(e,b.prevChildren)){var s,t,u,v,w=aO(e,ki),x=w&&null!=(s=null==(t=w.props)?void 0:t.startIndex)?s:k,y=w&&null!=(u=null==(v=w.props)?void 0:v.endIndex)?u:l,z=ad()(d)||x!==k||y!==l?b.updateId+1:b.updateId;return nT(nT({updateId:z},m(nT(nT({props:a},b),{},{updateId:z,dataStartIndex:x,dataEndIndex:y}),b)),{},{prevChildren:e,dataStartIndex:x,dataEndIndex:y})}return null}),nU(n,"renderActiveDot",function(a,b,c){var d;return d=(0,t.isValidElement)(a)?(0,t.cloneElement)(a,b):as()(a)?a(b):u().createElement(cB,b),u().createElement(ba,{className:"recharts-active-dot",key:c},d)});var o=(0,t.forwardRef)(function(a,b){return u().createElement(n,nJ({},a,{ref:b}))});return o.displayName=n.displayName,o};function ob(a,b,c){if(b<1)return[];if(1===b&&void 0===c)return a;for(var d=[],e=0;e<a.length;e+=b)if(void 0!==c&&!0!==c(a[e]))return;else d.push(a[e]);return d}function oc(a,b,c,d,e){if(a*b<a*d||a*b>a*e)return!1;var f=c();return a*(b-a*f/2-d)>=0&&a*(b+a*f/2-e)<=0}function od(a){return(od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function oe(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function of(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?oe(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=od(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=od(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==od(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):oe(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function og(a,b,c){var d,e,f,g,h,i=a.tick,j=a.ticks,k=a.viewBox,l=a.minTickGap,m=a.orientation,n=a.interval,o=a.tickFormatter,p=a.unit,q=a.angle;if(!j||!j.length||!i)return[];if(ag(n)||bw.isSsr)return ob(j,("number"==typeof n&&ag(n)?n:0)+1);var r="top"===m||"bottom"===m?"width":"height",s=p&&"width"===r?d9(p,{fontSize:b,letterSpacing:c}):{width:0,height:0},t=function(a,d){var e,f=as()(o)?o(a.value,d):a.value;return"width"===r?(e=d9(f,{fontSize:b,letterSpacing:c}),lZ({width:e.width+s.width,height:e.height+s.height},q)):d9(f,{fontSize:b,letterSpacing:c})[r]},u=j.length>=2?ae(j[1].coordinate-j[0].coordinate):1,v=(d="width"===r,e=k.x,f=k.y,g=k.width,h=k.height,1===u?{start:d?e:f,end:d?e+g:f+h}:{start:d?e+g:f+h,end:d?e:f});return"equidistantPreserveStart"===n?function(a,b,c,d,e){for(var f,g=(d||[]).slice(),h=b.start,i=b.end,j=0,k=1,l=h;k<=g.length;)if(f=function(){var b,f=null==d?void 0:d[j];if(void 0===f)return{v:ob(d,k)};var g=j,m=function(){return void 0===b&&(b=c(f,g)),b},n=f.coordinate,o=0===j||oc(a,n,m,l,i);o||(j=0,l=h,k+=1),o&&(l=n+a*(m()/2+e),j+=k)}())return f.v;return[]}(u,v,t,j,l):("preserveStart"===n||"preserveStartEnd"===n?function(a,b,c,d,e,f){var g=(d||[]).slice(),h=g.length,i=b.start,j=b.end;if(f){var k=d[h-1],l=c(k,h-1),m=a*(k.coordinate+a*l/2-j);g[h-1]=k=of(of({},k),{},{tickCoord:m>0?k.coordinate-m*a:k.coordinate}),oc(a,k.tickCoord,function(){return l},i,j)&&(j=k.tickCoord-a*(l/2+e),g[h-1]=of(of({},k),{},{isShow:!0}))}for(var n=f?h-1:h,o=function(b){var d,f=g[b],h=function(){return void 0===d&&(d=c(f,b)),d};if(0===b){var k=a*(f.coordinate-a*h()/2-i);g[b]=f=of(of({},f),{},{tickCoord:k<0?f.coordinate-k*a:f.coordinate})}else g[b]=f=of(of({},f),{},{tickCoord:f.coordinate});oc(a,f.tickCoord,h,i,j)&&(i=f.tickCoord+a*(h()/2+e),g[b]=of(of({},f),{},{isShow:!0}))},p=0;p<n;p++)o(p);return g}(u,v,t,j,l,"preserveStartEnd"===n):function(a,b,c,d,e){for(var f=(d||[]).slice(),g=f.length,h=b.start,i=b.end,j=function(b){var d,j=f[b],k=function(){return void 0===d&&(d=c(j,b)),d};if(b===g-1){var l=a*(j.coordinate+a*k()/2-i);f[b]=j=of(of({},j),{},{tickCoord:l>0?j.coordinate-l*a:j.coordinate})}else f[b]=j=of(of({},j),{},{tickCoord:j.coordinate});oc(a,j.tickCoord,k,h,i)&&(i=j.tickCoord-a*(k()/2+e),f[b]=of(of({},j),{},{isShow:!0}))},k=g-1;k>=0;k--)j(k);return f}(u,v,t,j,l)).filter(function(a){return a.isShow})}var oh=["viewBox"],oi=["viewBox"],oj=["ticks"];function ok(a){return(ok="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function ol(){return(ol=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function om(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function on(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?om(Object(c),!0).forEach(function(b){ot(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):om(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function oo(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function op(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,ou(d.key),d)}}function oq(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(oq=function(){return!!a})()}function or(a){return(or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function os(a,b){return(os=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function ot(a,b,c){return(b=ou(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function ou(a){var b=function(a,b){if("object"!=ok(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=ok(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==ok(b)?b:b+""}var ov=function(a){var b,c;function d(a){var b,c,e;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");return c=d,e=[a],c=or(c),(b=function(a,b){if(b&&("object"===ok(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,oq()?Reflect.construct(c,e||[],or(this).constructor):c.apply(this,e))).state={fontSize:"",letterSpacing:""},b}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),a&&os(d,a),b=[{key:"shouldComponentUpdate",value:function(a,b){var c=a.viewBox,d=oo(a,oh),e=this.props,f=e.viewBox,g=oo(e,oi);return!aw(c,f)||!aw(d,g)||!aw(b,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var b=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];b&&this.setState({fontSize:window.getComputedStyle(b).fontSize,letterSpacing:window.getComputedStyle(b).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var b,c,d,e,f,g,h=this.props,i=h.x,j=h.y,k=h.width,l=h.height,m=h.orientation,n=h.tickSize,o=h.mirror,p=h.tickMargin,q=o?-1:1,r=a.tickSize||n,s=ag(a.tickCoord)?a.tickCoord:a.coordinate;switch(m){case"top":b=c=a.coordinate,g=(d=(e=j+!o*l)-q*r)-q*p,f=s;break;case"left":d=e=a.coordinate,f=(b=(c=i+!o*k)-q*r)-q*p,g=s;break;case"right":d=e=a.coordinate,f=(b=(c=i+o*k)+q*r)+q*p,g=s;break;default:b=c=a.coordinate,g=(d=(e=j+o*l)+q*r)+q*p,f=s}return{line:{x1:b,y1:d,x2:c,y2:e},tick:{x:f,y:g}}}},{key:"getTickTextAnchor",value:function(){var a,b=this.props,c=b.orientation,d=b.mirror;switch(c){case"left":a=d?"start":"end";break;case"right":a=d?"end":"start";break;default:a="middle"}return a}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,b=a.orientation,c=a.mirror,d="end";switch(b){case"left":case"right":d="middle";break;case"top":d=c?"start":"end";break;default:d=c?"end":"start"}return d}},{key:"renderAxisLine",value:function(){var a=this.props,b=a.x,c=a.y,d=a.width,e=a.height,f=a.orientation,g=a.mirror,h=a.axisLine,i=on(on(on({},aS(this.props,!1)),aS(h,!1)),{},{fill:"none"});if("top"===f||"bottom"===f){var j=+("top"===f&&!g||"bottom"===f&&g);i=on(on({},i),{},{x1:b,y1:c+j*e,x2:b+d,y2:c+j*e})}else{var k=+("left"===f&&!g||"right"===f&&g);i=on(on({},i),{},{x1:b+k*d,y1:c,x2:b+k*d,y2:c+e})}return u().createElement("line",ol({},i,{className:T("recharts-cartesian-axis-line",_()(h,"className"))}))}},{key:"renderTicks",value:function(a,b,c){var e=this,f=this.props,g=f.tickLine,h=f.stroke,i=f.tick,j=f.tickFormatter,k=f.unit,l=og(on(on({},this.props),{},{ticks:a}),b,c),m=this.getTickTextAnchor(),n=this.getTickVerticalAnchor(),o=aS(this.props,!1),p=aS(i,!1),q=on(on({},o),{},{fill:"none"},aS(g,!1)),r=l.map(function(a,b){var c=e.getTickLineCoord(a),f=c.line,r=c.tick,s=on(on(on(on({textAnchor:m,verticalAnchor:n},o),{},{stroke:"none",fill:h},p),r),{},{index:b,payload:a,visibleTicksCount:l.length,tickFormatter:j});return u().createElement(ba,ol({className:"recharts-cartesian-axis-tick",key:"tick-".concat(a.value,"-").concat(a.coordinate,"-").concat(a.tickCoord)},aD(e.props,a,b)),g&&u().createElement("line",ol({},q,f,{className:T("recharts-cartesian-axis-tick-line",_()(g,"className"))})),i&&d.renderTickItem(i,s,"".concat(as()(j)?j(a.value,b):a.value).concat(k||"")))});return u().createElement("g",{className:"recharts-cartesian-axis-ticks"},r)}},{key:"render",value:function(){var a=this,b=this.props,c=b.axisLine,d=b.width,e=b.height,f=b.ticksGenerator,g=b.className;if(b.hide)return null;var h=this.props,i=h.ticks,j=oo(h,oj),k=i;return(as()(f)&&(k=f(i&&i.length>0?this.props:j)),d<=0||e<=0||!k||!k.length)?null:u().createElement(ba,{className:T("recharts-cartesian-axis",g),ref:function(b){a.layerReference=b}},c&&this.renderAxisLine(),this.renderTicks(k,this.state.fontSize,this.state.letterSpacing),kG.renderCallByParent(this.props))}}],c=[{key:"renderTickItem",value:function(a,b,c){var d=T(b.className,"recharts-cartesian-axis-tick-value");return u().isValidElement(a)?u().cloneElement(a,on(on({},b),{},{className:d})):as()(a)?a(on(on({},b),{},{className:d})):u().createElement(eA,ol({},b,{className:"recharts-cartesian-axis-tick-value"}),c)}}],b&&op(d.prototype,b),c&&op(d,c),Object.defineProperty(d,"prototype",{writable:!1}),d}(t.Component);function ow(a){return(ow="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}ot(ov,"displayName","CartesianAxis"),ot(ov,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function ox(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(ox=function(){return!!a})()}function oy(a){return(oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function oz(a,b){return(oz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function oA(a,b,c){return(b=oB(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function oB(a){var b=function(a,b){if("object"!=ow(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=ow(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==ow(b)?b:b+""}function oC(){return(oC=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function oD(a){var b=a.xAxisId,c=mq(),d=mr(),e=mn(b);return null==e?null:t.createElement(ov,oC({},e,{className:T("recharts-".concat(e.axisType," ").concat(e.axisType),e.className),viewBox:{x:0,y:0,width:c,height:d},ticksGenerator:function(a){return jG(a,!0)}}))}var oE=function(a){var b;function c(){var a,b;if(!(this instanceof c))throw TypeError("Cannot call a class as a function");return a=c,b=arguments,a=oy(a),function(a,b){if(b&&("object"===ow(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,ox()?Reflect.construct(a,b||[],oy(this).constructor):a.apply(this,b))}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),a&&oz(c,a),b=[{key:"render",value:function(){return t.createElement(oD,this.props)}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,oB(d.key),d)}}(c.prototype,b),Object.defineProperty(c,"prototype",{writable:!1}),c}(t.Component);function oF(a){return(oF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}oA(oE,"displayName","XAxis"),oA(oE,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function oG(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(oG=function(){return!!a})()}function oH(a){return(oH=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function oI(a,b){return(oI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function oJ(a,b,c){return(b=oK(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function oK(a){var b=function(a,b){if("object"!=oF(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=oF(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==oF(b)?b:b+""}function oL(){return(oL=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var oM=function(a){var b=a.yAxisId,c=mq(),d=mr(),e=mp(b);return null==e?null:t.createElement(ov,oL({},e,{className:T("recharts-".concat(e.axisType," ").concat(e.axisType),e.className),viewBox:{x:0,y:0,width:c,height:d},ticksGenerator:function(a){return jG(a,!0)}}))},oN=function(a){var b;function c(){var a,b;if(!(this instanceof c))throw TypeError("Cannot call a class as a function");return a=c,b=arguments,a=oH(a),function(a,b){if(b&&("object"===oF(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,oG()?Reflect.construct(a,b||[],oH(this).constructor):a.apply(this,b))}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),a&&oI(c,a),b=[{key:"render",value:function(){return t.createElement(oM,this.props)}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,oK(d.key),d)}}(c.prototype,b),Object.defineProperty(c,"prototype",{writable:!1}),c}(t.Component);oJ(oN,"displayName","YAxis"),oJ(oN,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var oO=oa({chartName:"BarChart",GraphicalChild:lO,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:oE},{axisType:"yAxis",AxisComp:oN}],formatAxisMap:lV}),oP=["x1","y1","x2","y2","key"],oQ=["offset"];function oR(a){return(oR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function oS(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function oT(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?oS(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=oR(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=oR(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==oR(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):oS(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function oU(){return(oU=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function oV(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}var oW=function(a){var b=a.fill;if(!b||"none"===b)return null;var c=a.fillOpacity,d=a.x,e=a.y,f=a.width,g=a.height,h=a.ry;return u().createElement("rect",{x:d,y:e,ry:h,width:f,height:g,stroke:"none",fill:b,fillOpacity:c,className:"recharts-cartesian-grid-bg"})};function oX(a,b){var c;if(u().isValidElement(a))c=u().cloneElement(a,b);else if(as()(a))c=a(b);else{var d=b.x1,e=b.y1,f=b.x2,g=b.y2,h=b.key,i=aS(oV(b,oP),!1),j=(i.offset,oV(i,oQ));c=u().createElement("line",oU({},j,{x1:d,y1:e,x2:f,y2:g,fill:"none",key:h}))}return c}function oY(a){var b=a.x,c=a.width,d=a.horizontal,e=void 0===d||d,f=a.horizontalPoints;if(!e||!f||!f.length)return null;var g=f.map(function(d,f){return oX(e,oT(oT({},a),{},{x1:b,y1:d,x2:b+c,y2:d,key:"line-".concat(f),index:f}))});return u().createElement("g",{className:"recharts-cartesian-grid-horizontal"},g)}function oZ(a){var b=a.y,c=a.height,d=a.vertical,e=void 0===d||d,f=a.verticalPoints;if(!e||!f||!f.length)return null;var g=f.map(function(d,f){return oX(e,oT(oT({},a),{},{x1:d,y1:b,x2:d,y2:b+c,key:"line-".concat(f),index:f}))});return u().createElement("g",{className:"recharts-cartesian-grid-vertical"},g)}function o$(a){var b=a.horizontalFill,c=a.fillOpacity,d=a.x,e=a.y,f=a.width,g=a.height,h=a.horizontalPoints,i=a.horizontal;if(!(void 0===i||i)||!b||!b.length)return null;var j=h.map(function(a){return Math.round(a+e-e)}).sort(function(a,b){return a-b});e!==j[0]&&j.unshift(0);var k=j.map(function(a,h){var i=j[h+1]?j[h+1]-a:e+g-a;if(i<=0)return null;var k=h%b.length;return u().createElement("rect",{key:"react-".concat(h),y:a,x:d,height:i,width:f,stroke:"none",fill:b[k],fillOpacity:c,className:"recharts-cartesian-grid-bg"})});return u().createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},k)}function o_(a){var b=a.vertical,c=a.verticalFill,d=a.fillOpacity,e=a.x,f=a.y,g=a.width,h=a.height,i=a.verticalPoints;if(!(void 0===b||b)||!c||!c.length)return null;var j=i.map(function(a){return Math.round(a+e-e)}).sort(function(a,b){return a-b});e!==j[0]&&j.unshift(0);var k=j.map(function(a,b){var i=j[b+1]?j[b+1]-a:e+g-a;if(i<=0)return null;var k=b%c.length;return u().createElement("rect",{key:"react-".concat(b),x:a,y:f,width:i,height:h,stroke:"none",fill:c[k],fillOpacity:d,className:"recharts-cartesian-grid-bg"})});return u().createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},k)}var o0=function(a,b){var c=a.xAxis,d=a.width,e=a.height,f=a.offset;return jF(og(oT(oT(oT({},ov.defaultProps),c),{},{ticks:jG(c,!0),viewBox:{x:0,y:0,width:d,height:e}})),f.left,f.left+f.width,b)},o1=function(a,b){var c=a.yAxis,d=a.width,e=a.height,f=a.offset;return jF(og(oT(oT(oT({},ov.defaultProps),c),{},{ticks:jG(c,!0),viewBox:{x:0,y:0,width:d,height:e}})),f.top,f.top+f.height,b)},o2={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function o3(a){var b,c,d,e,f,g,h=mq(),i=mr(),j=(0,t.useContext)(mi),k=oT(oT({},a),{},{stroke:null!=(b=a.stroke)?b:o2.stroke,fill:null!=(c=a.fill)?c:o2.fill,horizontal:null!=(d=a.horizontal)?d:o2.horizontal,horizontalFill:null!=(e=a.horizontalFill)?e:o2.horizontalFill,vertical:null!=(f=a.vertical)?f:o2.vertical,verticalFill:null!=(g=a.verticalFill)?g:o2.verticalFill,x:ag(a.x)?a.x:j.left,y:ag(a.y)?a.y:j.top,width:ag(a.width)?a.width:j.width,height:ag(a.height)?a.height:j.height}),l=k.x,m=k.y,n=k.width,o=k.height,p=k.syncWithTicks,q=k.horizontalValues,r=k.verticalValues,s=al((0,t.useContext)(mf)),v=mo();if(!ag(n)||n<=0||!ag(o)||o<=0||!ag(l)||l!==+l||!ag(m)||m!==+m)return null;var w=k.verticalCoordinatesGenerator||o0,x=k.horizontalCoordinatesGenerator||o1,y=k.horizontalPoints,z=k.verticalPoints;if((!y||!y.length)&&as()(x)){var A=q&&q.length,B=x({yAxis:v?oT(oT({},v),{},{ticks:A?q:v.ticks}):void 0,width:h,height:i,offset:j},!!A||p);aq(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(oR(B),"]")),Array.isArray(B)&&(y=B)}if((!z||!z.length)&&as()(w)){var C=r&&r.length,D=w({xAxis:s?oT(oT({},s),{},{ticks:C?r:s.ticks}):void 0,width:h,height:i,offset:j},!!C||p);aq(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(oR(D),"]")),Array.isArray(D)&&(z=D)}return u().createElement("g",{className:"recharts-cartesian-grid"},u().createElement(oW,{fill:k.fill,fillOpacity:k.fillOpacity,x:k.x,y:k.y,width:k.width,height:k.height,ry:k.ry}),u().createElement(oY,oU({},k,{offset:j,horizontalPoints:y,xAxis:s,yAxis:v})),u().createElement(oZ,oU({},k,{offset:j,verticalPoints:z,xAxis:s,yAxis:v})),u().createElement(o$,oU({},k,{horizontalPoints:y})),u().createElement(o_,oU({},k,{verticalPoints:z})))}o3.displayName="CartesianGrid";let o4=z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),o5=z("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),o6=({stats:a,onNavigate:b})=>{let c=[{name:"Seg",revenue:400},{name:"Ter",revenue:300},{name:"Qua",revenue:550},{name:"Qui",revenue:450},{name:"Sex",revenue:900},{name:"Sab",revenue:1200},{name:"Dom",revenue:100}];return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)(F,{title:"Painel Executivo",subtitle:"An\xe1lise de performance em tempo real",action:(0,s.jsxs)(p.UIButton,{onClick:()=>b("financials"),variant:"ghost",size:"sm",className:"text-xs font-bold text-blue-600 flex items-center gap-1 hover:text-blue-700 transition-colors",children:["Relat\xf3rios ",(0,s.jsx)(o4,{size:14})]}),children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsx)(E,{label:"Receita Mensal",value:`R$ ${(a.monthlyRevenue||0).toLocaleString("pt-BR")}`,trend:"+12%",icon:(0,s.jsx)(N,{size:20,className:"text-blue-600"}),onClick:()=>b("financials")}),(0,s.jsx)(E,{label:"Atendimentos",value:a.totalAppointments||0,trend:"+4%",icon:(0,s.jsx)(G,{size:20,className:"text-emerald-600"}),onClick:()=>b("calendar")}),(0,s.jsx)(E,{label:"Novos Clientes",value:`+${a.newCustomers||0}`,icon:(0,s.jsx)(O,{size:20,className:"text-amber-600"}),onClick:()=>b("crm")}),(0,s.jsx)(E,{label:"Ticket M\xe9dio",value:`R$ ${a.avgTicket||0}`,icon:(0,s.jsx)(I,{size:20,className:"text-purple-600"})})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h3",{className:"text-sm font-bold text-brand-dark",children:"Faturamento (7 Dias)"}),(0,s.jsx)("span",{className:"text-[10px] font-bold text-slate-400 bg-slate-50 px-3 py-1 rounded-lg",children:"Semanal"})]}),(0,s.jsx)("div",{className:"h-[250px]",children:(0,s.jsx)(a_,{width:"100%",height:"100%",children:(0,s.jsxs)(oO,{data:c,children:[(0,s.jsx)(o3,{strokeDasharray:"3 3",vertical:!1,stroke:"#F1F5F9"}),(0,s.jsx)(oE,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94A3B8",fontSize:11,fontWeight:600},dy:10}),(0,s.jsx)(oN,{hide:!0}),(0,s.jsx)(bJ,{cursor:{fill:"#F8FAFC"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",fontSize:"12px",fontWeight:"bold"}}),(0,s.jsx)(lO,{dataKey:"revenue",radius:[8,8,0,0],barSize:32,children:c.map((a,b)=>(0,s.jsx)(kN,{fill:5===b?"#081E26":"#B8D0D9",className:"hover:opacity-80 transition-opacity"},`cell-${b}`))})]})})})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex flex-col",children:[(0,s.jsxs)("h3",{className:"text-sm font-bold text-brand-dark mb-6 flex items-center gap-2",children:[(0,s.jsx)(o5,{className:"text-amber-500",size:18})," Top Profissionais"]}),(0,s.jsx)("div",{className:"space-y-4 flex-1",children:[{name:"Marcos",val:7850,color:"bg-brand-dark"},{name:"Jo\xe3o",val:5400,color:"bg-brand-light"},{name:"Felipe",val:4200,color:"bg-slate-300"}].map((a,c)=>(0,s.jsxs)("div",{className:"space-y-2 group cursor-pointer",onClick:()=>b("team"),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("p",{className:"font-bold text-slate-900 text-sm group-hover:text-blue-600 transition-colors",children:[c+1,"\xb0 ",a.name]}),(0,s.jsxs)("span",{className:"font-bold text-slate-600 text-xs",children:["R$ ",(a.val/100).toLocaleString("pt-BR")]})]}),(0,s.jsx)("div",{className:"h-2.5 w-full bg-slate-100 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:`h-full ${a.color} rounded-full transition-all`,style:{width:`${a.val/7850*100}%`}})})]},c))}),(0,s.jsx)(p.UIButton,{onClick:()=>b("team"),variant:"ghost",size:"sm",className:"mt-6 w-full text-slate-600 font-bold rounded-xl text-xs uppercase tracking-widest transition-all",children:"Ver Equipe Completa"})]})]})]})},o7=z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),o8=z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),o9=z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),pa=z("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),pb=({appointments:a,barbers:b,services:c,onAddAppointment:d})=>{let[e,f]=(0,t.useState)(!1),[g,h]=(0,t.useState)({time:"",barberId:"",customerName:"",serviceId:""}),[i,j]=(0,t.useState)(null),[k,l]=(0,t.useState)(new Date),m=[];for(let a=9;a<=19;a++)m.push(`${a.toString().padStart(2,"0")}:00`),m.push(`${a.toString().padStart(2,"0")}:30`);let n=(a,d)=>{h({time:a||"09:00",barberId:d||b[0]?.id||"",customerName:"",serviceId:c[0]?.id||""}),f(!0)},o=a=>{let b=new Date(k);b.setDate(b.getDate()+a),l(b)};return(0,s.jsxs)("div",{className:"bg-white rounded-[2.5rem] shadow-sm border border-slate-100 overflow-hidden flex flex-col h-[calc(100vh-160px)] animate-fade-in relative",children:[i&&(0,s.jsxs)("div",{className:"absolute top-6 left-1/2 -translate-x-1/2 bg-brand-dark text-white px-6 py-3 rounded-2xl shadow-2xl z-50 flex items-center gap-3 animate-fade-in border border-white/10",children:[(0,s.jsx)("div",{className:"w-6 h-6 bg-emerald-500 rounded-full flex items-center justify-center text-white",children:(0,s.jsx)(o7,{size:14,strokeWidth:4})}),(0,s.jsx)("span",{className:"text-xs font-black uppercase tracking-widest",children:i})]}),(0,s.jsxs)(F,{title:"Agenda",className:"border-b border-slate-50 bg-white sticky top-0 z-20 px-6 py-5",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(p.UIButton,{onClick:()=>o(-1),variant:"ghost",size:"sm",className:"p-2",children:(0,s.jsx)(o8,{size:18})}),(0,s.jsxs)("div",{className:"px-4 flex flex-col items-center min-w-[140px]",children:[(0,s.jsx)("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] leading-none mb-1",children:k.toLocaleDateString("pt-BR",{weekday:"short"})}),(0,s.jsx)("span",{className:"text-sm font-black text-brand-dark",children:k.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})})]}),(0,s.jsx)(p.UIButton,{onClick:()=>o(1),variant:"ghost",size:"sm",className:"p-2",children:(0,s.jsx)(o9,{size:18})}),(0,s.jsx)(p.UIButton,{onClick:()=>l(new Date),variant:"ghost",size:"sm",className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-3 py-2",children:"Hoje"})]}),(0,s.jsxs)(p.UIButton,{onClick:()=>n(),variant:"primary",size:"md",className:"w-full md:w-auto flex items-center gap-3 mt-4",children:[(0,s.jsx)(o7,{size:16,strokeWidth:3})," Novo Agendamento"]})]}),(0,s.jsx)("div",{className:"flex-1 overflow-auto bg-slate-50/30 relative custom-scrollbar",children:(0,s.jsxs)("div",{className:"min-w-[800px]",children:[(0,s.jsxs)("div",{className:"flex border-b border-slate-100 sticky top-0 bg-white/90 backdrop-blur-md z-10 shadow-sm",children:[(0,s.jsx)("div",{className:"w-24 p-4 border-r border-slate-50 font-black text-slate-300 text-[10px] uppercase tracking-widest text-center flex items-center justify-center",children:"Hor\xe1rio"}),b.map(a=>(0,s.jsxs)("div",{className:"flex-1 p-4 border-r border-slate-50 flex items-center justify-center gap-4 min-w-[200px]",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(B,{url:a.avatar,name:a.name,size:"sm",className:"w-10 h-10 border-2 border-white shadow-md"}),(0,s.jsx)("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-emerald-500 border-2 border-white rounded-full"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"block font-black text-brand-dark text-sm tracking-tight",children:a.name.split(" ")[0]}),(0,s.jsx)("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"Dispon\xedvel"})]})]},a.id))]}),(0,s.jsx)("div",{className:"divide-y divide-slate-50 bg-white",children:m.map(d=>(0,s.jsxs)("div",{className:"flex h-32 group/row",children:[(0,s.jsx)("div",{className:"w-24 border-r border-slate-50 flex items-start justify-center pt-4 text-[11px] font-black text-slate-400 bg-slate-50/20 group-hover/row:bg-slate-50 transition-colors",children:d}),b.map(b=>{let e,f=(e=b.id,a.find(a=>{let b=new Date(a.startTime),c=`${b.getHours().toString().padStart(2,"0")}:${b.getMinutes().toString().padStart(2,"0")}`,f=b.toDateString()===k.toDateString();return a.barberId===e&&c===d&&"CANCELLED"!==a.status&&f}));return(0,s.jsx)("div",{className:"flex-1 border-r border-slate-50 p-2 relative min-w-[200px] group/slot transition-colors hover:bg-slate-50/30",children:f?(0,s.jsxs)("div",{className:`
                          w-full h-full rounded-[1.5rem] p-4 border-l-[6px] shadow-sm flex flex-col justify-center cursor-pointer 
                          transition-all duration-300 hover:shadow-xl hover:scale-[1.02] hover:z-10 relative group/card
                          ${"COMPLETED"===f.status?"bg-slate-50 border-slate-400 text-slate-500 opacity-60":"bg-white border-brand-dark text-brand-dark ring-1 ring-slate-100"}
                        `,children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,s.jsx)("p",{className:"font-black text-sm tracking-tight truncate leading-tight pr-4",children:f.customerName}),"COMPLETED"!==f.status&&(0,s.jsx)(pa,{size:12,className:"text-brand-dark/20"})]}),(0,s.jsx)("p",{className:"text-[9px] font-black uppercase tracking-widest opacity-60 mb-2 truncate",children:c.find(a=>a.id===f.serviceId)?.name||"Servi\xe7o"}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-current animate-pulse"}),(0,s.jsx)("span",{className:"text-[8px] font-bold uppercase tracking-widest",children:"COMPLETED"===f.status?"Finalizado":"Confirmado"})]})]}):(0,s.jsx)("button",{onClick:()=>n(d,b.id),className:"w-full h-full rounded-[1.5rem] border-2 border-dashed border-transparent hover:border-slate-200 hover:bg-slate-50 flex items-center justify-center cursor-pointer transition-all duration-300 group/btn",children:(0,s.jsx)("div",{className:"bg-slate-100 text-slate-300 p-2 rounded-xl group-hover/btn:bg-brand-dark group-hover/btn:text-white transition-all opacity-0 group-hover/slot:opacity-100 scale-75 group-hover/btn:scale-100",children:(0,s.jsx)(o7,{size:20,strokeWidth:3})})})},`${b.id}-${d}`)})]},d))})]})}),e&&(0,s.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-brand-dark/60 backdrop-blur-md p-4 animate-fade-in",children:(0,s.jsxs)("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-md overflow-hidden animate-slide-in",children:[(0,s.jsxs)("div",{className:"bg-slate-50 px-8 py-6 border-b border-slate-100 flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-black text-brand-dark tracking-tighter uppercase italic leading-none",children:"Agendar Manual"}),(0,s.jsx)("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-1",children:"Cria\xe7\xe3o r\xe1pida de reserva"})]}),(0,s.jsx)("button",{onClick:()=>f(!1),className:"p-2.5 bg-white hover:bg-slate-100 rounded-full text-slate-400 transition-all active:scale-90 shadow-sm border border-slate-100",children:(0,s.jsx)(R,{size:18})})]}),(0,s.jsxs)("form",{onSubmit:a=>{a.preventDefault();let[b,c]=g.time.split(":").map(Number),e=new Date(k);e.setHours(b,c,0,0),d({barberId:g.barberId,customerName:g.customerName,serviceId:g.serviceId,startTime:e}),f(!1),j("Agendamento manual criado!"),setTimeout(()=>j(null),3e3)},className:"p-8 space-y-5 bg-white",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Nome do Cliente"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(A,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),(0,s.jsx)("input",{required:!0,type:"text",className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-brand-light font-bold text-sm",placeholder:"Ex: Lucas Moura",value:g.customerName,onChange:a=>h({...g,customerName:a.target.value})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Barbeiro"}),(0,s.jsx)("select",{className:"w-full px-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl outline-none font-bold text-sm appearance-none cursor-pointer",value:g.barberId,onChange:a=>h({...g,barberId:a.target.value}),children:b.map(a=>(0,s.jsx)("option",{value:a.id,children:a.name.split(" ")[0]},a.id))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Hor\xe1rio"}),(0,s.jsx)("select",{className:"w-full px-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl outline-none font-bold text-sm appearance-none cursor-pointer",value:g.time,onChange:a=>h({...g,time:a.target.value}),children:m.map(a=>(0,s.jsx)("option",{value:a,children:a},a))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Servi\xe7o Principal"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(K,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),(0,s.jsx)("select",{className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl outline-none font-bold text-sm appearance-none cursor-pointer",value:g.serviceId,onChange:a=>h({...g,serviceId:a.target.value}),children:c.map(a=>(0,s.jsxs)("option",{value:a.id,children:[a.name," - R$",a.price]},a.id))})]})]}),(0,s.jsx)("button",{type:"submit",className:"w-full py-5 bg-brand-dark text-white font-black rounded-2xl shadow-xl shadow-brand-dark/20 hover:bg-black transition-all mt-4 uppercase text-xs tracking-widest active:scale-95",children:"Confirmar Reserva"})]})]})})]})},pc=z("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),pd=z("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),pe=z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),pf=({initialQueue:a,services:b})=>{let[c,d]=(0,t.useState)(a),[e,f]=(0,t.useState)(""),[g,h]=(0,t.useState)(b[0].id);return(0,s.jsxs)("div",{className:"flex flex-col gap-6 animate-fade-in pb-12",children:[(0,s.jsxs)(F,{title:"Fila Walk-in",className:"md:hidden bg-brand-dark text-white p-5 rounded-[1.5rem] shadow-xl flex justify-between items-center relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full blur-2xl -mr-16 -mt-16"}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-brand-light/60 mb-1",children:"Pessoas na Fila"}),(0,s.jsxs)("h3",{className:"text-3xl font-black tracking-tighter",children:[c.length," ",(0,s.jsx)("span",{className:"text-sm font-bold opacity-40 ml-1",children:"esperando"})]})]}),(0,s.jsxs)("div",{className:"relative z-10 text-right",children:[(0,s.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-brand-light/60 mb-1",children:"Espera M\xe9dia"}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5 justify-end",children:[(0,s.jsx)(H,{size:14,className:"text-amber-400"}),(0,s.jsxs)("span",{className:"text-xl font-black",children:[20*c.length," min"]})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white p-6 md:p-8 rounded-[2rem] shadow-sm border border-slate-100 h-fit",children:[(0,s.jsxs)("h2",{className:"text-xl font-black text-brand-dark mb-6 flex items-center gap-2 uppercase tracking-tighter",children:[(0,s.jsx)(pc,{className:"text-brand-dark",size:24})," Novo Walk-in"]}),(0,s.jsxs)("div",{className:"space-y-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Nome do Cliente"}),(0,s.jsx)("input",{type:"text",className:"w-full px-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-brand-light focus:bg-white focus:outline-none transition-all font-bold text-slate-800 placeholder:text-slate-300",placeholder:"Ex: Jo\xe3o da Silva",value:e,onChange:a=>f(a.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Servi\xe7o Desejado"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("select",{className:"w-full px-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-brand-light focus:bg-white focus:outline-none transition-all font-bold text-slate-800 appearance-none",value:g,onChange:a=>h(a.target.value),children:b.map(a=>(0,s.jsxs)("option",{value:a.id,children:[a.name," - R$",a.price]},a.id))}),(0,s.jsx)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:(0,s.jsx)(K,{size:18})})]})]}),(0,s.jsxs)("button",{onClick:()=>{if(!e)return;let a=c.reduce((a,b)=>a+20*("WAITING"===b.status),10);d([...c,{id:Math.random().toString(36).substr(2,9),customerName:e,serviceId:g,joinedAt:new Date,estimatedWaitMinutes:a,status:"WAITING"}]),f("")},disabled:!e,className:"w-full bg-brand-dark text-white font-black py-4 rounded-2xl shadow-xl hover:bg-black transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest disabled:opacity-30 active:scale-95",children:[(0,s.jsx)(O,{size:18})," Adicionar \xe0 Fila"]})]})]}),(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-100 rounded-2xl p-5 flex gap-4",children:[(0,s.jsx)(C,{className:"text-blue-500 flex-shrink-0",size:24}),(0,s.jsx)("p",{className:"text-xs text-blue-700 font-medium leading-relaxed",children:"A fila walk-in \xe9 ideal para clientes que chegam sem agendamento. O tempo \xe9 calculado automaticamente com base no servi\xe7o."})]})]}),(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,s.jsxs)("h2",{className:"text-xl font-black text-brand-dark uppercase tracking-tighter flex items-center gap-2",children:[(0,s.jsx)(L,{size:22})," Ordem de Chamada"]}),(0,s.jsxs)("span",{className:"hidden md:inline-flex items-center gap-1.5 text-[10px] font-black text-slate-400 uppercase tracking-widest bg-slate-100 px-3 py-1 rounded-full",children:["Tempo M\xe9dio: ",20*c.length," min"]})]}),(0,s.jsx)("div",{className:"space-y-3",children:0===c.length?(0,s.jsxs)("div",{className:"text-center py-20 bg-white rounded-[2rem] border border-dashed border-slate-200",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(H,{size:32,className:"text-slate-200"})}),(0,s.jsx)("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"A fila est\xe1 livre agora"})]}):c.map((a,e)=>{let f=b.find(b=>b.id===a.serviceId),g="WAITING"===a.status,h="IN_CHAIR"===a.status;return(0,s.jsxs)("div",{className:`
                            flex items-center justify-between p-4 md:p-6 rounded-[2rem] border transition-all active:scale-[0.98]
                            ${g?"bg-white border-slate-100 shadow-sm":"bg-brand-dark border-brand-dark text-white shadow-xl scale-[1.02]"}
                            animate-fade-in
                        `,children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 md:gap-6",children:[(0,s.jsx)("div",{className:`
                                    w-10 h-10 md:w-12 md:h-12 rounded-2xl flex items-center justify-center font-black text-base
                                    ${g?"bg-slate-100 text-slate-400":"bg-brand-light text-brand-dark shadow-inner"}
                                `,children:e+1}),(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,s.jsx)("h3",{className:`font-black text-base md:text-xl tracking-tight truncate ${!g&&"text-white"}`,children:a.customerName}),h&&(0,s.jsx)("span",{className:"bg-emerald-500 text-white text-[8px] font-black px-1.5 py-0.5 rounded-md uppercase animate-pulse",children:"Na Cadeira"})]}),(0,s.jsx)("p",{className:`text-[10px] md:text-xs font-bold uppercase tracking-widest ${g?"text-slate-400":"text-brand-light opacity-80"}`,children:f?.name})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"text-right hidden sm:block",children:[g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest",children:"Espera"}),(0,s.jsxs)("p",{className:"text-sm font-black text-slate-600",children:["~",a.estimatedWaitMinutes," min"]})]}),h&&(0,s.jsx)("p",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-widest",children:"Atendendo..."})]}),(0,s.jsx)("button",{onClick:()=>{var b;return b=a.id,void d(c.map(a=>{if(a.id===b){if("WAITING"===a.status)return{...a,status:"IN_CHAIR"};if("IN_CHAIR"===a.status)return{...a,status:"COMPLETED"}}return a}).filter(a=>"COMPLETED"!==a.status))},title:g?"Chamar para cadeira":"Finalizar atendimento",className:`
                                        w-12 h-12 md:w-14 md:h-14 rounded-2xl flex items-center justify-center transition-all shadow-lg active:scale-90
                                        ${g?"bg-brand-dark text-brand-light hover:bg-black":"bg-white text-brand-dark hover:bg-slate-50"}
                                    `,children:g?(0,s.jsx)(pd,{size:20,fill:"currentColor"}):(0,s.jsx)(pe,{size:24,strokeWidth:3})})]})]},a.id)})})]})]})]})},pg={MIN_POINTS_TO_REDEEM:100,DISCOUNT_CONVERSION_RATE:10},ph={shopName:"Barvo Matriz",address:"Rua Augusta, 1500 - S\xe3o Paulo, SP",phone:"(11) 99999-0000",openingHours:{start:"09:00",end:"20:00"},workingDays:["Seg","Ter","Qua","Qui","Sex","Sab"],defaultCommissionRate:50},pi=[{id:"n1",title:"Novo Agendamento",message:"Lucas Moura agendou para hoje \xe0s 15:00",time:"10 min atr\xe1s",read:!1,type:"INFO"},{id:"n2",title:"Estoque Baixo",message:"Shampoo Mentolado atingiu n\xedvel m\xednimo.",time:"1 hora atr\xe1s",read:!1,type:"ALERT"},{id:"n3",title:"Meta Batida",message:"Parab\xe9ns! Faturamento di\xe1rio superou a meta.",time:"Ontem",read:!0,type:"SUCCESS"}],pj=[{id:"auto1",title:"Fidelidade 5 Cortes",triggerType:"APPOINTMENT_COUNT",triggerValue:5,message:"Parab\xe9ns! Voc\xea completou 5 cortes conosco na Barvo. Aqui est\xe1 um cupom de 20% OFF: #BARVO20",active:!0,channel:"WHATSAPP"},{id:"auto2",title:"Feliz Anivers\xe1rio",triggerType:"BIRTHDAY",triggerValue:0,message:"Parab\xe9ns pelo seu dia! \uD83C\uDF82 Venha dar um trato no visual por nossa conta hoje na Barvo.",active:!1,channel:"WHATSAPP"}],pk=[{id:"u1",name:"Carlos Dono",role:x.OWNER,avatar:"https://picsum.photos/seed/u1/100/100",email:"admin@barber.com",password:"123",phone:"(11) 99999-9999"},{id:"u2",name:"Marcos Barbeiro",role:x.BARBER,avatar:"https://picsum.photos/seed/u2/100/100",email:"marcos@barber.com",password:"123",phone:"(11) 88888-8888"},{id:"u3",name:"Jo\xe3o Barbeiro",role:x.BARBER,avatar:"https://picsum.photos/seed/u3/100/100",email:"joao@barber.com",password:"123",phone:"(11) 77777-7777"},{id:"u4",name:"Cliente Teste",role:x.CUSTOMER,avatar:"https://picsum.photos/seed/u4/100/100",email:"cliente@gmail.com",password:"123",phone:"(11) 66666-6666",points:450,paymentMethods:[{id:"pm1",type:"CARD",brand:"visa",last4:"4242",expiry:"12/26",isDefault:!0},{id:"pm2",type:"CARD",brand:"mastercard",last4:"8888",expiry:"08/25",isDefault:!1}]},{id:"c1",name:"Roberto Silva",role:x.CUSTOMER,avatar:"https://picsum.photos/seed/c1/100/100",email:"roberto@gmail.com",phone:"(11) 91111-1111",points:120},{id:"c2",name:"Lucas Moura",role:x.CUSTOMER,avatar:"https://picsum.photos/seed/c2/100/100",email:"lucas@gmail.com",phone:"(11) 92222-2222",points:0}],pl=[{id:"s1",name:"Corte de Cabelo",durationMinutes:30,price:50,cost:15,margin:70,description:"Corte moderno com tesoura ou m\xe1quina."},{id:"s2",name:"Barba Terapia",durationMinutes:30,price:40,cost:12,margin:70,description:"Modelagem de barba com toalha quente."},{id:"s3",name:"Combo (Corte + Barba)",durationMinutes:50,price:80,cost:25,margin:68,description:"O pacote completo."},{id:"s4",name:"Pezinho / Acabamento",durationMinutes:15,price:20,cost:5,margin:75,description:"Apenas os contornos."}],pm=new Date,pn=(a,b,c)=>{let d=new Date(a);return d.setHours(b,c,0,0),d},po=new Date(pm);po.setDate(po.getDate()+1);let pp=new Date(pm);pp.setDate(pp.getDate()-1);let pq=new Date(pm);pq.setMonth(pq.getMonth()-1);let pr=[{id:"a1",barberId:"u2",customerId:"c1",customerName:"Roberto Silva",serviceId:"s1",startTime:pn(pm,10,0),status:"COMPLETED",paymentMethod:"CREDIT_CARD"},{id:"a2",barberId:"u2",customerId:"c2",customerName:"Lucas Moura",serviceId:"s3",startTime:pn(pm,11,0),status:"CONFIRMED",paymentMethod:"PIX"},{id:"a3",barberId:"u3",customerId:"c3",customerName:"Andr\xe9 Santos",serviceId:"s2",startTime:pn(pm,10,30),status:"CONFIRMED",paymentMethod:"PRESENTIAL"},{id:"a4",barberId:"u3",customerId:"c4",customerName:"Felipe Neto",serviceId:"s1",startTime:pn(pm,14,0),status:"CONFIRMED",paymentMethod:"DEBIT_CARD"},{id:"a5",barberId:"u2",customerId:"u4",customerName:"Cliente Teste",serviceId:"s3",startTime:pn(po,15,30),status:"CONFIRMED",paymentMethod:"CREDIT_CARD"},{id:"a6",barberId:"u3",customerId:"u4",customerName:"Cliente Teste",serviceId:"s1",startTime:pn(pp,18,0),status:"COMPLETED",paymentMethod:"PIX"},{id:"a7",barberId:"u2",customerId:"u4",customerName:"Cliente Teste",serviceId:"s2",startTime:pn(pq,10,0),status:"COMPLETED",paymentMethod:"PRESENTIAL"}],ps=[{id:"q1",customerName:"Pedro Henrique",serviceId:"s1",joinedAt:new Date(Date.now()-12e5),estimatedWaitMinutes:10,status:"WAITING"},{id:"q2",customerName:"Gabriel Costa",serviceId:"s2",joinedAt:new Date(Date.now()-3e5),estimatedWaitMinutes:25,status:"WAITING"}],pt=[{id:"t1",date:"2023-10-25",amount:80,type:"SERVICE",description:"Combo Corte + Barba",barberId:"u2",paymentMethod:"CREDIT_CARD"},{id:"t2",date:"2023-10-25",amount:50,type:"SERVICE",description:"Corte Simples",barberId:"u3",paymentMethod:"PIX"},{id:"t3",date:"2023-10-25",amount:45,type:"PRODUCT",description:"Pomada Matte",paymentMethod:"DEBIT_CARD"},{id:"t4",date:"2023-10-24",amount:120,type:"SERVICE",description:"Corte + Pigmenta\xe7\xe3o",barberId:"u2",paymentMethod:"PRESENTIAL"},{id:"t5",date:"2023-10-24",amount:40,type:"SERVICE",description:"Barba",barberId:"u3",paymentMethod:"CREDIT_CARD"},{id:"t6",date:"2023-10-23",amount:200,type:"SERVICE",description:"Dia do Noivo",barberId:"u2",paymentMethod:"PIX"},{id:"t7",date:"2023-10-23",amount:90,type:"SERVICE",description:"Combo VIP",barberId:"u3",paymentMethod:"DEBIT_CARD"}],pu={monthlyRevenue:15450,totalAppointments:234,newCustomers:45,avgTicket:66},pv=[{id:"p1",name:"Pomada Matte Barvo Series",quantity:15,price:45,minLevel:10,category:"Finaliza\xe7\xe3o"},{id:"p2",name:"Shampoo Mentolado 5L",quantity:5,price:35,minLevel:8,category:"Lavat\xf3rio"},{id:"p3",name:"\xd3leo de Barba Premium",quantity:12,price:40,minLevel:5,category:"Barba"},{id:"p4",name:"Cerveja Artesanal IPA",quantity:48,price:15,minLevel:24,category:"Bar"}],pw=[{id:"plan1",name:"Barvo Essencial",price:80,servicesPerMonth:2,includedServiceIds:["s1"],includesBeard:!1,benefits:["Acesso priorit\xe1rio","Caf\xe9 gr\xe1tis"],activeMembers:45,utilizationRate:75,revenueGenerated:3600},{id:"plan2",name:"Barvo VIP",price:150,servicesPerMonth:0,includedServiceIds:["s1","s2","s3"],includesBeard:!0,benefits:["Cortes ilimitados","Barba inclusa","Cerveja cortesia","10% OFF em produtos"],activeMembers:28,utilizationRate:60,revenueGenerated:4200}],px=[{id:"n1",customerId:"c1",barberId:"u2",date:"2023-10-15",note:"Cliente prefere disfar\xe7ado na 0.5 (Mid Fade). Cuidado com sinal na sobrancelha direita.",tags:["Mid Fade","Sobrancelha"]},{id:"n2",customerId:"c2",barberId:"u3",date:"2023-10-10",note:"Barba desenhada com navalha, pele sens\xedvel. Usar toalha morna, n\xe3o quente.",tags:["Pele Sens\xedvel","Barba"]}],py=[{id:"sp1",name:"Pomada Modeladora Barvo Matte",description:"Fixa\xe7\xe3o forte com efeito seco natural. F\xf3rmula exclusiva da Barvo \xe0 base de \xe1gua.",price:45,category:"Cabelo",rating:4.8,reviewsCount:124,images:["https://images.unsplash.com/photo-1626285861696-9f0bf5a49c6d?auto=format&fit=crop&q=80&w=600"],variations:["100g","50g"],inStock:!0},{id:"sp2",name:"\xd3leo para Barba Barvo Viking",description:"Hidrata\xe7\xe3o profunda com fragr\xe2ncia amadeirada exclusiva.",price:39.9,category:"Barba",rating:4.9,reviewsCount:89,images:["https://images.unsplash.com/photo-1626285861696-9f0bf5a49c6d?auto=format&fit=crop&q=80&w=600"],variations:["30ml","60ml"],inStock:!0}],pz=z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),pA=z("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),pB=z("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),pC=z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),pD=z("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),pE=z("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),pF=z("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),pG=z("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),pH={u4:{planId:"mp1",startDate:new Date(Date.now()-2592e6).toISOString()}};function pI(a){let b={};return b[a]?b[a]:a in pH?pH[a]:null}function pJ(){return 0+Object.keys(pH).length}function pK(a,b){let c=function(a){let b=null;if(!b){let c=new Date,d=`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}`,e=new Date(c.getFullYear(),c.getMonth()+1,1);b={planId:pI(a)?.planId||"",customerId:a,servicesUsedThisMonth:0,month:d,createdAt:new Date().toISOString(),resetDate:e.toISOString()}}if(function(a){let b=null;return!!b&&new Date>new Date(b.resetDate)}(a)){let c=new Date,d=`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}`,e=new Date(c.getFullYear(),c.getMonth()+1,1);pI(a)?.planId,new Date().toISOString(),e.toISOString(),b=null}return b}(a);return c.servicesUsedThisMonth,c.servicesUsedThisMonth<b&&(c.servicesUsedThisMonth+=1,pL(c)),{currentUsage:c.servicesUsedThisMonth,remaining:Math.max(0,b-c.servicesUsedThisMonth),isLimitReached:c.servicesUsedThisMonth>=b}}function pL(a){}function pM(a,b,c){let d=[],e=a;for(let a=0;a<c;a++)d.push(e*=1+b);return d}let pN=({message:a,type:b,onClose:c})=>(0,s.jsxs)("div",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] flex items-center gap-2 px-4 py-3 rounded-lg shadow-xl animate-fade-in border ${"success"===b?"bg-emerald-600 border-emerald-500 text-white":"bg-white border-red-100 text-red-600"}`,children:["success"===b?(0,s.jsx)(pz,{size:16,className:"text-white"}):(0,s.jsx)(C,{size:16}),(0,s.jsx)("span",{className:"font-semibold text-xs",children:a}),(0,s.jsx)("button",{onClick:c,className:"ml-2 text-sm opacity-70",children:"\xd7"})]}),pO=({currentUser:a,initialData:b,services:c,onBook:d,shopSettings:e,allAppointments:f,availabilityExceptions:g})=>{let[h,i]=(0,t.useState)(1),[j,k]=(0,t.useState)({serviceIds:[],barberId:"",date:new Date().toISOString().split("T")[0],time:"",paymentMethod:"PRESENTIAL",selectedCardId:a?.paymentMethods?.find(a=>a.isDefault)?.id||a?.paymentMethods?.[0]?.id||""}),[l,m]=(0,t.useState)(!1),[n,o]=(0,t.useState)({name:"",phone:""}),[p,q]=(0,t.useState)(null),[u,v]=(0,t.useState)("IDLE"),[w,y]=(0,t.useState)(300);(0,t.useEffect)(()=>{b&&(k(a=>({...a,serviceIds:b.serviceIds||[],barberId:b.barberId||""})),b.customerName&&o(a=>({...a,name:b.customerName||""})))},[b]),(0,t.useEffect)(()=>{if("DISPLAY"===u&&w>0){let a=setInterval(()=>y(a=>a-1),1e3);return()=>clearInterval(a)}},[u,w]);let z=pk.filter(a=>"BARBER"===a.role),A=(0,t.useMemo)(()=>{let a=[],[b]=e.openingHours.start.split(":").map(Number),[c]=e.openingHours.end.split(":").map(Number);for(let d=b;d<c;d++)a.push(`${d.toString().padStart(2,"0")}:00`),a.push(`${d.toString().padStart(2,"0")}:30`);return a},[e]),D=(0,t.useMemo)(()=>{let a=[],b=new Date;for(let c=0;c<7;c++){let d=new Date(b);d.setDate(b.getDate()+c),a.push({iso:d.toISOString().split("T")[0],label:d.toLocaleDateString("pt-BR",{weekday:"short",day:"2-digit"}),isToday:0===c})}return a},[]),E=c.filter(a=>j.serviceIds.includes(a.id)),F=E.reduce((a,b)=>a+b.durationMinutes,0),G=E.reduce((a,b)=>a+Number(b.price),0),I=b?.customerId?pk.find(a=>a.id===b.customerId):a,J=!!I&&function(a,b){return!!(({})[a]||b?.membershipId)||a in pH}(I.id,I);I&&pI(I.id);let L=G,M=0,N=0,O=!0,P=0;if(J&&I){j.serviceIds[0]&&((O=function(a,b){var c;let d=(c=0,null);return!!d&&d.servicesUsedThisMonth<4}(I.id,0))||(P=pK(I.id,4).remaining));let a=(0,r.calculateSubscriberPrice)(G,.15);L=a.finalPrice,M=a.discountAmount,N=a.savingsPercentage}a?.points&&a.points;let Q=pk.find(a=>a.id===j.barberId),R=(a,b)=>{q({message:a,type:b}),setTimeout(()=>q(null),4e3)},S=a=>{if(!j.barberId||0===j.serviceIds.length)return!0;let[b,d]=a.split(":").map(Number),h=new Date(j.date);h.setHours(b,d,0,0);let i=new Date(h);if(i.setMinutes(i.getMinutes()+F),j.date===new Date().toISOString().split("T")[0]&&h<new Date)return!1;let[k,l]=e.openingHours.end.split(":").map(Number),m=new Date(j.date);return m.setHours(k,l,0,0),!(i>m)&&!(f.filter(a=>{if(a.barberId!==j.barberId||"CANCELLED"===a.status)return!1;let b=new Date(a.startTime),d=c.find(b=>b.id===a.serviceId),e=d?d.durationMinutes:30,f=new Date(b);return f.setMinutes(f.getMinutes()+e),h<f&&i>b}).length>0)&&!g.some(a=>{if(a.barberId!==j.barberId||a.date!==j.date)return!1;let[b,c]=a.startTime.split(":").map(Number),d=new Date(j.date);d.setHours(b,c,0,0);let e=new Date(d);return e.setMinutes(e.getMinutes()+30),h<e&&i>d})};(0,t.useEffect)(()=>{j.time&&!S(j.time)&&(k(a=>({...a,time:""})),h>4&&(i(4),R("O hor\xe1rio n\xe3o comporta mais a dura\xe7\xe3o total dos servi\xe7os.","error")))},[j.serviceIds,F]);let T=()=>{if(4===h&&j.time&&!S(j.time))return void R("Conflito de agenda. Escolha outro hor\xe1rio.","error");if(5===h&&"PIX"===j.paymentMethod&&"IDLE"===u){v("GENERATING"),setTimeout(()=>v("DISPLAY"),1500);return}m(!0),setTimeout(()=>{i(a=>a+1),m(!1)},300)};return(0,s.jsxs)("div",{className:`max-w-md mx-auto bg-white rounded-[2.5rem] shadow-2xl border border-slate-100 overflow-hidden min-h-[550px] flex flex-col transition-all duration-300 relative ${5===h?"max-w-5xl":""}`,children:[p&&(0,s.jsx)(pN,{message:p.message,type:p.type,onClose:()=>q(null)}),5!==h&&7!==h&&(0,s.jsxs)("div",{className:"bg-brand-dark py-8 px-8 text-white text-center relative overflow-hidden",children:[(0,s.jsx)("h1",{className:"text-xl font-black tracking-tighter uppercase italic mb-4",children:"Novo Agendamento"}),(0,s.jsx)("div",{className:"flex justify-center gap-1.5",children:[1,2,3,4,5,6].map(a=>(0,s.jsx)("div",{className:`h-1.5 rounded-full transition-all duration-300 ${h>=a?"bg-brand-light w-8":"bg-white/10 w-2"}`},a))})]}),(0,s.jsxs)("div",{className:`p-6 md:p-8 flex-1 flex flex-col relative overflow-hidden ${5===h?"p-0":"bg-slate-50/20"}`,children:[1===h&&(0,s.jsxs)("div",{className:"space-y-4 animate-fade-in flex-1 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("h2",{className:"text-lg font-black text-brand-dark uppercase tracking-tighter",children:"Servi\xe7os"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[E.length," selecionado"]}),J&&(0,s.jsx)("span",{className:"text-[10px] font-black px-2 py-1 bg-emerald-100 text-emerald-700 rounded-full uppercase",children:"âœ“ Assinante"})]})]}),(0,s.jsx)("div",{className:"grid gap-2 pb-24 overflow-y-auto custom-scrollbar",children:c.map(a=>{let b=j.serviceIds.includes(a.id),c=J?.15*a.price:0;return(0,s.jsxs)("button",{onClick:()=>(a=>{k(b=>{let c=b.serviceIds.includes(a)?b.serviceIds.filter(b=>b!==a):[...b.serviceIds,a];return{...b,serviceIds:c}})})(a.id),className:`w-full text-left p-4 md:p-5 border-2 rounded-2xl transition-all relative ${b?"border-brand-dark bg-white shadow-md ring-4 ring-brand-dark/5":"border-slate-100 bg-white"}`,children:[J&&(0,s.jsx)("div",{className:"absolute -top-2 -right-2 bg-emerald-500 text-white text-[10px] font-black px-2 py-1 rounded-full",children:"-15%"}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center transition-colors ${b?"bg-brand-dark text-white":"bg-slate-100 text-slate-400"}`,children:b?(0,s.jsx)(pz,{size:20,strokeWidth:4}):(0,s.jsx)(K,{size:20})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:`block font-black text-sm md:text-base ${b?"text-brand-dark":"text-slate-800"}`,children:a.name}),(0,s.jsxs)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[a.durationMinutes," min"]})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[J&&c>0&&(0,s.jsxs)("div",{className:"text-[10px] text-slate-400 line-through",children:["R$ ",Number(a.price).toFixed(0)]}),(0,s.jsxs)("div",{className:`text-base font-black ${b?"text-brand-dark":"text-slate-900"}`,children:["R$ ",J?(a.price-c).toFixed(0):Number(a.price).toFixed(0)]})]})]})]},a.id)})}),(0,s.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-5 bg-white/95 backdrop-blur-md border-t border-slate-100 flex items-center justify-between shadow-[0_-10px_20px_rgba(0,0,0,0.02)]",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Total"}),(0,s.jsxs)("span",{className:"text-xl font-black text-brand-dark leading-none",children:["R$ ",L.toFixed(2)]})]}),(0,s.jsxs)("button",{onClick:T,disabled:0===j.serviceIds.length,className:"bg-brand-dark text-white px-8 py-3.5 rounded-2xl font-black shadow-2xl disabled:opacity-20 transition-all flex items-center gap-2 text-sm uppercase tracking-widest active:scale-95",children:["Avan\xe7ar ",(0,s.jsx)(o9,{size:18,strokeWidth:3})]})]})]}),2===h&&(0,s.jsxs)("div",{className:"space-y-6 animate-fade-in flex-1",children:[(0,s.jsxs)("button",{onClick:()=>i(1),className:"text-[10px] font-black text-slate-400 flex items-center gap-1 uppercase tracking-widest hover:text-brand-dark",children:[(0,s.jsx)(o8,{size:16})," Voltar"]}),(0,s.jsx)("h2",{className:"text-xl font-black text-brand-dark tracking-tighter",children:"Escolha o Barbeiro"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-4",children:z.map(a=>(0,s.jsxs)("button",{onClick:()=>{k({...j,barberId:a.id}),T()},className:`p-6 border-2 rounded-[2rem] bg-white transition-all flex flex-col items-center gap-3 active:scale-95 ${j.barberId===a.id?"border-brand-dark shadow-xl ring-4 ring-brand-dark/5":"border-slate-100"}`,children:[(0,s.jsx)(B,{url:a.avatar,name:a.name,size:"lg",className:"!w-20 !h-20 shadow-lg border-2 border-white"}),(0,s.jsx)("span",{className:"font-black text-brand-dark text-sm uppercase tracking-tighter",children:a.name.split(" ")[0]})]},a.id))})]}),3===h&&(0,s.jsxs)("div",{className:"space-y-6 animate-fade-in flex-1",children:[(0,s.jsxs)("button",{onClick:()=>i(2),className:"text-[10px] font-black text-slate-400 flex items-center gap-1 uppercase tracking-widest",children:[(0,s.jsx)(o8,{size:16})," Voltar"]}),(0,s.jsx)("h2",{className:"text-xl font-black text-brand-dark text-center tracking-tighter",children:"Para quando?"}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-3",children:D.map(a=>(0,s.jsxs)("button",{onClick:()=>{k({...j,date:a.iso}),T()},className:`py-5 rounded-2xl border-2 transition-all flex flex-col items-center justify-center active:scale-90 ${j.date===a.iso?"bg-brand-dark border-brand-dark text-white shadow-xl":"bg-white border-slate-100 text-slate-600"}`,children:[(0,s.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest opacity-60 mb-1",children:a.label.split(" ")[0]}),(0,s.jsx)("span",{className:"text-2xl font-black tracking-tighter",children:a.label.split(" ")[1]})]},a.iso))})]}),4===h&&(0,s.jsxs)("div",{className:"space-y-6 animate-fade-in flex-1",children:[(0,s.jsxs)("button",{onClick:()=>i(3),className:"text-[10px] font-black text-slate-400 flex items-center gap-1 uppercase tracking-widest",children:[(0,s.jsx)(o8,{size:16})," Voltar"]}),(0,s.jsx)("h2",{className:"text-xl font-black text-brand-dark text-center tracking-tighter",children:"Qual hor\xe1rio?"}),(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-100 p-3 rounded-xl flex items-center gap-2 mb-2",children:[(0,s.jsx)(H,{size:16,className:"text-blue-500"}),(0,s.jsxs)("p",{className:"text-[10px] font-bold text-blue-700 uppercase",children:["Estimado: ",F," min de atendimento"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-3 overflow-y-auto max-h-[300px] pr-2 custom-scrollbar",children:A.map(a=>{let b=S(a);return(0,s.jsx)("button",{disabled:!b,onClick:()=>{k({...j,time:a}),T()},className:`py-4 border-2 rounded-xl font-black text-sm tracking-tighter transition-all active:scale-95 ${b?j.time===a?"bg-brand-dark border-brand-dark text-white shadow-lg":"bg-white border-slate-100 text-slate-700":"bg-slate-50 text-slate-200 border-slate-50 cursor-not-allowed opacity-40"}`,children:a},a)})})]}),5===h&&(0,s.jsxs)("div",{className:"animate-fade-in flex flex-col md:flex-row min-h-[500px]",children:[(0,s.jsxs)("div",{className:"flex-1 p-8 md:p-12 bg-white",children:[(0,s.jsxs)("button",{onClick:()=>{"IDLE"!==u?v("IDLE"):i(4)},className:"text-slate-400 hover:text-brand-dark mb-8 flex items-center gap-1 text-[10px] font-black uppercase tracking-widest",children:[(0,s.jsx)(o8,{size:16})," Voltar"]}),(0,s.jsxs)("div",{className:"max-w-sm mx-auto",children:[(0,s.jsx)("h2",{className:"text-3xl font-black text-slate-800 mb-8 tracking-tighter",children:"Checkout"}),"GENERATING"===u&&(0,s.jsxs)("div",{className:"text-center py-20 animate-pulse",children:[(0,s.jsx)(pA,{className:"animate-spin mx-auto text-emerald-500 mb-4",size:48}),(0,s.jsx)("p",{className:"text-sm font-black text-slate-600 uppercase tracking-widest",children:"Gerando Pix..."})]}),"DISPLAY"===u&&(0,s.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,s.jsxs)("div",{className:"bg-slate-50 p-8 rounded-[2.5rem] border-2 border-emerald-100 flex flex-col items-center",children:[(0,s.jsx)("div",{className:"bg-white p-4 rounded-[2rem] shadow-2xl mb-4",children:(0,s.jsx)("img",{src:"https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=BARVO_BOOKING_PIX",className:"w-40 h-40",alt:"QR Pix"})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-emerald-600 font-black mb-2",children:[(0,s.jsx)(pB,{size:20})," ",(0,s.jsx)("span",{className:"text-xl",children:(a=>{let b=Math.floor(a/60);return`${b}:${(a%60).toString().padStart(2,"0")}`})(w)})]}),(0,s.jsx)("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest text-center",children:"Pagamento Instant\xe2neo"})]}),(0,s.jsx)("button",{onClick:T,className:"w-full bg-emerald-600 text-white py-5 rounded-[2rem] font-black text-sm uppercase tracking-widest shadow-2xl shadow-emerald-500/20 active:scale-95 transition-all",children:"Confirmar Pagamento"})]}),"IDLE"===u&&(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Meios de Pagamento"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[a?.paymentMethods?.map(a=>(0,s.jsxs)("button",{onClick:()=>k({...j,paymentMethod:"CREDIT_CARD",selectedCardId:a.id}),className:`p-5 border-2 rounded-2xl transition-all flex items-center gap-4 text-left active:scale-[0.98] ${j.selectedCardId===a.id?"border-brand-dark bg-slate-50 ring-4 ring-brand-dark/5 shadow-md":"border-slate-100 bg-white"}`,children:[(0,s.jsx)("div",{className:`p-2 rounded-lg ${j.selectedCardId===a.id?"bg-brand-dark text-white":"bg-slate-50 text-slate-400"}`,children:(0,s.jsx)(pC,{size:20})}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("p",{className:"font-black text-slate-800 text-sm tracking-tight",children:["Cart\xe3o Final ",a.last4]})}),j.selectedCardId===a.id&&(0,s.jsx)(pz,{size:18,className:"text-brand-dark",strokeWidth:4})]},a.id)),(0,s.jsxs)("button",{onClick:()=>k({...j,paymentMethod:"PIX",selectedCardId:""}),className:`p-5 border-2 rounded-2xl transition-all flex items-center gap-4 text-left active:scale-[0.98] ${"PIX"===j.paymentMethod?"border-emerald-600 bg-emerald-50 ring-4 ring-emerald-600/5 shadow-md":"border-slate-100 bg-white"}`,children:[(0,s.jsx)("div",{className:`p-2 rounded-lg ${"PIX"===j.paymentMethod?"bg-emerald-600 text-white":"bg-slate-50 text-slate-400"}`,children:(0,s.jsx)(pD,{size:20})}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("p",{className:"font-black text-slate-800 text-sm tracking-tight",children:"Pix (5% Desconto)"})}),"PIX"===j.paymentMethod&&(0,s.jsx)(pz,{size:18,className:"text-emerald-600",strokeWidth:4})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Pagar Localmente"}),(0,s.jsxs)("button",{onClick:()=>k({...j,paymentMethod:"PRESENTIAL",selectedCardId:""}),className:`w-full p-6 border-2 border-dashed rounded-2xl transition-all flex items-center gap-4 text-left active:scale-[0.98] ${"PRESENTIAL"===j.paymentMethod?"border-slate-800 bg-slate-50":"border-slate-100 bg-white"}`,children:[(0,s.jsx)(pE,{size:24,className:"text-slate-400"}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("p",{className:"font-black text-slate-800 text-sm tracking-tight",children:"Pagar na Barbearia"})})]})]}),(0,s.jsxs)("button",{onClick:T,className:`w-full mt-4 ${"PIX"===j.paymentMethod?"bg-emerald-600":"bg-brand-dark"} text-white py-5 rounded-[2rem] font-black text-sm uppercase tracking-widest shadow-2xl active:scale-95 transition-all flex items-center justify-center gap-3`,children:["Revisar Reserva ",(0,s.jsx)(o4,{size:20,strokeWidth:3})]})]})]})]}),(0,s.jsxs)("div",{className:"w-full md:w-96 bg-slate-50 p-8 md:p-12 border-l border-slate-100 flex flex-col justify-center",children:[(0,s.jsx)("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-8 text-center md:text-left",children:"Resumo"}),(0,s.jsx)("div",{className:"space-y-4 mb-10",children:E.map(a=>(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{className:"flex-1 pr-4",children:[(0,s.jsx)("p",{className:"font-black text-slate-800 text-sm tracking-tight leading-tight",children:a.name}),(0,s.jsxs)("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:[a.durationMinutes," min"]})]}),(0,s.jsxs)("span",{className:"font-black text-slate-900 text-sm",children:["R$ ",Number(a.price).toFixed(2)]})]},a.id))}),(0,s.jsxs)("div",{className:"pt-6 border-t-2 border-slate-200/50 space-y-4",children:[J&&M>0&&(0,s.jsxs)("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl p-4 flex items-start gap-3",children:[(0,s.jsx)(pF,{size:18,className:"text-emerald-600 mt-0.5 flex-shrink-0",fill:"currentColor"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-[10px] font-black text-emerald-700 uppercase tracking-widest mb-1",children:"Desconto Assinante"}),(0,s.jsxs)("p",{className:"text-sm font-black text-emerald-900",children:["-R$ ",M.toFixed(2)," (",N.toFixed(0),"%)"]})]})]}),J&&!O&&(0,s.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex items-start gap-3",children:[(0,s.jsx)(C,{size:18,className:"text-amber-600 mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-[10px] font-black text-amber-700 uppercase tracking-widest mb-1",children:"Limite de Servi\xe7os"}),(0,s.jsxs)("p",{className:"text-xs text-amber-800",children:["Voc\xea tem ",P," servi\xe7os restantes neste m\xeas."]})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-xl font-black text-slate-900 tracking-tighter uppercase",children:"Total"}),(0,s.jsxs)("span",{className:"text-3xl font-black text-slate-900 tracking-tighter",children:["R$ ",L.toFixed(2)]})]})]})]})]}),6===h&&(0,s.jsxs)("div",{className:"space-y-6 animate-fade-in flex-1 flex flex-col",children:[(0,s.jsxs)("button",{onClick:()=>i(5),className:"text-[10px] font-black text-slate-400 flex items-center gap-1 uppercase tracking-widest",children:[(0,s.jsx)(o8,{size:16})," Voltar"]}),(0,s.jsx)("h2",{className:"text-2xl font-black text-brand-dark tracking-tighter",children:"Confirma\xe7\xe3o"}),(0,s.jsxs)("div",{className:"bg-white rounded-[2rem] border border-slate-100 p-8 space-y-6 shadow-xl relative overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center text-sm border-b border-slate-50 pb-4",children:[(0,s.jsx)("span",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Agendamento"}),(0,s.jsx)("span",{className:"font-black text-right pl-4",children:E.map(a=>a.name).join(", ")})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-sm border-b border-slate-50 pb-4",children:[(0,s.jsx)("span",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Data e Hora"}),(0,s.jsxs)("span",{className:"font-black",children:[new Date(j.date).toLocaleDateString("pt-BR")," \xe0s ",j.time]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-sm border-b border-slate-50 pb-4",children:[(0,s.jsx)("span",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Barbeiro"}),(0,s.jsx)("span",{className:"font-black",children:Q?.name})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,s.jsx)("span",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Pagamento"}),(0,s.jsx)("span",{className:`font-black uppercase text-[10px] px-3 py-1 rounded-full ${"PRESENTIAL"===j.paymentMethod?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"}`,children:"PIX"===j.paymentMethod?"Pix":"PRESENTIAL"===j.paymentMethod?"Presencial":"App"})]})]}),(!a||a.role!==x.CUSTOMER&&!b?.customerId)&&(0,s.jsxs)("div",{className:"space-y-4 bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[(0,s.jsx)("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Seu Nome"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(pc,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),(0,s.jsx)("input",{type:"text",placeholder:"Como quer ser chamado?",className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-xl outline-none text-sm font-black",value:n.name,onChange:a=>o({...n,name:a.target.value})})]})]}),(0,s.jsx)("div",{className:"mt-auto pt-8",children:(0,s.jsx)("button",{onClick:()=>{let c=b?.customerId||a?.id||"guest",e=a?.id===c?a.name:n.name||"Cliente";if("guest"===c&&!n.name)return void R("Nome do cliente \xe9 obrigat\xf3rio.","error");if(!S(j.time)){R("Este hor\xe1rio acabou de ser ocupado. Por favor, mude o hor\xe1rio.","error"),i(4);return}m(!0);let[f,g]=j.time.split(":").map(Number),h=new Date(j.date);h.setHours(f,g,0,0),j.serviceIds.forEach(a=>{d({barberId:j.barberId,serviceId:a,startTime:h,customerName:e,customerId:c,paymentMethod:j.paymentMethod,paymentStatus:"PRESENTIAL"!==j.paymentMethod?"PAID":"PENDING",isMembershipUsage:J}),J&&I&&pK(I.id,4)}),setTimeout(()=>{i(7),m(!1),R("Hor\xe1rio Confirmado!","success")},1e3)},disabled:l,className:"w-full bg-brand-dark text-white py-5 rounded-[2rem] font-black text-base uppercase tracking-widest shadow-2xl active:scale-95 flex items-center justify-center gap-3",children:l?(0,s.jsx)(pA,{className:"animate-spin",size:24}):"Finalizar Agendamento"})})]}),7===h&&(0,s.jsxs)("div",{className:"text-center space-y-8 animate-fade-in my-auto flex flex-col items-center justify-center flex-1",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-emerald-100 rounded-full flex items-center justify-center text-emerald-600 shadow-inner",children:(0,s.jsx)(pe,{size:48,strokeWidth:3,className:"animate-bounce"})}),(0,s.jsxs)("div",{className:"px-4",children:[(0,s.jsx)("h2",{className:"text-3xl font-black text-brand-dark tracking-tighter uppercase italic",children:"Agendado!"}),(0,s.jsxs)("p",{className:"text-slate-500 mt-2 text-sm font-medium max-w-xs mx-auto leading-relaxed",children:["Tudo certo, ",(0,s.jsx)("b",{children:a?.name.split(" ")[0]||n.name.split(" ")[0]}),"! Seu hor\xe1rio est\xe1 garantido para dia ",(0,s.jsx)("b",{children:new Date(j.date).toLocaleDateString("pt-BR")})," \xe0s ",(0,s.jsx)("b",{children:j.time}),"."]})]}),(0,s.jsxs)("div",{className:"w-full max-w-xs space-y-3",children:[(0,s.jsxs)("a",{href:(()=>{let c=b?.customerName||a?.name||n.name,d=E.map(a=>a.name).join(", "),f="PIX"===j.paymentMethod?"Pix (Pago)":"PRESENTIAL"===j.paymentMethod?"Pagamento Local":"Pago via App",[g,h,i]=j.date.split("-"),k=`${i}/${h}/${g}`,l=`Ol\xe1! Sou o ${c}. Acabei de confirmar meu agendamento na Barvo! ðŸ’ˆâœ‚ï¸

âœ… *Detalhes:*

âœ‚ï¸ *Servi\xe7o:* ${d}
ðŸ’ˆ *Barbeiro:* ${Q?.name}
ðŸ“… *Data:* ${k} \xe0s ${j.time}
ðŸ’° *Status:* ${f}
ðŸ’µ *Total:* R$ ${L.toFixed(2)}

ðŸ“Œ *Lembrete:* Fique atento! Enviaremos uma confirma\xe7\xe3o para voc\xea no dia anterior ao seu servi\xe7o para garantir que seu hor\xe1rio esteja ok. ðŸ˜‰`;return`https://wa.me/${e.phone.replace(/\D/g,"")}?text=${encodeURIComponent(l)}`})(),target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center justify-center gap-3 bg-emerald-600 text-white font-black py-4 rounded-2xl shadow-xl shadow-emerald-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:[(0,s.jsx)(pG,{size:18})," Notificar no WhatsApp"]}),(0,s.jsx)("button",{onClick:()=>{i(1),v("IDLE")},className:"text-slate-400 font-bold text-[10px] uppercase tracking-widest pt-2",children:"Fazer outra reserva"})]})]})]})]})};function pP(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}Object.create;Object.create,"function"==typeof SuppressedError&&SuppressedError;class pQ extends Error{constructor(a,b="FunctionsError",c){super(a),this.name=b,this.context=c}}class pR extends pQ{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class pS extends pQ{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class pT extends pQ{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}!function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"}(e||(e={}));class pU{constructor(a,{headers:b={},customFetch:c,region:d=e.Any}={}){this.url=a,this.headers=b,this.region=d,this.fetch=(a=>a?(...b)=>a(...b):(...a)=>fetch(...a))(c)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){var b,c,d,e;return b=this,c=arguments,d=void 0,e=function*(a,b={}){var c;let d,e;try{let f,{headers:g,method:h,body:i,signal:j,timeout:k}=b,l={},{region:m}=b;m||(m=this.region);let n=new URL(`${this.url}/${a}`);m&&"any"!==m&&(l["x-region"]=m,n.searchParams.set("forceFunctionRegion",m)),i&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?"undefined"!=typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=i):"string"==typeof i?(l["Content-Type"]="text/plain",f=i):"undefined"!=typeof FormData&&i instanceof FormData?f=i:(l["Content-Type"]="application/json",f=JSON.stringify(i)):f=!i||"string"==typeof i||"undefined"!=typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer||"undefined"!=typeof FormData&&i instanceof FormData?i:JSON.stringify(i);let o=j;k&&(e=new AbortController,d=setTimeout(()=>e.abort(),k),j?(o=e.signal,j.addEventListener("abort",()=>e.abort())):o=e.signal);let p=yield this.fetch(n.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),g),body:f,signal:o}).catch(a=>{throw new pR(a)}),q=p.headers.get("x-relay-error");if(q&&"true"===q)throw new pS(p);if(!p.ok)throw new pT(p);let r=(null!=(c=p.headers.get("Content-Type"))?c:"text/plain").split(";")[0].trim();return{data:"application/json"===r?yield p.json():"application/octet-stream"===r||"application/pdf"===r?yield p.blob():"text/event-stream"===r?p:"multipart/form-data"===r?yield p.formData():yield p.text(),error:null,response:p}}catch(a){return{data:null,error:a,response:a instanceof pT||a instanceof pS?a.context:void 0}}finally{d&&clearTimeout(d)}},new(d||(d=Promise))(function(a,f){function g(a){try{i(e.next(a))}catch(a){f(a)}}function h(a){try{i(e.throw(a))}catch(a){f(a)}}function i(b){var c;b.done?a(b.value):((c=b.value)instanceof d?c:new d(function(a){a(c)})).then(g,h)}i((e=e.apply(b,c||[])).next())})}}var pV=class extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}},pW=class{constructor(a){var b,c,d;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=null!=(b=a.shouldThrowOnError)&&b,this.signal=a.signal,this.isMaybeSingle=null!=(c=a.isMaybeSingle)&&c,this.urlLengthLimit=null!=(d=a.urlLengthLimit)?d:8e3,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,b){return this.headers=new Headers(this.headers),this.headers.set(a,b),this}then(a,b){var c=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let d=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var b,d,e,f;let g=null,h=null,i=null,j=a.status,k=a.statusText;if(a.ok){if("HEAD"!==c.method){let b=await a.text();""===b||(h="text/csv"===c.headers.get("Accept")||c.headers.get("Accept")&&(null==(e=c.headers.get("Accept"))?void 0:e.includes("application/vnd.pgrst.plan+text"))?b:JSON.parse(b))}let f=null==(b=c.headers.get("Prefer"))?void 0:b.match(/count=(exact|planned|estimated)/),l=null==(d=a.headers.get("content-range"))?void 0:d.split("/");f&&l&&l.length>1&&(i=parseInt(l[1])),c.isMaybeSingle&&"GET"===c.method&&Array.isArray(h)&&(h.length>1?(g={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,i=null,j=406,k="Not Acceptable"):h=1===h.length?h[0]:null)}else{let b=await a.text();try{g=JSON.parse(b),Array.isArray(g)&&404===a.status&&(h=[],g=null,j=200,k="OK")}catch(c){404===a.status&&""===b?(j=204,k="No Content"):g={message:b}}if(g&&c.isMaybeSingle&&(null==g||null==(f=g.details)?void 0:f.includes("0 rows"))&&(g=null,j=200,k="OK"),g&&c.shouldThrowOnError)throw new pV(g)}return{error:g,data:h,count:i,status:j,statusText:k}});return this.shouldThrowOnError||(d=d.catch(a=>{var b,c,d,e,f,g;let h="",i="",j="",k=null==a?void 0:a.cause;if(k){let b=null!=(c=null==k?void 0:k.message)?c:"",g=null!=(d=null==k?void 0:k.code)?d:"";h=`${null!=(e=null==a?void 0:a.name)?e:"FetchError"}: ${null==a?void 0:a.message}

Caused by: ${null!=(f=null==k?void 0:k.name)?f:"Error"}: ${b}`,g&&(h+=` (${g})`),(null==k?void 0:k.stack)&&(h+=`
${k.stack}`)}else h=null!=(g=null==a?void 0:a.stack)?g:"";let l=this.url.toString().length;return(null==a?void 0:a.name)==="AbortError"||(null==a?void 0:a.code)==="ABORT_ERR"?(j="",i="Request was aborted (timeout or manual cancellation)",l>this.urlLengthLimit&&(i+=`. Note: Your request URL is ${l} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((null==k?void 0:k.name)==="HeadersOverflowError"||(null==k?void 0:k.code)==="UND_ERR_HEADERS_OVERFLOW")&&(j="",i="HTTP headers exceeded server limits (typically 16KB)",l>this.urlLengthLimit&&(i+=`. Your request URL is ${l} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${null!=(b=null==a?void 0:a.name)?b:"FetchError"}: ${null==a?void 0:a.message}`,details:h,hint:i,code:j},data:null,count:null,status:0,statusText:""}})),d.then(a,b)}returns(){return this}overrideTypes(){return this}},pX=class extends pW{select(a){let b=!1,c=(null!=a?a:"*").split("").map(a=>/\s/.test(a)&&!b?"":('"'===a&&(b=!b),a)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:b=!0,nullsFirst:c,foreignTable:d,referencedTable:e=d}={}){let f=e?`${e}.order`:"order",g=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${g?`${g},`:""}${a}.${b?"asc":"desc"}${void 0===c?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:b,referencedTable:c=b}={}){let d=void 0===c?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${a}`),this}range(a,b,{foreignTable:c,referencedTable:d=c}={}){let e=void 0===d?"offset":`${d}.offset`,f=void 0===d?"limit":`${d}.limit`;return this.url.searchParams.set(e,`${a}`),this.url.searchParams.set(f,`${b-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:b=!1,settings:c=!1,buffers:d=!1,wal:e=!1,format:f="text"}={}){var g;let h=[a?"analyze":null,b?"verbose":null,c?"settings":null,d?"buffers":null,e?"wal":null].filter(Boolean).join("|"),i=null!=(g=this.headers.get("Accept"))?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${i}"; options=${h};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};let pY=RegExp("[,()]");var pZ=class extends pX{eq(a,b){return this.url.searchParams.append(a,`eq.${b}`),this}neq(a,b){return this.url.searchParams.append(a,`neq.${b}`),this}gt(a,b){return this.url.searchParams.append(a,`gt.${b}`),this}gte(a,b){return this.url.searchParams.append(a,`gte.${b}`),this}lt(a,b){return this.url.searchParams.append(a,`lt.${b}`),this}lte(a,b){return this.url.searchParams.append(a,`lte.${b}`),this}like(a,b){return this.url.searchParams.append(a,`like.${b}`),this}likeAllOf(a,b){return this.url.searchParams.append(a,`like(all).{${b.join(",")}}`),this}likeAnyOf(a,b){return this.url.searchParams.append(a,`like(any).{${b.join(",")}}`),this}ilike(a,b){return this.url.searchParams.append(a,`ilike.${b}`),this}ilikeAllOf(a,b){return this.url.searchParams.append(a,`ilike(all).{${b.join(",")}}`),this}ilikeAnyOf(a,b){return this.url.searchParams.append(a,`ilike(any).{${b.join(",")}}`),this}regexMatch(a,b){return this.url.searchParams.append(a,`match.${b}`),this}regexIMatch(a,b){return this.url.searchParams.append(a,`imatch.${b}`),this}is(a,b){return this.url.searchParams.append(a,`is.${b}`),this}isDistinct(a,b){return this.url.searchParams.append(a,`isdistinct.${b}`),this}in(a,b){let c=Array.from(new Set(b)).map(a=>"string"==typeof a&&pY.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}notIn(a,b){let c=Array.from(new Set(b)).map(a=>"string"==typeof a&&pY.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(a,`not.in.(${c})`),this}contains(a,b){return"string"==typeof b?this.url.searchParams.append(a,`cs.${b}`):Array.isArray(b)?this.url.searchParams.append(a,`cs.{${b.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(b)}`),this}containedBy(a,b){return"string"==typeof b?this.url.searchParams.append(a,`cd.${b}`):Array.isArray(b)?this.url.searchParams.append(a,`cd.{${b.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(b)}`),this}rangeGt(a,b){return this.url.searchParams.append(a,`sr.${b}`),this}rangeGte(a,b){return this.url.searchParams.append(a,`nxl.${b}`),this}rangeLt(a,b){return this.url.searchParams.append(a,`sl.${b}`),this}rangeLte(a,b){return this.url.searchParams.append(a,`nxr.${b}`),this}rangeAdjacent(a,b){return this.url.searchParams.append(a,`adj.${b}`),this}overlaps(a,b){return"string"==typeof b?this.url.searchParams.append(a,`ov.${b}`):this.url.searchParams.append(a,`ov.{${b.join(",")}}`),this}textSearch(a,b,{config:c,type:d}={}){let e="";"plain"===d?e="pl":"phrase"===d?e="ph":"websearch"===d&&(e="w");let f=void 0===c?"":`(${c})`;return this.url.searchParams.append(a,`${e}fts${f}.${b}`),this}match(a){return Object.entries(a).forEach(([a,b])=>{this.url.searchParams.append(a,`eq.${b}`)}),this}not(a,b,c){return this.url.searchParams.append(a,`not.${b}.${c}`),this}or(a,{foreignTable:b,referencedTable:c=b}={}){let d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,b,c){return this.url.searchParams.append(a,`${b}.${c}`),this}},p$=class{constructor(a,{headers:b={},schema:c,fetch:d,urlLengthLimit:e=8e3}){this.url=a,this.headers=new Headers(b),this.schema=c,this.fetch=d,this.urlLengthLimit=e}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(a,b){let{head:c=!1,count:d}=null!=b?b:{},e=!1,f=(null!=a?a:"*").split("").map(a=>/\s/.test(a)&&!e?"":('"'===a&&(e=!e),a)).join(""),{url:g,headers:h}=this.cloneRequestState();return g.searchParams.set("select",f),d&&h.append("Prefer",`count=${d}`),new pZ({method:c?"HEAD":"GET",url:g,headers:h,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(a,{count:b,defaultToNull:c=!0}={}){var d;let{url:e,headers:f}=this.cloneRequestState();if(b&&f.append("Prefer",`count=${b}`),c||f.append("Prefer","missing=default"),Array.isArray(a)){let b=a.reduce((a,b)=>a.concat(Object.keys(b)),[]);if(b.length>0){let a=[...new Set(b)].map(a=>`"${a}"`);e.searchParams.set("columns",a.join(","))}}return new pZ({method:"POST",url:e,headers:f,schema:this.schema,body:a,fetch:null!=(d=this.fetch)?d:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(a,{onConflict:b,ignoreDuplicates:c=!1,count:d,defaultToNull:e=!0}={}){var f;let{url:g,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),void 0!==b&&g.searchParams.set("on_conflict",b),d&&h.append("Prefer",`count=${d}`),e||h.append("Prefer","missing=default"),Array.isArray(a)){let b=a.reduce((a,b)=>a.concat(Object.keys(b)),[]);if(b.length>0){let a=[...new Set(b)].map(a=>`"${a}"`);g.searchParams.set("columns",a.join(","))}}return new pZ({method:"POST",url:g,headers:h,schema:this.schema,body:a,fetch:null!=(f=this.fetch)?f:fetch,urlLengthLimit:this.urlLengthLimit})}update(a,{count:b}={}){var c;let{url:d,headers:e}=this.cloneRequestState();return b&&e.append("Prefer",`count=${b}`),new pZ({method:"PATCH",url:d,headers:e,schema:this.schema,body:a,fetch:null!=(c=this.fetch)?c:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:a}={}){var b;let{url:c,headers:d}=this.cloneRequestState();return a&&d.append("Prefer",`count=${a}`),new pZ({method:"DELETE",url:c,headers:d,schema:this.schema,fetch:null!=(b=this.fetch)?b:fetch,urlLengthLimit:this.urlLengthLimit})}};function p_(a){return(p_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function p0(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function p1(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?p0(Object(c),!0).forEach(function(b){!function(a,b,c){var d;(d=function(a,b){if("object"!=p_(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=p_(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"),(b="symbol"==p_(d)?d:d+"")in a)?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c}(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):p0(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var p2=class a{constructor(a,{headers:b={},schema:c,fetch:d,timeout:e,urlLengthLimit:f=8e3}={}){this.url=a,this.headers=new Headers(b),this.schemaName=c,this.urlLengthLimit=f;let g=null!=d?d:globalThis.fetch;void 0!==e&&e>0?this.fetch=(a,b)=>{let c=new AbortController,d=setTimeout(()=>c.abort(),e),f=null==b?void 0:b.signal;if(f){if(f.aborted)return clearTimeout(d),g(a,b);let e=()=>{clearTimeout(d),c.abort()};return f.addEventListener("abort",e,{once:!0}),g(a,p1(p1({},b),{},{signal:c.signal})).finally(()=>{clearTimeout(d),f.removeEventListener("abort",e)})}return g(a,p1(p1({},b),{},{signal:c.signal})).finally(()=>clearTimeout(d))}:this.fetch=g}from(a){if(!a||"string"!=typeof a||""===a.trim())throw Error("Invalid relation name: relation must be a non-empty string.");return new p$(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(b){return new a(this.url,{headers:this.headers,schema:b,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(a,b={},{head:c=!1,get:d=!1,count:e}={}){var f;let g,h,i=new URL(`${this.url}/rpc/${a}`),j=a=>null!==a&&"object"==typeof a&&(!Array.isArray(a)||a.some(j)),k=c&&Object.values(b).some(j);k?(g="POST",h=b):c||d?(g=c?"HEAD":"GET",Object.entries(b).filter(([a,b])=>void 0!==b).map(([a,b])=>[a,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([a,b])=>{i.searchParams.append(a,b)})):(g="POST",h=b);let l=new Headers(this.headers);return k?l.set("Prefer",e?`count=${e},return=minimal`:"return=minimal"):e&&l.set("Prefer",`count=${e}`),new pZ({method:g,url:i,headers:l,schema:this.schemaName,body:h,fetch:null!=(f=this.fetch)?f:fetch,urlLengthLimit:this.urlLengthLimit})}};class p3{constructor(){}static detectEnvironment(){var a;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!=typeof global&&void 0!==global.WebSocket)return{type:"native",constructor:global.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null==(a=navigator.userAgent)?void 0:a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};let b=globalThis.process;if(b){let a=b.versions;if(a&&a.node){let b=parseInt(a.node.replace(/^v/,"").split(".")[0]);return b>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${b} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${b} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let a=this.detectEnvironment();if(a.constructor)return a.constructor;let b=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(b+=`

Suggested solution: ${a.workaround}`),Error(b)}static createWebSocket(a,b){return new(this.getWebSocketConstructor())(a,b)}static isWebSocketSupported(){try{let a=this.detectEnvironment();return"native"===a.type||"ws"===a.type}catch(a){return!1}}}let p4="2.0.0";!function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"}(f||(f={})),function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"}(g||(g={})),function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"}(h||(h={})),(i||(i={})).websocket="websocket",function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"}(j||(j={}));class p5{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!=a?a:[]}encode(a,b){return a.event!==this.BROADCAST_EVENT||a.payload instanceof ArrayBuffer||"string"!=typeof a.payload.event?b(JSON.stringify([a.join_ref,a.ref,a.topic,a.event,a.payload])):b(this._binaryEncodeUserBroadcastPush(a))}_binaryEncodeUserBroadcastPush(a){var b;return this._isArrayBuffer(null==(b=a.payload)?void 0:b.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var b,c;let d=null!=(c=null==(b=a.payload)?void 0:b.payload)?c:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,d)}_encodeJsonUserBroadcastPush(a){var b,c;let d=null!=(c=null==(b=a.payload)?void 0:b.payload)?c:{},e=new TextEncoder().encode(JSON.stringify(d)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,e)}_encodeUserBroadcastPush(a,b,c){let d=a.topic,e=null!=(n=a.ref)?n:"",f=null!=(o=a.join_ref)?o:"",g=a.payload.event,h=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},i=0===Object.keys(h).length?"":JSON.stringify(h);if(f.length>255)throw Error(`joinRef length ${f.length} exceeds maximum of 255`);if(e.length>255)throw Error(`ref length ${e.length} exceeds maximum of 255`);if(d.length>255)throw Error(`topic length ${d.length} exceeds maximum of 255`);if(g.length>255)throw Error(`userEvent length ${g.length} exceeds maximum of 255`);if(i.length>255)throw Error(`metadata length ${i.length} exceeds maximum of 255`);let j=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+e.length+d.length+g.length+i.length,k=new ArrayBuffer(this.HEADER_LENGTH+j),l=new DataView(k),m=0;l.setUint8(m++,this.KINDS.userBroadcastPush),l.setUint8(m++,f.length),l.setUint8(m++,e.length),l.setUint8(m++,d.length),l.setUint8(m++,g.length),l.setUint8(m++,i.length),l.setUint8(m++,b),Array.from(f,a=>l.setUint8(m++,a.charCodeAt(0))),Array.from(e,a=>l.setUint8(m++,a.charCodeAt(0))),Array.from(d,a=>l.setUint8(m++,a.charCodeAt(0))),Array.from(g,a=>l.setUint8(m++,a.charCodeAt(0))),Array.from(i,a=>l.setUint8(m++,a.charCodeAt(0)));var n,o,p=new Uint8Array(k.byteLength+c.byteLength);return p.set(new Uint8Array(k),0),p.set(new Uint8Array(c),k.byteLength),p.buffer}decode(a,b){if(this._isArrayBuffer(a))return b(this._binaryDecode(a));if("string"==typeof a){let[c,d,e,f,g]=JSON.parse(a);return b({join_ref:c,ref:d,topic:e,event:f,payload:g})}return b({})}_binaryDecode(a){let b=new DataView(a),c=b.getUint8(0),d=new TextDecoder;if(c===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,b,d)}_decodeUserBroadcast(a,b,c){let d=b.getUint8(1),e=b.getUint8(2),f=b.getUint8(3),g=b.getUint8(4),h=this.HEADER_LENGTH+4,i=c.decode(a.slice(h,h+d));h+=d;let j=c.decode(a.slice(h,h+e));h+=e;let k=c.decode(a.slice(h,h+f));h+=f;let l=a.slice(h,a.byteLength),m=g===this.JSON_ENCODING?JSON.parse(c.decode(l)):l,n={type:this.BROADCAST_EVENT,event:j,payload:m};return f>0&&(n.meta=JSON.parse(k)),{join_ref:null,ref:null,topic:i,event:this.BROADCAST_EVENT,payload:n}}_isArrayBuffer(a){var b;return a instanceof ArrayBuffer||(null==(b=null==a?void 0:a.constructor)?void 0:b.name)==="ArrayBuffer"}_pick(a,b){return a&&"object"==typeof a?Object.fromEntries(Object.entries(a).filter(([a])=>b.includes(a))):{}}}class p6{constructor(a,b){this.callback=a,this.timerCalc=b,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=b}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"}(k||(k={}));let p7=(a,b,c={})=>{var d;let e=null!=(d=c.skipTypes)?d:[];return b?Object.keys(b).reduce((c,d)=>(c[d]=p8(d,a,b,e),c),{}):{}},p8=(a,b,c,d)=>{let e=b.find(b=>b.name===a),f=null==e?void 0:e.type,g=c[a];return f&&!d.includes(f)?p9(f,g):qa(g)},p9=(a,b)=>{if("_"===a.charAt(0))return qe(b,a.slice(1,a.length));switch(a){case k.bool:return qb(b);case k.float4:case k.float8:case k.int2:case k.int4:case k.int8:case k.numeric:case k.oid:return qc(b);case k.json:case k.jsonb:return qd(b);case k.timestamp:return qf(b);case k.abstime:case k.date:case k.daterange:case k.int4range:case k.int8range:case k.money:case k.reltime:case k.text:case k.time:case k.timestamptz:case k.timetz:case k.tsrange:case k.tstzrange:default:return qa(b)}},qa=a=>a,qb=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},qc=a=>{if("string"==typeof a){let b=parseFloat(a);if(!Number.isNaN(b))return b}return a},qd=a=>{if("string"==typeof a)try{return JSON.parse(a)}catch(a){}return a},qe=(a,b)=>{if("string"!=typeof a)return a;let c=a.length-1,d=a[c];if("{"===a[0]&&"}"===d){let d,e=a.slice(1,c);try{d=JSON.parse("["+e+"]")}catch(a){d=e?e.split(","):[]}return d.map(a=>p9(b,a))}return a},qf=a=>"string"==typeof a?a.replace(" ","T"):a,qg=a=>{let b=new URL(a);return b.protocol=b.protocol.replace(/^ws/i,"http"),b.pathname=b.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===b.pathname||"/"===b.pathname?b.pathname="/api/broadcast":b.pathname=b.pathname+"/api/broadcast",b.href};class qh{constructor(a,b,c={},d=1e4){this.channel=a,this.event=b,this.payload=c,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,b){var c;return this._hasReceived(a)&&b(null==(c=this.receivedResp)?void 0:c.response),this.recHooks.push({status:a,callback:b}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let a=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,b){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:b})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:b}){this.recHooks.filter(b=>b.status===a).forEach(a=>a.callback(b))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}!function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"}(l||(l={}));class qi{constructor(a,b){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let c=(null==b?void 0:b.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(c.state,{},a=>{let{onJoin:b,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qi.syncState(this.state,a,b,c),this.pendingDiffs.forEach(a=>{this.state=qi.syncDiff(this.state,a,b,c)}),this.pendingDiffs=[],d()}),this.channel._on(c.diff,{},a=>{let{onJoin:b,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=qi.syncDiff(this.state,a,b,c),d())}),this.onJoin((a,b,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:b,newPresences:c})}),this.onLeave((a,b,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:b,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,b,c,d){let e=this.cloneDeep(a),f=this.transformState(b),g={},h={};return this.map(e,(a,b)=>{f[a]||(h[a]=b)}),this.map(f,(a,b)=>{let c=e[a];if(c){let d=b.map(a=>a.presence_ref),e=c.map(a=>a.presence_ref),f=b.filter(a=>0>e.indexOf(a.presence_ref)),i=c.filter(a=>0>d.indexOf(a.presence_ref));f.length>0&&(g[a]=f),i.length>0&&(h[a]=i)}else g[a]=b}),this.syncDiff(e,{joins:g,leaves:h},c,d)}static syncDiff(a,b,c,d){let{joins:e,leaves:f}={joins:this.transformState(b.joins),leaves:this.transformState(b.leaves)};return c||(c=()=>{}),d||(d=()=>{}),this.map(e,(b,d)=>{var e;let f=null!=(e=a[b])?e:[];if(a[b]=this.cloneDeep(d),f.length>0){let c=a[b].map(a=>a.presence_ref),d=f.filter(a=>0>c.indexOf(a.presence_ref));a[b].unshift(...d)}c(b,f,d)}),this.map(f,(b,c)=>{let e=a[b];if(!e)return;let f=c.map(a=>a.presence_ref);e=e.filter(a=>0>f.indexOf(a.presence_ref)),a[b]=e,d(b,e,c),0===e.length&&delete a[b]}),a}static map(a,b){return Object.getOwnPropertyNames(a).map(c=>b(c,a[c]))}static transformState(a){return Object.getOwnPropertyNames(a=this.cloneDeep(a)).reduce((b,c)=>{let d=a[c];return"metas"in d?b[c]=d.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):b[c]=d,b},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"}(m||(m={})),function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"}(n||(n={})),function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"}(o||(o={}));class qj{constructor(a,b={config:{}},c){var d,e;if(this.topic=a,this.params=b,this.socket=c,this.bindings={},this.state=g.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},b.config),this.timeout=this.socket.timeout,this.joinPush=new qh(this,h.join,this.params,this.timeout),this.rejoinTimer=new p6(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=g.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=g.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=g.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=g.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=g.errored,this.rejoinTimer.scheduleTimeout())}),this._on(h.reply,{},(a,b)=>{this._trigger(this._replyEventName(b),a)}),this.presence=new qi(this),this.broadcastEndpointURL=qg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null==(e=null==(d=this.params.config)?void 0:d.broadcast)?void 0:e.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,b=this.timeout){var c,d,e;if(this.socket.isConnected()||this.socket.connect(),this.state==g.closed){let{config:{broadcast:f,presence:h,private:i}}=this.params,j=null!=(d=null==(c=this.bindings.postgres_changes)?void 0:c.map(a=>a.filter))?d:[],k=!!this.bindings[n.PRESENCE]&&this.bindings[n.PRESENCE].length>0||(null==(e=this.params.config.presence)?void 0:e.enabled)===!0,l={},m={broadcast:f,presence:Object.assign(Object.assign({},h),{enabled:k}),postgres_changes:j,private:i};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this._onError(b=>null==a?void 0:a(o.CHANNEL_ERROR,b)),this._onClose(()=>null==a?void 0:a(o.CLOSED)),this.updateJoinPayload(Object.assign({config:m},l)),this.joinedOnce=!0,this._rejoin(b),this.joinPush.receive("ok",async({postgres_changes:b})=>{var c;if(this.socket._isManualToken()||this.socket.setAuth(),void 0===b){null==a||a(o.SUBSCRIBED);return}{let d=this.bindings.postgres_changes,e=null!=(c=null==d?void 0:d.length)?c:0,f=[];for(let c=0;c<e;c++){let e=d[c],{filter:{event:h,schema:i,table:j,filter:k}}=e,l=b&&b[c];if(l&&l.event===h&&qj.isFilterValueEqual(l.schema,i)&&qj.isFilterValueEqual(l.table,j)&&qj.isFilterValueEqual(l.filter,k))f.push(Object.assign(Object.assign({},e),{id:l.id}));else{this.unsubscribe(),this.state=g.errored,null==a||a(o.CHANNEL_ERROR,Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,a&&a(o.SUBSCRIBED);return}}).receive("error",b=>{this.state=g.errored,null==a||a(o.CHANNEL_ERROR,Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{null==a||a(o.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,b={}){return await this.send({type:"presence",event:"track",payload:a},b.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,b,c){return this.state===g.joined&&a===n.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,b,c)}async httpSend(a,b,c={}){var d;if(null==b)return Promise.reject("Payload is required for httpSend()");let e={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(e.Authorization=`Bearer ${this.socket.accessTokenValue}`);let f={method:"POST",headers:e,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:b,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,null!=(d=c.timeout)?d:this.timeout);if(202===g.status)return{success:!0};let h=g.statusText;try{let a=await g.json();h=a.error||a.message||h}catch(a){}return Promise.reject(Error(h))}async send(a,b={}){var c,d;if(this._canPush()||"broadcast"!==a.type)return new Promise(c=>{var d,e,f;let g=this._push(a.type,a,b.timeout||this.timeout);"broadcast"!==a.type||(null==(f=null==(e=null==(d=this.params)?void 0:d.config)?void 0:e.broadcast)?void 0:f.ack)||c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:e,payload:f}=a,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);let h={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:f,private:this.private}]})};try{let a=await this._fetchWithTimeout(this.broadcastEndpointURL,h,null!=(c=b.timeout)?c:this.timeout);return await (null==(d=a.body)?void 0:d.cancel()),a.ok?"ok":"error"}catch(a){if("AbortError"===a.name)return"timed out";return"error"}}}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=g.leaving;let b=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(h.close,"leave",this._joinRef())};this.joinPush.destroy();let c=null;return new Promise(d=>{(c=new qh(this,h.leave,{},a)).receive("ok",()=>{b(),d("ok")}).receive("timeout",()=>{b(),d("timed out")}).receive("error",()=>{d("error")}),c.send(),this._canPush()||c.trigger("ok",{})}).finally(()=>{null==c||c.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=g.closed,this.bindings={}}async _fetchWithTimeout(a,b,c){let d=new AbortController,e=setTimeout(()=>d.abort(),c),f=await this.socket.fetch(a,Object.assign(Object.assign({},b),{signal:d.signal}));return clearTimeout(e),f}_push(a,b,c=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new qh(this,a,b,c);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>100){let a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(a,b,c){return b}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,b,c){var d,e;let f=a.toLocaleLowerCase(),{close:g,error:i,leave:j,join:k}=h;if(c&&[g,i,j,k].indexOf(f)>=0&&c!==this._joinRef())return;let l=this._onMessage(f,b,c);if(b&&!l)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?null==(d=this.bindings.postgres_changes)||d.filter(a=>{var b,c,d;return(null==(b=a.filter)?void 0:b.event)==="*"||(null==(d=null==(c=a.filter)?void 0:c.event)?void 0:d.toLocaleLowerCase())===f}).map(a=>a.callback(l,c)):null==(e=this.bindings[f])||e.filter(a=>{var c,d,e,g,h,i;if(!["broadcast","presence","postgres_changes"].includes(f))return a.type.toLocaleLowerCase()===f;if("id"in a){let f=a.id,g=null==(c=a.filter)?void 0:c.event;return f&&(null==(d=b.ids)?void 0:d.includes(f))&&("*"===g||(null==g?void 0:g.toLocaleLowerCase())===(null==(e=b.data)?void 0:e.type.toLocaleLowerCase()))}{let c=null==(h=null==(g=null==a?void 0:a.filter)?void 0:g.event)?void 0:h.toLocaleLowerCase();return"*"===c||c===(null==(i=null==b?void 0:b.event)?void 0:i.toLocaleLowerCase())}}).map(a=>{if("object"==typeof l&&"ids"in l){let a=l.data,{schema:b,table:c,commit_timestamp:d,type:e,errors:f}=a;l=Object.assign(Object.assign({},{schema:b,table:c,commit_timestamp:d,eventType:e,new:{},old:{},errors:f}),this._getPayloadRecords(a))}a.callback(l,c)})}_isClosed(){return this.state===g.closed}_isJoined(){return this.state===g.joined}_isJoining(){return this.state===g.joining}_isLeaving(){return this.state===g.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,b,c){let d=a.toLocaleLowerCase(),e={type:d,filter:b,callback:c};return this.bindings[d]?this.bindings[d].push(e):this.bindings[d]=[e],this}_off(a,b){let c=a.toLocaleLowerCase();return this.bindings[c]&&(this.bindings[c]=this.bindings[c].filter(a=>{var d;return!((null==(d=a.type)?void 0:d.toLocaleLowerCase())===c&&qj.isEqual(a.filter,b))})),this}static isEqual(a,b){if(Object.keys(a).length!==Object.keys(b).length)return!1;for(let c in a)if(a[c]!==b[c])return!1;return!0}static isFilterValueEqual(a,b){return(null!=a?a:void 0)===(null!=b?b:void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(h.close,{},a)}_onError(a){this._on(h.error,{},b=>a(b))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=g.joining,this.joinPush.resend(a))}_getPayloadRecords(a){let b={new:{},old:{}};return("INSERT"===a.type||"UPDATE"===a.type)&&(b.new=p7(a.columns,a.record)),("UPDATE"===a.type||"DELETE"===a.type)&&(b.old=p7(a.columns,a.old_record)),b}}let qk=()=>{},ql={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qm=[1e3,2e3,5e3,1e4],qn=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qo{constructor(a,b){var c;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=ql.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qk,this.ref=0,this.reconnectTimer=null,this.vsn=p4,this.logger=qk,this.conn=null,this.sendBuffer=[],this.serializer=new p5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...b)=>a(...b):(...a)=>fetch(...a),!(null==(c=null==b?void 0:b.params)?void 0:c.apikey))throw Error("API key is required to connect to Realtime");this.apiKey=b.params.apikey,this.endPoint=`${a}/${i.websocket}`,this.httpEndpoint=qg(a),this._initializeOptions(b),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==b?void 0:b.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=p3.createWebSocket(this.endpointURL())}catch(b){this._setConnectionState("disconnected");let a=b.message;if(a.includes("Node.js"))throw Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`);throw Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,b){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let c=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(c),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(a?this.conn.close(a,null!=b?b:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){let b=await a.unsubscribe();return"ok"===b&&this._remove(a),0===this.channels.length&&this.disconnect(),b}async removeAllChannels(){let a=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,b,c){this.logger(a,b,c)}connectionState(){switch(this.conn&&this.conn.readyState){case f.connecting:return j.Connecting;case f.open:return j.Open;case f.closing:return j.Closing;default:return j.Closed}}isConnected(){return this.connectionState()===j.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(a,b={config:{}}){let c=`realtime:${a}`,d=this.getChannels().find(a=>a.topic===c);if(d)return d;{let c=new qj(`realtime:${a}`,b,this);return this.channels.push(c),c}}push(a){let{topic:b,event:c,payload:d,ref:e}=a,f=()=>{this.encode(a,a=>{var b;null==(b=this.conn)||b.send(a)})};this.log("push",`${b} ${c} (${e})`,d),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,null==(a=this.conn)||a.close(1e3,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||null==(a=this.reconnectTimer)||a.scheduleTimeout()},ql.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let b=this.channels.find(b=>b.topic===a&&(b._isJoined()||b._isJoining()));b&&(this.log("transport",`leaving duplicate topic "${a}"`),b.unsubscribe())}_remove(a){this.channels=this.channels.filter(b=>b.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,a=>{if("phoenix"===a.topic&&"phx_reply"===a.event&&a.ref&&a.ref===this.pendingHeartbeatRef){let b=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback("ok"===a.payload.status?"ok":"error",b)}catch(a){this.log("error","error in heartbeat callback",a)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}let{topic:b,event:c,payload:d,ref:e}=a,f=e?`(${e})`:"",g=d.status||"";this.log("receive",`${g} ${b} ${c} ${f}`.trim(),d),this.channels.filter(a=>a._isMember(b)).forEach(a=>a._trigger(c,d,e)),this._triggerStateCallbacks("message",a)})}_clearTimer(a){var b;"heartbeat"===a&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===a&&(null==(b=this.reconnectTimer)||b.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===f.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===f.open||this.conn.readyState===f.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this._terminateWorker()},this.workerRef.onmessage=a=>{"keepAlive"===a.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var b;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null==(b=this.reconnectTimer)||b.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a);try{this.heartbeatCallback("error")}catch(a){this.log("error","error in heartbeat callback",a)}}_triggerChanError(){this.channels.forEach(a=>a._trigger(h.error))}_appendParams(a,b){if(0===Object.keys(b).length)return a;let c=a.match(/\?/)?"&":"?",d=new URLSearchParams(b);return`${a}${c}${d}`}_workerObjectUrl(a){let b;if(a)b=a;else{let a=new Blob([qn],{type:"application/javascript"});b=URL.createObjectURL(a)}return b}_setConnectionState(a,b=!1){this._connectionState=a,"connecting"===a?this._wasManualDisconnect=!1:"disconnecting"===a&&(this._wasManualDisconnect=b)}async _performAuth(a=null){let b,c=!1;if(a)b=a,c=!0;else if(this.accessToken)try{b=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),b=this.accessTokenValue}else b=this.accessTokenValue;c?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=b&&(this.accessTokenValue=b,this.channels.forEach(a=>{let c={access_token:b,version:"realtime-js/2.95.3"};b&&a.updateJoinPayload(c),a.joinedOnce&&a._isJoined()&&a._push(h.access_token,{access_token:b})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(b=>{this.log("error",`Error setting auth in ${a}`,b)})}_triggerStateCallbacks(a,b){try{this.stateChangeCallbacks[a].forEach(c=>{try{c(b)}catch(b){this.log("error",`error in ${a} callback`,b)}})}catch(b){this.log("error",`error triggering ${a} callbacks`,b)}}_setupReconnectionTimer(){this.reconnectTimer=new p6(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ql.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var b,c,d,e,f,g,h,i,j,k,l,m;switch(this.transport=null!=(b=null==a?void 0:a.transport)?b:null,this.timeout=null!=(c=null==a?void 0:a.timeout)?c:1e4,this.heartbeatIntervalMs=null!=(d=null==a?void 0:a.heartbeatIntervalMs)?d:ql.HEARTBEAT_INTERVAL,this.worker=null!=(e=null==a?void 0:a.worker)&&e,this.accessToken=null!=(f=null==a?void 0:a.accessToken)?f:null,this.heartbeatCallback=null!=(g=null==a?void 0:a.heartbeatCallback)?g:qk,this.vsn=null!=(h=null==a?void 0:a.vsn)?h:p4,(null==a?void 0:a.params)&&(this.params=a.params),(null==a?void 0:a.logger)&&(this.logger=a.logger),((null==a?void 0:a.logLevel)||(null==a?void 0:a.log_level))&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!=(i=null==a?void 0:a.reconnectAfterMs)?i:a=>qm[a-1]||1e4,this.vsn){case"1.0.0":this.encode=null!=(j=null==a?void 0:a.encode)?j:(a,b)=>b(JSON.stringify(a)),this.decode=null!=(k=null==a?void 0:a.decode)?k:(a,b)=>b(JSON.parse(a));break;case p4:this.encode=null!=(l=null==a?void 0:a.encode)?l:this.serializer.encode.bind(this.serializer),this.decode=null!=(m=null==a?void 0:a.decode)?m:this.serializer.decode.bind(this.serializer);break;default:throw Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if("undefined"!=typeof window&&!window.Worker)throw Error("Web Worker is not supported");this.workerUrl=null==a?void 0:a.workerUrl}}}var qp=class extends Error{constructor(a,b){super(a),this.name="IcebergError",this.status=b.status,this.icebergType=b.icebergType,this.icebergCode=b.icebergCode,this.details=b.details,this.isCommitStateUnknown="CommitStateUnknownException"===b.icebergType||[500,502,504].includes(b.status)&&b.icebergType?.includes("CommitState")===!0}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};async function qq(a){return a&&"none"!==a.type?"bearer"===a.type?{Authorization:`Bearer ${a.token}`}:"header"===a.type?{[a.name]:a.value}:"custom"===a.type?await a.getHeaders():{}:{}}function qr(a){return a.join("\x1f")}var qs=class{constructor(a,b=""){this.client=a,this.prefix=b}async listNamespaces(a){let b=a?{parent:qr(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:b})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(a,b){let c={namespace:a.namespace,properties:b?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:c})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qr(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qr(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qr(a.namespace)}`}),!0}catch(a){if(a instanceof qp&&404===a.status)return!1;throw a}}async createNamespaceIfNotExists(a,b){try{return await this.createNamespace(a,b)}catch(a){if(a instanceof qp&&409===a.status)return;throw a}}};function qt(a){return a.join("\x1f")}var qu=class{constructor(a,b="",c){this.client=a,this.prefix=b,this.accessDelegation=c}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qt(a.namespace)}/tables`})).data.identifiers}async createTable(a,b){let c={};return this.accessDelegation&&(c["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${qt(a.namespace)}/tables`,body:b,headers:c})).data.metadata}async updateTable(a,b){let c=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${qt(a.namespace)}/tables/${a.name}`,body:b});return{"metadata-location":c.data["metadata-location"],metadata:c.data.metadata}}async dropTable(a,b){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qt(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String(b?.purge??!1)}})}async loadTable(a){let b={};return this.accessDelegation&&(b["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qt(a.namespace)}/tables/${a.name}`,headers:b})).data.metadata}async tableExists(a){let b={};this.accessDelegation&&(b["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qt(a.namespace)}/tables/${a.name}`,headers:b}),!0}catch(a){if(a instanceof qp&&404===a.status)return!1;throw a}}async createTableIfNotExists(a,b){try{return await this.createTable(a,b)}catch(c){if(c instanceof qp&&409===c.status)return await this.loadTable({namespace:a.namespace,name:b.name});throw c}}},qv=class{constructor(a){let b="v1";a.catalogName&&(b+=`/${a.catalogName}`);let c=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=function(a){let b=a.fetchImpl??globalThis.fetch;return{async request({method:c,path:d,query:e,body:f,headers:g}){let h=function(a,b,c){let d=new URL(b,a);if(c)for(let[a,b]of Object.entries(c))void 0!==b&&d.searchParams.set(a,b);return d.toString()}(a.baseUrl,d,e),i=await qq(a.auth),j=await b(h,{method:c,headers:{...f?{"Content-Type":"application/json"}:{},...i,...g},body:f?JSON.stringify(f):void 0}),k=await j.text(),l=(j.headers.get("content-type")||"").includes("application/json"),m=l&&k?JSON.parse(k):k;if(!j.ok){let a=l?m:void 0,b=a?.error;throw new qp(b?.message??`Request failed with status ${j.status}`,{status:j.status,icebergType:b?.type,icebergCode:b?.code,details:a})}return{status:j.status,headers:j.headers,data:m}}}}({baseUrl:c,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=a.accessDelegation?.join(","),this.namespaceOps=new qs(this.client,b),this.tableOps=new qu(this.client,b,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,b){return this.namespaceOps.createNamespace(a,b)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,b){return this.tableOps.createTable(a,b)}async updateTable(a,b){return this.tableOps.updateTable(a,b)}async dropTable(a,b){await this.tableOps.dropTable(a,b)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,b){return this.namespaceOps.createNamespaceIfNotExists(a,b)}async createTableIfNotExists(a,b){return this.tableOps.createTableIfNotExists(a,b)}},qw=class extends Error{constructor(a,b="storage",c,d){super(a),this.__isStorageError=!0,this.namespace=b,this.name="vectors"===b?"StorageVectorsError":"StorageError",this.status=c,this.statusCode=d}};function qx(a){return"object"==typeof a&&null!==a&&"__isStorageError"in a}var qy=class extends qw{constructor(a,b,c,d="storage"){super(a,d,b,c),this.name="vectors"===d?"StorageVectorsApiError":"StorageApiError",this.status=b,this.statusCode=c}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qz=class extends qw{constructor(a,b,c="storage"){super(a,c),this.name="vectors"===c?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=b}};let qA=a=>{if(Array.isArray(a))return a.map(a=>qA(a));if("function"==typeof a||a!==Object(a))return a;let b={};return Object.entries(a).forEach(([a,c])=>{b[a.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""))]=qA(c)}),b};function qB(a){return(qB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function qC(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function qD(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?qC(Object(c),!0).forEach(function(b){!function(a,b,c){var d;(d=function(a,b){if("object"!=qB(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=qB(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"),(b="symbol"==qB(d)?d:d+"")in a)?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c}(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):qC(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}let qE=a=>{var b;return a.msg||a.message||a.error_description||("string"==typeof a.error?a.error:null==(b=a.error)?void 0:b.message)||JSON.stringify(a)},qF=async(a,b,c,d)=>{if(a&&"object"==typeof a&&"status"in a&&"ok"in a&&"number"==typeof a.status&&!(null==c?void 0:c.noResolveJson)){let c=a.status||500;"function"==typeof a.json?a.json().then(a=>{let e=(null==a?void 0:a.statusCode)||(null==a?void 0:a.code)||c+"";b(new qy(qE(a),c,e,d))}).catch(()=>{b(new qy(a.statusText||`HTTP ${c} error`,c,c+"",d))}):b(new qy(a.statusText||`HTTP ${c} error`,c,c+"",d))}else b(new qz(qE(a),a,d))};async function qG(a,b,c,d,e,f,g){return new Promise((h,i)=>{a(c,((a,b,c,d)=>{let e={method:a,headers:(null==b?void 0:b.headers)||{}};return"GET"!==a&&"HEAD"!==a&&d&&((a=>{if("object"!=typeof a||null===a)return!1;let b=Object.getPrototypeOf(a);return(null===b||b===Object.prototype||null===Object.getPrototypeOf(b))&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)})(d)?(e.headers=qD({"Content-Type":"application/json"},null==b?void 0:b.headers),e.body=JSON.stringify(d)):e.body=d,(null==b?void 0:b.duplex)&&(e.duplex=b.duplex)),qD(qD({},e),c)})(b,d,e,f)).then(a=>{if(!a.ok)throw a;if(null==d?void 0:d.noResolveJson)return a;if("vectors"===g){let b=a.headers.get("content-type");if("0"===a.headers.get("content-length")||204===a.status||!b||!b.includes("application/json"))return{}}return a.json()}).then(a=>h(a)).catch(a=>qF(a,i,d,g))})}function qH(a="storage"){return{get:async(b,c,d,e)=>qG(b,"GET",c,d,e,void 0,a),post:async(b,c,d,e,f)=>qG(b,"POST",c,e,f,d,a),put:async(b,c,d,e,f)=>qG(b,"PUT",c,e,f,d,a),head:async(b,c,d,e)=>qG(b,"HEAD",c,qD(qD({},d),{},{noResolveJson:!0}),e,void 0,a),remove:async(b,c,d,e,f)=>qG(b,"DELETE",c,e,f,d,a)}}let{get:qI,post:qJ,put:qK,head:qL,remove:qM}=qH("storage"),qN=qH("vectors");var qO=class{constructor(a,b={},c,d="storage"){this.shouldThrowOnError=!1,this.url=a,this.headers=b,this.fetch=(a=>a?(...b)=>a(...b):(...a)=>fetch(...a))(c),this.namespace=d}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(a){try{return{data:await a(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qx(a))return{data:null,error:a};throw a}}},qP=class{constructor(a,b){this.downloadFn=a,this.shouldThrowOnError=b}then(a,b){return this.execute().then(a,b)}async execute(){try{return{data:(await this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qx(a))return{data:null,error:a};throw a}}};d=Symbol.toStringTag;var qQ=class{constructor(a,b){this.downloadFn=a,this.shouldThrowOnError=b,this[d]="BlobDownloadBuilder",this.promise=null}asStream(){return new qP(this.downloadFn,this.shouldThrowOnError)}then(a,b){return this.getPromise().then(a,b)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){try{return{data:await (await this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qx(a))return{data:null,error:a};throw a}}};let qR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var qT=class extends qO{constructor(a,b={},c,d){super(a,b,d,"storage"),this.bucketId=c}async uploadOrUpdate(a,b,c,d){var e=this;return e.handleOperation(async()=>{let f,g=qD(qD({},qS),d),h=qD(qD({},e.headers),"POST"===a&&{"x-upsert":String(g.upsert)}),i=g.metadata;"undefined"!=typeof Blob&&c instanceof Blob?((f=new FormData).append("cacheControl",g.cacheControl),i&&f.append("metadata",e.encodeMetadata(i)),f.append("",c)):"undefined"!=typeof FormData&&c instanceof FormData?((f=c).has("cacheControl")||f.append("cacheControl",g.cacheControl),i&&!f.has("metadata")&&f.append("metadata",e.encodeMetadata(i))):(f=c,h["cache-control"]=`max-age=${g.cacheControl}`,h["content-type"]=g.contentType,i&&(h["x-metadata"]=e.toBase64(e.encodeMetadata(i))),("undefined"!=typeof ReadableStream&&f instanceof ReadableStream||f&&"object"==typeof f&&"pipe"in f&&"function"==typeof f.pipe)&&!g.duplex&&(g.duplex="half")),(null==d?void 0:d.headers)&&(h=qD(qD({},h),d.headers));let j=e._removeEmptyFolders(b),k=e._getFinalPath(j),l=await ("PUT"==a?qK:qJ)(e.fetch,`${e.url}/object/${k}`,f,qD({headers:h},(null==g?void 0:g.duplex)?{duplex:g.duplex}:{}));return{path:j,id:l.Id,fullPath:l.Key}})}async upload(a,b,c){return this.uploadOrUpdate("POST",a,b,c)}async uploadToSignedUrl(a,b,c,d){var e=this;let f=e._removeEmptyFolders(a),g=e._getFinalPath(f),h=new URL(e.url+`/object/upload/sign/${g}`);return h.searchParams.set("token",b),e.handleOperation(async()=>{let a,b=qD({upsert:qS.upsert},d),g=qD(qD({},e.headers),{"x-upsert":String(b.upsert)});return"undefined"!=typeof Blob&&c instanceof Blob?((a=new FormData).append("cacheControl",b.cacheControl),a.append("",c)):"undefined"!=typeof FormData&&c instanceof FormData?(a=c).append("cacheControl",b.cacheControl):(a=c,g["cache-control"]=`max-age=${b.cacheControl}`,g["content-type"]=b.contentType),{path:f,fullPath:(await qK(e.fetch,h.toString(),a,{headers:g})).Key}})}async createSignedUploadUrl(a,b){var c=this;return c.handleOperation(async()=>{let d=c._getFinalPath(a),e=qD({},c.headers);(null==b?void 0:b.upsert)&&(e["x-upsert"]="true");let f=await qJ(c.fetch,`${c.url}/object/upload/sign/${d}`,{},{headers:e}),g=new URL(c.url+f.url),h=g.searchParams.get("token");if(!h)throw new qw("No token returned by API");return{signedUrl:g.toString(),path:a,token:h}})}async update(a,b,c){return this.uploadOrUpdate("PUT",a,b,c)}async move(a,b,c){var d=this;return d.handleOperation(async()=>await qJ(d.fetch,`${d.url}/object/move`,{bucketId:d.bucketId,sourceKey:a,destinationKey:b,destinationBucket:null==c?void 0:c.destinationBucket},{headers:d.headers}))}async copy(a,b,c){var d=this;return d.handleOperation(async()=>({path:(await qJ(d.fetch,`${d.url}/object/copy`,{bucketId:d.bucketId,sourceKey:a,destinationKey:b,destinationBucket:null==c?void 0:c.destinationBucket},{headers:d.headers})).Key}))}async createSignedUrl(a,b,c){var d=this;return d.handleOperation(async()=>{let e=d._getFinalPath(a),f=await qJ(d.fetch,`${d.url}/object/sign/${e}`,qD({expiresIn:b},(null==c?void 0:c.transform)?{transform:c.transform}:{}),{headers:d.headers}),g=(null==c?void 0:c.download)?`&download=${!0===c.download?"":c.download}`:"";return{signedUrl:encodeURI(`${d.url}${f.signedURL}${g}`)}})}async createSignedUrls(a,b,c){var d=this;return d.handleOperation(async()=>{let e=await qJ(d.fetch,`${d.url}/object/sign/${d.bucketId}`,{expiresIn:b,paths:a},{headers:d.headers}),f=(null==c?void 0:c.download)?`&download=${!0===c.download?"":c.download}`:"";return e.map(a=>qD(qD({},a),{},{signedUrl:a.signedURL?encodeURI(`${d.url}${a.signedURL}${f}`):null}))})}download(a,b,c){let d=void 0!==(null==b?void 0:b.transform)?"render/image/authenticated":"object",e=this.transformOptsToQueryString((null==b?void 0:b.transform)||{}),f=e?`?${e}`:"",g=this._getFinalPath(a);return new qQ(()=>qI(this.fetch,`${this.url}/${d}/${g}${f}`,{headers:this.headers,noResolveJson:!0},c),this.shouldThrowOnError)}async info(a){var b=this;let c=b._getFinalPath(a);return b.handleOperation(async()=>qA(await qI(b.fetch,`${b.url}/object/info/${c}`,{headers:b.headers})))}async exists(a){let b=this._getFinalPath(a);try{return await qL(this.fetch,`${this.url}/object/${b}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qx(a)&&a instanceof qz){let b=a.originalError;if([400,404].includes(null==b?void 0:b.status))return{data:!1,error:a}}throw a}}getPublicUrl(a,b){let c=this._getFinalPath(a),d=[],e=(null==b?void 0:b.download)?`download=${!0===b.download?"":b.download}`:"";""!==e&&d.push(e);let f=void 0!==(null==b?void 0:b.transform)?"render/image":"object",g=this.transformOptsToQueryString((null==b?void 0:b.transform)||{});""!==g&&d.push(g);let h=d.join("&");return""!==h&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${c}${h}`)}}}async remove(a){var b=this;return b.handleOperation(async()=>await qM(b.fetch,`${b.url}/object/${b.bucketId}`,{prefixes:a},{headers:b.headers}))}async list(a,b,c){var d=this;return d.handleOperation(async()=>{let e=qD(qD(qD({},qR),b),{},{prefix:a||""});return await qJ(d.fetch,`${d.url}/object/list/${d.bucketId}`,e,{headers:d.headers},c)})}async listV2(a,b){var c=this;return c.handleOperation(async()=>{let d=qD({},a);return await qJ(c.fetch,`${c.url}/object/list-v2/${c.bucketId}`,d,{headers:c.headers},b)})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return"undefined"!=typeof Buffer?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){let b=[];return a.width&&b.push(`width=${a.width}`),a.height&&b.push(`height=${a.height}`),a.resize&&b.push(`resize=${a.resize}`),a.format&&b.push(`format=${a.format}`),a.quality&&b.push(`quality=${a.quality}`),b.join("&")}};let qU={"X-Client-Info":"storage-js/2.95.3"};var qV=class extends qO{constructor(a,b={},c,d){let e=new URL(a);(null==d?void 0:d.useNewHostname)&&/supabase\.(co|in|red)$/.test(e.hostname)&&!e.hostname.includes("storage.supabase.")&&(e.hostname=e.hostname.replace("supabase.","storage.supabase.")),super(e.href.replace(/\/$/,""),qD(qD({},qU),b),c,"storage")}async listBuckets(a){var b=this;return b.handleOperation(async()=>{let c=b.listBucketOptionsToQueryString(a);return await qI(b.fetch,`${b.url}/bucket${c}`,{headers:b.headers})})}async getBucket(a){var b=this;return b.handleOperation(async()=>await qI(b.fetch,`${b.url}/bucket/${a}`,{headers:b.headers}))}async createBucket(a,b={public:!1}){var c=this;return c.handleOperation(async()=>await qJ(c.fetch,`${c.url}/bucket`,{id:a,name:a,type:b.type,public:b.public,file_size_limit:b.fileSizeLimit,allowed_mime_types:b.allowedMimeTypes},{headers:c.headers}))}async updateBucket(a,b){var c=this;return c.handleOperation(async()=>await qK(c.fetch,`${c.url}/bucket/${a}`,{id:a,name:a,public:b.public,file_size_limit:b.fileSizeLimit,allowed_mime_types:b.allowedMimeTypes},{headers:c.headers}))}async emptyBucket(a){var b=this;return b.handleOperation(async()=>await qJ(b.fetch,`${b.url}/bucket/${a}/empty`,{},{headers:b.headers}))}async deleteBucket(a){var b=this;return b.handleOperation(async()=>await qM(b.fetch,`${b.url}/bucket/${a}`,{},{headers:b.headers}))}listBucketOptionsToQueryString(a){let b={};return a&&("limit"in a&&(b.limit=String(a.limit)),"offset"in a&&(b.offset=String(a.offset)),a.search&&(b.search=a.search),a.sortColumn&&(b.sortColumn=a.sortColumn),a.sortOrder&&(b.sortOrder=a.sortOrder)),Object.keys(b).length>0?"?"+new URLSearchParams(b).toString():""}},qW=class extends qO{constructor(a,b={},c){super(a.replace(/\/$/,""),qD(qD({},qU),b),c,"storage")}async createBucket(a){var b=this;return b.handleOperation(async()=>await qJ(b.fetch,`${b.url}/bucket`,{name:a},{headers:b.headers}))}async listBuckets(a){var b=this;return b.handleOperation(async()=>{let c=new URLSearchParams;(null==a?void 0:a.limit)!==void 0&&c.set("limit",a.limit.toString()),(null==a?void 0:a.offset)!==void 0&&c.set("offset",a.offset.toString()),(null==a?void 0:a.sortColumn)&&c.set("sortColumn",a.sortColumn),(null==a?void 0:a.sortOrder)&&c.set("sortOrder",a.sortOrder),(null==a?void 0:a.search)&&c.set("search",a.search);let d=c.toString(),e=d?`${b.url}/bucket?${d}`:`${b.url}/bucket`;return await qI(b.fetch,e,{headers:b.headers})})}async deleteBucket(a){var b=this;return b.handleOperation(async()=>await qM(b.fetch,`${b.url}/bucket/${a}`,{},{headers:b.headers}))}from(a){var b=this;if(!(!(!a||"string"!=typeof a||0===a.length||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\"))&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(a)))throw new qw("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let c=new qv({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:async()=>b.headers},fetch:this.fetch}),d=this.shouldThrowOnError;return new Proxy(c,{get(a,b){let c=a[b];return"function"!=typeof c?c:async(...b)=>{try{return{data:await c.apply(a,b),error:null}}catch(a){if(d)throw a;return{data:null,error:a}}}}})}},qX=class extends qO{constructor(a,b={},c){super(a.replace(/\/$/,""),qD(qD({},qU),{},{"Content-Type":"application/json"},b),c,"vectors")}async createIndex(a){var b=this;return b.handleOperation(async()=>await qN.post(b.fetch,`${b.url}/CreateIndex`,a,{headers:b.headers})||{})}async getIndex(a,b){var c=this;return c.handleOperation(async()=>await qN.post(c.fetch,`${c.url}/GetIndex`,{vectorBucketName:a,indexName:b},{headers:c.headers}))}async listIndexes(a){var b=this;return b.handleOperation(async()=>await qN.post(b.fetch,`${b.url}/ListIndexes`,a,{headers:b.headers}))}async deleteIndex(a,b){var c=this;return c.handleOperation(async()=>await qN.post(c.fetch,`${c.url}/DeleteIndex`,{vectorBucketName:a,indexName:b},{headers:c.headers})||{})}},qY=class extends qO{constructor(a,b={},c){super(a.replace(/\/$/,""),qD(qD({},qU),{},{"Content-Type":"application/json"},b),c,"vectors")}async putVectors(a){var b=this;if(a.vectors.length<1||a.vectors.length>500)throw Error("Vector batch size must be between 1 and 500 items");return b.handleOperation(async()=>await qN.post(b.fetch,`${b.url}/PutVectors`,a,{headers:b.headers})||{})}async getVectors(a){var b=this;return b.handleOperation(async()=>await qN.post(b.fetch,`${b.url}/GetVectors`,a,{headers:b.headers}))}async listVectors(a){var b=this;if(void 0!==a.segmentCount){if(a.segmentCount<1||a.segmentCount>16)throw Error("segmentCount must be between 1 and 16");if(void 0!==a.segmentIndex&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return b.handleOperation(async()=>await qN.post(b.fetch,`${b.url}/ListVectors`,a,{headers:b.headers}))}async queryVectors(a){var b=this;return b.handleOperation(async()=>await qN.post(b.fetch,`${b.url}/QueryVectors`,a,{headers:b.headers}))}async deleteVectors(a){var b=this;if(a.keys.length<1||a.keys.length>500)throw Error("Keys batch size must be between 1 and 500 items");return b.handleOperation(async()=>await qN.post(b.fetch,`${b.url}/DeleteVectors`,a,{headers:b.headers})||{})}},qZ=class extends qO{constructor(a,b={},c){super(a.replace(/\/$/,""),qD(qD({},qU),{},{"Content-Type":"application/json"},b),c,"vectors")}async createBucket(a){var b=this;return b.handleOperation(async()=>await qN.post(b.fetch,`${b.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:b.headers})||{})}async getBucket(a){var b=this;return b.handleOperation(async()=>await qN.post(b.fetch,`${b.url}/GetVectorBucket`,{vectorBucketName:a},{headers:b.headers}))}async listBuckets(a={}){var b=this;return b.handleOperation(async()=>await qN.post(b.fetch,`${b.url}/ListVectorBuckets`,a,{headers:b.headers}))}async deleteBucket(a){var b=this;return b.handleOperation(async()=>await qN.post(b.fetch,`${b.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:b.headers})||{})}},q$=class extends qZ{constructor(a,b={}){super(a,b.headers||{},b.fetch)}from(a){return new q_(this.url,this.headers,a,this.fetch)}async createBucket(a){return super.createBucket.call(this,a)}async getBucket(a){return super.getBucket.call(this,a)}async listBuckets(a={}){return super.listBuckets.call(this,a)}async deleteBucket(a){return super.deleteBucket.call(this,a)}},q_=class extends qX{constructor(a,b,c,d){super(a,b,d),this.vectorBucketName=c}async createIndex(a){return super.createIndex.call(this,qD(qD({},a),{},{vectorBucketName:this.vectorBucketName}))}async listIndexes(a={}){return super.listIndexes.call(this,qD(qD({},a),{},{vectorBucketName:this.vectorBucketName}))}async getIndex(a){return super.getIndex.call(this,this.vectorBucketName,a)}async deleteIndex(a){return super.deleteIndex.call(this,this.vectorBucketName,a)}index(a){return new q0(this.url,this.headers,this.vectorBucketName,a,this.fetch)}},q0=class extends qY{constructor(a,b,c,d,e){super(a,b,e),this.vectorBucketName=c,this.indexName=d}async putVectors(a){return super.putVectors.call(this,qD(qD({},a),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async getVectors(a){return super.getVectors.call(this,qD(qD({},a),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async listVectors(a={}){return super.listVectors.call(this,qD(qD({},a),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async queryVectors(a){return super.queryVectors.call(this,qD(qD({},a),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async deleteVectors(a){return super.deleteVectors.call(this,qD(qD({},a),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}},q1=class extends qV{constructor(a,b={},c,d){super(a,b,c,d)}from(a){return new qT(this.url,this.headers,a,this.fetch)}get vectors(){return new q$(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new qW(this.url+"/iceberg",this.headers,this.fetch)}};let q2="2.95.3",q3={"X-Client-Info":`gotrue-js/${q2}`},q4="X-Supabase-Api-Version",q5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},q6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class q7 extends Error{constructor(a,b,c){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=b,this.code=c}}function q8(a){return"object"==typeof a&&null!==a&&"__isAuthError"in a}class q9 extends q7{constructor(a,b,c){super(a,b,c),this.name="AuthApiError",this.status=b,this.code=c}}class ra extends q7{constructor(a,b){super(a),this.name="AuthUnknownError",this.originalError=b}}class rb extends q7{constructor(a,b,c,d){super(a,c,d),this.name=b,this.status=c}}class rc extends rb{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function rd(a){return q8(a)&&"AuthSessionMissingError"===a.name}class re extends rb{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class rf extends rb{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class rg extends rb{constructor(a,b=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=b}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rh extends rb{constructor(a,b=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=b}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ri extends rb{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class rj extends rb{constructor(a,b){super(a,"AuthRetryableFetchError",b,void 0)}}function rk(a){return q8(a)&&"AuthRetryableFetchError"===a.name}class rl extends rb{constructor(a,b,c){super(a,"AuthWeakPasswordError",b,"weak_password"),this.reasons=c}}class rm extends rb{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}let rn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ro=" 	\n\r=".split(""),rp=(()=>{let a=Array(128);for(let b=0;b<a.length;b+=1)a[b]=-1;for(let b=0;b<ro.length;b+=1)a[ro[b].charCodeAt(0)]=-2;for(let b=0;b<rn.length;b+=1)a[rn[b].charCodeAt(0)]=b;return a})();function rq(a,b,c){if(null!==a)for(b.queue=b.queue<<8|a,b.queuedBits+=8;b.queuedBits>=6;)c(rn[b.queue>>b.queuedBits-6&63]),b.queuedBits-=6;else if(b.queuedBits>0)for(b.queue=b.queue<<6-b.queuedBits,b.queuedBits=6;b.queuedBits>=6;)c(rn[b.queue>>b.queuedBits-6&63]),b.queuedBits-=6}function rr(a,b,c){let d=rp[a];if(d>-1)for(b.queue=b.queue<<6|d,b.queuedBits+=6;b.queuedBits>=8;)c(b.queue>>b.queuedBits-8&255),b.queuedBits-=8;else if(-2===d)return;else throw Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}function rs(a){let b=[],c=a=>{b.push(String.fromCodePoint(a))},d={utf8seq:0,codepoint:0},e={queue:0,queuedBits:0},f=a=>{!function(a,b,c){if(0===b.utf8seq){if(a<=127)return c(a);for(let c=1;c<6;c+=1)if((a>>7-c&1)==0){b.utf8seq=c;break}if(2===b.utf8seq)b.codepoint=31&a;else if(3===b.utf8seq)b.codepoint=15&a;else if(4===b.utf8seq)b.codepoint=7&a;else throw Error("Invalid UTF-8 sequence");b.utf8seq-=1}else if(b.utf8seq>0){if(a<=127)throw Error("Invalid UTF-8 sequence");b.codepoint=b.codepoint<<6|63&a,b.utf8seq-=1,0===b.utf8seq&&c(b.codepoint)}}(a,d,c)};for(let b=0;b<a.length;b+=1)rr(a.charCodeAt(b),e,f);return b.join("")}function rt(a){let b=[],c={queue:0,queuedBits:0},d=a=>{b.push(a)};for(let b=0;b<a.length;b+=1)rr(a.charCodeAt(b),c,d);return new Uint8Array(b)}function ru(a){let b=[],c={queue:0,queuedBits:0},d=a=>{b.push(a)};return a.forEach(a=>rq(a,c,d)),rq(null,c,d),b.join("")}let rv=()=>"undefined"!=typeof window&&"undefined"!=typeof document,rw={tested:!1,writable:!1},rx=()=>{if(!rv())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(a){return!1}if(rw.tested)return rw.writable;let a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),rw.tested=!0,rw.writable=!0}catch(a){rw.tested=!0,rw.writable=!1}return rw.writable},ry=a=>a?(...b)=>a(...b):(...a)=>fetch(...a),rz=async(a,b,c)=>{await a.setItem(b,JSON.stringify(c))},rA=async(a,b)=>{let c=await a.getItem(b);if(!c)return null;try{return JSON.parse(c)}catch(a){return c}},rB=async(a,b)=>{await a.removeItem(b)};class rC{constructor(){this.promise=new rC.promiseConstructor((a,b)=>{this.resolve=a,this.reject=b})}}function rD(a){let b=a.split(".");if(3!==b.length)throw new rm("Invalid JWT structure");for(let a=0;a<b.length;a++)if(!q6.test(b[a]))throw new rm("JWT not in base64url format");return{header:JSON.parse(rs(b[0])),payload:JSON.parse(rs(b[1])),signature:rt(b[2]),raw:{header:b[0],payload:b[1]}}}async function rE(a){return await new Promise(b=>{setTimeout(()=>b(null),a)})}function rF(a){return("0"+a.toString(16)).substr(-2)}async function rG(a){let b=new TextEncoder().encode(a);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",b))).map(a=>String.fromCharCode(a)).join("")}async function rH(a){return"undefined"==typeof crypto||void 0===crypto.subtle||"undefined"==typeof TextEncoder?(console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a):btoa(await rG(a)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rI(a,b,c=!1){let d=function(){let a=new Uint32Array(56);if("undefined"==typeof crypto){let a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",b=a.length,c="";for(let d=0;d<56;d++)c+=a.charAt(Math.floor(Math.random()*b));return c}return crypto.getRandomValues(a),Array.from(a,rF).join("")}(),e=d;c&&(e+="/PASSWORD_RECOVERY"),await rz(a,`${b}-code-verifier`,e);let f=await rH(d),g=d===f?"plain":"s256";return[f,g]}rC.promiseConstructor=Promise;let rJ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,rK=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rL(a){if(!rK.test(a))throw Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rM(){return new Proxy({},{get:(a,b)=>{if("__isUserNotAvailableProxy"===b)return!0;if("symbol"==typeof b){let a=b.toString();if("Symbol(Symbol.toPrimitive)"===a||"Symbol(Symbol.toStringTag)"===a||"Symbol(util.inspect.custom)"===a)return}throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${b}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,b)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${b}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,b)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${b}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rN(a){return JSON.parse(JSON.stringify(a))}let rO=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),rP=[502,503,504];async function rQ(a){var b;let c,d;if(!("object"==typeof a&&null!==a&&"status"in a&&"ok"in a&&"json"in a&&"function"==typeof a.json))throw new rj(rO(a),0);if(rP.includes(a.status))throw new rj(rO(a),a.status);try{c=await a.json()}catch(a){throw new ra(rO(a),a)}let e=function(a){let b=a.headers.get(q4);if(!b||!b.match(rJ))return null;try{return new Date(`${b}T00:00:00.0Z`)}catch(a){return null}}(a);if(e&&e.getTime()>=q5["2024-01-01"].timestamp&&"object"==typeof c&&c&&"string"==typeof c.code?d=c.code:"object"==typeof c&&c&&"string"==typeof c.error_code&&(d=c.error_code),d){if("weak_password"===d)throw new rl(rO(c),a.status,(null==(b=c.weak_password)?void 0:b.reasons)||[]);else if("session_not_found"===d)throw new rc}else if("object"==typeof c&&c&&"object"==typeof c.weak_password&&c.weak_password&&Array.isArray(c.weak_password.reasons)&&c.weak_password.reasons.length&&c.weak_password.reasons.reduce((a,b)=>a&&"string"==typeof b,!0))throw new rl(rO(c),a.status,c.weak_password.reasons);throw new q9(rO(c),a.status||500,d)}async function rR(a,b,c,d){var e;let f=Object.assign({},null==d?void 0:d.headers);f[q4]||(f[q4]=q5["2024-01-01"].name),(null==d?void 0:d.jwt)&&(f.Authorization=`Bearer ${d.jwt}`);let g=null!=(e=null==d?void 0:d.query)?e:{};(null==d?void 0:d.redirectTo)&&(g.redirect_to=d.redirectTo);let h=Object.keys(g).length?"?"+new URLSearchParams(g).toString():"",i=await rS(a,b,c+h,{headers:f,noResolveJson:null==d?void 0:d.noResolveJson},{},null==d?void 0:d.body);return(null==d?void 0:d.xform)?null==d?void 0:d.xform(i):{data:Object.assign({},i),error:null}}async function rS(a,b,c,d,e,f){let g,h=((a,b,c,d)=>{let e={method:a,headers:(null==b?void 0:b.headers)||{}};return"GET"===a?e:(e.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==b?void 0:b.headers),e.body=JSON.stringify(d),Object.assign(Object.assign({},e),c))})(b,d,e,f);try{g=await a(c,Object.assign({},h))}catch(a){throw console.error(a),new rj(rO(a),0)}if(g.ok||await rQ(g),null==d?void 0:d.noResolveJson)return g;try{return await g.json()}catch(a){await rQ(a)}}function rT(a){var b,c,d;let e=null;(d=a).access_token&&d.refresh_token&&d.expires_in&&(e=Object.assign({},a),a.expires_at||(e.expires_at=(c=a.expires_in,Math.round(Date.now()/1e3)+c)));return{data:{session:e,user:null!=(b=a.user)?b:a},error:null}}function rU(a){let b=rT(a);return!b.error&&a.weak_password&&"object"==typeof a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&"string"==typeof a.weak_password.message&&a.weak_password.reasons.reduce((a,b)=>a&&"string"==typeof b,!0)&&(b.data.weak_password=a.weak_password),b}function rV(a){var b;return{data:{user:null!=(b=a.user)?b:a},error:null}}function rW(a){return{data:a,error:null}}function rX(a){let{action_link:b,email_otp:c,hashed_token:d,redirect_to:e,verification_type:f}=a;return{data:{properties:{action_link:b,email_otp:c,hashed_token:d,redirect_to:e,verification_type:f},user:Object.assign({},pP(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]))},error:null}}function rY(a){return a}let rZ=["global","local","others"];class r${constructor({url:a="",headers:b={},fetch:c}){this.url=a,this.headers=b,this.fetch=ry(c),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,b=rZ[0]){if(0>rZ.indexOf(b))throw Error(`@supabase/auth-js: Parameter scope must be one of ${rZ.join(", ")}`);try{return await rR(this.fetch,"POST",`${this.url}/logout?scope=${b}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(a){if(q8(a))return{data:null,error:a};throw a}}async inviteUserByEmail(a,b={}){try{return await rR(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:b.data},headers:this.headers,redirectTo:b.redirectTo,xform:rV})}catch(a){if(q8(a))return{data:{user:null},error:a};throw a}}async generateLink(a){try{let{options:b}=a,c=pP(a,["options"]),d=Object.assign(Object.assign({},c),b);return"newEmail"in c&&(d.new_email=null==c?void 0:c.newEmail,delete d.newEmail),await rR(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:rX,redirectTo:null==b?void 0:b.redirectTo})}catch(a){if(q8(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(a){try{return await rR(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:rV})}catch(a){if(q8(a))return{data:{user:null},error:a};throw a}}async listUsers(a){var b,c,d,e,f,g,h;try{let i={nextPage:null,lastPage:0,total:0},j=await rR(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!=(c=null==(b=null==a?void 0:a.page)?void 0:b.toString())?c:"",per_page:null!=(e=null==(d=null==a?void 0:a.perPage)?void 0:d.toString())?e:""},xform:rY});if(j.error)throw j.error;let k=await j.json(),l=null!=(f=j.headers.get("x-total-count"))?f:0,m=null!=(h=null==(g=j.headers.get("link"))?void 0:g.split(","))?h:[];return m.length>0&&(m.forEach(a=>{let b=parseInt(a.split(";")[0].split("=")[1].substring(0,1)),c=JSON.parse(a.split(";")[1].split("=")[1]);i[`${c}Page`]=b}),i.total=parseInt(l)),{data:Object.assign(Object.assign({},k),i),error:null}}catch(a){if(q8(a))return{data:{users:[]},error:a};throw a}}async getUserById(a){rL(a);try{return await rR(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:rV})}catch(a){if(q8(a))return{data:{user:null},error:a};throw a}}async updateUserById(a,b){rL(a);try{return await rR(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:b,headers:this.headers,xform:rV})}catch(a){if(q8(a))return{data:{user:null},error:a};throw a}}async deleteUser(a,b=!1){rL(a);try{return await rR(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:b},xform:rV})}catch(a){if(q8(a))return{data:{user:null},error:a};throw a}}async _listFactors(a){rL(a.userId);try{let{data:b,error:c}=await rR(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:b,error:c}}catch(a){if(q8(a))return{data:null,error:a};throw a}}async _deleteFactor(a){rL(a.userId),rL(a.id);try{return{data:await rR(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(a){if(q8(a))return{data:null,error:a};throw a}}async _listOAuthClients(a){var b,c,d,e,f,g,h;try{let i={nextPage:null,lastPage:0,total:0},j=await rR(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!=(c=null==(b=null==a?void 0:a.page)?void 0:b.toString())?c:"",per_page:null!=(e=null==(d=null==a?void 0:a.perPage)?void 0:d.toString())?e:""},xform:rY});if(j.error)throw j.error;let k=await j.json(),l=null!=(f=j.headers.get("x-total-count"))?f:0,m=null!=(h=null==(g=j.headers.get("link"))?void 0:g.split(","))?h:[];return m.length>0&&(m.forEach(a=>{let b=parseInt(a.split(";")[0].split("=")[1].substring(0,1)),c=JSON.parse(a.split(";")[1].split("=")[1]);i[`${c}Page`]=b}),i.total=parseInt(l)),{data:Object.assign(Object.assign({},k),i),error:null}}catch(a){if(q8(a))return{data:{clients:[]},error:a};throw a}}async _createOAuthClient(a){try{return await rR(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(q8(a))return{data:null,error:a};throw a}}async _getOAuthClient(a){try{return await rR(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(q8(a))return{data:null,error:a};throw a}}async _updateOAuthClient(a,b){try{return await rR(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:b,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(q8(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(a){try{return await rR(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(q8(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(a){try{return await rR(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(q8(a))return{data:null,error:a};throw a}}}function r_(a={}){return{getItem:b=>a[b]||null,setItem:(b,c)=>{a[b]=c},removeItem:b=>{delete a[b]}}}let r0={debug:!!(globalThis&&rx()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class r1 extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class r2 extends r1{}async function r3(a,b,c){r0.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,b);let d=new globalThis.AbortController;return b>0&&setTimeout(()=>{d.abort(),r0.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},b),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,0===b?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:d.signal},async d=>{if(d){r0.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,d.name);try{return await c()}finally{r0.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,d.name)}}if(0===b)throw r0.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new r2(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(r0.debug)try{let a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await c()}))}function r4(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}class r5 extends Error{constructor({message:a,code:b,cause:c,name:d}){var e;super(a,{cause:c}),this.__isWebAuthnError=!0,this.name=null!=(e=null!=d?d:c instanceof Error?c.name:void 0)?e:"Unknown Error",this.code=b}}class r6 extends r5{constructor(a,b){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:b,message:a}),this.name="WebAuthnUnknownError",this.originalError=b}}class r7{createNewAbortSignal(){if(this.controller){let a=Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}let a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){let a=Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}let r8=new r7;function r9(a){return"localhost"===a||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function sa(){var a,b;return!!(rv()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null==(a=null==navigator?void 0:navigator.credentials)?void 0:a.create)&&"function"==typeof(null==(b=null==navigator?void 0:navigator.credentials)?void 0:b.get))}async function sb(a){try{let b=await navigator.credentials.create(a);if(!b)return{data:null,error:new r6("Empty credential response",b)};if(!(b instanceof PublicKeyCredential))return{data:null,error:new r6("Browser returned unexpected credential type",b)};return{data:b,error:null}}catch(b){return{data:null,error:function({error:a,options:b}){var c,d,e;let{publicKey:f}=b;if(!f)throw Error("options was missing required publicKey property");if("AbortError"===a.name){if(b.signal instanceof AbortSignal)return new r5({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if("ConstraintError"===a.name){if((null==(c=f.authenticatorSelection)?void 0:c.requireResidentKey)===!0)return new r5({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});else if("conditional"===b.mediation&&(null==(d=f.authenticatorSelection)?void 0:d.userVerification)==="required")return new r5({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});else if((null==(e=f.authenticatorSelection)?void 0:e.userVerification)==="required")return new r5({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else if("InvalidStateError"===a.name)return new r5({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});else if("NotAllowedError"===a.name)return new r5({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});else if("NotSupportedError"===a.name)return new r5(0===f.pubKeyCredParams.filter(a=>"public-key"===a.type).length?{message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}:{message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});else if("SecurityError"===a.name){let b=window.location.hostname;if(!r9(b))return new r5({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a});if(f.rp.id!==b)return new r5({message:`The RP ID "${f.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else if("TypeError"===a.name){if(f.user.id.byteLength<1||f.user.id.byteLength>64)return new r5({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if("UnknownError"===a.name)return new r5({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a});return new r5({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}({error:b,options:a})}}}async function sc(a){try{let b=await navigator.credentials.get(a);if(!b)return{data:null,error:new r6("Empty credential response",b)};if(!(b instanceof PublicKeyCredential))return{data:null,error:new r6("Browser returned unexpected credential type",b)};return{data:b,error:null}}catch(b){return{data:null,error:function({error:a,options:b}){let{publicKey:c}=b;if(!c)throw Error("options was missing required publicKey property");if("AbortError"===a.name){if(b.signal instanceof AbortSignal)return new r5({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if("NotAllowedError"===a.name)return new r5({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});else if("SecurityError"===a.name){let b=window.location.hostname;if(!r9(b))return new r5({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a});if(c.rpId!==b)return new r5({message:`The RP ID "${c.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else if("UnknownError"===a.name)return new r5({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a});return new r5({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}({error:b,options:a})}}}let sd={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},se={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function sf(...a){let b=a=>null!==a&&"object"==typeof a&&!Array.isArray(a),c=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),d={};for(let e of a)if(e)for(let a in e){let f=e[a];if(void 0!==f)if(Array.isArray(f))d[a]=f;else if(c(f))d[a]=f;else if(b(f)){let c=d[a];b(c)?d[a]=sf(c,f):d[a]=sf(f)}else d[a]=f}return d}class sg{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:b,friendlyName:c,signal:d},e){var f,g,h,i,j;try{let{data:k,error:l}=await this.client.mfa.challenge({factorId:a,webauthn:b});if(!k)return{data:null,error:l};let m=null!=d?d:r8.createNewAbortSignal();if("create"===k.webauthn.type){let{user:a}=k.webauthn.credential_options.publicKey;if(!a.name)if(c)a.name=`${a.id}:${c}`;else{let b=(await this.client.getUser()).data.user,c=(null==(f=null==b?void 0:b.user_metadata)?void 0:f.name)||(null==b?void 0:b.email)||(null==b?void 0:b.id)||"User";a.name=`${a.id}:${c}`}a.displayName||(a.displayName=a.name)}switch(k.webauthn.type){case"create":{let b=(g=k.webauthn.credential_options.publicKey,h=null==e?void 0:e.create,sf(sd,g,h||{})),{data:c,error:d}=await sb({publicKey:b,signal:m});if(c)return{data:{factorId:a,challengeId:k.id,webauthn:{type:k.webauthn.type,credential_response:c}},error:null};return{data:null,error:d}}case"request":{let b=(i=k.webauthn.credential_options.publicKey,j=null==e?void 0:e.request,sf(se,i,j||{})),{data:c,error:d}=await sc(Object.assign(Object.assign({},k.webauthn.credential_options),{publicKey:b,signal:m}));if(c)return{data:{factorId:a,challengeId:k.id,webauthn:{type:k.webauthn.type,credential_response:c}},error:null};return{data:null,error:d}}}}catch(a){if(q8(a))return{data:null,error:a};return{data:null,error:new ra("Unexpected error in challenge",a)}}}async _verify({challengeId:a,factorId:b,webauthn:c}){return this.client.mfa.verify({factorId:b,challengeId:a,webauthn:c})}async _authenticate({factorId:a,webauthn:{rpId:b="undefined"!=typeof window?window.location.hostname:void 0,rpOrigins:c="undefined"!=typeof window?[window.location.origin]:void 0,signal:d}={}},e){if(!b)return{data:null,error:new q7("rpId is required for WebAuthn authentication")};try{if(!sa())return{data:null,error:new ra("Browser does not support WebAuthn",null)};let{data:f,error:g}=await this.challenge({factorId:a,webauthn:{rpId:b,rpOrigins:c},signal:d},{request:e});if(!f)return{data:null,error:g};let{webauthn:h}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:h.type,rpId:b,rpOrigins:c,credential_response:h.credential_response}})}catch(a){if(q8(a))return{data:null,error:a};return{data:null,error:new ra("Unexpected error in authenticate",a)}}}async _register({friendlyName:a,webauthn:{rpId:b="undefined"!=typeof window?window.location.hostname:void 0,rpOrigins:c="undefined"!=typeof window?[window.location.origin]:void 0,signal:d}={}},e){if(!b)return{data:null,error:new q7("rpId is required for WebAuthn registration")};try{if(!sa())return{data:null,error:new ra("Browser does not support WebAuthn",null)};let{data:f,error:g}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(b=>{var c;return null==(c=b.data)?void 0:c.all.find(b=>"webauthn"===b.factor_type&&b.friendly_name===a&&"unverified"!==b.status)}).then(a=>a?this.client.mfa.unenroll({factorId:null==a?void 0:a.id}):void 0),{data:null,error:g};let{data:h,error:i}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:b,rpOrigins:c},signal:d},{create:e});if(!h)return{data:null,error:i};return this._verify({factorId:f.id,challengeId:h.challengeId,webauthn:{rpId:b,rpOrigins:c,type:h.webauthn.type,credential_response:h.webauthn.credential_response}})}catch(a){if(q8(a))return{data:null,error:a};return{data:null,error:new ra("Unexpected error in register",a)}}}}if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(a){"undefined"!=typeof self&&(self.globalThis=self)}let sh={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:q3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function si(a,b,c){return await c()}let sj={};class sk{get jwks(){var a,b;return null!=(b=null==(a=sj[this.storageKey])?void 0:a.jwks)?b:{keys:[]}}set jwks(a){sj[this.storageKey]=Object.assign(Object.assign({},sj[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,b;return null!=(b=null==(a=sj[this.storageKey])?void 0:a.cachedAt)?b:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){sj[this.storageKey]=Object.assign(Object.assign({},sj[this.storageKey]),{cachedAt:a})}constructor(a){var b,c,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let e=Object.assign(Object.assign({},sh),a);if(this.storageKey=e.storageKey,this.instanceID=null!=(b=sk.nextInstanceID[this.storageKey])?b:0,sk.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!e.debug,"function"==typeof e.debug&&(this.logger=e.debug),this.instanceID>0&&rv()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=e.persistSession,this.autoRefreshToken=e.autoRefreshToken,this.admin=new r$({url:e.url,headers:e.headers,fetch:e.fetch}),this.url=e.url,this.headers=e.headers,this.fetch=ry(e.fetch),this.lock=e.lock||si,this.detectSessionInUrl=e.detectSessionInUrl,this.flowType=e.flowType,this.hasCustomAuthorizationHeader=e.hasCustomAuthorizationHeader,this.throwOnError=e.throwOnError,this.lockAcquireTimeout=e.lockAcquireTimeout,e.lock?this.lock=e.lock:this.persistSession&&rv()&&(null==(c=null==globalThis?void 0:globalThis.navigator)?void 0:c.locks)?this.lock=r3:this.lock=si,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new sg(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(e.storage?this.storage=e.storage:rx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=r_(this.memoryStorage)),e.userStorage&&(this.userStorage=e.userStorage)):(this.memoryStorage={},this.storage=r_(this.memoryStorage)),rv()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}null==(d=this.broadcastChannel)||d.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${q2}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var a;try{let b={},c="none";if(rv()&&(b=function(a){let b={},c=new URL(a);if(c.hash&&"#"===c.hash[0])try{new URLSearchParams(c.hash.substring(1)).forEach((a,c)=>{b[c]=a})}catch(a){}return c.searchParams.forEach((a,c)=>{b[c]=a}),b}(window.location.href),this._isImplicitGrantCallback(b)?c="implicit":await this._isPKCECallback(b)&&(c="pkce")),rv()&&this.detectSessionInUrl&&"none"!==c){let{data:d,error:e}=await this._getSessionFromURL(b,c);if(e){(this._debug("#_initialize()","error detecting session from URL",e),q8(e)&&"AuthImplicitGrantRedirectError"===e.name)&&(null==(a=e.details)||a.code);return{error:e}}let{session:f,redirectType:g}=d;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{"recovery"===g?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){if(q8(a))return this._returnResult({error:a});return this._returnResult({error:new ra("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var b,c,d;try{let{data:e,error:f}=await rR(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!=(c=null==(b=null==a?void 0:a.options)?void 0:b.data)?c:{},gotrue_meta_security:{captcha_token:null==(d=null==a?void 0:a.options)?void 0:d.captchaToken}},xform:rT});if(f||!e)return this._returnResult({data:{user:null,session:null},error:f});let g=e.session,h=e.user;return e.session&&(await this._saveSession(e.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:h,session:g},error:null})}catch(a){if(q8(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(a){var b,c,d;try{let e;if("email"in a){let{email:c,password:d,options:f}=a,g=null,h=null;"pkce"===this.flowType&&([g,h]=await rI(this.storage,this.storageKey)),e=await rR(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==f?void 0:f.emailRedirectTo,body:{email:c,password:d,data:null!=(b=null==f?void 0:f.data)?b:{},gotrue_meta_security:{captcha_token:null==f?void 0:f.captchaToken},code_challenge:g,code_challenge_method:h},xform:rT})}else if("phone"in a){let{phone:b,password:f,options:g}=a;e=await rR(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:f,data:null!=(c=null==g?void 0:g.data)?c:{},channel:null!=(d=null==g?void 0:g.channel)?d:"sms",gotrue_meta_security:{captcha_token:null==g?void 0:g.captchaToken}},xform:rT})}else throw new rf("You must provide either an email or phone number and a password");let{data:f,error:g}=e;if(g||!f)return await rB(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});let h=f.session,i=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:i,session:h},error:null})}catch(a){if(await rB(this.storage,`${this.storageKey}-code-verifier`),q8(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(a){try{let b;if("email"in a){let{email:c,password:d,options:e}=a;b=await rR(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}},xform:rU})}else if("phone"in a){let{phone:c,password:d,options:e}=a;b=await rR(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}},xform:rU})}else throw new rf("You must provide either an email or phone number and a password");let{data:c,error:d}=b;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){let a=new re;return this._returnResult({data:{user:null,session:null},error:a})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign({user:c.user,session:c.session},c.weak_password?{weakPassword:c.weak_password}:null),error:d})}catch(a){if(q8(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(a){var b,c,d,e;return await this._handleProviderSignIn(a.provider,{redirectTo:null==(b=a.options)?void 0:b.redirectTo,scopes:null==(c=a.options)?void 0:c.scopes,queryParams:null==(d=a.options)?void 0:d.queryParams,skipBrowserRedirect:null==(e=a.options)?void 0:e.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){let{chain:b}=a;switch(b){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw Error(`@supabase/auth-js: Unsupported chain "${b}"`)}}async signInWithEthereum(a){var b,c,d,e,f,g,h,i,j,k,l,m;let n,o;if("message"in a)n=a.message,o=a.signature;else{let k,{chain:l,wallet:p,statement:q,options:r}=a;if(rv())if("object"==typeof p)k=p;else{let a=window;if("ethereum"in a&&"object"==typeof a.ethereum&&"request"in a.ethereum&&"function"==typeof a.ethereum.request)k=a.ethereum;else throw Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if("object"!=typeof p||!(null==r?void 0:r.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=p}let s=new URL(null!=(b=null==r?void 0:r.url)?b:window.location.href),t=await k.request({method:"eth_requestAccounts"}).then(a=>a).catch(()=>{throw Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!t||0===t.length)throw Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let u=r4(t[0]),v=null==(c=null==r?void 0:r.signInWithEthereum)?void 0:c.chainId;v||(v=parseInt(await k.request({method:"eth_chainId"}),16)),n=function(a){var b;let{chainId:c,domain:d,expirationTime:e,issuedAt:f=new Date,nonce:g,notBefore:h,requestId:i,resources:j,scheme:k,uri:l,version:m}=a;if(!Number.isInteger(c))throw Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${c}`);if(!d)throw Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(g&&g.length<8)throw Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${g}`);if(!l)throw Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==m)throw Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(null==(b=a.statement)?void 0:b.includes("\n"))throw Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`);let n=r4(a.address),o=k?`${k}://${d}`:d,p=a.statement?`${a.statement}
`:"",q=`${o} wants you to sign in with your Ethereum account:
${n}

${p}`,r=`URI: ${l}
Version: ${m}
Chain ID: ${c}${g?`
Nonce: ${g}`:""}
Issued At: ${f.toISOString()}`;if(e&&(r+=`
Expiration Time: ${e.toISOString()}`),h&&(r+=`
Not Before: ${h.toISOString()}`),i&&(r+=`
Request ID: ${i}`),j){let a="\nResources:";for(let b of j){if(!b||"string"!=typeof b)throw Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);a+=`
- ${b}`}r+=a}return`${q}
${r}`}({domain:s.host,address:u,statement:q,uri:s.href,version:"1",chainId:v,nonce:null==(d=null==r?void 0:r.signInWithEthereum)?void 0:d.nonce,issuedAt:null!=(f=null==(e=null==r?void 0:r.signInWithEthereum)?void 0:e.issuedAt)?f:new Date,expirationTime:null==(g=null==r?void 0:r.signInWithEthereum)?void 0:g.expirationTime,notBefore:null==(h=null==r?void 0:r.signInWithEthereum)?void 0:h.notBefore,requestId:null==(i=null==r?void 0:r.signInWithEthereum)?void 0:i.requestId,resources:null==(j=null==r?void 0:r.signInWithEthereum)?void 0:j.resources}),o=await k.request({method:"personal_sign",params:[(m=n,"0x"+Array.from(new TextEncoder().encode(m),a=>a.toString(16).padStart(2,"0")).join("")),u]})}try{let{data:b,error:c}=await rR(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:n,signature:o},(null==(k=a.options)?void 0:k.captchaToken)?{gotrue_meta_security:{captcha_token:null==(l=a.options)?void 0:l.captchaToken}}:null),xform:rT});if(c)throw c;if(!b||!b.session||!b.user){let a=new re;return this._returnResult({data:{user:null,session:null},error:a})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:c})}catch(a){if(q8(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSolana(a){var b,c,d,e,f,g,h,i,j,k,l,m;let n,o;if("message"in a)n=a.message,o=a.signature;else{let l,{chain:m,wallet:p,statement:q,options:r}=a;if(rv())if("object"==typeof p)l=p;else{let a=window;if("solana"in a&&"object"==typeof a.solana&&("signIn"in a.solana&&"function"==typeof a.solana.signIn||"signMessage"in a.solana&&"function"==typeof a.solana.signMessage))l=a.solana;else throw Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if("object"!=typeof p||!(null==r?void 0:r.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");l=p}let s=new URL(null!=(b=null==r?void 0:r.url)?b:window.location.href);if("signIn"in l&&l.signIn){let a,b=await l.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},null==r?void 0:r.signInWithSolana),{version:"1",domain:s.host,uri:s.href}),q?{statement:q}:null));if(Array.isArray(b)&&b[0]&&"object"==typeof b[0])a=b[0];else if(b&&"object"==typeof b&&"signedMessage"in b&&"signature"in b)a=b;else throw Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in a&&"signature"in a&&("string"==typeof a.signedMessage||a.signedMessage instanceof Uint8Array)&&a.signature instanceof Uint8Array)n="string"==typeof a.signedMessage?a.signedMessage:new TextDecoder().decode(a.signedMessage),o=a.signature;else throw Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in l)||"function"!=typeof l.signMessage||!("publicKey"in l)||"object"!=typeof l||!l.publicKey||!("toBase58"in l.publicKey)||"function"!=typeof l.publicKey.toBase58)throw Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");n=[`${s.host} wants you to sign in with your Solana account:`,l.publicKey.toBase58(),...q?["",q,""]:[""],"Version: 1",`URI: ${s.href}`,`Issued At: ${null!=(d=null==(c=null==r?void 0:r.signInWithSolana)?void 0:c.issuedAt)?d:new Date().toISOString()}`,...(null==(e=null==r?void 0:r.signInWithSolana)?void 0:e.notBefore)?[`Not Before: ${r.signInWithSolana.notBefore}`]:[],...(null==(f=null==r?void 0:r.signInWithSolana)?void 0:f.expirationTime)?[`Expiration Time: ${r.signInWithSolana.expirationTime}`]:[],...(null==(g=null==r?void 0:r.signInWithSolana)?void 0:g.chainId)?[`Chain ID: ${r.signInWithSolana.chainId}`]:[],...(null==(h=null==r?void 0:r.signInWithSolana)?void 0:h.nonce)?[`Nonce: ${r.signInWithSolana.nonce}`]:[],...(null==(i=null==r?void 0:r.signInWithSolana)?void 0:i.requestId)?[`Request ID: ${r.signInWithSolana.requestId}`]:[],...(null==(k=null==(j=null==r?void 0:r.signInWithSolana)?void 0:j.resources)?void 0:k.length)?["Resources",...r.signInWithSolana.resources.map(a=>`- ${a}`)]:[]].join("\n");let a=await l.signMessage(new TextEncoder().encode(n),"utf8");if(!a||!(a instanceof Uint8Array))throw Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");o=a}}try{let{data:b,error:c}=await rR(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:n,signature:ru(o)},(null==(l=a.options)?void 0:l.captchaToken)?{gotrue_meta_security:{captcha_token:null==(m=a.options)?void 0:m.captchaToken}}:null),xform:rT});if(c)throw c;if(!b||!b.session||!b.user){let a=new re;return this._returnResult({data:{user:null,session:null},error:a})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:c})}catch(a){if(q8(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _exchangeCodeForSession(a){let b=await rA(this.storage,`${this.storageKey}-code-verifier`),[c,d]=(null!=b?b:"").split("/");try{if(!c&&"pkce"===this.flowType)throw new ri;let{data:b,error:e}=await rR(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:c},xform:rT});if(await rB(this.storage,`${this.storageKey}-code-verifier`),e)throw e;if(!b||!b.session||!b.user){let a=new re;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign(Object.assign({},b),{redirectType:null!=d?d:null}),error:e})}catch(a){if(await rB(this.storage,`${this.storageKey}-code-verifier`),q8(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(a){try{let{options:b,provider:c,token:d,access_token:e,nonce:f}=a,{data:g,error:h}=await rR(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:c,id_token:d,access_token:e,nonce:f,gotrue_meta_security:{captcha_token:null==b?void 0:b.captchaToken}},xform:rT});if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!g||!g.session||!g.user){let a=new re;return this._returnResult({data:{user:null,session:null},error:a})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:h})}catch(a){if(q8(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(a){var b,c,d,e,f;try{if("email"in a){let{email:d,options:e}=a,f=null,g=null;"pkce"===this.flowType&&([f,g]=await rI(this.storage,this.storageKey));let{error:h}=await rR(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:null!=(b=null==e?void 0:e.data)?b:{},create_user:null==(c=null==e?void 0:e.shouldCreateUser)||c,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:null==e?void 0:e.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in a){let{phone:b,options:c}=a,{data:g,error:h}=await rR(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:b,data:null!=(d=null==c?void 0:c.data)?d:{},create_user:null==(e=null==c?void 0:c.shouldCreateUser)||e,gotrue_meta_security:{captcha_token:null==c?void 0:c.captchaToken},channel:null!=(f=null==c?void 0:c.channel)?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null==g?void 0:g.message_id},error:h})}throw new rf("You must provide either an email or phone number.")}catch(a){if(await rB(this.storage,`${this.storageKey}-code-verifier`),q8(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(a){var b,c;try{let d,e;"options"in a&&(d=null==(b=a.options)?void 0:b.redirectTo,e=null==(c=a.options)?void 0:c.captchaToken);let{data:f,error:g}=await rR(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:e}}),redirectTo:d,xform:rT});if(g)throw g;if(!f)throw Error("An error occurred on token verification.");let h=f.session,i=f.user;return(null==h?void 0:h.access_token)&&(await this._saveSession(h),await this._notifyAllSubscribers("recovery"==a.type?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:i,session:h},error:null})}catch(a){if(q8(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(a){var b,c,d,e,f;try{let g=null,h=null;"pkce"===this.flowType&&([g,h]=await rI(this.storage,this.storageKey));let i=await rR(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:null!=(c=null==(b=a.options)?void 0:b.redirectTo)?c:void 0}),(null==(d=null==a?void 0:a.options)?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:h}),headers:this.headers,xform:rW});return(null==(e=i.data)?void 0:e.url)&&rv()&&!(null==(f=a.options)?void 0:f.skipBrowserRedirect)&&window.location.assign(i.data.url),this._returnResult(i)}catch(a){if(await rB(this.storage,`${this.storageKey}-code-verifier`),q8(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{let{data:{session:b},error:c}=a;if(c)throw c;if(!b)throw new rc;let{error:d}=await rR(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:b.access_token});return this._returnResult({data:{user:null,session:null},error:d})})}catch(a){if(q8(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{let b=`${this.url}/resend`;if("email"in a){let{email:c,type:d,options:e}=a,{error:f}=await rR(this.fetch,"POST",b,{headers:this.headers,body:{email:c,type:d,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}},redirectTo:null==e?void 0:e.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in a){let{phone:c,type:d,options:e}=a,{data:f,error:g}=await rR(this.fetch,"POST",b,{headers:this.headers,body:{phone:c,type:d,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null==f?void 0:f.message_id},error:g})}throw new rf("You must provide either an email or phone number and a type")}catch(a){if(q8(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async a=>a))}async _acquireLock(a,b){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){let a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await a,await b()))();return this.pendingInLock.push((async()=>{try{await c}catch(a){}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let a=b();for(this.pendingInLock.push((async()=>{try{await a}catch(a){}})()),await a;this.pendingInLock.length;){let a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{let b=await this.__loadSession();return await a(b)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",Error().stack);try{let b=null,c=await rA(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",c),null!==c&&(this._isValidSession(c)?b=c:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!b)return{data:{session:null},error:null};let d=!!b.expires_at&&1e3*b.expires_at-Date.now()<9e4;if(this._debug("#__loadSession()",`session has${d?"":" not"} expired`,"expires_at",b.expires_at),!d){if(this.userStorage){let a=await rA(this.userStorage,this.storageKey+"-user");(null==a?void 0:a.user)?b.user=a.user:b.user=rM()}if(this.storage.isServer&&b.user&&!b.user.__isUserNotAvailableProxy){var a;let c={value:this.suppressGetSessionWarning};b.user=(a=b.user,new Proxy(a,{get:(a,b,d)=>{if("__isInsecureUserWarningProxy"===b)return!0;if("symbol"==typeof b){let c=b.toString();if("Symbol(Symbol.toPrimitive)"===c||"Symbol(Symbol.toStringTag)"===c||"Symbol(util.inspect.custom)"===c||"Symbol(nodejs.util.inspect.custom)"===c)return Reflect.get(a,b,d)}return c.value||"string"!=typeof b||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c.value=!0),Reflect.get(a,b,d)}})),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:b},error:null}}let{data:e,error:f}=await this._callRefreshToken(b.refresh_token);if(f)return this._returnResult({data:{session:null},error:f});return this._returnResult({data:{session:e},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;let b=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return b.data.user&&(this.suppressGetSessionWarning=!0),b}async _getUser(a){try{if(a)return await rR(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:rV});return await this._useSession(async a=>{var b,c,d;let{data:e,error:f}=a;if(f)throw f;return(null==(b=e.session)?void 0:b.access_token)||this.hasCustomAuthorizationHeader?await rR(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!=(d=null==(c=e.session)?void 0:c.access_token)?d:void 0,xform:rV}):{data:{user:null},error:new rc}})}catch(a){if(q8(a))return rd(a)&&(await this._removeSession(),await rB(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(a,b={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,b))}async _updateUser(a,b={}){try{return await this._useSession(async c=>{let{data:d,error:e}=c;if(e)throw e;if(!d.session)throw new rc;let f=d.session,g=null,h=null;"pkce"===this.flowType&&null!=a.email&&([g,h]=await rI(this.storage,this.storageKey));let{data:i,error:j}=await rR(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==b?void 0:b.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:g,code_challenge_method:h}),jwt:f.access_token,xform:rV});if(j)throw j;return f.user=i.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(a){if(await rB(this.storage,`${this.storageKey}-code-verifier`),q8(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new rc;let b=Date.now()/1e3,c=b,d=!0,e=null,{payload:f}=rD(a.access_token);if(f.exp&&(d=(c=f.exp)<=b),d){let{data:b,error:c}=await this._callRefreshToken(a.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!b)return{data:{user:null,session:null},error:null};e=b}else{let{data:d,error:f}=await this._getUser(a.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});e={access_token:a.access_token,refresh_token:a.refresh_token,user:d.user,token_type:"bearer",expires_in:c-b,expires_at:c},await this._saveSession(e),await this._notifyAllSubscribers("SIGNED_IN",e)}return this._returnResult({data:{user:e.user,session:e},error:null})}catch(a){if(q8(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async b=>{var c;if(!a){let{data:d,error:e}=b;if(e)throw e;a=null!=(c=d.session)?c:void 0}if(!(null==a?void 0:a.refresh_token))throw new rc;let{data:d,error:e}=await this._callRefreshToken(a.refresh_token);return e?this._returnResult({data:{user:null,session:null},error:e}):d?this._returnResult({data:{user:d.user,session:d},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(q8(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(a,b){try{if(!rv())throw new rg("No browser detected.");if(a.error||a.error_description||a.error_code)throw new rg(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(b){case"implicit":if("pkce"===this.flowType)throw new rh("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new rg("Not a valid implicit grant flow url.")}if("pkce"===b){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new rh("No code detected.");let{data:b,error:c}=await this._exchangeCodeForSession(a.code);if(c)throw c;let d=new URL(window.location.href);return d.searchParams.delete("code"),window.history.replaceState(window.history.state,"",d.toString()),{data:{session:b.session,redirectType:null},error:null}}let{provider_token:c,provider_refresh_token:d,access_token:e,refresh_token:f,expires_in:g,expires_at:h,token_type:i}=a;if(!e||!g||!f||!i)throw new rg("No session defined in URL");let j=Math.round(Date.now()/1e3),k=parseInt(g),l=j+k;h&&(l=parseInt(h));let m=l-j;1e3*m<=3e4&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${k}s`);let n=l-k;j-n>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",n,l,j):j-n<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",n,l,j);let{data:o,error:p}=await this._getUser(e);if(p)throw p;let q={provider_token:c,provider_refresh_token:d,access_token:e,expires_in:k,expires_at:l,refresh_token:f,token_type:i,user:o.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:q,redirectType:a.type},error:null})}catch(a){if(q8(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(a){return"function"==typeof this.detectSessionInUrl?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){let b=await rA(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&b)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async b=>{var c;let{data:d,error:e}=b;if(e&&!rd(e))return this._returnResult({error:e});let f=null==(c=d.session)?void 0:c.access_token;if(f){let{error:b}=await this.admin.signOut(f,a);if(b&&!(q8(b)&&"AuthApiError"===b.name&&(404===b.status||401===b.status||403===b.status)||rd(b)))return this._returnResult({error:b})}return"others"!==a&&(await this._removeSession(),await rB(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){let b=Symbol("auth-callback"),c={id:b,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",b),this.stateChangeEmitters.delete(b)}};return this._debug("#onAuthStateChange()","registered callback with id",b),this.stateChangeEmitters.set(b,c),(async()=>{await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(b)})})(),{data:{subscription:c}}}async _emitInitialSession(a){return await this._useSession(async b=>{var c,d;try{let{data:{session:d},error:e}=b;if(e)throw e;await (null==(c=this.stateChangeEmitters.get(a))?void 0:c.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",a,"session",d)}catch(b){await (null==(d=this.stateChangeEmitters.get(a))?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",b),console.error(b)}})}async resetPasswordForEmail(a,b={}){let c=null,d=null;"pkce"===this.flowType&&([c,d]=await rI(this.storage,this.storageKey,!0));try{return await rR(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:c,code_challenge_method:d,gotrue_meta_security:{captcha_token:b.captchaToken}},headers:this.headers,redirectTo:b.redirectTo})}catch(a){if(await rB(this.storage,`${this.storageKey}-code-verifier`),q8(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var a;try{let{data:b,error:c}=await this.getUser();if(c)throw c;return this._returnResult({data:{identities:null!=(a=b.user.identities)?a:[]},error:null})}catch(a){if(q8(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var b;try{let{data:c,error:d}=await this._useSession(async b=>{var c,d,e,f,g;let{data:h,error:i}=b;if(i)throw i;let j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:null==(c=a.options)?void 0:c.redirectTo,scopes:null==(d=a.options)?void 0:d.scopes,queryParams:null==(e=a.options)?void 0:e.queryParams,skipBrowserRedirect:!0});return await rR(this.fetch,"GET",j,{headers:this.headers,jwt:null!=(g=null==(f=h.session)?void 0:f.access_token)?g:void 0})});if(d)throw d;return!rv()||(null==(b=a.options)?void 0:b.skipBrowserRedirect)||window.location.assign(null==c?void 0:c.url),this._returnResult({data:{provider:a.provider,url:null==c?void 0:c.url},error:null})}catch(b){if(q8(b))return this._returnResult({data:{provider:a.provider,url:null},error:b});throw b}}async linkIdentityIdToken(a){return await this._useSession(async b=>{var c;try{let{error:d,data:{session:e}}=b;if(d)throw d;let{options:f,provider:g,token:h,access_token:i,nonce:j}=a,{data:k,error:l}=await rR(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!=(c=null==e?void 0:e.access_token)?c:void 0,body:{provider:g,id_token:h,access_token:i,nonce:j,link_identity:!0,gotrue_meta_security:{captcha_token:null==f?void 0:f.captchaToken}},xform:rT});if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!k||!k.session||!k.user)return this._returnResult({data:{user:null,session:null},error:new re});return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("USER_UPDATED",k.session)),this._returnResult({data:k,error:l})}catch(a){if(await rB(this.storage,`${this.storageKey}-code-verifier`),q8(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(a){try{return await this._useSession(async b=>{var c,d;let{data:e,error:f}=b;if(f)throw f;return await rR(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:null!=(d=null==(c=e.session)?void 0:c.access_token)?d:void 0})})}catch(a){if(q8(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(a){let b=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(b,"begin");try{var c,d;let e=Date.now();return await (c=async c=>(c>0&&await rE(200*Math.pow(2,c-1)),this._debug(b,"refreshing attempt",c),await rR(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:rT})),d=(a,b)=>{let c=200*Math.pow(2,a);return b&&rk(b)&&Date.now()+c-e<3e4},new Promise((a,b)=>{(async()=>{for(let e=0;e<1/0;e++)try{let b=await c(e);if(!d(e,null,b))return void a(b)}catch(a){if(!d(e,a))return void b(a)}})()}))}catch(a){if(this._debug(b,"error",a),q8(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(b,"end")}}_isValidSession(a){return"object"==typeof a&&null!==a&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,b){let c=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:b.redirectTo,scopes:b.scopes,queryParams:b.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",b,"url",c),rv()&&!b.skipBrowserRedirect&&window.location.assign(c),{data:{provider:a,url:c},error:null}}async _recoverAndRefresh(){var a,b;let c="#_recoverAndRefresh()";this._debug(c,"begin");try{let d=await rA(this.storage,this.storageKey);if(d&&this.userStorage){let b=await rA(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!b&&(b={user:d.user},await rz(this.userStorage,this.storageKey+"-user",b)),d.user=null!=(a=null==b?void 0:b.user)?a:rM()}else if(d&&!d.user&&!d.user){let a=await rA(this.storage,this.storageKey+"-user");a&&(null==a?void 0:a.user)?(d.user=a.user,await rB(this.storage,this.storageKey+"-user"),await rz(this.storage,this.storageKey,d)):d.user=rM()}if(this._debug(c,"session from storage",d),!this._isValidSession(d)){this._debug(c,"session is not valid"),null!==d&&await this._removeSession();return}let e=(null!=(b=d.expires_at)?b:1/0)*1e3-Date.now()<9e4;if(this._debug(c,`session has${e?"":" not"} expired with margin of 90000s`),e){if(this.autoRefreshToken&&d.refresh_token){let{error:a}=await this._callRefreshToken(d.refresh_token);a&&(console.error(a),rk(a)||(this._debug(c,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(d.user&&!0===d.user.__isUserNotAvailableProxy)try{let{data:a,error:b}=await this._getUser(d.access_token);!b&&(null==a?void 0:a.user)?(d.user=a.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(c,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(c,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(a){this._debug(c,"error",a),console.error(a);return}finally{this._debug(c,"end")}}async _callRefreshToken(a){var b,c;if(!a)throw new rc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let d=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new rC;let{data:b,error:c}=await this._refreshAccessToken(a);if(c)throw c;if(!b.session)throw new rc;await this._saveSession(b.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",b.session);let d={data:b.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(d,"error",a),q8(a)){let c={data:null,error:a};return rk(a)||await this._removeSession(),null==(b=this.refreshingDeferred)||b.resolve(c),c}throw null==(c=this.refreshingDeferred)||c.reject(a),a}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(a,b,c=!0){let d=`#_notifyAllSubscribers(${a})`;this._debug(d,"begin",b,`broadcast = ${c}`);try{this.broadcastChannel&&c&&this.broadcastChannel.postMessage({event:a,session:b});let d=[],e=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(a,b)}catch(a){d.push(a)}});if(await Promise.all(e),d.length>0){for(let a=0;a<d.length;a+=1)console.error(d[a]);throw d[0]}}finally{this._debug(d,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await rB(this.storage,`${this.storageKey}-code-verifier`);let b=Object.assign({},a),c=b.user&&!0===b.user.__isUserNotAvailableProxy;if(this.userStorage){!c&&b.user&&await rz(this.userStorage,this.storageKey+"-user",{user:b.user});let a=Object.assign({},b);delete a.user;let d=rN(a);await rz(this.storage,this.storageKey,d)}else{let a=rN(b);await rz(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await rB(this.storage,this.storageKey),await rB(this.storage,this.storageKey+"-code-verifier"),await rB(this.storage,this.storageKey+"-user"),this.userStorage&&await rB(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&rv()&&(null==window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",a)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let a=setInterval(()=>this._autoRefreshTokenTick(),3e4);this.autoRefreshTicker=a,a&&"object"==typeof a&&"function"==typeof a.unref?a.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(a);let b=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=b,b&&"object"==typeof b&&"function"==typeof b.unref?b.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(b)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);let b=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,b&&clearTimeout(b)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let a=Date.now();try{return await this._useSession(async b=>{let{data:{session:c}}=b;if(!c||!c.refresh_token||!c.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");let d=Math.floor((1e3*c.expires_at-a)/3e4);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),d<=3&&await this._callRefreshToken(c.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof r1)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rv()||!(null==window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(a){this._debug("#visibilityChangedCallback","error",a)}},null==window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){let b=`#_onVisibilityChanged(${a})`;this._debug(b,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if("visible"!==document.visibilityState)return void this._debug(b,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");await this._recoverAndRefresh()}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,b,c){let d=[`provider=${encodeURIComponent(b)}`];if((null==c?void 0:c.redirectTo)&&d.push(`redirect_to=${encodeURIComponent(c.redirectTo)}`),(null==c?void 0:c.scopes)&&d.push(`scopes=${encodeURIComponent(c.scopes)}`),"pkce"===this.flowType){let[a,b]=await rI(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(b)}`});d.push(c.toString())}if(null==c?void 0:c.queryParams){let a=new URLSearchParams(c.queryParams);d.push(a.toString())}return(null==c?void 0:c.skipBrowserRedirect)&&d.push(`skip_http_redirect=${c.skipBrowserRedirect}`),`${a}?${d.join("&")}`}async _unenroll(a){try{return await this._useSession(async b=>{var c;let{data:d,error:e}=b;return e?this._returnResult({data:null,error:e}):await rR(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:null==(c=null==d?void 0:d.session)?void 0:c.access_token})})}catch(a){if(q8(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(a){try{return await this._useSession(async b=>{var c,d;let{data:e,error:f}=b;if(f)return this._returnResult({data:null,error:f});let g=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},"phone"===a.factorType?{phone:a.phone}:"totp"===a.factorType?{issuer:a.issuer}:{}),{data:h,error:i}=await rR(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:null==(c=null==e?void 0:e.session)?void 0:c.access_token});return i?this._returnResult({data:null,error:i}):("totp"===a.factorType&&"totp"===h.type&&(null==(d=null==h?void 0:h.totp)?void 0:d.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(a){if(q8(a))return this._returnResult({data:null,error:a});throw a}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async b=>{var c,d,e;let{data:f,error:g}=b;if(g)return this._returnResult({data:null,error:g});let h=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:"create"===a.webauthn.type?(d=a.webauthn.credential_response,"toJSON"in d&&"function"==typeof d.toJSON?d.toJSON():{id:d.id,rawId:d.id,response:{attestationObject:ru(new Uint8Array(d.response.attestationObject)),clientDataJSON:ru(new Uint8Array(d.response.clientDataJSON))},type:"public-key",clientExtensionResults:d.getClientExtensionResults(),authenticatorAttachment:null!=(e=d.authenticatorAttachment)?e:void 0}):function(a){var b;if("toJSON"in a&&"function"==typeof a.toJSON)return a.toJSON();let c=a.getClientExtensionResults(),d=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:ru(new Uint8Array(d.authenticatorData)),clientDataJSON:ru(new Uint8Array(d.clientDataJSON)),signature:ru(new Uint8Array(d.signature)),userHandle:d.userHandle?ru(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:c,authenticatorAttachment:null!=(b=a.authenticatorAttachment)?b:void 0}}(a.webauthn.credential_response)})}:{code:a.code}),{data:i,error:j}=await rR(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:h,headers:this.headers,jwt:null==(c=null==f?void 0:f.session)?void 0:c.access_token});return j?this._returnResult({data:null,error:j}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),this._returnResult({data:i,error:j}))})}catch(a){if(q8(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async b=>{var c;let{data:d,error:e}=b;if(e)return this._returnResult({data:null,error:e});let f=await rR(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:null==(c=null==d?void 0:d.session)?void 0:c.access_token});if(f.error)return f;let{data:g}=f;if("webauthn"!==g.type)return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:function(a){if(!a)throw Error("Credential creation options are required");if("undefined"!=typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(a);let{challenge:b,user:c,excludeCredentials:d}=a,e=pP(a,["challenge","user","excludeCredentials"]),f=rt(b).buffer,g=Object.assign(Object.assign({},c),{id:rt(c.id).buffer}),h=Object.assign(Object.assign({},e),{challenge:f,user:g});if(d&&d.length>0){h.excludeCredentials=Array(d.length);for(let a=0;a<d.length;a++){let b=d[a];h.excludeCredentials[a]=Object.assign(Object.assign({},b),{id:rt(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return h}(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:function(a){if(!a)throw Error("Credential request options are required");if("undefined"!=typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(a);let{challenge:b,allowCredentials:c}=a,d=pP(a,["challenge","allowCredentials"]),e=rt(b).buffer,f=Object.assign(Object.assign({},d),{challenge:e});if(c&&c.length>0){f.allowCredentials=Array(c.length);for(let a=0;a<c.length;a++){let b=c[a];f.allowCredentials[a]=Object.assign(Object.assign({},b),{id:rt(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return f}(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(q8(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(a){let{data:b,error:c}=await this._challenge({factorId:a.factorId});return c?this._returnResult({data:null,error:c}):await this._verify({factorId:a.factorId,challengeId:b.id,code:a.code})}async _listFactors(){var a;let{data:{user:b},error:c}=await this.getUser();if(c)return{data:null,error:c};let d={all:[],phone:[],totp:[],webauthn:[]};for(let c of null!=(a=null==b?void 0:b.factors)?a:[])d.all.push(c),"verified"===c.status&&d[c.factor_type].push(c);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(a){var b,c,d,e;if(a)try{let{payload:d}=rD(a),e=null;d.aal&&(e=d.aal);let f=e,{data:{user:g},error:h}=await this.getUser(a);if(h)return this._returnResult({data:null,error:h});(null!=(c=null==(b=null==g?void 0:g.factors)?void 0:b.filter(a=>"verified"===a.status))?c:[]).length>0&&(f="aal2");let i=d.amr||[];return{data:{currentLevel:e,nextLevel:f,currentAuthenticationMethods:i},error:null}}catch(a){if(q8(a))return this._returnResult({data:null,error:a});throw a}let{data:{session:f},error:g}=await this.getSession();if(g)return this._returnResult({data:null,error:g});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:h}=rD(f.access_token),i=null;h.aal&&(i=h.aal);let j=i;return(null!=(e=null==(d=f.user.factors)?void 0:d.filter(a=>"verified"===a.status))?e:[]).length>0&&(j="aal2"),{data:{currentLevel:i,nextLevel:j,currentAuthenticationMethods:h.amr||[]},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async b=>{let{data:{session:c},error:d}=b;return d?this._returnResult({data:null,error:d}):c?await rR(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:c.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new rc})})}catch(a){if(q8(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(a,b){try{return await this._useSession(async c=>{let{data:{session:d},error:e}=c;if(e)return this._returnResult({data:null,error:e});if(!d)return this._returnResult({data:null,error:new rc});let f=await rR(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return f.data&&f.data.redirect_url&&rv()&&!(null==b?void 0:b.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(a){if(q8(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(a,b){try{return await this._useSession(async c=>{let{data:{session:d},error:e}=c;if(e)return this._returnResult({data:null,error:e});if(!d)return this._returnResult({data:null,error:new rc});let f=await rR(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return f.data&&f.data.redirect_url&&rv()&&!(null==b?void 0:b.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(a){if(q8(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async a=>{let{data:{session:b},error:c}=a;return c?this._returnResult({data:null,error:c}):b?await rR(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:b.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new rc})})}catch(a){if(q8(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async b=>{let{data:{session:c},error:d}=b;return d?this._returnResult({data:null,error:d}):c?(await rR(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:c.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new rc})})}catch(a){if(q8(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(a,b={keys:[]}){let c=b.keys.find(b=>b.kid===a);if(c)return c;let d=Date.now();if((c=this.jwks.keys.find(b=>b.kid===a))&&this.jwks_cached_at+6e5>d)return c;let{data:e,error:f}=await rR(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return e.keys&&0!==e.keys.length&&(this.jwks=e,this.jwks_cached_at=d,c=e.keys.find(b=>b.kid===a))?c:null}async getClaims(a,b={}){try{let c=a;if(!c){let{data:a,error:b}=await this.getSession();if(b||!a.session)return this._returnResult({data:null,error:b});c=a.session.access_token}let{header:d,payload:e,signature:f,raw:{header:g,payload:h}}=rD(c);(null==b?void 0:b.allowExpired)||function(a){if(!a)throw Error("Missing exp claim");if(a<=Math.floor(Date.now()/1e3))throw Error("JWT has expired")}(e.exp);let i=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,(null==b?void 0:b.keys)?{keys:b.keys}:null==b?void 0:b.jwks);if(!i){let{error:a}=await this.getUser(c);if(a)throw a;return{data:{claims:e,header:d,signature:f},error:null}}let j=function(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw Error("Invalid alg claim")}}(d.alg),k=await crypto.subtle.importKey("jwk",i,j,!0,["verify"]);if(!await crypto.subtle.verify(j,k,f,function(a){let b=[];return!function(a,b){for(let c=0;c<a.length;c+=1){let d=a.charCodeAt(c);if(d>55295&&d<=56319){let b=(d-55296)*1024&65535;d=(a.charCodeAt(c+1)-56320&65535|b)+65536,c+=1}!function(a,b){if(a<=127)return b(a);if(a<=2047){b(192|a>>6),b(128|63&a);return}if(a<=65535){b(224|a>>12),b(128|a>>6&63),b(128|63&a);return}if(a<=1114111){b(240|a>>18),b(128|a>>12&63),b(128|a>>6&63),b(128|63&a);return}throw Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}(d,b)}}(a,a=>b.push(a)),new Uint8Array(b)}(`${g}.${h}`)))throw new rm("Invalid JWT signature");return{data:{claims:e,header:d,signature:f},error:null}}catch(a){if(q8(a))return this._returnResult({data:null,error:a});throw a}}}sk.nextInstanceID={};let sl=sk,sm="";sm="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";let sn={headers:{"X-Client-Info":`supabase-js-${sm}/2.95.3`}},so={schema:"public"},sp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sq={};function sr(a){return(sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function ss(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function st(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ss(Object(c),!0).forEach(function(b){!function(a,b,c){var d;(d=function(a,b){if("object"!=sr(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=sr(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"),(b="symbol"==sr(d)?d:d+"")in a)?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c}(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ss(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var su=class extends sl{constructor(a){super(a)}},sv=class{constructor(a,b,c){var d,e,f;this.supabaseUrl=a,this.supabaseKey=b;let g=function(a){let b=null==a?void 0:a.trim();if(!b)throw Error("supabaseUrl is required.");if(!b.match(/^https?:\/\//i))throw Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(b.endsWith("/")?b:b+"/")}catch(a){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(a);if(!b)throw Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);let h=`sb-${g.hostname.split(".")[0]}-auth-token`,i=function(a,b){var c,d;let{db:e,auth:f,realtime:g,global:h}=a,{db:i,auth:j,realtime:k,global:l}=b,m={db:st(st({},i),e),auth:st(st({},j),f),realtime:st(st({},k),g),storage:{},global:st(st(st({},l),h),{},{headers:st(st({},null!=(c=null==l?void 0:l.headers)?c:{}),null!=(d=null==h?void 0:h.headers)?d:{})}),accessToken:async()=>""};return a.accessToken?m.accessToken=a.accessToken:delete m.accessToken,m}(null!=c?c:{},{db:so,realtime:sq,auth:st(st({},sp),{},{storageKey:h}),global:sn});this.storageKey=null!=(d=i.auth.storageKey)?d:"",this.headers=null!=(e=i.global.headers)?e:{},i.accessToken?(this.accessToken=i.accessToken,this.auth=new Proxy({},{get:(a,b)=>{throw Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!=(f=i.auth)?f:{},this.headers,i.global.fetch),this.fetch=((a,b,c)=>{let d=(a=>a?(...b)=>a(...b):(...a)=>fetch(...a))(c),e=Headers;return async(c,f)=>{var g;let h=null!=(g=await b())?g:a,i=new e(null==f?void 0:f.headers);return i.has("apikey")||i.set("apikey",a),i.has("Authorization")||i.set("Authorization",`Bearer ${h}`),d(c,st(st({},f),{},{headers:i}))}})(b,this._getAccessToken.bind(this),i.global.fetch),this.realtime=this._initRealtimeClient(st({headers:this.headers,accessToken:this._getAccessToken.bind(this)},i.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(a=>this.realtime.setAuth(a)).catch(a=>console.warn("Failed to set initial Realtime auth token:",a)),this.rest=new p2(new URL("rest/v1",g).href,{headers:this.headers,schema:i.db.schema,fetch:this.fetch,timeout:i.db.timeout,urlLengthLimit:i.db.urlLengthLimit}),this.storage=new q1(this.storageUrl.href,this.headers,this.fetch,null==c?void 0:c.storage),i.accessToken||this._listenForAuthEvents()}get functions(){return new pU(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,b={},c={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,b,c)}channel(a,b={config:{}}){return this.realtime.channel(a,b)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a,b;if(this.accessToken)return await this.accessToken();let{data:c}=await this.auth.getSession();return null!=(a=null==(b=c.session)?void 0:b.access_token)?a:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:b,detectSessionInUrl:c,storage:d,userStorage:e,storageKey:f,flowType:g,lock:h,debug:i,throwOnError:j},k,l){let m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new su({url:this.authUrl.href,headers:st(st({},m),k),storageKey:f,autoRefreshToken:a,persistSession:b,detectSessionInUrl:c,storage:d,userStorage:e,flowType:g,lock:h,debug:i,throwOnError:j,fetch:l,hasCustomAuthorizationHeader:Object.keys(this.headers).some(a=>"authorization"===a.toLowerCase())})}_initRealtimeClient(a){return new qo(this.realtimeUrl.href,st(st({},a),{},{params:st(st({},{apikey:this.supabaseKey}),null==a?void 0:a.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,b)=>{this._handleTokenChanged(a,"CLIENT",null==b?void 0:b.access_token)})}_handleTokenChanged(a,b,c){("TOKEN_REFRESHED"===a||"SIGNED_IN"===a)&&this.changedAccessToken!==c?(this.changedAccessToken=c,this.realtime.setAuth(c)):"SIGNED_OUT"===a&&(this.realtime.setAuth(),"STORAGE"==b&&this.auth.signOut(),this.changedAccessToken=void 0)}};(function(){if("undefined"!=typeof window)return!1;let a=globalThis.process;if(!a)return!1;let b=a.version;if(null==b)return!1;let c=b.match(/^v(\d+)\./);return!!c&&18>=parseInt(c[1],10)})()&&console.warn("âš ï¸  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let sw=process.env.NEXT_PUBLIC_SUPABASE_URL,sx=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,sy=()=>!!(sw&&sx&&sw.startsWith("http")),sz=new sv(sw||"https://placeholder.supabase.co",sx||"placeholder-key",void 0);sy()||console.warn("âš ï¸ Supabase n\xe3o configurado. Verifique o arquivo .env ou as vari\xe1veis de ambiente.");let sA=()=>"undefined"!=typeof crypto&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2,10),sB={users:{},profiles:{},barbershops:[],services:[],appointments:[],inventory:[],orders:[]};function sC(){}let sD={async createUser(a,b){if(sB.users[a])throw Error("User already exists");let c=sA();return sB.users[a]={id:c,email:a,password:b,createdAt:Date.now()},await this.createProfile({id:c,name:"",role:"customer",email:a}),sC(),{id:c,email:a}},async signIn(a,b){let c=sB.users[a];if(!c||c.password!==b)throw Error("Invalid credentials");return{id:c.id,email:c.email}},getProfile:async a=>sB.profiles[a]||null,async createProfile(a){let b=a.id||sA(),c={id:b,name:a.name||"",role:a.role||"customer",avatar:a.avatar||"",points:a.points||0,email:a.email||""};return sB.profiles[b]=c,sC(),c},updateProfile:async(a,b)=>sB.profiles[a]?(sB.profiles[a]={...sB.profiles[a],...b},sC(),sB.profiles[a]):null,async createBarbershop(a){let b=a.id||sA(),c={...a,id:b,staff:a.staff||[]};return sB.barbershops.push(c),sC(),c},getBarbershopByOwner:async a=>sB.barbershops.find(b=>b.owner_id===a)||null,getBarbershopById:async a=>sB.barbershops.find(b=>b.id===a)||null,async addStaffToBarbershop(a,b,c){let d=sB.barbershops.find(b=>b.id===a);if(!d)throw Error("Barbershop not found");return d.staff=d.staff||[],d.staff.includes(b)||d.staff.push(b),sC(),d},getServices:async a=>sB.services.filter(b=>b.barbershop_id===a),async saveService(a){if(!a.id){let b={...a,id:sA()};return sB.services.push(b),sC(),b}let b=sB.services.findIndex(b=>b.id===a.id);if(b>=0)return sB.services[b]={...sB.services[b],...a},sC(),sB.services[b];let c={...a,id:a.id};return sB.services.push(c),sC(),c},async deleteService(a){sB.services=sB.services.filter(b=>b.id!==a),sC()},getAppointments:async a=>(function(a,b){return b?a.filter(a=>a.barbershop_id===b):a})(sB.appointments,a).map(a=>({...a,startTime:new Date(a.startTime)})),async createAppointment(a){let b={...a,id:sA(),status:"scheduled",createdAt:Date.now()};return sB.appointments.push(b),sC(),b},async updateAppointmentStatus(a,b,c){let d=sB.appointments.findIndex(b=>b.id===a);d>=0&&(sB.appointments[d].status=b,c&&(sB.appointments[d].customerRating=c),sC())},getInventory:async a=>sB.inventory.filter(b=>b.barbershop_id===a),async upsertInventoryItem(a){if(!a.id){let b={...a,id:sA()};return sB.inventory.push(b),sC(),b}let b=sB.inventory.findIndex(b=>b.id===a.id);if(b>=0)return sB.inventory[b]={...sB.inventory[b],...a},sC(),sB.inventory[b];let c={...a,id:a.id};return sB.inventory.push(c),sC(),c},getOrders:async a=>sB.orders.filter(b=>b.barbershop_id===a).sort((a,b)=>{let c="number"==typeof a.createdAt?a.createdAt:parseInt(a.createdAt)||0;return("number"==typeof b.createdAt?b.createdAt:parseInt(b.createdAt)||0)-c}),async createOrder(a){let b=[];for(let c of a.items||[]){let d=sB.inventory.find(b=>b.id===c.productId&&b.barbershop_id===a.barbershop_id);if(!d){b.push({productId:c.productId,reason:"not found"});continue}(d.quantity??0)<c.qty&&b.push({productId:c.productId,reason:"insufficient",avail:d.quantity})}if(b.length)throw Error("Insufficient inventory: "+JSON.stringify(b));for(let b of a.items||[]){let c=sB.inventory.find(c=>c.id===b.productId&&c.barbershop_id===a.barbershop_id);c&&(c.quantity=(c.quantity||0)-b.qty)}let c={...a,id:sA(),createdAt:Date.now(),status:"created"};return sB.orders.push(c),sC(),c},async updateOrderStatus(a,b,c){let d=sB.orders.findIndex(b=>b.id===a);d>=0&&(sB.orders[d].status=b,c&&(sB.orders[d].trackingCode=c),sC())}},sE={async signUp({email:a,password:b,options:c}){try{let d=await sD.createUser(a,b);return await sD.updateProfile(d.id,{name:c?.data?.full_name||"",role:c?.data?.role||"customer",email:a}),{data:{user:{id:d.id,email:a}},error:null}}catch(a){return{data:null,error:a}}},async signInWithPassword({email:a,password:b}){try{let c=await sD.signIn(a,b);return{data:{user:{id:c.id,email:c.email}},error:null}}catch(a){return{data:null,error:a}}}},sF={signInWithPassword:async a=>sy()?sz.auth.signInWithPassword(a):sE.signInWithPassword(a)},sG="true"===process.env.NEXT_PUBLIC_DEMO_DB||!sy();sG&&console.info("âš ï¸ Usando demo DB em mem\xf3ria (NEXT_PUBLIC_DEMO_DB=true ou Supabase n\xe3o configurado)");let sH=sG?sD:{async getProfile(a){try{let{data:b,error:c}=await sz.from("profiles").select("*").eq("id",a).single();if(c)throw c;return b}catch(a){return console.error("Erro ao buscar perfil:",a),null}},async createProfile(a){let{data:b,error:c}=await sz.from("profiles").insert([a]).select().single();if(c)throw c;return b},async getBarbershopByOwner(a){let{data:b,error:c}=await sz.from("barbershops").select("*").eq("owner_id",a).single();return c?null:b},async createBarbershop(a){let{data:b,error:c}=await sz.from("barbershops").insert([a]).select().single();if(c)throw c;return b},async getBarbershopById(a){let{data:b,error:c}=await sz.from("barbershops").select("*").eq("id",a).single();return c?null:b},async getServices(a){let{data:b,error:c}=await sz.from("services").select("*").eq("barbershop_id",a).order("name");if(c)throw c;return b},async saveService(a){let{data:b,error:c}=await sz.from("services").upsert([a]).select().single();if(c)throw c;return b},async deleteService(a){let{error:b}=await sz.from("services").delete().eq("id",a);if(b)throw b},async getAppointments(a){let{data:b,error:c}=await sz.from("appointments").select("*").eq("barbershop_id",a).order("startTime",{ascending:!0});if(c)throw c;return b.map(a=>({...a,startTime:new Date(a.startTime)}))},async createAppointment(a){let{data:b,error:c}=await sz.from("appointments").insert([a]).select().single();if(c)throw c;return b},async updateAppointmentStatus(a,b,c){let d={status:b};c&&(d.customerRating=c);let{error:e}=await sz.from("appointments").update(d).eq("id",a);if(e)throw e},async getInventory(a){let{data:b,error:c}=await sz.from("inventory").select("*").eq("barbershop_id",a);if(c)throw c;return b},async upsertInventoryItem(a){let{data:b,error:c}=await sz.from("inventory").upsert([a]).select().single();if(c)throw c;return b},async getOrders(a){let{data:b,error:c}=await sz.from("orders").select("*").eq("barbershop_id",a).order("createdAt",{ascending:!1});if(c)throw c;return b},async createOrder(a){let{data:b,error:c}=await sz.from("orders").insert([a]).select().single();if(c)throw c;return b},async updateOrderStatus(a,b,c){let d={status:b};c&&(d.trackingCode=c);let{error:e}=await sz.from("orders").update(d).eq("id",a);if(e)throw e}},sI=z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),sJ=z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),sK=z("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),sL=({onLogin:a,onGuestContinue:b})=>{let[c,d]=(0,t.useState)(!1),[e,f]=(0,t.useState)(null),[g,h]=(0,t.useState)(!1),[i,j]=(0,t.useState)(!1),[k,l]=(0,t.useState)({email:"",password:""}),m=async b=>{b.preventDefault(),d(!0),f(null);try{let{data:b,error:c}=await sF.signInWithPassword({email:k.email,password:k.password});if(c)throw c;let d=await sH.getProfile(b.user.id);if(!d?.role)throw Error("Usu\xe1rio sem permiss\xe3o definida. Contate o administrador.");a({...d,email:b.user.email})}catch(a){f(a.message||"Ocorreu um erro na autentica\xe7\xe3o.")}finally{d(!1)}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,s.jsx)("div",{className:"w-full max-w-md mx-auto p-4 sm:p-8 flex flex-col gap-8 animate-fade-in my-8",children:(0,s.jsxs)(F,{children:[(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4 mb-4",children:[(0,s.jsx)(w(),{src:"/logo-preto.png",alt:"Barvo",width:56,height:56,className:"object-contain"}),(0,s.jsx)("h1",{className:"text-2xl font-black text-brand-dark tracking-tight",children:"Acesse sua conta"}),(0,s.jsx)("p",{className:"text-sm text-brand-midGray font-medium",children:"Bem-vindo! Entre para acessar sua barbearia."})]}),e&&(0,s.jsx)(p.EmptyState,{title:"Erro ao autenticar",description:e,icon:(0,s.jsx)(C,{size:32,className:"text-red-500"})}),(0,s.jsxs)("form",{onSubmit:m,className:"flex flex-col gap-4 mt-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"Email"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{required:!0,type:"email",placeholder:"seu@email.com",value:k.email,onChange:a=>{var b;l({...k,email:a.target.value}),j((b=a.target.value,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b)))},className:"w-full pl-4 pr-10 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:border-brand-accent focus:ring-2 focus:ring-brand-accent/20 font-medium text-sm transition-all placeholder:text-slate-400",autoComplete:"email","aria-label":"Email"}),i&&(0,s.jsx)(pz,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-emerald-500",size:20,strokeWidth:3})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"Senha"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{required:!0,type:g?"text":"password",placeholder:"Sua senha",value:k.password,onChange:a=>l({...k,password:a.target.value}),className:"w-full pl-4 pr-10 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:border-brand-accent focus:ring-2 focus:ring-brand-accent/20 font-medium text-sm transition-all placeholder:text-slate-400",autoComplete:"current-password","aria-label":"Senha"}),(0,s.jsx)("button",{type:"button",onClick:()=>h(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-brand-dark transition-colors",tabIndex:-1,"aria-label":g?"Ocultar senha":"Mostrar senha",children:g?(0,s.jsx)(sI,{size:18}):(0,s.jsx)(sJ,{size:18})})]})]}),(0,s.jsx)(p.UIButton,{type:"submit",variant:"primary",size:"lg",loading:c,iconLeft:(0,s.jsx)(sK,{size:18}),disabled:!i,className:"mt-2",children:"Entrar"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 mt-4",children:[(0,s.jsx)(p.UIButton,{type:"button",variant:"ghost",size:"md",onClick:b,className:"w-full border-2 border-dashed border-slate-200 text-slate-500 font-black rounded-xl hover:border-brand-accent hover:text-brand-accent transition-all text-xs uppercase tracking-widest",children:"Continuar como Convidado"}),(0,s.jsx)("div",{className:"text-center text-xs text-slate-400 mt-2",children:(0,s.jsx)("a",{href:"#",className:"hover:text-brand-accent font-bold transition-colors",children:"Esqueceu a senha?"})})]}),(0,s.jsxs)("div",{className:"text-center text-[10px] text-slate-400 mt-4",children:[(0,s.jsx)("a",{href:"#",className:"hover:text-brand-accent font-bold transition-colors",children:"Termos"}),(0,s.jsx)("span",{className:"mx-1",children:"â€¢"}),(0,s.jsx)("a",{href:"#",className:"hover:text-brand-accent font-bold transition-colors",children:"Privacidade"})]})]})})})},sM=z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),sN=(z("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),z("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),z("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])),sO=z("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),sP=z("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),sQ=({currentUser:a,appointments:b,commissionRate:c,onCompleteAppointment:d,onNoShow:e,services:f,exceptions:g,onBlockTime:h})=>{let[i,j]=(0,t.useState)(!1),k=new Date().toISOString().split("T")[0],l=b.filter(b=>b.barberId===a.id).filter(a=>new Date(a.startTime).toISOString().split("T")[0]===k&&"CANCELLED"!==a.status).sort((a,b)=>new Date(a.startTime).getTime()-new Date(b.startTime).getTime()),m=l.filter(a=>"COMPLETED"===a.status).reduce((a,b)=>{if("CANCELLED"===b.status)return a;let d=f.find(a=>a.id===b.serviceId);return a+(d?.price||0)*(c/100)},0);return(0,s.jsxs)("div",{className:"space-y-6 pb-6",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-3 border-b border-slate-100 pb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-0.5",children:[(0,s.jsxs)("h2",{className:"text-xl md:text-2xl font-black text-brand-black tracking-tight",children:["Ol\xe1, ",a.name.split(" ")[0],"!"]}),(0,s.jsxs)("div",{className:"bg-amber-100 text-amber-700 px-2 py-0.5 rounded-md text-[9px] font-black uppercase tracking-widest flex items-center gap-1",children:[(0,s.jsx)(sN,{size:10})," Pro"]})]}),(0,s.jsx)("p",{className:"text-brand-midGray text-xs font-medium",children:"Bora dar aquele talento nos clientes de hoje? âœ‚ï¸"})]}),(0,s.jsxs)("button",{onClick:()=>j(!i),className:`w-full md:w-auto flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-bold text-xs transition-all active:scale-95 ${i?"bg-brand-dark text-white":"bg-white text-slate-700 border border-slate-200"}`,children:[(0,s.jsx)(sO,{size:16})," ",i?"Ver Agenda":"Bloquear Hor\xe1rio"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"bg-brand-dark p-5 rounded-2xl shadow-md relative overflow-hidden",children:[(0,s.jsx)("p",{className:"text-brand-light/60 text-[9px] font-bold uppercase tracking-widest mb-1",children:"Comiss\xe3o Hoje"}),(0,s.jsxs)("div",{className:"flex items-baseline gap-1 text-white",children:[(0,s.jsx)("span",{className:"font-bold text-sm opacity-40",children:"R$"}),(0,s.jsx)("h3",{className:"text-2xl md:text-3xl font-black tracking-tighter",children:m.toFixed(2)})]})]}),(0,s.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-slate-100 shadow-sm",children:[(0,s.jsx)("p",{className:"text-slate-400 text-[9px] font-bold uppercase tracking-widest mb-1",children:"Cortes Hoje"}),(0,s.jsx)("h3",{className:"text-xl md:text-2xl font-black text-brand-black tracking-tighter",children:l.length})]}),(0,s.jsxs)("div",{className:"hidden md:block bg-white p-5 rounded-2xl border border-slate-100 shadow-sm",children:[(0,s.jsx)("p",{className:"text-slate-400 text-[9px] font-bold uppercase tracking-widest mb-1",children:"Meta Batida"}),(0,s.jsx)("div",{className:"h-1.5 w-full bg-slate-100 rounded-full mt-2",children:(0,s.jsx)("div",{className:"h-full bg-emerald-500 rounded-full w-[65%]"})})]})]}),i?(0,s.jsxs)("div",{className:"bg-white p-5 md:p-6 rounded-2xl border border-slate-100 shadow-sm animate-fade-in",children:[(0,s.jsxs)("h3",{className:"text-sm font-bold text-brand-black uppercase tracking-wider mb-4 flex items-center gap-2",children:[(0,s.jsx)(sO,{size:18,className:"text-red-500"})," Bloquear Hor\xe1rios"]}),(0,s.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2",children:["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00"].map(b=>{let c=g.some(c=>c.barberId===a.id&&c.startTime===b&&c.date===k);return(0,s.jsx)("button",{disabled:c,onClick:()=>h(a.id,k,b),className:`p-3 border rounded-lg font-bold text-xs active:scale-95 transition-all ${c?"bg-red-50 text-red-200 border-red-50 cursor-not-allowed":"bg-slate-50 text-slate-600 border-transparent hover:border-brand-dark"}`,children:b},b)})})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("h3",{className:"text-sm font-bold text-brand-black uppercase tracking-wider flex items-center gap-2 px-1",children:[(0,s.jsx)(G,{size:18,className:"text-brand-dark"})," Pr\xf3ximos Atendimentos"]}),(0,s.jsx)("div",{className:"grid gap-3",children:l.length>0?l.map(a=>{let b=f.find(b=>b.id===a.serviceId),c="COMPLETED"===a.status,e=new Date(a.startTime).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});return(0,s.jsx)("div",{className:`bg-white p-3 md:p-4 rounded-xl border transition-all ${c?"opacity-50 grayscale bg-slate-50":"hover:shadow-md border-slate-100"}`,children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,s.jsxs)("div",{className:`w-12 h-12 rounded-lg flex flex-col items-center justify-center font-bold text-sm shadow-inner ${c?"bg-slate-200 text-slate-400":"bg-brand-dark text-brand-light"}`,children:[(0,s.jsx)("span",{className:"text-[7px] uppercase opacity-50 tracking-tighter",children:"Hora"}),e]}),(0,s.jsxs)("div",{className:"space-y-0.5",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,s.jsx)("h4",{className:"font-bold text-brand-black text-sm md:text-base tracking-tight",children:a.customerName}),a.customerId.startsWith("c")&&(0,s.jsx)(sP,{size:12,className:"text-amber-500 fill-amber-500"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:[(0,s.jsx)("span",{children:b?.name}),(0,s.jsx)("span",{className:"w-1 h-1 bg-slate-300 rounded-full"}),(0,s.jsxs)("span",{children:[b?.durationMinutes," min"]})]})]})]}),(0,s.jsx)("div",{className:"w-full md:w-auto flex gap-2",children:c?(0,s.jsxs)("div",{className:"flex-1 md:flex-none flex items-center justify-center gap-1.5 text-emerald-600 font-bold bg-emerald-50 px-3 py-2 rounded-lg text-[10px] uppercase border border-emerald-100",children:[(0,s.jsx)(pe,{size:14})," Feito"]}):(0,s.jsx)("button",{onClick:()=>d(a.id),className:"flex-1 md:flex-none bg-brand-dark text-white px-5 py-2 rounded-lg font-bold text-[10px] uppercase tracking-widest active:scale-95 transition-all shadow-md",children:"Concluir"})})]})},a.id)}):(0,s.jsx)("div",{className:"text-center py-10 bg-white rounded-2xl border border-dashed border-slate-200",children:(0,s.jsx)("p",{className:"text-slate-400 text-sm font-medium",children:"Sem agendamentos para agora."})})})]})]})},sR=z("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),sS=z("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),sT=({currentUser:a,appointments:b,onNavigate:c,membershipPlans:d})=>{let e=a.points||0,f=[{id:"r1",name:"50% de Desconto na Barba",pts:150,icon:(0,s.jsx)(sR,{className:"text-amber-500"})},{id:"r2",name:"Pomada Barvo Matte",pts:200,icon:(0,s.jsx)(P,{className:"text-blue-500"})},{id:"r3",name:"Corte de Cabelo Gr\xe1tis",pts:350,icon:(0,s.jsx)(o5,{className:"text-emerald-500"})}],g=f.find(a=>a.pts>e)||f[f.length-1],h=Math.min(e/g.pts*100,100),i=b.filter(b=>b.customerId===a.id&&"CONFIRMED"===b.status&&new Date(b.startTime)>new Date).sort((a,b)=>new Date(a.startTime).getTime()-new Date(b.startTime).getTime())[0],j=e/pg.DISCOUNT_CONVERSION_RATE;return(0,s.jsxs)("div",{className:"space-y-8 animate-fade-in pb-10",children:[(0,s.jsx)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-3xl font-bold text-brand-dark tracking-tight",children:["Ol\xe1, ",a.name.split(" ")[0],"! \uD83D\uDC4B"]}),(0,s.jsx)("p",{className:"text-brand-midGray mt-1 font-medium",children:"Bem-vindo de volta \xe0 sua barbearia favorita."})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,s.jsxs)("div",{className:"bg-brand-dark text-white p-8 rounded-[2.5rem] shadow-2xl relative overflow-hidden group",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-brand-light/10 rounded-full blur-[80px] -mr-20 -mt-20 transition-transform group-hover:scale-110"}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-10",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-brand-light/60 text-xs font-bold uppercase tracking-widest mb-2",children:"Seu Saldo Fidelidade"}),(0,s.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,s.jsx)("h3",{className:"text-6xl font-black tracking-tighter",children:e}),(0,s.jsx)("span",{className:"text-xl font-bold text-brand-light",children:"pts"})]})]}),(0,s.jsx)("div",{className:"bg-white/10 p-4 rounded-3xl backdrop-blur-md border border-white/10",children:(0,s.jsx)(pF,{size:32,className:"text-brand-light"})})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-end text-sm",children:[(0,s.jsxs)("span",{className:"font-bold text-brand-light/80",children:["Progresso para: ",(0,s.jsx)("span",{className:"text-white",children:g.name})]}),(0,s.jsxs)("span",{className:"font-black",children:[e,"/",g.pts]})]}),(0,s.jsx)("div",{className:"h-4 bg-white/10 rounded-full p-1 border border-white/5",children:(0,s.jsx)("div",{className:"h-full bg-gradient-to-r from-brand-light to-white rounded-full transition-all duration-1000 ease-out shadow-[0_0_15px_rgba(184,208,217,0.5)]",style:{width:`${h}%`}})})]})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center px-2",children:[(0,s.jsxs)("h4",{className:"text-xl font-bold text-brand-dark flex items-center gap-2",children:[(0,s.jsx)(sP,{size:22,className:"text-amber-500 fill-amber-500"})," Barvo Club"]}),(0,s.jsx)("span",{className:"text-[10px] font-black bg-amber-100 text-amber-700 px-3 py-1 rounded-full uppercase tracking-widest",children:"Premium"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(a=>(0,s.jsxs)("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-md transition-all relative overflow-hidden group",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 w-20 h-20 bg-brand-light/10 rounded-full blur-2xl -mr-8 -mt-8"}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsx)("h5",{className:"font-black text-brand-dark text-lg leading-tight mb-1",children:a.name}),(0,s.jsx)("p",{className:"text-xs text-slate-400 font-bold mb-4 uppercase",children:0===a.servicesPerMonth?"Ilimitado":`${a.servicesPerMonth}x servi\xe7os /m\xeas`}),(0,s.jsxs)("div",{className:"flex items-baseline gap-1 mb-6",children:[(0,s.jsx)("span",{className:"text-xs font-bold text-slate-400",children:"R$"}),(0,s.jsx)("span",{className:"text-3xl font-black text-brand-dark",children:a.price.toFixed(2)})]}),(0,s.jsx)("button",{className:"w-full py-3 bg-brand-dark text-white rounded-xl text-xs font-bold hover:bg-black transition-all",children:"Assinar Clube"})]})]},a.id))})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:[(0,s.jsxs)("h4",{className:"font-bold text-brand-dark mb-4 flex items-center gap-2",children:[(0,s.jsx)(G,{size:18,className:"text-blue-500"})," Pr\xf3ximo Corte"]}),i?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-slate-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(K,{size:20,className:"text-slate-500"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-bold text-brand-dark text-sm leading-tight",children:pl.find(a=>a.id===i.serviceId)?.name}),(0,s.jsxs)("p",{className:"text-xs text-brand-midGray font-medium mt-1",children:[new Date(i.startTime).toLocaleDateString("pt-BR",{weekday:"long",day:"2-digit",month:"long"})," \xe0s ",new Date(i.startTime).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]})]}),(0,s.jsx)("button",{onClick:()=>c("appointments"),className:"w-full py-3 bg-slate-100 text-slate-600 rounded-2xl text-xs font-bold hover:bg-slate-200 transition-all",children:"Ver detalhes"})]}):(0,s.jsxs)("div",{className:"text-center py-4",children:[(0,s.jsx)("p",{className:"text-xs text-slate-400 font-medium mb-4",children:"Voc\xea n\xe3o tem agendamentos futuros."}),(0,s.jsx)("button",{onClick:()=>c("booking"),className:"w-full py-3 bg-brand-dark text-white rounded-2xl text-xs font-bold hover:bg-black transition-all shadow-lg shadow-brand-dark/20",children:"Agendar Agora"})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-emerald-500 to-emerald-700 p-6 rounded-[2rem] text-white shadow-xl relative overflow-hidden",children:[(0,s.jsx)(sS,{size:80,className:"absolute -bottom-6 -right-6 text-white/10 transform -rotate-12"}),(0,s.jsx)("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-80 mb-1",children:"Desconto Acumulado"}),(0,s.jsxs)("h4",{className:"text-3xl font-black mb-4",children:["R$ ",j.toFixed(2)]}),(0,s.jsx)("p",{className:"text-xs font-medium leading-relaxed opacity-90 mb-6",children:"Voc\xea pode usar esse valor como desconto em qualquer servi\xe7o ou produto da nossa loja."}),(0,s.jsxs)("button",{onClick:()=>c("shop"),className:"w-full py-3 bg-white text-emerald-700 rounded-2xl text-xs font-bold hover:bg-emerald-50 transition-all flex items-center justify-center gap-2",children:["Ir para a Loja ",(0,s.jsx)(P,{size:14})]})]})]})]})]})},sU=z("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),sV=z("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),sW=z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),sX=z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),sY=z("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),sZ=z("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),s$=({currentUser:a,appointments:b,onRebook:c,onCancel:d,onNavigate:e,services:f})=>{let[g,h]=(0,t.useState)("upcoming"),[i,j]=(0,t.useState)(null),[k,l]=(0,t.useState)(null),[m,n]=(0,t.useState)(null),[o,p]=(0,t.useState)(null),[q,r]=(0,t.useState)(null);(0,t.useEffect)(()=>{let a=()=>r(null);return q&&document.addEventListener("click",a),()=>document.removeEventListener("click",a)},[q]);let u=new Date,v=b.filter(b=>b.customerId===a.id),w=v.filter(a=>new Date(a.startTime)>u&&"CANCELLED"!==a.status&&"COMPLETED"!==a.status).sort((a,b)=>new Date(a.startTime).getTime()-new Date(b.startTime).getTime()),x=v.filter(a=>new Date(a.startTime)<=u||"COMPLETED"===a.status||"CANCELLED"===a.status).sort((a,b)=>new Date(b.startTime).getTime()-new Date(a.startTime).getTime()),y=(a,b)=>"CANCELLED"===a.status?{label:"Cancelado",classes:"bg-red-100 text-red-700"}:"COMPLETED"===a.status?{label:"Conclu\xeddo",classes:"bg-emerald-100 text-emerald-700"}:b?{label:"Ausente / Pendente",classes:"bg-amber-100 text-amber-700"}:{label:"Confirmado",classes:"bg-blue-100 text-blue-700"},z=(a,b)=>{let d=f.find(b=>b.id===a.serviceId),e=pk.find(b=>b.id===a.barberId),g=new Date(a.startTime);g.toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"});let h=g.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),i=y(a,b);return(0,s.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 flex flex-col md:flex-row items-center gap-6 transition-all hover:shadow-md group relative",children:[(0,s.jsx)("div",{className:`absolute left-0 top-0 bottom-0 w-1 rounded-l-2xl ${"CANCELLED"===a.status?"bg-red-400":"COMPLETED"===a.status?"bg-emerald-400":"bg-blue-400"}`}),(0,s.jsxs)("div",{className:"absolute top-4 right-4 z-20",children:[(0,s.jsx)("button",{onClick:b=>((a,b)=>{a.stopPropagation(),r(q===b?null:b)})(b,a.id),className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-full transition-colors",children:(0,s.jsx)(sU,{size:20})}),q===a.id&&(0,s.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden animate-fade-in origin-top-right",children:(0,s.jsxs)("div",{className:"py-1",children:[(0,s.jsxs)("button",{onClick:()=>n(a),className:"w-full text-left px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 flex items-center gap-2",children:[(0,s.jsx)(sV,{size:16,className:"text-slate-400"})," Ver Detalhes"]}),b?(0,s.jsxs)("button",{onClick:()=>c(a),className:"w-full text-left px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 flex items-center gap-2",children:[(0,s.jsx)(sW,{size:16,className:"text-blue-500"})," Agendar Novamente"]}):(0,s.jsxs)("button",{onClick:()=>l(a),className:"w-full text-left px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 flex items-center gap-2",children:[(0,s.jsx)(pa,{size:16,className:"text-blue-500"})," Remarcar"]}),!b&&"CANCELLED"!==a.status&&(0,s.jsxs)("button",{onClick:()=>j(a.id),className:"w-full text-left px-4 py-3 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2 border-t border-slate-50",children:[(0,s.jsx)(sX,{size:16})," Cancelar"]})]})})]}),(0,s.jsxs)("div",{className:`
                flex-shrink-0 w-full md:w-24 h-24 rounded-2xl flex flex-col items-center justify-center border transition-colors
                ${b?"bg-slate-50 border-slate-200 text-slate-400":"bg-blue-50 border-blue-100 text-blue-600 group-hover:bg-blue-100"}
            `,children:[(0,s.jsx)("span",{className:"text-2xl font-bold",children:g.getDate()}),(0,s.jsx)("span",{className:"text-xs uppercase font-bold",children:g.toLocaleDateString("pt-BR",{month:"short"})}),(0,s.jsx)("span",{className:"text-sm mt-1",children:h})]}),(0,s.jsxs)("div",{className:"flex-1 w-full text-center md:text-left",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center md:justify-start gap-3 mb-2",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:d?.name}),(0,s.jsx)("span",{className:`text-[10px] font-bold px-2 py-1 rounded uppercase tracking-wide ${i.classes}`,children:i.label})]}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-center md:justify-start gap-2 md:gap-6 text-sm text-slate-500 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 bg-slate-50 px-3 py-1 rounded-full border border-slate-100",children:[(0,s.jsx)(B,{url:e?.avatar,name:e?.name,size:"sm",className:"-m-2 w-5 h-5 rounded-full"}),(0,s.jsx)("span",{className:"font-medium",children:e?.name})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(H,{size:14})," ",(0,s.jsxs)("span",{children:[d?.durationMinutes," min"]})]})]}),b?(0,s.jsx)("div",{className:"flex gap-3 justify-center md:justify-start",children:(0,s.jsxs)("button",{onClick:()=>c(a),className:"px-4 py-2 text-sm font-bold text-blue-600 bg-blue-50 border border-blue-100 rounded-lg hover:bg-blue-100 transition-colors flex items-center gap-2",children:[(0,s.jsx)(sW,{size:16})," Agendar Novamente"]})}):(0,s.jsx)("div",{className:"flex gap-3 justify-center md:justify-start",children:(0,s.jsxs)("button",{onClick:()=>l(a),className:"px-4 py-2 text-sm font-bold text-white bg-slate-900 rounded-lg hover:bg-slate-800 transition-colors flex items-center gap-2 shadow-lg shadow-slate-900/10",children:[(0,s.jsx)(pa,{size:16})," Remarcar"]})})]}),(0,s.jsxs)("div",{className:"text-right hidden md:block mr-8",children:[(0,s.jsxs)("p",{className:"text-xl font-bold text-slate-900",children:["R$ ",Number(d?.price||0).toFixed(2)]}),b&&"COMPLETED"===a.status&&(0,s.jsx)("div",{className:"text-xs text-emerald-600 font-bold mt-1 bg-emerald-50 px-2 py-1 rounded-full inline-block",children:"+10 pts"})]})]},a.id)};return(0,s.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in pb-10 relative",children:[o&&(0,s.jsxs)("div",{className:"fixed top-6 left-1/2 -translate-x-1/2 bg-slate-900 text-white px-6 py-3 rounded-xl shadow-2xl z-50 flex items-center gap-2 animate-fade-in",children:[(0,s.jsx)("div",{className:"w-5 h-5 bg-emerald-500 rounded-full flex items-center justify-center",children:(0,s.jsx)(pz,{size:12,strokeWidth:4})}),o]}),i&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm p-4 animate-fade-in",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full p-6 transform scale-100",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-red-100 text-red-600 rounded-full flex items-center justify-center mb-4 mx-auto",children:(0,s.jsx)(sY,{size:24})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-slate-800 text-center mb-2",children:"Cancelar Agendamento?"}),(0,s.jsx)("p",{className:"text-slate-500 text-center text-sm mb-6",children:"Tem certeza? O hor\xe1rio ser\xe1 liberado para outros clientes. Essa a\xe7\xe3o n\xe3o pode ser desfeita."}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>j(null),className:"flex-1 py-3 bg-slate-100 text-slate-700 font-bold rounded-xl hover:bg-slate-200 transition-colors",children:"N\xe3o, Voltar"}),(0,s.jsx)("button",{onClick:()=>{i&&(d(i),j(null),p("Agendamento cancelado com sucesso."),setTimeout(()=>p(null),3e3))},className:"flex-1 py-3 bg-red-600 text-white font-bold rounded-xl hover:bg-red-700 transition-colors shadow-lg shadow-red-500/20",children:"Sim, Cancelar"})]})]})}),k&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm p-4 animate-fade-in",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full p-6 transform scale-100",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mb-4 mx-auto",children:(0,s.jsx)(pa,{size:24})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-slate-800 text-center mb-2",children:"Remarcar Hor\xe1rio"}),(0,s.jsxs)("p",{className:"text-slate-500 text-center text-sm mb-6",children:["Para mudar o hor\xe1rio, precisamos ",(0,s.jsx)("b",{children:"cancelar o agendamento atual"})," e iniciar um novo. Deseja continuar?"]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>l(null),className:"flex-1 py-3 bg-slate-100 text-slate-700 font-bold rounded-xl hover:bg-slate-200 transition-colors",children:"Voltar"}),(0,s.jsx)("button",{onClick:()=>{k&&(d(k.id),c(k),l(null))},className:"flex-1 py-3 bg-slate-900 text-white font-bold rounded-xl hover:bg-slate-800 transition-colors shadow-lg",children:"Continuar"})]})]})}),m&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm p-4 animate-fade-in",children:(0,s.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full overflow-hidden transform scale-100",children:[(0,s.jsxs)("div",{className:"bg-slate-900 p-6 text-white relative",children:[(0,s.jsx)("button",{onClick:()=>n(null),className:"absolute top-4 right-4 p-1 hover:bg-white/10 rounded-full transition-colors",children:(0,s.jsx)(sZ,{size:24})}),(0,s.jsx)("h3",{className:"text-xl font-bold",children:"Detalhes do Agendamento"}),(0,s.jsxs)("p",{className:"text-slate-400 text-sm opacity-80",children:["ID: #",m.id.toUpperCase()]})]}),(0,s.jsx)("div",{className:"p-6 space-y-6",children:(()=>{let a=f.find(a=>a.id===m.serviceId),b=pk.find(a=>a.id===m.barberId),d=new Date(m.startTime),e=y(m,!0);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center",children:(0,s.jsx)(K,{size:24})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-slate-400 font-bold uppercase",children:"Servi\xe7o"}),(0,s.jsx)("p",{className:"font-bold text-slate-800 text-lg",children:a?.name})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(B,{url:b?.avatar,name:b?.name,size:"md"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-slate-400 font-bold uppercase",children:"Profissional"}),(0,s.jsx)("p",{className:"font-bold text-slate-800 text-lg",children:b?.name})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-amber-50 text-amber-600 rounded-xl flex items-center justify-center",children:(0,s.jsx)(G,{size:24})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-slate-400 font-bold uppercase",children:"Data e Hora"}),(0,s.jsxs)("p",{className:"font-bold text-slate-800 text-lg",children:[d.toLocaleDateString("pt-BR")," \xe0s ",d.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]})]}),(0,s.jsxs)("div",{className:"bg-slate-50 p-4 rounded-xl flex justify-between items-center border border-slate-100",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-slate-500",children:"Status"}),(0,s.jsx)("span",{className:`text-xs font-bold px-2 py-1 rounded uppercase ${e.classes}`,children:e.label})]}),(0,s.jsxs)("div",{className:"pt-4 border-t border-slate-100 flex justify-between items-center",children:[(0,s.jsx)("p",{className:"font-bold text-slate-500",children:"Total"}),(0,s.jsxs)("p",{className:"font-bold text-2xl text-slate-900",children:["R$ ",Number(a?.price||0).toFixed(2)]})]}),(0,s.jsxs)("button",{onClick:()=>{n(null),c(m)},className:"w-full py-3 bg-slate-900 text-white font-bold rounded-xl hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[(0,s.jsx)(sW,{size:18})," Agendar Novamente"]})]})})()})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-slate-800 tracking-tight",children:"Meus Agendamentos"}),(0,s.jsx)("p",{className:"text-slate-500 mt-1",children:"Gerencie suas visitas futuras e veja seu hist\xf3rico."})]}),(0,s.jsxs)("button",{onClick:()=>e("booking"),className:"hidden md:flex bg-slate-900 text-white px-5 py-2.5 rounded-xl font-bold hover:bg-slate-800 transition-colors items-center gap-2 shadow-lg hover:-translate-y-1",children:[(0,s.jsx)(o7,{size:18})," Novo Agendamento"]})]}),(0,s.jsxs)("div",{className:"flex gap-2 border-b border-slate-200",children:[(0,s.jsxs)("button",{onClick:()=>h("upcoming"),className:`pb-3 px-4 text-sm font-bold transition-all relative ${"upcoming"===g?"text-blue-600":"text-slate-500 hover:text-slate-700"}`,children:["Pr\xf3ximos (",w.length,")","upcoming"===g&&(0,s.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600 rounded-t-full"})]}),(0,s.jsxs)("button",{onClick:()=>h("history"),className:`pb-3 px-4 text-sm font-bold transition-all relative ${"history"===g?"text-blue-600":"text-slate-500 hover:text-slate-700"}`,children:["Hist\xf3rico (",x.length,")","history"===g&&(0,s.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600 rounded-t-full"})]})]}),(0,s.jsx)("div",{className:"space-y-4 min-h-[400px]",children:"upcoming"===g?w.length>0?w.map(a=>z(a,!1)):(0,s.jsxs)("div",{className:"text-center py-20 bg-white rounded-2xl border border-dashed border-slate-200",children:[(0,s.jsx)(G,{size:48,className:"mx-auto text-slate-300 mb-4"}),(0,s.jsx)("p",{className:"text-slate-500 font-medium mb-4",children:"Voc\xea n\xe3o tem agendamentos futuros."}),(0,s.jsxs)("button",{onClick:()=>e("booking"),className:"bg-slate-900 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-slate-800 transition-colors inline-flex items-center gap-2 shadow-lg hover:-translate-y-1",children:[(0,s.jsx)(o7,{size:18})," Agendar Agora"]})]}):x.length>0?x.map(a=>z(a,!0)):(0,s.jsxs)("div",{className:"text-center py-20 bg-white rounded-2xl border border-dashed border-slate-200",children:[(0,s.jsx)(H,{size:48,className:"mx-auto text-slate-300 mb-4"}),(0,s.jsx)("p",{className:"text-slate-500 font-medium",children:"Seu hist\xf3rico est\xe1 vazio."})]})})]})},s_=z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),s0=z("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),s1=({services:a,onUpdateServices:b})=>{let[c,d]=(0,t.useState)(!1),[e,f]=(0,t.useState)(null),[g,h]=(0,t.useState)(""),[i,j]=(0,t.useState)({name:"",durationMinutes:30,price:0,cost:0,margin:0,description:""}),k=(a,b)=>{let c={...i,[a]:b};("price"===a||"cost"===a)&&(c.margin=((a,b)=>a&&0!==a?Math.round((a-b)/a*100):0)(Number(c.price),Number(c.cost))),j(c)},l=()=>{d(!1),f(null),j({name:"",durationMinutes:30,price:0,cost:0,margin:0,description:""})},m=a.filter(a=>a.name.toLowerCase().includes(g.toLowerCase())),n=a=>a<30?{text:"text-red-600",bg:"bg-red-50",border:"border-red-200"}:a<=50?{text:"text-amber-600",bg:"bg-amber-50",border:"border-amber-200"}:{text:"text-emerald-600",bg:"bg-emerald-50",border:"border-emerald-200"};return(0,s.jsxs)("div",{className:"space-y-6 animate-fade-in pb-10",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-brand-dark tracking-tight",children:"Servi\xe7os"}),(0,s.jsx)("p",{className:"text-brand-midGray mt-1 font-medium",children:"Configure seu cat\xe1logo e margens de lucro."})]}),(0,s.jsxs)("button",{onClick:()=>d(!0),className:"bg-brand-dark text-white px-5 py-2.5 rounded-xl font-bold hover:bg-black transition-all shadow-lg flex items-center gap-2",children:[(0,s.jsx)(o7,{size:18})," Novo Servi\xe7o"]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-[2rem] border border-slate-100 shadow-sm overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-slate-100 flex items-center gap-2",children:[(0,s.jsx)(s_,{size:18,className:"text-slate-400 ml-2"}),(0,s.jsx)("input",{type:"text",placeholder:"Buscar servi\xe7o...",className:"flex-1 border-none focus:ring-0 text-sm outline-none",value:g,onChange:a=>h(a.target.value)})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-left",children:[(0,s.jsx)("thead",{className:"bg-slate-50 text-slate-500 text-[10px] font-bold uppercase tracking-widest",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4",children:"Nome / Descri\xe7\xe3o"}),(0,s.jsx)("th",{className:"px-6 py-4",children:"Dura\xe7\xe3o"}),(0,s.jsx)("th",{className:"px-6 py-4",children:"Pre\xe7o (R$)"}),(0,s.jsx)("th",{className:"px-6 py-4",children:"Margem"}),(0,s.jsx)("th",{className:"px-6 py-4 text-right",children:"A\xe7\xf5es"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-slate-100",children:m.map(c=>{let e=n(c.margin);return(0,s.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors group",children:[(0,s.jsxs)("td",{className:"px-6 py-4",children:[(0,s.jsx)("p",{className:"font-bold text-brand-dark text-sm",children:c.name}),(0,s.jsx)("p",{className:"text-xs text-slate-400 line-clamp-1",children:c.description})]}),(0,s.jsx)("td",{className:"px-6 py-4 text-slate-500 text-sm",children:(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(H,{size:14})," ",c.durationMinutes," min"]})}),(0,s.jsxs)("td",{className:"px-6 py-4",children:[(0,s.jsxs)("p",{className:"font-bold text-brand-dark",children:["R$ ",Number(c.price).toFixed(2)]}),(0,s.jsxs)("p",{className:"text-[10px] text-slate-400",children:["Custo: R$ ",Number(c.cost).toFixed(2)]})]}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("span",{className:`px-2 py-1 rounded-lg text-xs font-bold ${e.bg} ${e.text}`,children:[c.margin,"%"]})}),(0,s.jsx)("td",{className:"px-6 py-4 text-right",children:(0,s.jsxs)("div",{className:"flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,s.jsx)("button",{onClick:()=>(a=>{f(a.id),j(a),d(!0)})(c),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg",children:(0,s.jsx)(s0,{size:16})}),(0,s.jsx)("button",{onClick:()=>{var d;return d=c.id,void(window.confirm("Excluir este servi\xe7o? Isso afetar\xe1 novos agendamentos.")&&b(a.filter(a=>a.id!==d)))},className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg",children:(0,s.jsx)(sX,{size:16})})]})})]},c.id)})})]})})]}),c&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-brand-dark/60 backdrop-blur-sm p-4 animate-fade-in",children:(0,s.jsxs)("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-lg overflow-hidden border border-slate-100",children:[(0,s.jsxs)("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:[(0,s.jsx)("h3",{className:"text-2xl font-black text-brand-dark tracking-tighter",children:e?"Editar Servi\xe7o":"Novo Servi\xe7o"}),(0,s.jsx)("button",{onClick:l,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:(0,s.jsx)(R,{})})]}),(0,s.jsxs)("form",{onSubmit:c=>{c.preventDefault();let d={...i,price:Number(i.price||0),cost:Number(i.cost||0),durationMinutes:Number(i.durationMinutes||0),margin:Number(i.margin||0)};e?b(a.map(a=>a.id===e?{...a,...d}:a)):b([...a,{...d,id:`s_${Date.now()}`}]),l()},className:"p-8 space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Nome do Servi\xe7o"}),(0,s.jsx)("input",{required:!0,type:"text",className:"w-full px-5 py-3.5 bg-slate-50 border border-slate-100 rounded-2xl outline-none focus:border-brand-dark font-bold text-lg",value:i.name,onChange:a=>k("name",a.target.value)})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Pre\xe7o Venda (R$)"}),(0,s.jsx)("input",{required:!0,type:"number",step:"0.01",className:"w-full px-5 py-3.5 bg-slate-50 border border-slate-100 rounded-2xl outline-none focus:border-brand-dark font-bold",value:i.price,onChange:a=>k("price",a.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Custo Insumo (R$)"}),(0,s.jsx)("input",{required:!0,type:"number",step:"0.01",className:"w-full px-5 py-3.5 bg-slate-50 border border-slate-100 rounded-2xl outline-none focus:border-brand-dark font-bold",value:i.cost,onChange:a=>k("cost",a.target.value)})]})]}),(0,s.jsxs)("div",{className:`p-4 rounded-2xl border transition-all flex justify-between items-center ${void 0!==i.margin&&i.margin<30?"bg-red-50 border-red-200":"bg-brand-light/10 border-brand-light/20"}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-brand-dark",children:[(0,s.jsx)(I,{size:18}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-[10px] font-bold uppercase",children:"Margem Calculada"}),void 0!==i.margin&&i.margin<30&&(0,s.jsx)("span",{className:"text-[9px] font-bold text-red-600 uppercase",children:"Rentabilidade Baixa"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[void 0!==i.margin&&i.margin<30&&(0,s.jsx)(C,{size:20,className:"text-red-600 animate-pulse"}),(0,s.jsxs)("span",{className:`text-xl font-black ${void 0!==i.margin?n(i.margin).text:""}`,children:[i.margin,"%"]})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Dura\xe7\xe3o (Min)"}),(0,s.jsx)("input",{required:!0,type:"number",className:"w-full px-5 py-3.5 bg-slate-50 border border-slate-100 rounded-2xl outline-none focus:border-brand-dark font-bold",value:i.durationMinutes,onChange:a=>k("durationMinutes",a.target.value)})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Descri\xe7\xe3o Curta"}),(0,s.jsx)("textarea",{rows:2,className:"w-full px-5 py-3.5 bg-slate-50 border border-slate-100 rounded-2xl outline-none focus:border-brand-dark font-medium text-sm resize-none",value:i.description,onChange:a=>k("description",a.target.value)})]})]}),(0,s.jsx)("button",{type:"submit",className:"w-full py-4 bg-brand-dark text-white font-bold rounded-2xl shadow-xl hover:bg-black transition-all",children:e?"Salvar Altera\xe7\xf5es":"Criar Servi\xe7o"})]})]})})]})},s2=z("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),s3=z("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),s4=z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var s5=["points","className","baseLinePoints","connectNulls"];function s6(){return(s6=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function s7(a){return function(a){if(Array.isArray(a))return s8(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function(a,b){if(a){if("string"==typeof a)return s8(a,void 0);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return s8(a,b)}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s8(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var s9=function(a){return a&&a.x===+a.x&&a.y===+a.y},ta=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],b=[[]];return a.forEach(function(a){s9(a)?b[b.length-1].push(a):b[b.length-1].length>0&&b.push([])}),s9(a[0])&&b[b.length-1].push(a[0]),b[b.length-1].length<=0&&(b=b.slice(0,-1)),b},tb=function(a,b){var c=ta(a);b&&(c=[c.reduce(function(a,b){return[].concat(s7(a),s7(b))},[])]);var d=c.map(function(a){return a.reduce(function(a,b,c){return"".concat(a).concat(0===c?"M":"L").concat(b.x,",").concat(b.y)},"")}).join("");return 1===c.length?"".concat(d,"Z"):d},tc=function(a,b,c){var d=tb(a,c);return"".concat("Z"===d.slice(-1)?d.slice(0,-1):d,"L").concat(tb(b.reverse(),c).slice(1))},td=function(a){var b=a.points,c=a.className,d=a.baseLinePoints,e=a.connectNulls,f=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,s5);if(!b||!b.length)return null;var g=T("recharts-polygon",c);if(d&&d.length){var h=f.stroke&&"none"!==f.stroke,i=tc(b,d,e);return u().createElement("g",{className:g},u().createElement("path",s6({},aS(f,!0),{fill:"Z"===i.slice(-1)?f.fill:"none",stroke:"none",d:i})),h?u().createElement("path",s6({},aS(f,!0),{fill:"none",d:tb(b,e)})):null,h?u().createElement("path",s6({},aS(f,!0),{fill:"none",d:tb(d,e)})):null)}var j=tb(b,e);return u().createElement("path",s6({},aS(f,!0),{fill:"Z"===j.slice(-1)?f.fill:"none",className:g,d:j}))};function te(a){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function tf(){return(tf=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function tg(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function th(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?tg(Object(c),!0).forEach(function(b){tm(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):tg(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function ti(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,tn(d.key),d)}}function tj(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(tj=function(){return!!a})()}function tk(a){return(tk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function tl(a,b){return(tl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function tm(a,b,c){return(b=tn(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function tn(a){var b=function(a,b){if("object"!=te(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=te(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==te(b)?b:b+""}var to=Math.PI/180,tp=function(a){var b,c;function d(){var a,b;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");return a=d,b=arguments,a=tk(a),function(a,b){if(b&&("object"===te(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,tj()?Reflect.construct(a,b||[],tk(this).constructor):a.apply(this,b))}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),a&&tl(d,a),b=[{key:"getTickLineCoord",value:function(a){var b=this.props,c=b.cx,d=b.cy,e=b.radius,f=b.orientation,g=b.tickSize,h=kp(c,d,e,a.coordinate),i=kp(c,d,e+("inner"===f?-1:1)*(g||8),a.coordinate);return{x1:h.x,y1:h.y,x2:i.x,y2:i.y}}},{key:"getTickTextAnchor",value:function(a){var b=this.props.orientation,c=Math.cos(-a.coordinate*to);return c>1e-5?"outer"===b?"start":"end":c<-1e-5?"outer"===b?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var a=this.props,b=a.cx,c=a.cy,d=a.radius,e=a.axisLine,f=a.axisLineType,g=th(th({},aS(this.props,!1)),{},{fill:"none"},aS(e,!1));if("circle"===f)return u().createElement(cB,tf({className:"recharts-polar-angle-axis-line"},g,{cx:b,cy:c,r:d}));var h=this.props.ticks.map(function(a){return kp(b,c,d,a.coordinate)});return u().createElement(td,tf({className:"recharts-polar-angle-axis-line"},g,{points:h}))}},{key:"renderTicks",value:function(){var a=this,b=this.props,c=b.ticks,e=b.tick,f=b.tickLine,g=b.tickFormatter,h=b.stroke,i=aS(this.props,!1),j=aS(e,!1),k=th(th({},i),{},{fill:"none"},aS(f,!1)),l=c.map(function(b,c){var l=a.getTickLineCoord(b),m=th(th(th({textAnchor:a.getTickTextAnchor(b)},i),{},{stroke:"none",fill:h},j),{},{index:c,payload:b,x:l.x2,y:l.y2});return u().createElement(ba,tf({className:T("recharts-polar-angle-axis-tick",kv(e)),key:"tick-".concat(b.coordinate)},aD(a.props,b,c)),f&&u().createElement("line",tf({className:"recharts-polar-angle-axis-tick-line"},k,l)),e&&d.renderTickItem(e,m,g?g(b.value,c):b.value))});return u().createElement(ba,{className:"recharts-polar-angle-axis-ticks"},l)}},{key:"render",value:function(){var a=this.props,b=a.ticks,c=a.radius,d=a.axisLine;return!(c<=0)&&b&&b.length?u().createElement(ba,{className:T("recharts-polar-angle-axis",this.props.className)},d&&this.renderAxisLine(),this.renderTicks()):null}}],c=[{key:"renderTickItem",value:function(a,b,c){return u().isValidElement(a)?u().cloneElement(a,b):as()(a)?a(b):u().createElement(eA,tf({},b,{className:"recharts-polar-angle-axis-tick-value"}),c)}}],b&&ti(d.prototype,b),c&&ti(d,c),Object.defineProperty(d,"prototype",{writable:!1}),d}(t.PureComponent);tm(tp,"displayName","PolarAngleAxis"),tm(tp,"axisType","angleAxis"),tm(tp,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var tq=c(13595),tr=c.n(tq),ts=c(25301),tt=c.n(ts),tu=["cx","cy","angle","ticks","axisLine"],tv=["ticks","tick","angle","tickFormatter","stroke"];function tw(a){return(tw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function tx(){return(tx=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function ty(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function tz(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ty(Object(c),!0).forEach(function(b){tF(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ty(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function tA(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function tB(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,tG(d.key),d)}}function tC(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(tC=function(){return!!a})()}function tD(a){return(tD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function tE(a,b){return(tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function tF(a,b,c){return(b=tG(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function tG(a){var b=function(a,b){if("object"!=tw(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=tw(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==tw(b)?b:b+""}var tH=function(a){var b,c;function d(){var a,b;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");return a=d,b=arguments,a=tD(a),function(a,b){if(b&&("object"===tw(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,tC()?Reflect.construct(a,b||[],tD(this).constructor):a.apply(this,b))}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),a&&tE(d,a),b=[{key:"getTickValueCoord",value:function(a){var b=a.coordinate,c=this.props,d=c.angle;return kp(c.cx,c.cy,b,d)}},{key:"getTickTextAnchor",value:function(){var a;switch(this.props.orientation){case"left":a="end";break;case"right":a="start";break;default:a="middle"}return a}},{key:"getViewBox",value:function(){var a=this.props,b=a.cx,c=a.cy,d=a.angle,e=a.ticks,f=tr()(e,function(a){return a.coordinate||0});return{cx:b,cy:c,startAngle:d,endAngle:d,innerRadius:tt()(e,function(a){return a.coordinate||0}).coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,b=a.cx,c=a.cy,d=a.angle,e=a.ticks,f=a.axisLine,g=tA(a,tu),h=e.reduce(function(a,b){return[Math.min(a[0],b.coordinate),Math.max(a[1],b.coordinate)]},[1/0,-1/0]),i=kp(b,c,h[0],d),j=kp(b,c,h[1],d),k=tz(tz(tz({},aS(g,!1)),{},{fill:"none"},aS(f,!1)),{},{x1:i.x,y1:i.y,x2:j.x,y2:j.y});return u().createElement("line",tx({className:"recharts-polar-radius-axis-line"},k))}},{key:"renderTicks",value:function(){var a=this,b=this.props,c=b.ticks,e=b.tick,f=b.angle,g=b.tickFormatter,h=b.stroke,i=tA(b,tv),j=this.getTickTextAnchor(),k=aS(i,!1),l=aS(e,!1),m=c.map(function(b,c){var i=a.getTickValueCoord(b),m=tz(tz(tz(tz({textAnchor:j,transform:"rotate(".concat(90-f,", ").concat(i.x,", ").concat(i.y,")")},k),{},{stroke:"none",fill:h},l),{},{index:c},i),{},{payload:b});return u().createElement(ba,tx({className:T("recharts-polar-radius-axis-tick",kv(e)),key:"tick-".concat(b.coordinate)},aD(a.props,b,c)),d.renderTickItem(e,m,g?g(b.value,c):b.value))});return u().createElement(ba,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var a=this.props,b=a.ticks,c=a.axisLine,d=a.tick;return b&&b.length?u().createElement(ba,{className:T("recharts-polar-radius-axis",this.props.className)},c&&this.renderAxisLine(),d&&this.renderTicks(),kG.renderCallByParent(this.props,this.getViewBox())):null}}],c=[{key:"renderTickItem",value:function(a,b,c){return u().isValidElement(a)?u().cloneElement(a,b):as()(a)?a(b):u().createElement(eA,tx({},b,{className:"recharts-polar-radius-axis-tick-value"}),c)}}],b&&tB(d.prototype,b),c&&tB(d,c),Object.defineProperty(d,"prototype",{writable:!1}),d}(t.PureComponent);function tI(a){return(tI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function tJ(){return(tJ=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function tK(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function tL(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?tK(Object(c),!0).forEach(function(b){tQ(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):tK(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function tM(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,tR(d.key),d)}}function tN(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(tN=function(){return!!a})()}function tO(a){return(tO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function tP(a,b){return(tP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function tQ(a,b,c){return(b=tR(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function tR(a){var b=function(a,b){if("object"!=tI(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=tI(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==tI(b)?b:b+""}tF(tH,"displayName","PolarRadiusAxis"),tF(tH,"axisType","radiusAxis"),tF(tH,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var tS=function(a){var b,c;function d(a){var b,c,e;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");return c=d,e=[a],c=tO(c),tQ(b=function(a,b){if(b&&("object"===tI(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,tN()?Reflect.construct(c,e||[],tO(this).constructor):c.apply(this,e)),"pieRef",null),tQ(b,"sectorRefs",[]),tQ(b,"id",aj("recharts-pie-")),tQ(b,"handleAnimationEnd",function(){var a=b.props.onAnimationEnd;b.setState({isAnimationFinished:!0}),as()(a)&&a()}),tQ(b,"handleAnimationStart",function(){var a=b.props.onAnimationStart;b.setState({isAnimationFinished:!1}),as()(a)&&a()}),b.state={isAnimationFinished:!a.isAnimationActive,prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,sectorToFocus:0},b}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),a&&tP(d,a),b=[{key:"isActiveIndex",value:function(a){var b=this.props.activeIndex;return Array.isArray(b)?-1!==b.indexOf(a):a===b}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?0!==a.length:a||0===a}},{key:"renderLabels",value:function(a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var b=this.props,c=b.label,e=b.labelLine,f=b.dataKey,g=b.valueKey,h=aS(this.props,!1),i=aS(c,!1),j=aS(e,!1),k=c&&c.offsetRadius||20,l=a.map(function(a,b){var l=(a.startAngle+a.endAngle)/2,m=kp(a.cx,a.cy,a.outerRadius+k,l),n=tL(tL(tL(tL({},h),a),{},{stroke:"none"},i),{},{index:b,textAnchor:d.getTextAnchor(m.x,a.cx)},m),o=tL(tL(tL(tL({},h),a),{},{fill:"none",stroke:a.fill},j),{},{index:b,points:[kp(a.cx,a.cy,a.outerRadius,l),m]}),p=f;return ad()(f)&&ad()(g)?p="value":ad()(f)&&(p=g),u().createElement(ba,{key:"label-".concat(a.startAngle,"-").concat(a.endAngle,"-").concat(a.midAngle,"-").concat(b)},e&&d.renderLabelLineItem(e,o,"line"),d.renderLabelItem(c,n,ju(a,p)))});return u().createElement(ba,{className:"recharts-pie-labels"},l)}},{key:"renderSectorsStatically",value:function(a){var b=this,c=this.props,d=c.activeShape,e=c.blendStroke,f=c.inactiveShape;return a.map(function(c,g){if((null==c?void 0:c.startAngle)===0&&(null==c?void 0:c.endAngle)===0&&1!==a.length)return null;var h=b.isActiveIndex(g),i=f&&b.hasActiveIndex()?f:null,j=tL(tL({},c),{},{stroke:e?c.fill:c.stroke,tabIndex:-1});return u().createElement(ba,tJ({ref:function(a){a&&!b.sectorRefs.includes(a)&&b.sectorRefs.push(a)},tabIndex:-1,className:"recharts-pie-sector"},aD(b.props,c,g),{key:"sector-".concat(null==c?void 0:c.startAngle,"-").concat(null==c?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(g)}),u().createElement(lo,tJ({option:h?d:i,isActive:h,shapeType:"sector"},j)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,b=this.props,c=b.sectors,d=b.isAnimationActive,e=b.animationBegin,f=b.animationDuration,g=b.animationEasing,h=b.animationId,i=this.state,j=i.prevSectors,k=i.prevIsAnimationActive;return u().createElement(dM,{begin:e,duration:f,isActive:d,easing:g,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(k),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var d=b.t,e=[],f=(c&&c[0]).startAngle;return c.forEach(function(a,b){var c=j&&j[b],g=b>0?_()(a,"paddingAngle",0):0;if(c){var h=an(c.endAngle-c.startAngle,a.endAngle-a.startAngle),i=tL(tL({},a),{},{startAngle:f+g,endAngle:f+h(d)+g});e.push(i),f=i.endAngle}else{var k=an(0,a.endAngle-a.startAngle)(d),l=tL(tL({},a),{},{startAngle:f+g,endAngle:f+k+g});e.push(l),f=l.endAngle}}),u().createElement(ba,null,a.renderSectorsStatically(e))})}},{key:"attachKeyboardHandlers",value:function(a){var b=this;a.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":var c=++b.state.sectorToFocus%b.sectorRefs.length;b.sectorRefs[c].focus(),b.setState({sectorToFocus:c});break;case"ArrowRight":var d=--b.state.sectorToFocus<0?b.sectorRefs.length-1:b.state.sectorToFocus%b.sectorRefs.length;b.sectorRefs[d].focus(),b.setState({sectorToFocus:d});break;case"Escape":b.sectorRefs[b.state.sectorToFocus].blur(),b.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var a=this.props,b=a.sectors,c=a.isAnimationActive,d=this.state.prevSectors;return c&&b&&b.length&&(!d||!ir()(d,b))?this.renderSectorsWithAnimation():this.renderSectorsStatically(b)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,b=this.props,c=b.hide,d=b.sectors,e=b.className,f=b.label,g=b.cx,h=b.cy,i=b.innerRadius,j=b.outerRadius,k=b.isAnimationActive,l=this.state.isAnimationFinished;if(c||!d||!d.length||!ag(g)||!ag(h)||!ag(i)||!ag(j))return null;var m=T("recharts-pie",e);return u().createElement(ba,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){a.pieRef=b}},this.renderSectors(),f&&this.renderLabels(d),kG.renderCallByParent(this.props,null,!1),(!k||l)&&kZ.renderCallByParent(this.props,d,!1))}}],c=[{key:"getDerivedStateFromProps",value:function(a,b){return b.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==b.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:b.curSectors,isAnimationFinished:!0}:a.sectors!==b.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,b){return a>b?"start":a<b?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,b,c){if(u().isValidElement(a))return u().cloneElement(a,b);if(as()(a))return a(b);var d=T("recharts-pie-label-line","boolean"!=typeof a?a.className:"");return u().createElement(nv,tJ({},b,{key:c,type:"linear",className:d}))}},{key:"renderLabelItem",value:function(a,b,c){if(u().isValidElement(a))return u().cloneElement(a,b);var d=c;if(as()(a)&&(d=a(b),u().isValidElement(d)))return d;var e=T("recharts-pie-label-text","boolean"==typeof a||as()(a)?"":a.className);return u().createElement(eA,tJ({},b,{alignmentBaseline:"middle",className:e}),d)}}],b&&tM(d.prototype,b),c&&tM(d,c),Object.defineProperty(d,"prototype",{writable:!1}),d}(t.PureComponent);tQ(tS,"displayName","Pie"),tQ(tS,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!bw.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),tQ(tS,"parseDeltaAngle",function(a,b){return ae(b-a)*Math.min(Math.abs(b-a),360)}),tQ(tS,"getRealPieData",function(a){var b=a.data,c=a.children,d=aS(a,!1),e=aN(c,kN);return b&&b.length?b.map(function(a,b){return tL(tL(tL({payload:a},d),a),e&&e[b]&&e[b].props)}):e&&e.length?e.map(function(a){return tL(tL({},d),a.props)}):[]}),tQ(tS,"parseCoordinateOfPie",function(a,b){var c=b.top,d=b.left,e=b.width,f=b.height,g=kq(e,f);return{cx:d+ak(a.cx,e,e/2),cy:c+ak(a.cy,f,f/2),innerRadius:ak(a.innerRadius,g,0),outerRadius:ak(a.outerRadius,g,.8*g),maxRadius:a.maxRadius||Math.sqrt(e*e+f*f)/2}}),tQ(tS,"getComposedData",function(a){var b,c,d=a.item,e=a.offset,f=void 0!==d.type.defaultProps?tL(tL({},d.type.defaultProps),d.props):d.props,g=tS.getRealPieData(f);if(!g||!g.length)return null;var h=f.cornerRadius,i=f.startAngle,j=f.endAngle,k=f.paddingAngle,l=f.dataKey,m=f.nameKey,n=f.valueKey,o=f.tooltipType,p=Math.abs(f.minAngle),q=tS.parseCoordinateOfPie(f,e),r=tS.parseDeltaAngle(i,j),s=Math.abs(r),t=l;ad()(l)&&ad()(n)?(aq(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),t="value"):ad()(l)&&(aq(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),t=n);var u=g.filter(function(a){return 0!==ju(a,t,0)}).length,v=s-u*p-(s>=360?u:u-1)*k,w=g.reduce(function(a,b){var c=ju(b,t,0);return a+(ag(c)?c:0)},0);return w>0&&(b=g.map(function(a,b){var d,e=ju(a,t,0),f=ju(a,m,b),g=(ag(e)?e:0)/w,j=(d=b?c.endAngle+ae(r)*k*(0!==e):i)+ae(r)*((0!==e?p:0)+g*v),l=(d+j)/2,n=(q.innerRadius+q.outerRadius)/2,s=[{name:f,value:e,payload:a,dataKey:t,type:o}],u=kp(q.cx,q.cy,n,l);return c=tL(tL(tL({percent:g,cornerRadius:h,name:f,tooltipPayload:s,midAngle:l,middleRadius:n,tooltipPosition:u},a),q),{},{value:ju(a,t),startAngle:d,endAngle:j,payload:a,paddingAngle:ae(r)*k})})),tL(tL({},q),{},{sectors:b,data:g})});var tT=oa({chartName:"PieChart",GraphicalChild:tS,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:tp},{axisType:"radiusAxis",AxisComp:tH}],formatAxisMap:function(a,b,c,d,e){var f=a.width,g=a.height,h=a.startAngle,i=a.endAngle,j=ak(a.cx,f,f/2),k=ak(a.cy,g,g/2),l=kq(f,g,c),m=ak(a.innerRadius,l,0),n=ak(a.outerRadius,l,.8*l);return Object.keys(b).reduce(function(a,c){var f,g=b[c],l=g.domain,o=g.reversed;if(ad()(g.range))"angleAxis"===d?f=[h,i]:"radiusAxis"===d&&(f=[m,n]),o&&(f=[f[1],f[0]]);else{var p,q=function(a){if(Array.isArray(a))return a}(p=f=g.range)||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{f=(c=c.call(a)).next,!1;for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(p,2)||function(a,b){if(a){if("string"==typeof a)return kn(a,2);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return kn(a,b)}}(p,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();h=q[0],i=q[1]}var r=jJ(g,e),s=r.realScaleType,t=r.scale;t.domain(l).range(f),jK(t);var u=jQ(t,kl(kl({},g),{},{realScaleType:s})),v=kl(kl(kl({},g),u),{},{range:f,radius:n,realScaleType:s,scale:t,cx:j,cy:k,innerRadius:m,outerRadius:n,startAngle:h,endAngle:i});return kl(kl({},a),{},km({},c,v))},{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});let tU=({transactions:a})=>{let[b,c]=(0,t.useState)("report"),[d,e]=(0,t.useState)(!1),[f,g]=(0,t.useState)(a.slice(0,10)),h=(0,t.useMemo)(()=>{let b={CREDIT_CARD:{count:0,total:0},DEBIT_CARD:{count:0,total:0},PIX:{count:0,total:0},PRESENTIAL:{count:0,total:0}};return a.forEach(a=>{b[a.paymentMethod]&&(b[a.paymentMethod].count+=1,b[a.paymentMethod].total+=a.amount)}),b},[a]),i=[{name:"Cr\xe9dito",value:h.CREDIT_CARD.total,color:"#081E26"},{name:"D\xe9bito",value:h.DEBIT_CARD.total,color:"#3B82F6"},{name:"Pix",value:h.PIX.total,color:"#10B981"},{name:"Presencial",value:h.PRESENTIAL.total,color:"#F59E0B"}].filter(a=>a.value>0),j=()=>{let b=encodeURI("data:text/csv;charset=utf-8,ID,Data,Descricao,Tipo,Metodo,Valor,Barbeiro\n"+a.map(a=>[a.id,a.date,a.description,a.type,a.paymentMethod,a.amount.toString(),a.barberId||"-"]).map(a=>a.join(",")).join("\n")),c=document.createElement("a");c.setAttribute("href",b),c.setAttribute("download",`financeiro_barvo_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(c),c.click(),document.body.removeChild(c)},k=({label:a,value:b,count:c,icon:d,color:e})=>(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex flex-col justify-between group hover:shadow-md transition-all",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsx)("div",{className:`p-3 rounded-xl ${e}`,children:d}),(0,s.jsxs)("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[c," transa\xe7\xf5es"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:a}),(0,s.jsxs)("h4",{className:"text-2xl font-black text-slate-900 tracking-tight",children:["R$ ",b.toLocaleString("pt-BR")]})]})]});return(0,s.jsxs)("div",{className:"space-y-6 animate-fade-in pb-10",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-slate-800 tracking-tight",children:"Financeiro & Receb\xedveis"}),(0,s.jsx)("p",{className:"text-slate-500 mt-1",children:"Vis\xe3o estrat\xe9gica de faturamento por modalidade."})]}),(0,s.jsxs)("div",{className:"flex bg-white p-1 rounded-xl border border-slate-100 shadow-sm",children:[(0,s.jsxs)("button",{onClick:()=>c("report"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all flex items-center gap-2 ${"report"===b?"bg-slate-900 text-white shadow-md":"text-slate-500 hover:text-slate-800"}`,children:[(0,s.jsx)(s2,{size:14})," Relat\xf3rio de Pagamentos"]}),(0,s.jsxs)("button",{onClick:()=>c("history"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all flex items-center gap-2 ${"history"===b?"bg-slate-900 text-white shadow-md":"text-slate-500 hover:text-slate-800"}`,children:[(0,s.jsx)(L,{size:14})," Hist\xf3rico Geral"]})]})]}),"report"===b&&(0,s.jsxs)("div",{className:"space-y-8 animate-fade-in",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsx)(k,{label:"Cart\xe3o de Cr\xe9dito",value:h.CREDIT_CARD.total,count:h.CREDIT_CARD.count,icon:(0,s.jsx)(pC,{size:20}),color:"bg-slate-900 text-white"}),(0,s.jsx)(k,{label:"Cart\xe3o de D\xe9bito",value:h.DEBIT_CARD.total,count:h.DEBIT_CARD.count,icon:(0,s.jsx)(s3,{size:20}),color:"bg-blue-50 text-blue-600"}),(0,s.jsx)(k,{label:"Pagamento via Pix",value:h.PIX.total,count:h.PIX.count,icon:(0,s.jsx)(pD,{size:20}),color:"bg-emerald-50 text-emerald-600"}),(0,s.jsx)(k,{label:"Feito Presencial",value:h.PRESENTIAL.total,count:h.PRESENTIAL.count,icon:(0,s.jsx)(pE,{size:20}),color:"bg-amber-50 text-amber-600"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-1 bg-white p-8 rounded-[2rem] border border-slate-100 shadow-sm",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-slate-800 mb-8 flex items-center gap-2",children:[(0,s.jsx)(s2,{size:20,className:"text-blue-500"})," Mix de Pagamento"]}),(0,s.jsx)("div",{className:"h-64",children:(0,s.jsx)(a_,{width:"100%",height:"100%",children:(0,s.jsxs)(tT,{children:[(0,s.jsx)(tS,{data:i,innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:i.map((a,b)=>(0,s.jsx)(kN,{fill:a.color},`cell-${b}`))}),(0,s.jsx)(bJ,{})]})})}),(0,s.jsx)("div",{className:"mt-6 space-y-3",children:i.map(a=>(0,s.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a.color}}),(0,s.jsx)("span",{className:"font-medium text-slate-600",children:a.name})]}),(0,s.jsxs)("span",{className:"font-bold text-slate-900",children:["R$ ",a.value.toFixed(2)]})]},a.name))})]}),(0,s.jsxs)("div",{className:"lg:col-span-2 bg-white p-8 rounded-[2rem] border border-slate-100 shadow-sm flex flex-col",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:"Volume por Modalidade"}),(0,s.jsxs)("button",{onClick:j,className:"text-xs font-bold text-blue-600 flex items-center gap-1 hover:underline",children:[(0,s.jsx)(s4,{size:14})," Exportar Detalhado"]})]}),(0,s.jsx)("div",{className:"flex-1 h-64",children:(0,s.jsx)(a_,{width:"100%",height:"100%",children:(0,s.jsxs)(oO,{data:i,children:[(0,s.jsx)(o3,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),(0,s.jsx)(oE,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:"bold"}}),(0,s.jsx)(oN,{axisLine:!1,tickLine:!1,tick:{fontSize:12}}),(0,s.jsx)(bJ,{cursor:{fill:"#f8fafc"}}),(0,s.jsx)(lO,{dataKey:"value",radius:[6,6,0,0],children:i.map((a,b)=>(0,s.jsx)(kN,{fill:a.color},`cell-${b}`))})]})})})]})]})]}),"history"===b&&(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden animate-fade-in",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:"Todas as Transa\xe7\xf5es"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("select",{className:"bg-slate-50 border-none text-xs font-bold text-slate-600 rounded-lg px-3 py-2 focus:ring-0 cursor-pointer uppercase tracking-widest",children:[(0,s.jsx)("option",{children:"Filtrar por Per\xedodo"}),(0,s.jsx)("option",{children:"Hoje"}),(0,s.jsx)("option",{children:"\xdaltimos 7 dias"}),(0,s.jsx)("option",{children:"Este M\xeas"})]}),(0,s.jsx)("button",{onClick:j,className:"p-2 bg-slate-50 text-slate-400 hover:text-slate-900 rounded-lg transition-colors",children:(0,s.jsx)(s4,{size:18})})]})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-left",children:[(0,s.jsx)("thead",{className:"bg-slate-50 text-slate-500 text-[10px] font-bold uppercase tracking-widest",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4",children:"Data"}),(0,s.jsx)("th",{className:"px-6 py-4",children:"Descri\xe7\xe3o"}),(0,s.jsx)("th",{className:"px-6 py-4",children:"M\xe9todo"}),(0,s.jsx)("th",{className:"px-6 py-4",children:"Respons\xe1vel"}),(0,s.jsx)("th",{className:"px-6 py-4 text-right",children:"Valor"}),(0,s.jsx)("th",{className:"px-6 py-4 text-right",children:"Status"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-slate-100",children:f.map(a=>(0,s.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors",children:[(0,s.jsx)("td",{className:"px-6 py-4 text-slate-600 text-sm font-medium",children:a.date}),(0,s.jsx)("td",{className:"px-6 py-4 font-bold text-slate-800 text-sm",children:a.description}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("span",{className:`flex items-center gap-1.5 text-[10px] font-black uppercase tracking-tighter ${"CREDIT_CARD"===a.paymentMethod?"text-slate-900":"PIX"===a.paymentMethod?"text-emerald-600":"DEBIT_CARD"===a.paymentMethod?"text-blue-600":"text-amber-600"}`,children:["CREDIT_CARD"===a.paymentMethod&&(0,s.jsx)(pC,{size:10}),"PIX"===a.paymentMethod&&(0,s.jsx)(pD,{size:10}),"DEBIT_CARD"===a.paymentMethod&&(0,s.jsx)(s3,{size:10}),"PRESENTIAL"===a.paymentMethod&&(0,s.jsx)(pc,{size:10}),a.paymentMethod.replace("_CARD","").replace("CREDIT","CR\xc9DITO").replace("DEBIT","D\xc9BITO")]})}),(0,s.jsx)("td",{className:"px-6 py-4 text-slate-500 text-xs font-bold",children:a.barberId?"Barbeiro "+a.barberId.replace("u",""):"-"}),(0,s.jsxs)("td",{className:"px-6 py-4 text-right font-black text-slate-900 text-sm",children:["R$ ",a.amount.toFixed(2)]}),(0,s.jsx)("td",{className:"px-6 py-4 text-right",children:(0,s.jsx)("span",{className:"text-[10px] font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg border border-emerald-100 uppercase",children:"Aprovado"})})]},a.id))})]})}),f.length<a.length&&(0,s.jsx)("div",{className:"p-4 border-t border-slate-100 bg-slate-50 text-center",children:(0,s.jsx)("button",{onClick:()=>{e(!0),setTimeout(()=>{g(a),e(!1)},1e3)},disabled:d,className:"text-xs font-black text-blue-600 uppercase tracking-widest hover:text-blue-800 transition-colors flex items-center gap-2 mx-auto disabled:opacity-50",children:d?(0,s.jsx)(pA,{size:16,className:"animate-spin"}):"Ver mais registros"})})]})]})},tV=z("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),tW=z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),tX=({barbers:a,setUsers:b})=>{let[c,d]=(0,t.useState)(!1),[e,f]=(0,t.useState)({name:"",email:"",phone:""}),[g,h]=(0,t.useState)(null);return(0,s.jsxs)("div",{className:"space-y-6 animate-fade-in relative pb-10",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-slate-800 tracking-tight",children:"Equipe"}),(0,s.jsx)("p",{className:"text-slate-500 mt-1",children:"Gerencie seus barbeiros e visualize o desempenho individual."})]}),(0,s.jsxs)("button",{onClick:()=>d(!0),className:"bg-slate-900 text-white px-5 py-2.5 rounded-xl font-medium hover:bg-slate-800 transition-colors shadow-lg flex items-center gap-2",children:[(0,s.jsx)(o7,{size:18})," Novo Barbeiro"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((a,c)=>(0,s.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-visible group hover:shadow-md transition-all duration-300 hover:-translate-y-1 relative",children:[(0,s.jsx)("div",{className:"h-24 bg-brand-dark relative rounded-t-2xl",children:(0,s.jsxs)("div",{className:"absolute top-4 right-4 z-10",children:[(0,s.jsx)("button",{onClick:()=>h(g===a.id?null:a.id),className:"text-white/70 hover:text-white transition-colors p-1",children:(0,s.jsx)(S,{size:20})}),g===a.id&&(0,s.jsx)("div",{className:"absolute right-0 mt-2 w-32 bg-white rounded-lg shadow-xl border border-slate-100 py-1 z-20",children:(0,s.jsxs)("button",{onClick:()=>{var c;return c=a.id,void(window.confirm("Remover este barbeiro da equipe?")&&b(a=>a.filter(a=>a.id!==c)),h(null))},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[(0,s.jsx)(sX,{size:14})," Remover"]})})]})}),(0,s.jsxs)("div",{className:"px-6 pb-6 relative",children:[(0,s.jsxs)("div",{className:"flex justify-between items-end -mt-10 mb-4",children:[(0,s.jsx)(B,{url:a.avatar,name:a.name,size:"lg",className:"!w-20 !h-20 border-4 border-white shadow-md"}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsxs)("div",{className:"flex items-center justify-end gap-1 text-amber-500 font-bold text-sm mb-1",children:["4.9 ",(0,s.jsx)(sR,{size:14,fill:"currentColor"})]})})]}),(0,s.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:a.name}),(0,s.jsx)("p",{className:"text-sm text-slate-500 mb-6",children:"Barbeiro Especialista"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[(0,s.jsxs)("div",{className:"p-3 bg-blue-50 rounded-xl border border-blue-100",children:[(0,s.jsx)("p",{className:"text-[10px] text-blue-500 font-bold uppercase mb-1",children:"Cortes"}),(0,s.jsx)("p",{className:"text-lg font-bold text-slate-800",children:45+2*c})]}),(0,s.jsxs)("div",{className:"p-3 bg-emerald-50 rounded-xl border border-emerald-100",children:[(0,s.jsx)("p",{className:"text-[10px] text-emerald-600 font-bold uppercase mb-1",children:"Score"}),(0,s.jsx)("p",{className:"text-lg font-bold text-slate-800",children:"98%"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"w-full py-2 flex items-center gap-2 text-sm font-medium text-slate-600",children:[(0,s.jsx)(tV,{size:14,className:"text-slate-400"})," ",a.phone||"(11) 99999-0000"]}),(0,s.jsxs)("div",{className:"w-full py-2 flex items-center gap-2 text-sm font-medium text-slate-600",children:[(0,s.jsx)(tW,{size:14,className:"text-slate-400"})," ",a.email]})]})]})]},a.id))}),c&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4 animate-fade-in",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:"Novo Barbeiro"}),(0,s.jsx)("button",{onClick:()=>d(!1),className:"text-slate-400",children:(0,s.jsx)(R,{size:20})})]}),(0,s.jsxs)("form",{onSubmit:a=>{a.preventDefault();let c={id:`u${Date.now()}`,name:e.name,email:e.email,phone:e.phone,role:x.BARBER,avatar:`https://picsum.photos/seed/${Date.now()}/100/100`};b(a=>[...a,c]),d(!1),f({name:"",email:"",phone:""})},className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nome"}),(0,s.jsx)("input",{required:!0,type:"text",className:"w-full p-2.5 border border-slate-200 rounded-lg outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Lucas Mendes",value:e.name,onChange:a=>f({...e,name:a.target.value})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"E-mail"}),(0,s.jsx)("input",{required:!0,type:"email",className:"w-full p-2.5 border border-slate-200 rounded-lg outline-none",placeholder:"barbeiro@email.com",value:e.email,onChange:a=>f({...e,email:a.target.value})})]}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-slate-900 text-white font-bold py-3 rounded-xl hover:bg-slate-800 transition-colors shadow-lg mt-2",children:"Contratar Barbeiro"})]})]})})]})},tY=z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),tZ=z("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),t$=z("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),t_=z("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),t0=({items:a,onUpdateItem:b})=>{let[c,d]=(0,t.useState)(""),[e,f]=(0,t.useState)(!1),[g,h]=(0,t.useState)(null),[i,j]=(0,t.useState)({}),[k,l]=(0,t.useState)(!1),[m,n]=(0,t.useState)({name:"",category:"Cabelo",quantity:0,price:0,minLevel:5}),o=a.reduce((a,b)=>a+b.price*b.quantity,0),p=a.filter(a=>a.quantity<=a.minLevel),q=a.filter(a=>{let b=a.name.toLowerCase().includes(c.toLowerCase())||a.category.toLowerCase().includes(c.toLowerCase()),d=!e||a.quantity<=a.minLevel;return b&&d}),r=()=>{h(null),j({})},u=()=>{if(!g)return;let c=a.find(a=>a.id===g);c&&(b({...c,...i},"UPSERT"),h(null),j({}))};return(0,s.jsxs)("div",{className:"space-y-6 animate-fade-in pb-10 relative",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-slate-800 tracking-tight",children:"Gest\xe3o de Estoque"}),(0,s.jsx)("p",{className:"text-slate-500 mt-1",children:"Controle produtos de venda e consumo interno."})]}),(0,s.jsxs)("button",{onClick:()=>l(!0),className:"bg-slate-900 text-white px-5 py-2.5 rounded-xl font-medium hover:bg-slate-800 transition-colors shadow-lg shadow-slate-900/10 flex items-center gap-2",children:[(0,s.jsx)(o7,{size:18})," Novo Produto"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4 group hover:shadow-md transition-all",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-blue-100 text-blue-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,s.jsx)(M,{size:24})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-slate-500",children:"Total de Itens"}),(0,s.jsx)("h3",{className:"text-2xl font-bold text-slate-800",children:a.length})]})]}),(0,s.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4 group hover:shadow-md transition-all",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-emerald-100 text-emerald-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,s.jsx)(N,{size:24})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-slate-500",children:"Valor em Estoque"}),(0,s.jsxs)("h3",{className:"text-2xl font-bold text-slate-800",children:["R$ ",o.toFixed(2)]})]})]}),(0,s.jsxs)("div",{className:`p-6 rounded-2xl shadow-sm border flex items-center gap-4 group hover:shadow-md transition-all cursor-pointer ${p.length>0?"bg-amber-50 border-amber-100":"bg-white border-slate-100"}`,onClick:()=>f(!e),children:[(0,s.jsx)("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform ${p.length>0?"bg-amber-200 text-amber-700":"bg-slate-100 text-slate-400"}`,children:(0,s.jsx)(sY,{size:24})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:`text-sm font-medium ${p.length>0?"text-amber-800":"text-slate-500"}`,children:"Estoque Baixo"}),(0,s.jsxs)("h3",{className:`text-2xl font-bold ${p.length>0?"text-amber-900":"text-slate-800"}`,children:[p.length," itens"]})]})]})]}),p.length>0&&!e&&(0,s.jsxs)("div",{className:"bg-amber-50 border border-amber-100 rounded-2xl p-6 animate-fade-in relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-amber-100 rounded-full blur-2xl -mr-10 -mt-10 opacity-50"}),(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4 relative z-10",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-amber-900 flex items-center gap-2",children:[(0,s.jsx)(sY,{size:20,className:"text-amber-600"})," Alerta de Reposi\xe7\xe3o"]}),(0,s.jsxs)("button",{onClick:()=>f(!0),className:"text-xs font-bold text-amber-700 hover:text-amber-900 flex items-center gap-1 hover:underline",children:["Ver todos na lista ",(0,s.jsx)(o4,{size:12})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 relative z-10",children:p.slice(0,4).map(a=>(0,s.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-amber-100 shadow-sm flex flex-col justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsx)("span",{className:"text-xs font-bold text-slate-400 uppercase bg-slate-50 px-2 py-0.5 rounded",children:a.category}),(0,s.jsx)("span",{className:"text-xs font-bold text-red-500",children:"Cr\xedtico"})]}),(0,s.jsx)("h4",{className:"font-bold text-slate-800 text-sm truncate",title:a.name,children:a.name})]}),(0,s.jsxs)("div",{className:"mt-3",children:[(0,s.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,s.jsxs)("span",{className:"text-slate-500",children:["Restam: ",(0,s.jsx)("b",{className:"text-slate-800",children:a.quantity})]}),(0,s.jsxs)("span",{className:"text-slate-400",children:["Min: ",a.minLevel]})]}),(0,s.jsx)("div",{className:"w-full bg-slate-100 h-1.5 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"bg-red-500 h-full rounded-full",style:{width:`${a.quantity/a.minLevel*50}%`}})})]})]},a.id))})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-slate-100 flex flex-col md:flex-row gap-4 items-center bg-white sticky top-0 z-20",children:[(0,s.jsxs)("div",{className:"relative flex-1 w-full",children:[(0,s.jsx)(s_,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Buscar produtos...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-200 text-sm",value:c,onChange:a=>d(a.target.value)})]}),(0,s.jsxs)("button",{onClick:()=>f(!e),className:`px-4 py-2 text-sm font-medium border rounded-lg flex items-center gap-2 transition-colors ${e?"bg-amber-50 text-amber-700 border-amber-200":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"}`,children:[(0,s.jsx)(tY,{size:16,className:e?"fill-amber-700":""}),e?"Vendo Estoque Baixo":"Filtrar"]})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-left",children:[(0,s.jsx)("thead",{className:"bg-slate-50 text-slate-500 text-xs font-bold uppercase tracking-wider",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4",children:"Produto"}),(0,s.jsx)("th",{className:"px-6 py-4",children:"Categoria"}),(0,s.jsx)("th",{className:"px-6 py-4",children:"Quantidade"}),(0,s.jsx)("th",{className:"px-6 py-4",children:"Pre\xe7o Unit."}),(0,s.jsx)("th",{className:"px-6 py-4",children:g?"N\xedvel M\xednimo":"Status"}),(0,s.jsx)("th",{className:"px-6 py-4 text-right",children:"A\xe7\xf5es"})]})}),(0,s.jsxs)("tbody",{className:"divide-y divide-slate-100",children:[q.map(c=>(0,s.jsx)("tr",{className:`hover:bg-slate-50 transition-colors group ${g===c.id?"bg-blue-50/30":""}`,children:g===c.id?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("td",{className:"px-6 py-4 font-medium text-slate-800",children:c.name}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm text-slate-500",children:c.category}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("input",{type:"number",className:"w-20 p-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:i.quantity,onChange:a=>j({...i,quantity:Number(a.target.value)})})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("input",{type:"number",step:"0.01",className:"w-24 p-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:i.price,onChange:a=>j({...i,price:Number(a.target.value)})})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xs text-slate-500",children:"M\xedn:"}),(0,s.jsx)("input",{type:"number",className:"w-20 p-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:i.minLevel,onChange:a=>j({...i,minLevel:Number(a.target.value)})})]})}),(0,s.jsx)("td",{className:"px-6 py-4 text-right",children:(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,s.jsx)("button",{onClick:u,className:"p-2 text-emerald-600 hover:bg-emerald-100 rounded-lg transition-colors",children:(0,s.jsx)(pz,{size:18})}),(0,s.jsx)("button",{onClick:r,className:"p-2 text-slate-400 hover:bg-slate-100 hover:text-slate-600 rounded-lg transition-colors",children:(0,s.jsx)(R,{size:18})})]})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("td",{className:"px-6 py-4 font-medium text-slate-800",children:c.name}),(0,s.jsx)("td",{className:"px-6 py-4 text-slate-500 text-sm",children:(0,s.jsx)("span",{className:"bg-slate-100 px-2 py-1 rounded text-xs font-semibold",children:c.category})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"font-bold text-slate-700",children:[c.quantity," un"]}),c.quantity<=c.minLevel&&(0,s.jsx)("div",{className:"w-16 h-1.5 bg-slate-200 rounded-full overflow-hidden hidden sm:block",children:(0,s.jsx)("div",{className:"h-full bg-red-500",style:{width:`${Math.min(c.quantity/c.minLevel*100,100)}%`}})})]})}),(0,s.jsxs)("td",{className:"px-6 py-4 text-slate-600",children:["R$ ",c.price.toFixed(2)]}),(0,s.jsx)("td",{className:"px-6 py-4",children:c.quantity<=c.minLevel?(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs font-bold text-amber-600 bg-amber-50 px-2 py-1 rounded-full border border-amber-100",children:[(0,s.jsx)(sY,{size:10})," Repor (",c.quantity,"/",c.minLevel,")"]}):(0,s.jsx)("span",{className:"text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full border border-emerald-100",children:"Em dia"})}),(0,s.jsx)("td",{className:"px-6 py-4 text-right",children:(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,s.jsx)("button",{onClick:()=>(a=>{h(a.id),j({...a})})(c),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:(0,s.jsx)(s0,{size:16})}),(0,s.jsx)("button",{onClick:()=>(c=>{if(window.confirm("Tem certeza que deseja excluir este item do estoque?")){let d=a.find(a=>a.id===c);d&&b(d,"DELETE")}})(c.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,s.jsx)(sX,{size:16})})]})})]})},c.id)),0===q.length&&(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:6,className:"px-6 py-10 text-center text-slate-400",children:e?"Tudo certo! Nenhum produto com estoque baixo.":"Nenhum produto encontrado."})})]})]})})]}),k&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/50 backdrop-blur-sm p-4 animate-fade-in",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden transform scale-100",children:[(0,s.jsxs)("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-100 flex justify-between items-center",children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[(0,s.jsx)(M,{size:20,className:"text-blue-500"})," Novo Produto"]}),(0,s.jsx)("button",{onClick:()=>l(!1),className:"text-slate-400 hover:text-slate-600 hover:bg-slate-200 p-1 rounded-full transition-colors",children:(0,s.jsx)(R,{size:20})})]}),(0,s.jsxs)("form",{onSubmit:a=>{a.preventDefault(),m.name&&m.price&&(b({id:`new_${Date.now()}`,name:m.name,category:m.category||"Cabelo",quantity:Number(m.quantity),price:Number(m.price),minLevel:Number(m.minLevel)},"UPSERT"),l(!1),n({name:"",category:"Cabelo",quantity:0,price:0,minLevel:5}))},className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 ml-1",children:"Nome do Produto"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(tZ,{size:18,className:"absolute left-3 top-3 text-slate-400"}),(0,s.jsx)("input",{required:!0,type:"text",className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-sm text-slate-900 placeholder:text-slate-400",placeholder:"Ex: Pomada Matte 150g",value:m.name,onChange:a=>n({...m,name:a.target.value})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 ml-1",children:"Categoria"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(t$,{size:18,className:"absolute left-3 top-3 text-slate-400"}),(0,s.jsxs)("select",{className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-sm appearance-none text-slate-900",value:m.category,onChange:a=>n({...m,category:a.target.value}),children:[(0,s.jsx)("option",{value:"Cabelo",children:"Cabelo"}),(0,s.jsx)("option",{value:"Barba",children:"Barba"}),(0,s.jsx)("option",{value:"Acess\xf3rios",children:"Acess\xf3rios"}),(0,s.jsx)("option",{value:"Higiene",children:"Higiene"}),(0,s.jsx)("option",{value:"Consumo Interno",children:"Consumo Interno"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 ml-1",children:"Pre\xe7o (R$)"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(N,{size:18,className:"absolute left-3 top-3 text-slate-400"}),(0,s.jsx)("input",{required:!0,type:"number",step:"0.01",min:"0",className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-sm text-slate-900",value:m.price,onChange:a=>n({...m,price:Number(a.target.value)})})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 ml-1",children:"Quantidade"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(t_,{size:18,className:"absolute left-3 top-3 text-slate-400"}),(0,s.jsx)("input",{required:!0,type:"number",min:"0",className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-sm text-slate-900",value:m.quantity,onChange:a=>n({...m,quantity:Number(a.target.value)})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 ml-1",children:"M\xednimo (Alerta)"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(sY,{size:18,className:"absolute left-3 top-3 text-slate-400"}),(0,s.jsx)("input",{required:!0,type:"number",min:"0",className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-sm text-slate-900",value:m.minLevel,onChange:a=>n({...m,minLevel:Number(a.target.value)})})]})]})]}),(0,s.jsxs)("div",{className:"pt-4 flex gap-3",children:[(0,s.jsx)("button",{type:"button",onClick:()=>l(!1),className:"flex-1 py-3 bg-slate-100 text-slate-600 font-bold rounded-xl hover:bg-slate-200 transition-colors",children:"Cancelar"}),(0,s.jsx)("button",{type:"submit",className:"flex-1 py-3 bg-slate-900 text-white font-bold rounded-xl hover:bg-slate-800 shadow-lg transition-all",children:"Salvar Produto"})]})]})]})})]})},t1=z("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),t2=({services:a,notes:b,onSaveNote:c,customers:d,appointments:e,onScheduleReturn:f})=>{let[g,h]=(0,t.useState)(null),[i,j]=(0,t.useState)(""),[k,l]=(0,t.useState)(""),m=d.filter(a=>a.name.toLowerCase().includes(i.toLowerCase())||a.phone?.includes(i)).map(b=>({...b,...(b=>{let c=e.filter(a=>a.customerId===b),d=c.filter(a=>"COMPLETED"===a.status),f=[...c].sort((a,b)=>new Date(b.startTime).getTime()-new Date(a.startTime).getTime()),g=d.reduce((b,c)=>{let d=a.find(a=>a.id===c.serviceId);return b+(d?.price||0)},0),h=d.length>=5||g>=500;return{totalVisits:d.length,ltv:g,history:f,isVIP:h}})(b.id)})),n=g?m.find(a=>a.id===g):null,o=g?b.filter(a=>a.customerId===g):[];return(0,s.jsx)("div",{className:"space-y-4 md:space-y-6 animate-fade-in pb-10 h-[calc(100vh-140px)] flex flex-col",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 flex-1 overflow-hidden",children:[(0,s.jsxs)("div",{className:`lg:col-span-1 bg-white rounded-2xl shadow-sm border border-slate-100 flex flex-col overflow-hidden ${g?"hidden lg:flex":"flex"}`,children:[(0,s.jsx)("div",{className:"p-4 border-b border-slate-100 bg-white",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(s_,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Buscar cliente...",className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-blue-500 text-sm",value:i,onChange:a=>j(a.target.value)})]})}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:m.map(a=>(0,s.jsxs)("div",{onClick:()=>h(a.id),className:`p-4 border-b border-slate-50 cursor-pointer transition-all hover:bg-slate-50 flex items-center gap-3 ${g===a.id?"bg-blue-50 border-blue-100":""}`,children:[(0,s.jsx)(B,{url:a.avatar,name:a.name,size:"md",className:"!w-12 !h-12 rounded-full border"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("h4",{className:"font-bold text-sm truncate",children:a.name}),a.isVIP&&(0,s.jsx)(sR,{size:14,className:"text-amber-500 fill-amber-500 flex-shrink-0"})]}),(0,s.jsxs)("div",{className:"flex gap-1 mt-1",children:[a.membershipId&&(0,s.jsx)(sP,{size:12,className:"text-amber-500"}),(0,s.jsx)("p",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-tighter",children:a.membershipId?"Assinante":"Avulso"})]})]})]},a.id))})]}),(0,s.jsx)("div",{className:`lg:col-span-2 bg-white rounded-2xl shadow-sm border border-slate-100 flex-col overflow-hidden ${g?"flex":"hidden lg:flex"}`,children:n?(0,s.jsxs)("div",{className:"flex flex-col h-full overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("button",{onClick:()=>h(null),className:"lg:hidden p-2 text-slate-500 hover:bg-slate-200 rounded-full mr-1",children:(0,s.jsx)(o8,{size:24})}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(B,{url:n.avatar,name:n.name,size:"lg",className:"!w-16 !h-16 shadow-md border-4 border-white"}),n.isVIP&&(0,s.jsx)("div",{className:"absolute -top-2 -right-2 bg-amber-500 text-white p-1 rounded-full border-2 border-white shadow-sm",children:(0,s.jsx)(sR,{size:12,fill:"currentColor"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl md:text-2xl font-bold text-slate-800",children:n.name}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mt-1",children:[n.membershipId&&(0,s.jsxs)("span",{className:"bg-amber-100 text-amber-700 text-[9px] font-black px-2 py-0.5 rounded-full border border-amber-200 uppercase tracking-tighter flex items-center gap-1",children:[(0,s.jsx)(sP,{size:10})," Barvo Club Premium"]}),n.isVIP&&(0,s.jsx)("span",{className:"bg-amber-500 text-white text-[9px] font-black px-2 py-0.5 rounded-full uppercase tracking-tighter",children:"Cliente VIP"})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,s.jsxs)("div",{className:"flex gap-4 bg-white p-3 rounded-xl border shadow-sm",children:[(0,s.jsxs)("div",{className:"text-center px-2",children:[(0,s.jsx)("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"LTV"}),(0,s.jsxs)("p",{className:"text-lg font-bold text-slate-800",children:["R$ ",n.ltv.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"text-center px-2",children:[(0,s.jsx)("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Visitas"}),(0,s.jsx)("p",{className:"text-lg font-bold text-slate-800",children:n.totalVisits})]})]}),(0,s.jsxs)("button",{onClick:()=>f(n.id,n.name),className:"bg-brand-dark text-white px-5 py-3 rounded-xl font-bold hover:bg-black transition-all flex items-center gap-2 shadow-lg shadow-brand-dark/20 text-sm",children:[(0,s.jsx)(G,{size:18})," Agendar Retorno"]})]})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[(0,s.jsx)(sV,{size:18,className:"text-blue-500"})," Notas T\xe9cnicas"]}),(0,s.jsxs)("div",{className:"bg-amber-50 border border-amber-100 rounded-xl p-4",children:[(0,s.jsx)("textarea",{className:"w-full bg-transparent border-none focus:ring-0 text-sm text-slate-700 placeholder:text-slate-400 resize-none",rows:2,placeholder:"Prefer\xeancias do cliente (ex: Pente 2 baixo)...",value:k,onChange:a=>l(a.target.value)}),(0,s.jsx)("div",{className:"flex justify-end mt-2",children:(0,s.jsx)("button",{onClick:()=>{k.trim()&&g&&(c({customerId:g,note:k,tags:["Manual"]}),l(""))},disabled:!k.trim(),className:"bg-amber-500 text-white px-4 py-1.5 rounded-lg text-xs font-bold hover:bg-amber-600 disabled:opacity-50 transition-colors",children:"Salvar Nota"})})]}),(0,s.jsx)("div",{className:"space-y-3",children:o.map(a=>(0,s.jsxs)("div",{className:"bg-white border border-slate-100 rounded-xl p-4 shadow-sm",children:[(0,s.jsx)("p",{className:"text-sm text-slate-700 mb-2",children:a.note}),(0,s.jsx)("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:new Date(a.date).toLocaleDateString("pt-BR")})]},a.id))})]}),(0,s.jsxs)("div",{className:"pt-6 border-t border-slate-100",children:[(0,s.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,s.jsxs)("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[(0,s.jsx)(t1,{size:18,className:"text-purple-500"})," Hist\xf3rico de Visitas"]})}),(0,s.jsx)("div",{className:"space-y-3",children:n.history.map(b=>(0,s.jsxs)("div",{className:"flex justify-between items-center p-4 bg-slate-50 rounded-xl border border-slate-100",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("p",{className:"text-sm font-bold text-slate-800",children:a.find(a=>a.id===b.serviceId)?.name}),void 0!==b.paymentMethod&&"PRESENTIAL"!==b.paymentMethod?(0,s.jsx)(pc,{size:12,className:"text-emerald-500"}):(0,s.jsx)(pC,{size:12,className:"text-blue-500"})]}),(0,s.jsxs)("p",{className:"text-[10px] text-slate-400",children:[new Date(b.startTime).toLocaleDateString("pt-BR")," \xe0s ",new Date(b.startTime).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,s.jsx)("span",{className:`text-[9px] font-black px-2 py-0.5 rounded uppercase ${"COMPLETED"===b.status?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-500"}`,children:b.status}),void 0!==b.paymentMethod&&"PRESENTIAL"!==b.paymentMethod&&(0,s.jsx)("span",{className:"text-[8px] font-bold text-emerald-600 uppercase",children:"Pago via App"})]})]},b.id))})]})]})]}):(0,s.jsx)("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:(0,s.jsx)("p",{children:"Selecione um cliente para ver os detalhes."})})})]})})};var t3=c(98767),t4=c(67629);let t5=z("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),t6=z("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),t7=z("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),t8=z("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),t9=({currentUser:a,inventory:b,onPurchase:c})=>{let d=`barberpro_cart_${a.id}`,[e,f]=(0,t.useState)(()=>{try{let a=localStorage.getItem(d);return a?JSON.parse(a):[]}catch(a){return[]}});(0,t.useEffect)(()=>{localStorage.setItem(d,JSON.stringify(e))},[e,d]);let[g,h]=(0,t.useState)(!1),[i,j]=(0,t.useState)(!1),[k,l]=(0,t.useState)(!1),[m,n]=(0,t.useState)(!1),[o,p]=(0,t.useState)(null),[q,u]=(0,t.useState)("Todos"),[v,w]=(0,t.useState)(!1),[x,y]=(0,t.useState)("SAVED_CARD"),[z,A]=(0,t.useState)(a.paymentMethods?.find(a=>a.isDefault)?.id||a.paymentMethods?.[0]?.id||""),[B,C]=(0,t.useState)({number:"",expiry:"",cvc:"",name:""}),[D,E]=(0,t.useState)(300);(0,t.useEffect)(()=>{if("PIX_DISPLAY"===x&&D>0){let a=setInterval(()=>E(a=>a-1),1e3);return()=>clearInterval(a)}},[x,D]);let F=(0,t.useMemo)(()=>{let a=["Lavat\xf3rio","Bar"];return[...py,...b.filter(b=>!a.includes(b.category)).map(a=>({id:`inv_${a.id}`,name:a.name,description:`Produto premium dispon\xedvel para retirada imediata na Barvo.`,price:a.price,category:a.category,images:["https://images.unsplash.com/photo-1585232561307-3f8d407c95b4?auto=format&fit=crop&q=80&w=600"],rating:5,reviewsCount:0,inStock:a.quantity>0,variations:["Padr\xe3o"]}))]},[b]),G=["Todos",...Array.from(new Set(F.map(a=>a.category)))],H="Todos"===q?F:F.filter(a=>a.category===q),I=e.reduce((a,b)=>a+b.price*b.quantity,0),J=a.points||0,K=(0,r.canRedeemPoints)(J),L=(0,r.calculatePointsDiscount)(J),M=v&&K?Math.min(L,.5*I):0;v&&pg.DISCOUNT_CONVERSION_RATE;let N=I-M,O=(a,b)=>{f(c=>c.map(c=>{if(c.cartId===a){let a=Math.max(1,c.quantity+b);return{...c,quantity:a}}return c}))},Q=async()=>{l(!0);let a=v?M:0;try{if(!await Promise.resolve(c(e,N,v,a)))return void l(!1);let b=v?0:(0,r.calculatePointsEarned)(N);setTimeout(()=>{l(!1),j(!1),p({total:N,pointsEarned:b}),n(!0),f([]),w(!1),y("SAVED_CARD")},2e3)}catch(a){console.error("Purchase failed",a),l(!1)}};return(0,s.jsxs)("div",{className:"relative h-full pb-20",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6 animate-fade-in",children:[(0,s.jsxs)("div",{className:"px-1",children:[(0,s.jsxs)("h2",{className:"text-2xl md:text-3xl font-black text-slate-800 tracking-tight flex items-center gap-2",children:[(0,s.jsx)(P,{className:"text-brand-dark",size:26})," Loja Barvo"]}),(0,s.jsx)("p",{className:"text-slate-500 text-xs font-bold uppercase tracking-widest mt-1 opacity-60",children:"Cuidados Premium"})]}),(0,s.jsxs)("button",{onClick:()=>h(!0),className:"w-full md:w-auto flex bg-brand-dark text-white px-6 py-4 rounded-2xl hover:bg-black transition-all shadow-xl items-center justify-center gap-3 relative active:scale-95 group",children:[(0,s.jsx)("div",{className:"bg-white/10 p-1.5 rounded-lg group-hover:scale-110 transition-transform",children:(0,s.jsx)(t5,{size:18})}),(0,s.jsx)("span",{className:"font-black text-xs uppercase tracking-[0.15em]",children:"Meu Carrinho"}),e.length>0&&(0,s.jsx)("span",{className:"absolute -top-1.5 -right-1.5 bg-brand-accent text-white text-[10px] font-black w-6 h-6 flex items-center justify-center rounded-full border-2 border-white shadow-lg animate-pulse-soft",children:e.reduce((a,b)=>a+b.quantity,0)})]})]}),(0,s.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-2 no-scrollbar scroll-smooth",children:G.map(a=>(0,s.jsx)("button",{onClick:()=>u(a),className:`px-6 py-2.5 rounded-full text-[10px] font-black uppercase tracking-widest whitespace-nowrap transition-all border-2 ${q===a?"bg-brand-dark text-white border-brand-dark shadow-lg":"bg-white border-slate-100 text-slate-400"}`,children:a},a))}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-6 animate-fade-in",children:H.map(a=>(0,s.jsxs)("div",{className:"bg-white rounded-2xl md:rounded-[2rem] border border-slate-100 shadow-sm overflow-hidden hover:shadow-xl transition-all group flex flex-col active:scale-[0.98]",children:[(0,s.jsxs)("div",{className:"relative aspect-square overflow-hidden bg-slate-50",children:[(0,s.jsx)("img",{src:a.images[0],alt:a.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),!a.inStock&&(0,s.jsx)("div",{className:"absolute inset-0 bg-white/70 backdrop-blur-[1px] flex items-center justify-center",children:(0,s.jsx)("span",{className:"bg-slate-800 text-white px-2 py-1 rounded text-[9px] font-black uppercase tracking-widest",children:"Esgotado"})}),(0,s.jsxs)("div",{className:"absolute top-2 left-2 bg-white/90 backdrop-blur-md px-2 py-0.5 rounded-lg flex items-center gap-1 shadow-sm",children:[(0,s.jsx)(sR,{size:10,className:"text-amber-500 fill-amber-500"}),(0,s.jsx)("span",{className:"text-[9px] font-black text-slate-800",children:a.rating})]})]}),(0,s.jsxs)("div",{className:"p-3 md:p-5 flex flex-col flex-1",children:[(0,s.jsx)("h3",{className:"font-bold text-slate-800 text-xs md:text-base mb-2 leading-tight line-clamp-2 min-h-[2rem]",children:a.name}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-auto",children:[(0,s.jsxs)("span",{className:"text-sm md:text-lg font-black text-brand-dark leading-none",children:["R$ ",a.price.toFixed(2)]}),(0,s.jsx)("button",{onClick:()=>(a=>{let b=e.findIndex(b=>b.id===a.id);if(b>-1){let a=[...e];a[b].quantity+=1,f(a)}else f([...e,{...a,cartId:`${a.id}-${Date.now()}`,selectedVariation:"Padr\xe3o",quantity:1}])})(a),disabled:!a.inStock,className:"bg-slate-100 text-brand-dark p-2 md:p-3 rounded-xl active:bg-brand-dark active:text-white transition-all disabled:opacity-30 hover:shadow-lg",children:(0,s.jsx)(o7,{size:18})})]})]})]},a.id))}),g&&(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex justify-end",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-brand-dark/40 backdrop-blur-sm animate-fade-in",onClick:()=>h(!1)}),(0,s.jsxs)("div",{className:"relative w-full md:max-w-md bg-white h-full shadow-2xl flex flex-col animate-slide-in",children:[(0,s.jsxs)("div",{className:"px-6 pt-8 pb-6 border-b border-slate-100 flex justify-between items-center bg-white",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-slate-100 rounded-2xl flex items-center justify-center text-brand-dark",children:(0,s.jsx)(t5,{size:22})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-black text-slate-900 tracking-tighter",children:"Carrinho"}),(0,s.jsxs)("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:[e.length," ",1===e.length?"item selecionado":"itens selecionados"]})]})]}),(0,s.jsx)("button",{onClick:()=>h(!1),className:"p-2.5 bg-slate-50 hover:bg-slate-100 rounded-full text-slate-400 transition-all active:scale-90",children:(0,s.jsx)(R,{size:20,strokeWidth:3})})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4 custom-scrollbar bg-slate-50/20",children:[0===e.length?(0,s.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-center opacity-60 space-y-4",children:[(0,s.jsx)("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center text-slate-300",children:(0,s.jsx)(P,{size:40})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-black text-slate-800 uppercase tracking-widest",children:"Saco vazio"}),(0,s.jsxs)("p",{className:"text-xs font-medium text-slate-400 mt-1",children:["Que tal adicionar alguns",(0,s.jsx)("br",{}),"produtos premium?"]})]}),(0,s.jsx)("button",{onClick:()=>h(!1),className:"text-xs font-black text-brand-accent uppercase tracking-widest py-2 px-4 border-2 border-brand-accent/20 rounded-xl hover:bg-brand-accent hover:text-white transition-all",children:"Voltar para a loja"})]}):e.map(a=>(0,s.jsxs)("div",{className:"bg-white p-4 rounded-[1.5rem] border border-slate-100 shadow-sm flex gap-4 items-center group animate-fade-in",children:[(0,s.jsx)("div",{className:"relative w-16 h-16 rounded-xl overflow-hidden flex-shrink-0 border border-slate-50 shadow-inner",children:(0,s.jsx)("img",{src:a.images[0],className:"w-full h-full object-cover",alt:a.name})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,s.jsx)("h4",{className:"font-bold text-slate-800 text-xs leading-tight line-clamp-1 pr-2",children:a.name}),(0,s.jsx)("button",{onClick:()=>f(e.filter(b=>b.cartId!==a.cartId)),className:"text-slate-300 hover:text-red-500 transition-colors p-1",children:(0,s.jsx)(sX,{size:14})})]}),(0,s.jsxs)("p",{className:"text-sm font-black text-brand-dark mb-3",children:["R$ ",a.price.toFixed(2)]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center bg-slate-100 rounded-xl p-0.5 border border-slate-200",children:[(0,s.jsx)("button",{onClick:()=>O(a.cartId,-1),className:"w-7 h-7 flex items-center justify-center bg-white rounded-lg shadow-sm active:scale-75 text-slate-400 hover:text-brand-dark transition-all",children:(0,s.jsx)(t6,{size:12,strokeWidth:3})}),(0,s.jsx)("span",{className:"w-9 text-center text-xs font-black text-slate-800",children:a.quantity}),(0,s.jsx)("button",{onClick:()=>O(a.cartId,1),className:"w-7 h-7 flex items-center justify-center bg-white rounded-lg shadow-sm active:scale-75 text-slate-400 hover:text-brand-dark transition-all",children:(0,s.jsx)(o7,{size:12,strokeWidth:3})})]}),(0,s.jsxs)("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["R$ ",(a.price*a.quantity).toFixed(2)]})]})]})]},a.cartId)),e.length>0&&J>=pg.MIN_POINTS_TO_REDEEM&&(0,s.jsx)("div",{className:"pt-4 pb-2",children:(0,s.jsxs)("button",{onClick:()=>w(!v),className:`w-full p-4 rounded-2xl flex items-center gap-3 border transition-all ${v?"bg-blue-50 border-blue-200":"bg-slate-50 border-slate-100"}`,children:[(0,s.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${v?"bg-blue-600 text-white":"bg-blue-100 text-blue-600"}`,children:(0,s.jsx)(pF,{size:16})}),(0,s.jsxs)("div",{className:"text-left flex-1",children:[(0,s.jsxs)("p",{className:"text-[10px] font-black text-blue-800 uppercase leading-tight",children:["Usar meus ",J," pontos"]}),(0,s.jsxs)("p",{className:"text-[9px] text-slate-400 font-bold",children:["Desconto de R$ ",L.toFixed(2)," dispon\xedvel"]})]}),(0,s.jsx)("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${v?"bg-blue-600 border-blue-600":"border-slate-200"}`,children:v&&(0,s.jsx)(pz,{size:12,className:"text-white",strokeWidth:4})})]})}),e.length>0&&!v&&(0,s.jsx)("div",{className:"pt-2",children:(0,s.jsxs)("div",{className:"bg-emerald-50 border border-emerald-100 p-4 rounded-2xl flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center text-emerald-600",children:(0,s.jsx)(pD,{size:16})}),(0,s.jsxs)("p",{className:"text-[10px] font-bold text-emerald-800 uppercase leading-tight",children:["Voc\xea ganhar\xe1 ",(0,s.jsxs)("span",{className:"font-black underline",children:[(0,r.calculatePointsEarned)(N)," pontos"]})," com esta compra!"]})]})})]}),e.length>0&&(0,s.jsxs)("div",{className:"p-6 bg-white border-t border-slate-100 shadow-[0_-15px_40px_rgba(0,0,0,0.04)] space-y-5",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,s.jsxs)("span",{className:"text-slate-400 font-bold uppercase tracking-widest flex items-center gap-2",children:[(0,s.jsx)(t7,{size:14})," Subtotal"]}),(0,s.jsxs)("span",{className:"font-black text-slate-800",children:["R$ ",I.toFixed(2)]})]}),v&&(0,s.jsxs)("div",{className:"flex justify-between items-center text-xs animate-fade-in",children:[(0,s.jsxs)("span",{className:"text-slate-400 font-bold uppercase tracking-widest flex items-center gap-2",children:[(0,s.jsx)(tZ,{size:14})," Pontos Fidelidade"]}),(0,s.jsxs)("span",{className:"font-black text-emerald-600",children:["- R$ ",M.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"pt-3 border-t border-slate-50 flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm font-black text-slate-900 uppercase tracking-[0.2em]",children:"Total"}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsxs)("span",{className:"text-2xl font-black text-brand-dark tracking-tighter",children:["R$ ",N.toFixed(2)]})})]})]}),(0,s.jsxs)("button",{onClick:()=>{h(!1),j(!0)},className:"w-full bg-brand-dark text-white font-black py-5 rounded-[2rem] shadow-2xl active:scale-[0.97] hover:bg-black transition-all text-xs uppercase tracking-[0.2em] flex items-center justify-center gap-4 group",children:["Ir para o Pagamento",(0,s.jsx)("div",{className:"bg-white/10 p-1 rounded-lg group-hover:translate-x-1 transition-transform",children:(0,s.jsx)(o4,{size:16,strokeWidth:3})})]}),(0,s.jsx)("p",{className:"text-center text-[9px] font-black text-slate-300 uppercase tracking-widest",children:"Retirada gr\xe1tis na unidade selecionada"})]})]})]}),i&&(0,s.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-slate-900/60 backdrop-blur-md animate-fade-in overflow-y-auto p-2",children:(0,s.jsxs)("div",{className:"w-full max-w-5xl h-auto md:min-h-0 flex flex-col md:flex-row relative bg-white rounded-[2.5rem] md:rounded-[3rem] shadow-2xl overflow-hidden",children:[(0,s.jsx)("button",{onClick:()=>j(!1),className:"absolute top-5 right-5 z-50 p-2.5 text-slate-400 hover:text-slate-800 bg-slate-100 rounded-full transition-colors",children:(0,s.jsx)(R,{size:20})}),(0,s.jsx)("div",{className:"w-full md:w-1/2 p-6 md:p-16 bg-white flex flex-col justify-center border-r border-slate-50",children:(0,s.jsxs)("div",{className:"max-w-md w-full mx-auto",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-4 text-brand-dark/40 font-bold text-[10px] uppercase tracking-widest",children:[(0,s.jsx)(t8,{size:18})," ",(0,s.jsx)("span",{children:"Checkout 100% Seguro"})]}),(0,s.jsx)("h2",{className:"text-2xl md:text-3xl font-black text-slate-800 mb-6 md:mb-8 tracking-tighter",children:"Pagamento"}),(0,s.jsx)("div",{className:"flex gap-1 mb-6 bg-slate-50 p-1 rounded-xl",children:["SAVED_CARD","NEW_CARD","PIX"].map(a=>(0,s.jsx)("button",{onClick:()=>y(a),className:`flex-1 py-2.5 text-[9px] md:text-[10px] font-black uppercase rounded-lg transition-all ${x===a?"bg-white text-slate-900 shadow-md":"text-slate-400"}`,children:"SAVED_CARD"===a?"Cart\xe3o":"NEW_CARD"===a?"Novo":"Pix"},a))}),"GENERATING_PIX"===x?(0,s.jsxs)("div",{className:"text-center py-10 animate-pulse",children:[(0,s.jsx)(pA,{className:"animate-spin mx-auto text-emerald-500 mb-4",size:40}),(0,s.jsx)("p",{className:"text-xs font-black text-slate-600 uppercase tracking-widest",children:"Gerando Pix..."})]}):"PIX_DISPLAY"===x?(0,s.jsxs)("div",{className:"space-y-4 animate-fade-in",children:[(0,s.jsxs)("div",{className:"bg-slate-50 p-6 md:p-8 rounded-[2rem] border-2 border-emerald-100 flex flex-col items-center",children:[(0,s.jsx)("div",{className:"bg-white p-3 rounded-[1.5rem] shadow-xl mb-4",children:(0,s.jsx)("img",{src:"https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=BARVO_PIX_MOCK",className:"w-32 h-32 md:w-40 md:h-40",alt:"QR Pix"})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-emerald-600 font-black",children:[(0,s.jsx)(pB,{size:18})," ",(0,s.jsx)("span",{className:"text-lg",children:(a=>{let b=Math.floor(a/60);return`${b}:${(a%60).toString().padStart(2,"0")}`})(D)})]})]}),(0,s.jsx)("button",{onClick:Q,className:"w-full bg-emerald-600 text-white py-4 rounded-xl font-black text-xs uppercase tracking-widest shadow-xl active:scale-95 transition-all",children:"J\xe1 paguei via Pix"})]}):(0,s.jsxs)("form",{className:"space-y-5",onSubmit:a=>{a.preventDefault(),"PIX"===x?(y("GENERATING_PIX"),setTimeout(()=>y("PIX_DISPLAY"),1500)):Q()},children:["SAVED_CARD"===x&&(0,s.jsx)("div",{className:"space-y-2",children:a.paymentMethods?.map(a=>(0,s.jsxs)("button",{type:"button",onClick:()=>A(a.id),className:`w-full flex items-center justify-between p-4 rounded-xl border-2 transition-all ${z===a.id?"border-brand-dark bg-slate-50":"border-slate-100 bg-white"}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("img",{src:`https://img.icons8.com/color/48/${a.brand}.png`,className:"h-5"}),(0,s.jsxs)("span",{className:"text-xs font-black text-slate-800",children:["â€¢â€¢â€¢â€¢ ",a.last4]})]}),(0,s.jsx)("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${z===a.id?"border-brand-dark bg-brand-dark":"border-slate-200"}`,children:z===a.id&&(0,s.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})]},a.id))}),"NEW_CARD"===x&&(0,s.jsx)("div",{className:"space-y-3 animate-fade-in",children:(0,s.jsxs)("div",{className:"bg-slate-50 border border-slate-200 rounded-xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-slate-200 flex items-center gap-3",children:[(0,s.jsx)(pC,{size:18,className:"text-slate-400"}),(0,s.jsx)("input",{required:!0,placeholder:"N\xfamero do cart\xe3o",className:"bg-transparent outline-none text-xs w-full font-bold",value:B.number,onChange:a=>C({...B,number:a.target.value})})]}),(0,s.jsxs)("div",{className:"flex divide-x divide-slate-200",children:[(0,s.jsx)("input",{required:!0,placeholder:"MM/AA",className:"bg-transparent outline-none p-4 text-xs w-1/2 font-bold",value:B.expiry,onChange:a=>C({...B,expiry:a.target.value})}),(0,s.jsx)("input",{required:!0,placeholder:"CVC",className:"bg-transparent outline-none p-4 text-xs w-1/2 font-bold",value:B.cvc,onChange:a=>C({...B,cvc:a.target.value})})]})]})}),(0,s.jsx)("div",{className:"pt-2",children:(0,s.jsxs)("button",{type:"button",onClick:()=>w(!v),className:`w-full flex items-center justify-between p-3 rounded-xl border-2 transition-all ${v?"bg-blue-50 border-blue-200":"bg-slate-50 border-slate-100"}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(pF,{size:18,className:v?"text-blue-600":"text-slate-400"}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("span",{className:"block font-black text-[10px] text-slate-800 uppercase tracking-widest",children:"Usar Fidelidade"}),(0,s.jsxs)("span",{className:"text-[9px] text-slate-400 font-bold",children:["Saldo: ",J," pts"]})]})]}),(0,s.jsx)("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${v?"bg-blue-600 border-blue-600":"border-slate-300"}`,children:v&&(0,s.jsx)(pz,{size:12,className:"text-white",strokeWidth:4})})]})}),(0,s.jsx)("button",{type:"submit",disabled:k||"SAVED_CARD"===x&&!z&&!!a.paymentMethods?.length,className:`w-full ${"PIX"===x?"bg-emerald-600":"bg-brand-dark"} text-white py-4 rounded-xl font-black text-xs uppercase tracking-widest shadow-2xl transition-all disabled:opacity-50 active:scale-95`,children:k?(0,s.jsx)(pA,{className:"animate-spin mx-auto",size:20}):"PIX"===x?"Gerar Qr Code Pix":`Pagar R$ ${N.toFixed(2)}`})]})]})}),(0,s.jsx)("div",{className:"hidden md:flex w-1/2 p-16 bg-slate-50 flex-col justify-center",children:(0,s.jsxs)("div",{className:"max-w-sm w-full mx-auto",children:[(0,s.jsx)("h3",{className:"text-slate-400 font-black uppercase text-[10px] tracking-widest mb-10",children:"Resumo da Compra"}),(0,s.jsx)("div",{className:"space-y-6 max-h-[30vh] overflow-y-auto pr-4 custom-scrollbar mb-10",children:e.map(a=>(0,s.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:a.images[0],className:"w-14 h-14 rounded-xl object-cover shadow-lg border-2 border-white"}),(0,s.jsx)("span",{className:"absolute -top-1.5 -right-1.5 bg-slate-900 text-white text-[9px] font-black w-5 h-5 flex items-center justify-center rounded-full border-2 border-white",children:a.quantity})]}),(0,s.jsx)("div",{className:"flex-1 min-w-0",children:(0,s.jsx)("h4",{className:"font-bold text-slate-800 text-xs truncate",children:a.name})}),(0,s.jsxs)("span",{className:"font-black text-slate-900 text-xs",children:["R$ ",(a.price*a.quantity).toFixed(2)]})]},a.cartId))}),(0,s.jsxs)("div",{className:"space-y-2 pt-6 border-t-2 border-slate-200/50",children:[(0,s.jsxs)("div",{className:"flex justify-between text-xs text-slate-400 font-black uppercase tracking-widest",children:[(0,s.jsx)("span",{children:"Subtotal"}),(0,s.jsxs)("span",{children:["R$ ",I.toFixed(2)]})]}),v&&(0,s.jsxs)("div",{className:"flex justify-between text-xs text-emerald-600 font-black uppercase tracking-widest",children:[(0,s.jsx)("span",{children:"Desconto"}),(0,s.jsxs)("span",{children:["- R$ ",M.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center pt-4 text-slate-900",children:[(0,s.jsx)("span",{className:"font-black text-sm uppercase tracking-widest",children:"Total"}),(0,s.jsxs)("span",{className:"text-3xl font-black tracking-tighter",children:["R$ ",N.toFixed(2)]})]})]})]})})]})}),m&&o&&(0,s.jsx)("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-slate-900/90 backdrop-blur-md p-4 animate-fade-in",children:(0,s.jsxs)("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-sm overflow-hidden text-center p-8 md:p-12 border border-white/20",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-6 text-emerald-600",children:(0,s.jsx)(pe,{size:32,className:"animate-bounce"})}),(0,s.jsx)("h3",{className:"text-2xl font-black text-slate-900 mb-2 tracking-tighter",children:"Tudo pronto!"}),(0,s.jsx)("p",{className:"text-slate-500 text-xs font-medium mb-8",children:"Pedido confirmado. Retire seus itens no balc\xe3o da barbearia."}),(0,s.jsxs)("div",{className:"bg-slate-50 rounded-2xl p-4 mb-8 flex items-center justify-between border border-slate-100",children:[(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("span",{className:"text-[9px] text-slate-400 font-black uppercase block",children:"Pago"}),(0,s.jsxs)("span",{className:"text-xl font-black text-slate-900",children:["R$ ",o.total.toFixed(2)]})]}),o.pointsEarned>0&&(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("span",{className:"text-[9px] text-amber-600 font-black uppercase block",children:"Ganhou"}),(0,s.jsxs)("span",{className:"text-sm font-black text-amber-700",children:["+",o.pointsEarned," pts"]})]})]}),(0,s.jsx)("button",{onClick:()=>{n(!1)},className:"w-full bg-brand-dark text-white py-4 rounded-xl font-black text-xs uppercase tracking-widest shadow-xl active:scale-95 transition-all",children:"Continuar Navegando"})]})})]})},ua=z("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),ub=z("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),uc=z("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ud=({orders:a,users:b,onUpdateStatus:c,onNavigate:d})=>{let[e,f]=(0,t.useState)("ALL"),[g,h]=(0,t.useState)(""),[i,j]=(0,t.useState)(null),[k,l]=(0,t.useState)(""),m=a.filter(a=>{let b="ALL"===e||a.status===e,c=a.customerName.toLowerCase().includes(g.toLowerCase())||a.id.includes(g);return b&&c}),n=(a,b)=>{switch(a){case"PAID":return(0,s.jsx)("span",{className:"bg-emerald-100 text-emerald-700 text-[9px] font-black px-2 py-0.5 rounded uppercase",children:"Pago"});case"PREPARING":return(0,s.jsx)("span",{className:"bg-blue-100 text-blue-700 text-[9px] font-black px-2 py-0.5 rounded uppercase",children:"Preparando"});case"READY_FOR_PICKUP":return(0,s.jsx)("span",{className:"bg-indigo-100 text-indigo-700 text-[9px] font-black px-2 py-0.5 rounded uppercase",children:"Pronto p/ Retirada"});case"SHIPPED":return(0,s.jsx)("span",{className:"bg-purple-100 text-purple-700 text-[9px] font-black px-2 py-0.5 rounded uppercase",children:"DELIVERY"===b?"Saiu p/ Entrega":"Despachado"});case"DELIVERED":return(0,s.jsx)("span",{className:"bg-slate-100 text-slate-500 text-[9px] font-black px-2 py-0.5 rounded uppercase",children:"Conclu\xeddo"});case"CANCELLED":return(0,s.jsx)("span",{className:"bg-red-100 text-red-700 text-[9px] font-black px-2 py-0.5 rounded uppercase",children:"Cancelado"});default:return(0,s.jsx)("span",{className:"bg-slate-100 text-slate-400 text-[9px] font-black px-2 py-0.5 rounded uppercase",children:"Pendente"})}},o=a=>{i&&(c(i.id,a,k||void 0),j(null),l(""))};return(0,s.jsxs)("div",{className:"space-y-6 animate-fade-in pb-10",children:[(0,s.jsx)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4 border-b border-slate-100 pb-4",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-slate-800 tracking-tight flex items-center gap-2",children:[(0,s.jsx)(M,{className:"text-blue-500"})," Gest\xe3o de Pedidos"]}),(0,s.jsx)("p",{className:"text-xs text-slate-500 font-medium",children:"Controle de faturamento e log\xedstica da loja."})]})}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-3",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(s_,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),(0,s.jsx)("input",{type:"text",placeholder:"Buscar por cliente ou ID...",className:"w-full pl-10 pr-4 py-2 bg-white border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-blue-500 text-sm font-medium",value:g,onChange:a=>h(a.target.value)})]}),(0,s.jsxs)("select",{className:"bg-white border border-slate-200 rounded-xl px-4 py-2 text-xs font-bold text-slate-600 outline-none cursor-pointer",value:e,onChange:a=>f(a.target.value),children:[(0,s.jsx)("option",{value:"ALL",children:"Todos Status"}),(0,s.jsx)("option",{value:"PAID",children:"Pagos (Novos)"}),(0,s.jsx)("option",{value:"PREPARING",children:"Em Preparo"}),(0,s.jsx)("option",{value:"SHIPPED",children:"Em Rota / Enviados"}),(0,s.jsx)("option",{value:"DELIVERED",children:"Entregues"})]})]}),(0,s.jsx)("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full text-left",children:[(0,s.jsx)("thead",{className:"bg-slate-50 text-slate-500 text-[10px] font-black uppercase tracking-widest border-b border-slate-100",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4 text-center w-20",children:"ID"}),(0,s.jsx)("th",{className:"px-6 py-4",children:"Cliente"}),(0,s.jsx)("th",{className:"px-6 py-4",children:"Itens"}),(0,s.jsx)("th",{className:"px-6 py-4",children:"Tipo"}),(0,s.jsx)("th",{className:"px-6 py-4",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-4 text-right",children:"Valor"}),(0,s.jsx)("th",{className:"px-6 py-4 text-center",children:"A\xe7\xf5es"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-slate-100",children:0===m.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:7,className:"px-6 py-10 text-center text-slate-400 text-sm font-medium italic",children:"Nenhum pedido encontrado no momento."})}):m.map(a=>(0,s.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors group cursor-pointer",onClick:()=>j(a),children:[(0,s.jsxs)("td",{className:"px-6 py-4 text-center font-mono text-[10px] text-slate-400",children:["#",a.id.slice(-6).toUpperCase()]}),(0,s.jsxs)("td",{className:"px-6 py-4",children:[(0,s.jsx)("p",{className:"font-bold text-slate-800 text-sm",children:a.customerName}),(0,s.jsx)("p",{className:"text-[10px] text-slate-400",children:new Date(a.createdAt).toLocaleDateString("pt-BR")})]}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex -space-x-2",children:[a.items.slice(0,3).map((a,b)=>(0,s.jsx)("img",{src:a.images[0],className:"w-7 h-7 rounded-lg border-2 border-white object-cover shadow-sm",title:a.name},b)),a.items.length>3&&(0,s.jsxs)("div",{className:"w-7 h-7 rounded-lg bg-slate-100 border-2 border-white flex items-center justify-center text-[10px] font-black text-slate-500",children:["+",a.items.length-3]})]})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("span",{className:`text-[10px] font-bold uppercase tracking-tighter flex items-center gap-1 ${"DELIVERY"===a.deliveryMethod?"text-amber-600":"text-slate-500"}`,children:["PICKUP"===a.deliveryMethod?(0,s.jsx)(P,{size:12}):(0,s.jsx)(ua,{size:12}),"PICKUP"===a.deliveryMethod?"Retirada":"Entrega"]})}),(0,s.jsx)("td",{className:"px-6 py-4",children:n(a.status,a.deliveryMethod)}),(0,s.jsxs)("td",{className:"px-6 py-4 text-right font-black text-slate-900 text-sm",children:["R$ ",a.totalAmount.toFixed(2)]}),(0,s.jsx)("td",{className:"px-6 py-4 text-center",children:(0,s.jsx)("button",{onClick:b=>{b.stopPropagation(),j(a)},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all active:scale-90",children:(0,s.jsx)(sU,{size:16})})})]},a.id))})]})})}),i&&(0,s.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4 animate-fade-in",children:(0,s.jsxs)("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-4xl overflow-hidden border border-slate-100 animate-slide-in flex flex-col md:flex-row h-full md:h-auto max-h-[90vh]",children:[(0,s.jsxs)("div",{className:"w-full md:w-72 bg-slate-50 border-r border-slate-100 p-6 flex flex-col",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Informa\xe7\xf5es do Cliente"}),(0,s.jsx)("button",{onClick:()=>j(null),className:"md:hidden p-2",children:(0,s.jsx)(R,{size:20})})]}),(()=>{let c,d,e=(c=i.customerId,b.find(a=>a.id===c)),f=(d=i.customerId,a.filter(a=>a.customerId===d).length);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(B,{url:e?.avatar,name:e?.name,size:"md",className:"!w-14 !h-14 border-2 border-white shadow-sm"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-bold text-slate-800 text-sm leading-tight",children:i.customerName}),(0,s.jsx)("p",{className:"text-[10px] text-slate-400 mt-1 font-bold uppercase",children:e?.membershipId?"Clube Barvo":"Cliente Avulso"})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 text-xs text-slate-600",children:[(0,s.jsx)(tV,{size:14,className:"text-slate-400"}),(0,s.jsx)("span",{className:"font-medium",children:e?.phone||"(11) 99999-0000"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-xs text-slate-600",children:[(0,s.jsx)(tW,{size:14,className:"text-slate-400"}),(0,s.jsx)("span",{className:"truncate font-medium",children:e?.email||"cliente@email.com"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("div",{className:"bg-white p-3 rounded-xl border border-slate-200 shadow-sm",children:[(0,s.jsx)("p",{className:"text-[8px] font-black text-slate-400 uppercase mb-1",children:"Pontos"}),(0,s.jsxs)("p",{className:"text-sm font-black text-amber-600 flex items-center gap-1",children:[(0,s.jsx)(ub,{size:12})," ",e?.points||0]})]}),(0,s.jsxs)("div",{className:"bg-white p-3 rounded-xl border border-slate-200 shadow-sm",children:[(0,s.jsx)("p",{className:"text-[8px] font-black text-slate-400 uppercase mb-1",children:"Pedidos"}),(0,s.jsxs)("p",{className:"text-sm font-black text-slate-800 flex items-center gap-1",children:[(0,s.jsx)(t1,{size:12})," ",f]})]})]}),"DELIVERY"===i.deliveryMethod&&(0,s.jsxs)("div",{className:"p-4 bg-amber-50 border border-amber-100 rounded-xl",children:[(0,s.jsxs)("p",{className:"text-[9px] font-black text-amber-700 uppercase mb-2 flex items-center gap-1",children:[(0,s.jsx)(uc,{size:10})," Endere\xe7o p/ Entrega"]}),(0,s.jsxs)("p",{className:"text-[10px] text-amber-900 leading-relaxed font-bold",children:["Rua das Flores, 123 - Ap 42",(0,s.jsx)("br",{}),"Jardim Paulista, S\xe3o Paulo - SP"]})]})]})})(),(0,s.jsx)("div",{className:"mt-auto pt-6 border-t border-slate-200 hidden md:block",children:(0,s.jsxs)("button",{onClick:()=>{d("crm"),j(null)},className:"w-full py-3 bg-brand-dark text-white rounded-xl text-[10px] font-black uppercase hover:bg-black transition-all flex items-center justify-center gap-2 active:scale-95 shadow-lg",children:[(0,s.jsx)(Q,{size:14})," Ver CRM Completo"]})})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col bg-white",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/30",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-bold text-slate-800",children:["Pedido #",i.id.slice(-6).toUpperCase()]}),(0,s.jsx)("p",{className:"text-xs text-slate-500 font-medium",children:"Log\xedstica e Controle Financeiro"})]}),(0,s.jsx)("button",{onClick:()=>j(null),className:"p-2 text-slate-400 hover:text-slate-800 transition-colors hidden md:block",children:(0,s.jsx)(R,{})})]}),(0,s.jsxs)("div",{className:"p-6 flex-1 overflow-y-auto space-y-8 custom-scrollbar",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[(0,s.jsx)("div",{className:"p-3 bg-brand-dark text-white rounded-xl",children:(0,s.jsx)(M,{size:20})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Estado Atual"}),(0,s.jsx)("div",{className:"mt-1",children:n(i.status,i.deliveryMethod)})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Pagamento"}),(0,s.jsx)("p",{className:"text-xs font-black text-slate-800 uppercase",children:"PIX"===i.paymentMethod?"Instant\xe2neo":"Cr\xe9dito"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Processamento"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,s.jsxs)("button",{onClick:()=>o("PREPARING"),className:"w-full py-3.5 bg-white border border-slate-200 rounded-xl text-[11px] font-black uppercase text-slate-700 hover:border-blue-500 hover:text-blue-600 transition-all flex items-center justify-center gap-2",children:[(0,s.jsx)(H,{size:14})," Iniciar Preparo"]}),"PICKUP"===i.deliveryMethod?(0,s.jsxs)("button",{onClick:()=>o("READY_FOR_PICKUP"),className:"w-full py-3.5 bg-indigo-600 text-white rounded-xl text-[11px] font-black uppercase hover:bg-indigo-700 transition-all flex items-center justify-center gap-2 shadow-xl shadow-indigo-500/10",children:[(0,s.jsx)(P,{size:14})," Pronto p/ Retirada"]}):(0,s.jsxs)("button",{onClick:()=>o("SHIPPED"),className:"w-full py-3.5 bg-purple-600 text-white rounded-xl text-[11px] font-black uppercase hover:bg-purple-700 transition-all flex items-center justify-center gap-2 shadow-xl shadow-purple-500/10",children:[(0,s.jsx)(ua,{size:14})," Saiu para Entrega"]}),(0,s.jsxs)("button",{onClick:()=>o("DELIVERED"),className:"w-full py-3.5 bg-emerald-600 text-white rounded-xl text-[11px] font-black uppercase hover:bg-emerald-700 transition-all flex items-center justify-center gap-2",children:[(0,s.jsx)(pe,{size:14})," Confirmar Conclus\xe3o"]}),(0,s.jsxs)("button",{onClick:()=>o("CANCELLED"),className:"w-full py-3 bg-white border border-red-100 text-red-500 rounded-xl text-[11px] font-black uppercase hover:bg-red-50 transition-all flex items-center justify-center gap-2",children:[(0,s.jsx)(sY,{size:14})," Cancelar Pedido"]})]}),"DELIVERY"===i.deliveryMethod&&(0,s.jsxs)("div",{className:"pt-4 space-y-2",children:[(0,s.jsx)("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"C\xf3digo de Rastreio"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",placeholder:"Ex: BR123...",className:"flex-1 p-3 bg-slate-50 border border-slate-200 rounded-xl text-xs font-bold uppercase outline-none focus:ring-2 focus:ring-blue-500",value:k,onChange:a=>l(a.target.value)}),(0,s.jsx)("button",{onClick:()=>o(i.status),className:"p-3 bg-slate-900 text-white rounded-xl hover:bg-black transition-all",children:(0,s.jsx)(pD,{size:16})})]})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-slate-50 rounded-2xl p-5 border border-slate-100",children:[(0,s.jsx)("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"An\xe1lise Financeira"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-xs font-bold text-slate-500",children:[(0,s.jsx)("span",{children:"Venda Bruta"}),(0,s.jsxs)("span",{children:["R$ ",i.totalAmount.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-xs font-bold text-slate-500",children:[(0,s.jsx)("span",{children:"Taxa Adquirente"}),(0,s.jsxs)("span",{children:["- R$ ",(.05*i.totalAmount).toFixed(2)]})]}),(0,s.jsxs)("div",{className:"pt-3 border-t border-slate-200 flex justify-between items-center text-slate-900",children:[(0,s.jsx)("span",{className:"font-black text-[10px] uppercase",children:"L\xedquido Estimado"}),(0,s.jsxs)("span",{className:"text-xl font-black",children:["R$ ",(.95*i.totalAmount).toFixed(2)]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Carrinho (",i.items.length,")"]}),(0,s.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2 custom-scrollbar",children:i.items.map(a=>(0,s.jsxs)("div",{className:"flex justify-between items-center p-2.5 hover:bg-slate-50 rounded-xl transition-all border border-transparent hover:border-slate-100",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("img",{src:a.images[0],className:"w-10 h-10 rounded-lg object-cover shadow-sm"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-xs font-black text-slate-800",children:[a.quantity,"x ",a.name]}),(0,s.jsx)("p",{className:"text-[9px] text-slate-400 uppercase font-bold",children:a.category})]})]}),(0,s.jsxs)("span",{className:"font-black text-slate-900 text-xs",children:["R$ ",(a.price*a.quantity).toFixed(2)]})]},a.cartId))})]})]})]})]})]})]})})]})},ue={PENDING_PAYMENT:{label:"Aguardando Pagamento",color:"text-amber-500",step:0},PAID:{label:"Pagamento Confirmado",color:"text-blue-500",step:1},PREPARING:{label:"Em Prepara\xe7\xe3o",color:"text-indigo-500",step:2},READY_FOR_PICKUP:{label:"Pronto para Retirada",color:"text-emerald-500",step:3},SHIPPED:{label:"Em Transporte",color:"text-purple-500",step:3},DELIVERED:{label:"Entregue",color:"text-emerald-600",step:4},CANCELLED:{label:"Cancelado",color:"text-red-500",step:-1}},uf=({orders:a,onNavigate:b,onRepeatOrder:c})=>{let[d,e]=(0,t.useState)(null);return(0,s.jsxs)("div",{className:"space-y-6 animate-fade-in pb-10",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-slate-800",children:"Meus Pedidos"}),(0,s.jsx)("p",{className:"text-xs text-slate-500 font-medium",children:"Acompanhe suas compras na loja Barvo."})]}),(0,s.jsxs)("button",{onClick:()=>b("shop"),className:"text-xs font-bold text-blue-600 flex items-center gap-1 hover:underline",children:[(0,s.jsx)(P,{size:14})," Ir para a loja"]})]}),(0,s.jsx)("div",{className:"grid gap-4",children:0===a.length?(0,s.jsxs)("div",{className:"text-center py-20 bg-white rounded-2xl border border-dashed border-slate-200",children:[(0,s.jsx)(M,{size:48,className:"mx-auto text-slate-200 mb-4"}),(0,s.jsx)("p",{className:"text-slate-400 font-medium text-sm",children:"Voc\xea ainda n\xe3o fez nenhum pedido."})]}):a.map(a=>{let b=ue[a.status],f=d===a.id;return(0,s.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden transition-all hover:shadow-md",children:[(0,s.jsxs)("div",{className:"p-5 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 cursor-pointer",onClick:()=>e(f?null:a.id),children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:`p-3 rounded-xl ${4===b.step?"bg-emerald-50 text-emerald-600":"bg-slate-50 text-brand-dark"}`,children:(0,s.jsx)(M,{size:24})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("h3",{className:"font-bold text-slate-800 text-sm",children:["Pedido #",a.id.slice(-6).toUpperCase()]}),(0,s.jsx)("span",{className:`text-[9px] font-black uppercase px-2 py-0.5 rounded-full ${b.color.replace("text","bg")}/10 ${b.color}`,children:b.label})]}),(0,s.jsxs)("p",{className:"text-[10px] text-slate-400 mt-1",children:["Realizado em ",new Date(a.createdAt).toLocaleDateString("pt-BR")," â€¢ ",a.items.reduce((a,b)=>a+b.quantity,0)," itens"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-6 w-full md:w-auto justify-between md:justify-end",children:[(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Total"}),(0,s.jsxs)("p",{className:"text-sm font-black text-slate-900",children:["R$ ",a.totalAmount.toFixed(2)]})]}),(0,s.jsx)(o9,{size:20,className:`text-slate-300 transition-transform ${f?"rotate-90":""}`})]})]}),f&&(0,s.jsxs)("div",{className:"px-5 pb-6 pt-2 border-t border-slate-50 bg-slate-50/30 animate-fade-in",children:[(0,s.jsxs)("div",{className:"py-8 px-4 flex justify-between relative max-w-lg mx-auto",children:[(0,s.jsx)("div",{className:"absolute top-1/2 left-0 right-0 h-0.5 bg-slate-100 -translate-y-1/2 z-0"}),[{icon:H,label:"Pagamento"},{icon:P,label:"Preparo"},{icon:ua,label:"PICKUP"===a.deliveryMethod?"Retirada":"Transporte"},{icon:pe,label:"Conclu\xeddo"}].map((a,c)=>(0,s.jsxs)("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[(0,s.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-4 border-white shadow-sm transition-all ${b.step>=c+1?"bg-brand-dark text-white":"bg-slate-100 text-slate-400"}`,children:(0,s.jsx)(a.icon,{size:14})}),(0,s.jsx)("span",{className:`text-[8px] font-black uppercase tracking-tighter ${b.step>=c+1?"text-brand-dark":"text-slate-400"}`,children:a.label})]},c))]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Resumo dos Itens"}),(0,s.jsx)("div",{className:"space-y-3",children:a.items.map(a=>(0,s.jsxs)("div",{className:"flex justify-between items-center bg-white p-3 rounded-xl border border-slate-100",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("img",{src:a.images[0],className:"w-10 h-10 rounded-lg object-cover"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-bold text-slate-800",children:a.name}),(0,s.jsxs)("p",{className:"text-[10px] text-slate-400",children:[a.quantity,"x R$ ",a.price.toFixed(2)]})]})]}),(0,s.jsxs)("span",{className:"text-xs font-bold text-slate-900",children:["R$ ",(a.price*a.quantity).toFixed(2)]})]},a.cartId))})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Log\xedstica & Rastreio"}),(0,s.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-slate-100 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(uc,{size:16,className:"text-slate-400 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-bold text-slate-800",children:"PICKUP"===a.deliveryMethod?"Retirada na Loja Augusta":"Entrega no Endere\xe7o"}),(0,s.jsx)("p",{className:"text-[10px] text-slate-400 leading-relaxed",children:"Rua Augusta, 1500 - Consola\xe7\xe3o, S\xe3o Paulo - SP"})]})]}),a.trackingCode&&(0,s.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-100 rounded-xl",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("span",{className:"text-[9px] font-black text-blue-700 uppercase",children:"C\xf3digo de Rastreio"}),(0,s.jsx)("span",{className:"text-[10px] font-bold text-blue-900",children:a.trackingCode})]}),(0,s.jsx)("button",{className:"w-full py-2 bg-blue-600 text-white text-[10px] font-bold rounded-lg hover:bg-blue-700 transition-colors uppercase tracking-widest",children:"Ver Mapa de Entrega"})]}),(0,s.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,s.jsxs)("button",{onClick:()=>c(a),className:"flex-1 py-3 bg-slate-900 text-white text-[10px] font-black uppercase rounded-lg shadow-md flex items-center justify-center gap-2 active:scale-95 transition-all",children:[(0,s.jsx)(sW,{size:14})," Repetir Pedido"]}),(0,s.jsxs)("button",{className:"flex-1 py-3 bg-white border border-slate-200 text-slate-700 text-[10px] font-black uppercase rounded-lg flex items-center justify-center gap-2 hover:bg-slate-50 transition-all",children:[(0,s.jsx)(sM,{size:14})," Suporte"]})]})]})]})]})]})]},a.id)})})]})};var ug=c(19423);let uh=z("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),ui=z("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),uj=z("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),uk=z("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),ul=z("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),um=z("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);var un=["type","layout","connectNulls","ref"],uo=["key"];function up(a){return(up="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function uq(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function ur(){return(ur=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function us(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ut(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?us(Object(c),!0).forEach(function(b){uA(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):us(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function uu(a){return function(a){if(Array.isArray(a))return uv(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function(a,b){if(a){if("string"==typeof a)return uv(a,void 0);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return uv(a,b)}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uv(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function uw(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,uB(d.key),d)}}function ux(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(ux=function(){return!!a})()}function uy(a){return(uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function uz(a,b){return(uz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function uA(a,b,c){return(b=uB(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function uB(a){var b=function(a,b){if("object"!=up(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=up(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==up(b)?b:b+""}var uC=function(a){var b,c;function d(){var a,b,c;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");for(var e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];return b=d,c=[].concat(f),b=uy(b),uA(a=function(a,b){if(b&&("object"===up(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,ux()?Reflect.construct(b,c||[],uy(this).constructor):b.apply(this,c)),"state",{isAnimationFinished:!0,totalLength:0}),uA(a,"generateSimpleStrokeDasharray",function(a,b){return"".concat(b,"px ").concat(a-b,"px")}),uA(a,"getStrokeDasharray",function(b,c,e){var f=e.reduce(function(a,b){return a+b});if(!f)return a.generateSimpleStrokeDasharray(c,b);for(var g=Math.floor(b/f),h=b%f,i=c-b,j=[],k=0,l=0;k<e.length;l+=e[k],++k)if(l+e[k]>h){j=[].concat(uu(e.slice(0,k)),[h-l]);break}var m=j.length%2==0?[0,i]:[i];return[].concat(uu(d.repeat(e,g)),uu(j),m).map(function(a){return"".concat(a,"px")}).join(", ")}),uA(a,"id",aj("recharts-line-")),uA(a,"pathRef",function(b){a.mainCurve=b}),uA(a,"handleAnimationEnd",function(){a.setState({isAnimationFinished:!0}),a.props.onAnimationEnd&&a.props.onAnimationEnd()}),uA(a,"handleAnimationStart",function(){a.setState({isAnimationFinished:!1}),a.props.onAnimationStart&&a.props.onAnimationStart()}),a}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),a&&uz(d,a),b=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch(a){return 0}}},{key:"renderErrorBar",value:function(a,b){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var c=this.props,d=c.points,e=c.xAxis,f=c.yAxis,g=c.layout,h=aN(c.children,jj);if(!h)return null;var i=function(a,b){return{x:a.x,y:a.y,value:a.value,errorVal:ju(a.payload,b)}};return u().createElement(ba,{clipPath:a?"url(#clipPath-".concat(b,")"):null},h.map(function(a){return u().cloneElement(a,{key:"bar-".concat(a.props.dataKey),data:d,xAxis:e,yAxis:f,layout:g,dataPointFormatter:i})}))}},{key:"renderDots",value:function(a,b,c){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,f=e.dot,g=e.points,h=e.dataKey,i=aS(this.props,!1),j=aS(f,!0),k=g.map(function(a,b){var c=ut(ut(ut({key:"dot-".concat(b),r:3},i),j),{},{index:b,cx:a.x,cy:a.y,value:a.value,dataKey:h,payload:a.payload,points:g});return d.renderDotItem(f,c)}),l={clipPath:a?"url(#clipPath-".concat(b?"":"dots-").concat(c,")"):null};return u().createElement(ba,ur({className:"recharts-line-dots",key:"dots"},l),k)}},{key:"renderCurveStatically",value:function(a,b,c,d){var e=this.props,f=e.type,g=e.layout,h=e.connectNulls,i=ut(ut(ut({},aS((e.ref,uq(e,un)),!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:b?"url(#clipPath-".concat(c,")"):null,points:a},d),{},{type:f,layout:g,connectNulls:h});return u().createElement(nv,ur({},i,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,b){var c=this,d=this.props,e=d.points,f=d.strokeDasharray,g=d.isAnimationActive,h=d.animationBegin,i=d.animationDuration,j=d.animationEasing,k=d.animationId,l=d.animateNewValues,m=d.width,n=d.height,o=this.state,p=o.prevPoints,q=o.totalLength;return u().createElement(dM,{begin:h,duration:i,isActive:g,easing:j,from:{t:0},to:{t:1},key:"line-".concat(k),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var g,h=d.t;if(p){var i=p.length/e.length,j=e.map(function(a,b){var c=Math.floor(b*i);if(p[c]){var d=p[c],e=an(d.x,a.x),f=an(d.y,a.y);return ut(ut({},a),{},{x:e(h),y:f(h)})}if(l){var g=an(2*m,a.x),j=an(n/2,a.y);return ut(ut({},a),{},{x:g(h),y:j(h)})}return ut(ut({},a),{},{x:a.x,y:a.y})});return c.renderCurveStatically(j,a,b)}var k=an(0,q)(h);if(f){var o="".concat(f).split(/[,\s]+/gim).map(function(a){return parseFloat(a)});g=c.getStrokeDasharray(k,q,o)}else g=c.generateSimpleStrokeDasharray(q,k);return c.renderCurveStatically(e,a,b,{strokeDasharray:g})})}},{key:"renderCurve",value:function(a,b){var c=this.props,d=c.points,e=c.isAnimationActive,f=this.state,g=f.prevPoints,h=f.totalLength;return e&&d&&d.length&&(!g&&h>0||!ir()(g,d))?this.renderCurveWithAnimation(a,b):this.renderCurveStatically(d,a,b)}},{key:"render",value:function(){var a,b=this.props,c=b.hide,d=b.dot,e=b.points,f=b.className,g=b.xAxis,h=b.yAxis,i=b.top,j=b.left,k=b.width,l=b.height,m=b.isAnimationActive,n=b.id;if(c||!e||!e.length)return null;var o=this.state.isAnimationFinished,p=1===e.length,q=T("recharts-line",f),r=g&&g.allowDataOverflow,s=h&&h.allowDataOverflow,t=r||s,v=ad()(n)?this.id:n,w=null!=(a=aS(d,!1))?a:{r:3,strokeWidth:2},x=w.r,y=w.strokeWidth,z=(d&&"object"===aH(d)&&"clipDot"in d?d:{}).clipDot,A=void 0===z||z,B=2*(void 0===x?3:x)+(void 0===y?2:y);return u().createElement(ba,{className:q},r||s?u().createElement("defs",null,u().createElement("clipPath",{id:"clipPath-".concat(v)},u().createElement("rect",{x:r?j:j-k/2,y:s?i:i-l/2,width:r?k:2*k,height:s?l:2*l})),!A&&u().createElement("clipPath",{id:"clipPath-dots-".concat(v)},u().createElement("rect",{x:j-B/2,y:i-B/2,width:k+B,height:l+B}))):null,!p&&this.renderCurve(t,v),this.renderErrorBar(t,v),(p||d)&&this.renderDots(t,A,v),(!m||o)&&kZ.renderCallByParent(this.props,e))}}],c=[{key:"getDerivedStateFromProps",value:function(a,b){return a.animationId!==b.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:b.curPoints}:a.points!==b.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,b){for(var c=a.length%2!=0?[].concat(uu(a),[0]):a,d=[],e=0;e<b;++e)d=[].concat(uu(d),uu(c));return d}},{key:"renderDotItem",value:function(a,b){var c;if(u().isValidElement(a))c=u().cloneElement(a,b);else if(as()(a))c=a(b);else{var d=b.key,e=uq(b,uo),f=T("recharts-line-dot","boolean"!=typeof a?a.className:"");c=u().createElement(cB,ur({key:d},e,{className:f}))}return c}}],b&&uw(d.prototype,b),c&&uw(d,c),Object.defineProperty(d,"prototype",{writable:!1}),d}(t.PureComponent);uA(uC,"displayName","Line"),uA(uC,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!bw.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),uA(uC,"getComposedData",function(a){var b=a.props,c=a.xAxis,d=a.yAxis,e=a.xAxisTicks,f=a.yAxisTicks,g=a.dataKey,h=a.bandSize,i=a.displayedData,j=a.offset,k=b.layout;return ut({points:i.map(function(a,b){var i=ju(a,g);return"horizontal"===k?{x:jR({axis:c,ticks:e,bandSize:h,entry:a,index:b}),y:ad()(i)?null:d.scale(i),value:i,payload:a}:{x:ad()(i)?null:c.scale(i),y:jR({axis:d,ticks:f,bandSize:h,entry:a,index:b}),value:i,payload:a}}),layout:k},j)});var uD=oa({chartName:"LineChart",GraphicalChild:uC,axisComponents:[{axisType:"xAxis",AxisComp:oE},{axisType:"yAxis",AxisComp:oN}],formatAxisMap:lV});let uE=({appointments:a,membershipPlans:b,services:c,users:d})=>{let[e,f]=(0,t.useState)("3m"),[g,h]=(0,t.useState)("revenue"),i=pJ();pJ();let j=b.reduce((a,b)=>a+b.price*b.activeMembers,0),k=12*j,l=b.length>0?b.reduce((a,b)=>a+12*b.price,0)/b.length:0,[m,n]=(0,t.useState)(0);(0,t.useEffect)(()=>{let b=new Date;n(a.filter(a=>{let c=new Date(a.startTime);return c.getMonth()===b.getMonth()&&c.getFullYear()===b.getFullYear()}).length)},[a]);let o=a.reduce((a,b)=>{let d=c.find(a=>a.id===b.serviceId);return a+(d?.price||0)},0),p=j+o,q=pM(j,.12,12),r=q.map((a,b)=>({month:`M${b+1}`,MRR:Math.round(a),forecast:!0})),u=[{name:"Assinaturas",value:j,color:"#3b82f6"},{name:"Avulso",value:o,color:"#10b981"}],v=d.filter(a=>"CUSTOMER"===a.role).length,w=v-i,x=[{name:"Assinantes",value:i,color:"#8b5cf6"},{name:"Ocasionais",value:w,color:"#f59e0b"}],y=({title:a,value:b,trend:c,icon:d,color:e,suffix:f=""})=>(0,s.jsxs)("div",{className:"bg-white rounded-[2rem] border border-slate-100 p-6 shadow-sm hover:shadow-md transition-all",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsx)("div",{className:`p-3 rounded-xl ${e}`,children:d}),(0,s.jsxs)("div",{className:`flex items-center gap-1 text-xs font-bold px-2 py-1 rounded-full ${c>=0?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:[c>=0?(0,s.jsx)(uh,{size:14}):(0,s.jsx)(ui,{size:14}),(0,s.jsxs)("span",{children:[Math.abs(c),"%"]})]})]}),(0,s.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:a}),(0,s.jsxs)("p",{className:"text-2xl font-black text-slate-900",children:[b,f]})]});return(0,s.jsxs)("div",{className:"space-y-8 pb-10",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-3xl font-black text-brand-dark tracking-tight",children:"Vis\xe3o do Investidor"}),(0,s.jsx)("p",{className:"text-brand-midGray mt-1 font-medium",children:"M\xe9tricas e Proje\xe7\xf5es de Crescimento"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,s.jsx)(y,{title:"MRR (Receita Recorrente)",value:`R$ ${j.toFixed(0)}`,trend:15,icon:(0,s.jsx)(N,{size:20,className:"text-blue-600"}),color:"bg-blue-50"}),(0,s.jsx)(y,{title:"ARR (Receita Anual)",value:`R$ ${k.toFixed(0)}`,trend:15,icon:(0,s.jsx)(I,{size:20,className:"text-green-600"}),color:"bg-green-50"}),(0,s.jsx)(y,{title:"Membros Ativos",value:i,trend:8,icon:(0,s.jsx)(O,{size:20,className:"text-purple-600"}),color:"bg-purple-50"}),(0,s.jsx)(y,{title:"LTV M\xe9dio",value:`R$ ${l.toFixed(0)}`,trend:12,icon:(0,s.jsx)(uj,{size:20,className:"text-amber-600"}),color:"bg-amber-50"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsx)(y,{title:"Churn Rate",value:2,trend:-2,icon:(0,s.jsx)(uk,{size:20,className:"text-red-600"}),color:"bg-red-50",suffix:"%"}),(0,s.jsx)(y,{title:"Agendamentos (m\xeas)",value:m,trend:20,icon:(0,s.jsx)(H,{size:20,className:"text-cyan-600"}),color:"bg-cyan-50"}),(0,s.jsx)(y,{title:"Receita Total (m\xeas)",value:`R$ ${p.toFixed(0)}`,trend:18,icon:(0,s.jsx)(pD,{size:20,className:"text-yellow-600"}),color:"bg-yellow-50"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-[2rem] border border-slate-100 p-8 shadow-sm",children:[(0,s.jsxs)("h3",{className:"text-lg font-black text-slate-900 mb-6 flex items-center gap-2",children:[(0,s.jsx)(ul,{size:20,className:"text-blue-600"}),"Proje\xe7\xe3o de MRR (12 meses)"]}),(0,s.jsx)(a_,{width:"100%",height:300,children:(0,s.jsxs)(uD,{data:r,children:[(0,s.jsx)(o3,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,s.jsx)(oE,{dataKey:"month",stroke:"#9ca3af"}),(0,s.jsx)(oN,{stroke:"#9ca3af"}),(0,s.jsx)(bJ,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"0.75rem"},formatter:a=>`R$ ${a}`}),(0,s.jsx)(uC,{type:"monotone",dataKey:"MRR",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6"}})]})}),(0,s.jsxs)("div",{className:"mt-6 pt-6 border-t border-slate-100",children:[(0,s.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:"Proje\xe7\xe3o:"}),(0,s.jsxs)("p",{className:"text-2xl font-black text-brand-dark",children:["R$ ",q[11].toFixed(0)]}),(0,s.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Estimado para m\xeas 12 com crescimento de 12%/m\xeas"})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-[2rem] border border-slate-100 p-8 shadow-sm",children:[(0,s.jsxs)("h3",{className:"text-lg font-black text-slate-900 mb-6 flex items-center gap-2",children:[(0,s.jsx)(s2,{size:20,className:"text-purple-600"}),"Mix de Receita"]}),(0,s.jsx)(a_,{width:"100%",height:300,children:(0,s.jsxs)(tT,{children:[(0,s.jsx)(tS,{data:u,cx:"50%",cy:"50%",innerRadius:80,outerRadius:120,paddingAngle:2,dataKey:"value",children:u.map((a,b)=>(0,s.jsx)(kN,{fill:a.color},`cell-${b}`))}),(0,s.jsx)(bJ,{formatter:a=>`R$ ${a}`}),(0,s.jsx)(cz,{})]})}),(0,s.jsx)("div",{className:"mt-6 space-y-3 pt-6 border-t border-slate-100",children:u.map((a,b)=>(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm font-bold text-slate-600",children:a.name}),(0,s.jsxs)("span",{className:"font-black text-slate-900",children:["R$ ",a.value.toFixed(0)]})]},b))})]}),(0,s.jsxs)("div",{className:"bg-white rounded-[2rem] border border-slate-100 p-8 shadow-sm",children:[(0,s.jsxs)("h3",{className:"text-lg font-black text-slate-900 mb-6 flex items-center gap-2",children:[(0,s.jsx)(J,{size:20,className:"text-green-600"}),"Segmenta\xe7\xe3o de Clientes"]}),(0,s.jsx)(a_,{width:"100%",height:300,children:(0,s.jsxs)(oO,{data:x,children:[(0,s.jsx)(o3,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,s.jsx)(oE,{dataKey:"name",stroke:"#9ca3af"}),(0,s.jsx)(oN,{stroke:"#9ca3af"}),(0,s.jsx)(bJ,{}),(0,s.jsx)(lO,{dataKey:"value",fill:"#8b5cf6",children:x.map((a,b)=>(0,s.jsx)(kN,{fill:a.color},`cell-${b}`))})]})}),(0,s.jsxs)("div",{className:"mt-6 pt-6 border-t border-slate-100 space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-bold text-slate-600",children:"Total de Clientes"}),(0,s.jsx)("span",{className:"font-black text-slate-900",children:v})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-bold text-slate-600",children:"Taxa de Convers\xe3o"}),(0,s.jsxs)("span",{className:"font-black text-emerald-600",children:[(i/v*100).toFixed(1),"%"]})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-[2rem] border border-slate-100 p-8 shadow-sm",children:[(0,s.jsxs)("h3",{className:"text-lg font-black text-slate-900 mb-6 flex items-center gap-2",children:[(0,s.jsx)(um,{size:20,className:"text-amber-600"}),"Proje\xe7\xf5es Financeiras"]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("span",{className:"text-sm font-bold text-slate-600",children:"Break-even"}),(0,s.jsx)("span",{className:"font-black text-amber-600",children:"3-4 meses"})]}),(0,s.jsx)("div",{className:"w-full bg-slate-100 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-amber-600 h-2 rounded-full",style:{width:"65%"}})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("span",{className:"text-sm font-bold text-slate-600",children:"ROI 12 meses"}),(0,s.jsx)("span",{className:"font-black text-emerald-600",children:"+240%"})]}),(0,s.jsx)("div",{className:"w-full bg-slate-100 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-emerald-600 h-2 rounded-full",style:{width:"95%"}})})]}),(0,s.jsx)("div",{className:"pt-4 border-t border-slate-100",children:(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[(0,s.jsx)("p",{className:"text-[10px] font-bold text-blue-700 uppercase tracking-widest mb-2",children:"Impacto do Investimento"}),(0,s.jsxs)("p",{className:"text-sm font-black text-blue-900",children:["Crescimento de MRR: R$ ",j.toFixed(0)," â†’ R$ ",q[11].toFixed(0)," em 12 meses"]})]})})]})]})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-r from-brand-dark to-black rounded-[2.5rem] p-8 md:p-12 text-white text-center",children:[(0,s.jsx)("h3",{className:"text-2xl font-black mb-3 tracking-tighter",children:"Pronto para Escalar?"}),(0,s.jsx)("p",{className:"text-slate-300 mb-6 max-w-2xl mx-auto",children:"Com a plataforma, voc\xea tem um SaaS totalmente funcional pronto para crescimento exponencial. Todas as m\xe9tricas acima s\xe3o conservadoras e baseadas em dados reais de mercado."}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:[(0,s.jsx)("button",{className:"bg-white text-brand-dark font-black py-4 px-8 rounded-2xl uppercase tracking-widest text-sm shadow-xl hover:scale-105 transition-transform",children:"Agendar Demo"}),(0,s.jsx)("button",{className:"border-2 border-white text-white font-black py-4 px-8 rounded-2xl uppercase tracking-widest text-sm hover:bg-white/10 transition-colors",children:"Baixar Pitch Deck"})]})]})]})};function uF(){let[a,b]=(0,t.useState)(null),[c,d]=(0,t.useState)(!1),[e,f]=(0,t.useState)("dashboard"),[g,h]=(0,t.useState)(!0),[i,j]=(0,t.useState)(pr),[k,l]=(0,t.useState)(pl),[m,n]=(0,t.useState)(pv),[o,p]=(0,t.useState)([]),[q,r]=(0,t.useState)(ph),[u,v]=(0,t.useState)(pw),[w,y]=(0,t.useState)(pi),[z,A]=(0,t.useState)(pk),[B,C]=(0,t.useState)(pj),[D,E]=(0,t.useState)(px),[F,G]=(0,t.useState)("offline"),[H,I]=(0,t.useState)(null),J=z.filter(a=>a.role===x.BARBER),L=z.filter(a=>a.role===x.CUSTOMER),M=(0,t.useCallback)(async a=>{if(!sy())return void G("offline");try{h(!0);let b=a.role===x.OWNER?(await sH.getBarbershopByOwner(a.id))?.id:a.barbershopId;if(b){let[a,c,d,e,f]=await Promise.all([sH.getServices(b),sH.getAppointments(b),sH.getInventory(b),sH.getOrders(b),sH.getBarbershopById(b)]);l(a),j(c),n(d),p(e),f&&r({shopName:f.name,address:f.address,phone:f.phone,openingHours:f.opening_hours,workingDays:f.working_days,defaultCommissionRate:f.default_commission_rate}),G("connected")}}catch(a){console.error("Erro na sincronizacao:",a),I("Falha ao sincronizar dados com o servidor.")}finally{h(!1)}},[]),N=async a=>{b(a),d(!1),await M(a),f("dashboard")},O=async b=>{try{if(sy()&&a){let c=a.role===x.OWNER?(await sH.getBarbershopByOwner(a.id))?.id:a.barbershopId,d=await sH.createAppointment({...b,barbershop_id:c,status:"CONFIRMED",startTime:b.startTime?.toISOString()});j(a=>[...a,{...d,startTime:new Date(d.startTime)}])}else{let c={id:`local-${Date.now()}`,barberId:b.barberId||J[0]?.id||"u2",customerId:a?.id||"guest",customerName:a?.name||"Visitante",serviceId:b.serviceId||k[0]?.id||"s1",startTime:b.startTime||new Date,status:"CONFIRMED"};j(a=>[...a,c])}return!0}catch(a){return I("Nao foi possivel salvar o agendamento."),!1}};if(g)return(0,s.jsxs)("div",{className:"h-screen flex flex-col items-center justify-center bg-brand-dark text-white font-sans animate-pulse",children:[(0,s.jsx)(K,{size:48,className:"mb-4 text-brand-light"}),(0,s.jsx)("span",{className:"tracking-[0.3em] uppercase text-xs font-black",children:"Carregando Barvo..."})]});if(!a&&!c)return(0,s.jsx)(sL,{onLogin:N,onGuestContinue:()=>{d(!0),f("booking")}});let P=a?.role||x.CUSTOMER,Q={dashboard:[x.OWNER,x.BARBER,x.CUSTOMER],calendar:[x.OWNER],queue:[x.OWNER,x.BARBER],services:[x.OWNER],strategic:[x.OWNER],investor:[x.OWNER],booking:[x.CUSTOMER],appointments:[x.CUSTOMER],shop:[x.CUSTOMER],orders:[x.CUSTOMER],order_management:[x.OWNER],financials:[x.OWNER],team:[x.OWNER],inventory:[x.OWNER],crm:[x.OWNER,x.BARBER],marketing:[x.OWNER],settings:[x.OWNER,x.BARBER,x.CUSTOMER]};if(!Q[e]?.includes(P))return P===x.OWNER?(0,s.jsx)(o6,{stats:pu,onNavigate:f}):P===x.BARBER?(0,s.jsx)(sQ,{currentUser:a,appointments:i,commissionRate:q.defaultCommissionRate||50,onCompleteAppointment:a=>{sy()&&sH.updateAppointmentStatus(a,"COMPLETED"),j(b=>b.map(b=>b.id===a?{...b,status:"COMPLETED"}:b))},onNoShow:a=>{sy()&&sH.updateAppointmentStatus(a,"CANCELLED"),j(b=>b.map(b=>b.id===a?{...b,status:"CANCELLED"}:b))},services:k,exceptions:[],onBlockTime:()=>{}}):(0,s.jsx)(sT,{currentUser:a,appointments:i,onNavigate:f,membershipPlans:u});switch(e){case"dashboard":if(P===x.OWNER)return(0,s.jsx)(RoleExperience,{user:a,children:(0,s.jsx)(o6,{stats:pu,onNavigate:f})});if(P===x.BARBER)return(0,s.jsx)(RoleExperience,{user:a,children:(0,s.jsx)(sQ,{currentUser:a,appointments:i,commissionRate:q.defaultCommissionRate||50,onCompleteAppointment:a=>{sy()&&sH.updateAppointmentStatus(a,"COMPLETED"),j(b=>b.map(b=>b.id===a?{...b,status:"COMPLETED"}:b))},onNoShow:a=>{sy()&&sH.updateAppointmentStatus(a,"CANCELLED"),j(b=>b.map(b=>b.id===a?{...b,status:"CANCELLED"}:b))},services:k,exceptions:[],onBlockTime:()=>{}})});return(0,s.jsx)(RoleExperience,{user:a,children:(0,s.jsx)(sT,{currentUser:a,appointments:i,onNavigate:f,membershipPlans:u})});case"calendar":return(0,s.jsx)(pb,{appointments:i,barbers:J,services:k,onAddAppointment:O});case"queue":return(0,s.jsx)(pf,{initialQueue:ps,services:k});case"booking":return(0,s.jsx)(pO,{currentUser:a,initialData:null,services:k,onBook:O,shopSettings:q,allAppointments:i,availabilityExceptions:[]});case"appointments":return(0,s.jsx)(s$,{currentUser:a,appointments:i.filter(b=>b.customerId===a?.id),onRebook:a=>{f("booking")},onCancel:a=>{sy()&&sH.updateAppointmentStatus(a,"CANCELLED"),j(b=>b.map(b=>b.id===a?{...b,status:"CANCELLED"}:b))},onNavigate:f,services:k});case"shop":return(0,s.jsx)(t9,{currentUser:a,inventory:m,onPurchase:async(b,c,d,e)=>{try{if(b.forEach(a=>{if(a.id.startsWith("inv_")){let b=a.id.replace("inv_",""),c=m.find(a=>a.id===b);c&&c.quantity>=a.quantity&&n(c=>c.map(c=>c.id===b?{...c,quantity:c.quantity-a.quantity}:c))}}),sy()&&a){let d=a.role===x.OWNER?(await sH.getBarbershopByOwner(a.id))?.id:a.barbershopId;await sH.createOrder({customerId:a.id,items:b,totalAmount:c,barbershop_id:d,status:"PAID"}),await M(a)}return!0}catch{return I("Erro ao processar compra."),!1}}});case"orders":return(0,s.jsx)(uf,{orders:o.filter(b=>b.customerId===a?.id),onNavigate:f,onRepeatOrder:a=>{f("shop")}});case"inventory":return(0,s.jsx)(t0,{items:m,onUpdateItem:async(b,c)=>{if("UPSERT"===c)if(sy()&&a){let c=a.role===x.OWNER?(await sH.getBarbershopByOwner(a.id))?.id:a.barbershopId;await sH.upsertInventoryItem({...b,barbershop_id:c}),await M(a)}else n(a=>{let c=a.findIndex(a=>a.id===b.id);if(c>=0){let d=[...a];return d[c]=b,d}return[...a,b]});else n(a=>a.filter(a=>a.id!==b.id))}});case"services":return(0,s.jsx)(s1,{services:k,onUpdateServices:l});case"order_management":return(0,s.jsx)(ud,{orders:o,users:z,onNavigate:f,onUpdateStatus:async(b,c,d)=>{sy()?(await sH.updateOrderStatus(b,c,d),a&&await M(a)):p(a=>a.map(a=>a.id===b?{...a,status:c}:a))}});case"financials":return(0,s.jsx)(tU,{transactions:pt});case"team":return(0,s.jsx)(tX,{barbers:J,setUsers:A});case"crm":return(0,s.jsx)(t2,{services:k,notes:D,onSaveNote:a=>{E(b=>{let c=b.findIndex(b=>b.id===a.id);if(c>=0){let d=[...b];return d[c]=a,d}return[...b,a]})},customers:L,appointments:i,onScheduleReturn:a=>{f("calendar")}});case"marketing":return(0,s.jsx)(t3.MarketingTools,{automations:B,setAutomations:C});case"strategic":return(0,s.jsx)(ug.StrategicGrowth,{services:k,plans:u,setPlans:v,currentUser:a||void 0});case"investor":return(0,s.jsx)(uE,{appointments:i,membershipPlans:u,services:k,users:z});case"settings":return(0,s.jsx)(t4.Settings,{currentUser:a,settings:q,onUpdateSettings:r,onUpdateUser:b});default:if(P===x.OWNER)return(0,s.jsx)(o6,{stats:pu,onNavigate:f});if(P===x.BARBER)return(0,s.jsx)(sQ,{currentUser:a,appointments:i,commissionRate:q.defaultCommissionRate||50,onCompleteAppointment:a=>{sy()&&sH.updateAppointmentStatus(a,"COMPLETED"),j(b=>b.map(b=>b.id===a?{...b,status:"COMPLETED"}:b))},onNoShow:a=>{sy()&&sH.updateAppointmentStatus(a,"CANCELLED"),j(b=>b.map(b=>b.id===a?{...b,status:"CANCELLED"}:b))},services:k,exceptions:[],onBlockTime:()=>{}});return(0,s.jsx)(sT,{currentUser:a,appointments:i,onNavigate:f,membershipPlans:u})}}z("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),z("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]])},64979:(a,b,c)=>{var d=c(49888),e=c(11849);a.exports=function(a,b,c){var f=b(a);return e(a)?f:d(f,c(a))}},65197:a=>{a.exports=function(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}},66850:(a,b,c)=>{var d=c(29869),e=c(42805);a.exports=function(a,b){return a&&a.length?e(a,d(b,2)):[]}},66898:(a,b,c)=>{var d=c(42424),e=c(22790);a.exports=function(a){return e(a)&&"[object Arguments]"==d(a)}},67066:(a,b,c)=>{var d=c(43167);a.exports=function(a){var b=d(this,a).delete(a);return this.size-=!!b,b}},67629:()=>{throw Error("Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js):\nError:   \x1b[31mx\x1b[0m 'import', and 'export' cannot be used outside of module code\n    ,-[\x1b[36;1;4m/workspaces/pro_barber/components/Settings.tsx\x1b[0m:17:1]\n \x1b[2m14\x1b[0m | \n \x1b[2m15\x1b[0m | export const Settings: React.FC<SettingsProps> = ({ currentUser, settings, onUpdateSettings, onUpdateUser }) => {\n \x1b[2m16\x1b[0m |     // UIKit\n \x1b[2m17\x1b[0m |     import { Section, Card, Button, FormInput } from './UIKit';\n    : \x1b[35;1m    ^^^^^^\x1b[0m\n \x1b[2m18\x1b[0m |   const [shopSettings, setShopSettings] = useState<ShopSettings>(settings);\n \x1b[2m19\x1b[0m |   const [userProfile, setUserProfile] = useState({ ...currentUser });\n \x1b[2m20\x1b[0m |   const [activeTab, setActiveTab] = useState<'profile' | 'shop' | 'payments'>('profile');\n    `----\n\n\nCaused by:\n    Syntax Error")},68543:(a,b,c)=>{"use strict";a.exports=c(81851)},69405:a=>{"use strict";a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},69797:(a,b,c)=>{var d=c(45380),e=c(73483),f=c(24924),g=c(85161),h=c(14075),i=c(42424),j=c(409),k="[object Map]",l="[object Promise]",m="[object Set]",n="[object WeakMap]",o="[object DataView]",p=j(d),q=j(e),r=j(f),s=j(g),t=j(h),u=i;(d&&u(new d(new ArrayBuffer(1)))!=o||e&&u(new e)!=k||f&&u(f.resolve())!=l||g&&u(new g)!=m||h&&u(new h)!=n)&&(u=function(a){var b=i(a),c="[object Object]"==b?a.constructor:void 0,d=c?j(c):"";if(d)switch(d){case p:return o;case q:return k;case r:return l;case s:return m;case t:return n}return b}),a.exports=u},70033:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(49754),e=c(9117),f=c(46595),g=c(32324),h=c(39326),i=c(38928),j=c(20175),k=c(12),l=c(54290),m=c(12696),n=c(82802),o=c(77533),p=c(45229),q=c(32822),r=c(261),s=c(26453),t=c(52474),u=c(26713),v=c(51356),w=c(62685),x=c(36225),y=c(63446),z=c(2762),A=c(45742),B=c(86439),C=c(81170),D=c.n(C),E=c(62506),F=c(91203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,17742)),"/workspaces/pro_barber/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(c.bind(c,16953)),"/workspaces/pro_barber/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,81170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,87028,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,90461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,32768,23)),"next/dist/client/components/builtin/unauthorized.js"]}],I=["/workspaces/pro_barber/app/page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(33873).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},70050:(a,b,c)=>{var d=c(45862),e=c(83690);a.exports=function(a){return null!=a&&e(a.length)&&!d(a)}},71140:(a,b,c)=>{var d=c(48768),e=c(39289),f=c(29869);a.exports=function(a,b){var c={};return b=f(b,3),e(a,function(a,e,f){d(c,e,b(a,e,f))}),c}},71923:(a,b,c)=>{var d=c(24613),e=c(19779),f=c(95062),g=c(45157);a.exports=function(a){return f(a)?d(g(a)):e(a)}},72513:(a,b,c)=>{var d=c(36552);a.exports=function(a,b){for(var c=a.length;c--;)if(d(a[c][0],b))return c;return -1}},72905:(a,b,c)=>{var d=c(83131),e=c(35204),f=c(45446),g=c(7285),h=c(77617),i=c(34073);function j(a){var b=this.__data__=new d(a);this.size=b.size}j.prototype.clear=e,j.prototype.delete=f,j.prototype.get=g,j.prototype.has=h,j.prototype.set=i,a.exports=j},73483:(a,b,c)=>{a.exports=c(86002)(c(98813),"Map")},74260:()=>{},74672:(a,b,c)=>{var d=c(49928),e=/^\s+/;a.exports=function(a){return a?a.slice(0,d(a)+1).replace(e,""):a}},74899:a=>{a.exports=function(a){return a!=a}},75958:(a,b,c)=>{var d=c(64592),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g;a.exports=d(function(a){var b=[];return 46===a.charCodeAt(0)&&b.push(""),a.replace(e,function(a,c,d,e){b.push(d?e.replace(f,"$1"):c||a)}),b})},76604:(a,b,c)=>{a.exports=c(98813).Uint8Array},77336:a=>{a.exports=function(a,b,c){var d=-1,e=a.length;b<0&&(b=-b>e?0:e+b),(c=c>e?e:c)<0&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Array(e);++d<e;)f[d]=a[d+b];return f}},77516:(a,b,c)=>{var d=c(42424),e=c(22790);a.exports=function(a){return!0===a||!1===a||e(a)&&"[object Boolean]"==d(a)}},77522:a=>{a.exports=function(){}},77617:a=>{a.exports=function(a){return this.__data__.has(a)}},77822:(a,b,c)=>{var d=c(80246);a.exports=function(a,b){if(a!==b){var c=void 0!==a,e=null===a,f=a==a,g=d(a),h=void 0!==b,i=null===b,j=b==b,k=d(b);if(!i&&!k&&!g&&a>b||g&&h&&j&&!i&&!k||e&&h&&j||!c&&j||!f)return 1;if(!e&&!g&&!k&&a<b||k&&c&&f&&!e&&!g||i&&c&&f||!h&&f||!j)return -1}return 0}},77955:(a,b,c)=>{var d=c(50448),e=c(81151),f=c(23082),g=c(20128);a.exports=f(function(a,b){if(null==a)return[];var c=b.length;return c>1&&g(a,b[0],b[1])?b=[]:c>2&&g(b[0],b[1],b[2])&&(b=[b[0]]),e(a,d(b,1),[])})},78494:(a,b,c)=>{a.exports=c(51691)(Object.keys,Object)},78667:a=>{a.exports=function(a,b,c){for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return -1}},78757:(a,b)=>{"use strict";function c(a){let{widthInt:b,heightInt:c,blurWidth:d,blurHeight:e,blurDataURL:f,objectFit:g}=a,h=d?40*d:b,i=e?40*e:c,j=h&&i?"viewBox='0 0 "+h+" "+i+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+j+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(j?"none":"contain"===g?"xMidYMid":"cover"===g?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+f+"'/%3E%3C/svg%3E"}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"getImageBlurSvg",{enumerable:!0,get:function(){return c}})},78996:(a,b,c)=>{var d=c(10818);a.exports=function(a,b,c){var e=null==a?void 0:d(a,b);return void 0===e?c:e}},79655:a=>{var b=Date.now;a.exports=function(a){var c=0,d=0;return function(){var e=b(),f=16-(e-d);if(d=e,f>0){if(++c>=800)return arguments[0]}else c=0;return a.apply(void 0,arguments)}}},80246:(a,b,c)=>{var d=c(42424),e=c(22790);a.exports=function(a){return"symbol"==typeof a||e(a)&&"[object Symbol]"==d(a)}},80976:a=>{a.exports=function(a,b){return a<b}},81151:(a,b,c)=>{var d=c(13292),e=c(10818),f=c(29869),g=c(24120),h=c(93145),i=c(35557),j=c(29502),k=c(46304),l=c(11849);a.exports=function(a,b,c){b=b.length?d(b,function(a){return l(a)?function(b){return e(b,1===a.length?a[0]:a)}:a}):[k];var m=-1;return b=d(b,i(f)),h(g(a,function(a,c,e){return{criteria:d(b,function(b){return b(a)}),index:++m,value:a}}),function(a,b){return j(a,b,c)})}},81578:(a,b,c)=>{"use strict";a.exports=c(56796).vendored.contexts.AmpContext},81851:(a,b)=>{"use strict";var c=Symbol.for("react.element"),d=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),i=Symbol.for("react.context"),j=Symbol.for("react.server_context"),k=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),n=Symbol.for("react.memo"),o=Symbol.for("react.lazy");Symbol.for("react.offscreen");Symbol.for("react.module.reference"),b.isFragment=function(a){return function(a){if("object"==typeof a&&null!==a){var b=a.$$typeof;switch(b){case c:switch(a=a.type){case e:case g:case f:case l:case m:return a;default:switch(a=a&&a.$$typeof){case j:case i:case k:case o:case n:case h:return a;default:return b}}case d:return b}}}(a)===e}},82704:()=>{},83131:(a,b,c)=>{var d=c(20394),e=c(47616),f=c(63847),g=c(59899),h=c(5699);function i(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}i.prototype.clear=d,i.prototype.delete=e,i.prototype.get=f,i.prototype.has=g,i.prototype.set=h,a.exports=i},83147:(a,b,c)=>{Promise.resolve().then(c.bind(c,64838))},83252:(a,b,c)=>{var d=c(98813);a.exports=function(){return d.Date.now()}},83690:a=>{a.exports=function(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=0x1fffffffffffff}},83851:(a,b,c)=>{var d=c(48451),e=c(53032),f=c(54861);a.exports=function(a){var b=e(a);return 1==b.length&&b[0][2]?f(b[0][0],b[0][1]):function(c){return c===a||d(c,a,b)}}},84678:(a,b,c)=>{var d=c(1400),e=c(29869),f=c(44956),g=c(11849),h=c(20128);a.exports=function(a,b,c){var i=g(a)?d:f;return c&&h(a,b,c)&&(b=void 0),i(a,e(b,3))}},84957:a=>{a.exports=function(a,b){return null!=a&&b in Object(a)}},85161:(a,b,c)=>{a.exports=c(86002)(c(98813),"Set")},85236:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},85511:(a,b,c)=>{var d=c(42424),e=c(55707),f=c(22790),g=Object.prototype,h=Function.prototype.toString,i=g.hasOwnProperty,j=h.call(Object);a.exports=function(a){if(!f(a)||"[object Object]"!=d(a))return!1;var b=e(a);if(null===b)return!0;var c=i.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&h.call(c)==j}},85806:(a,b,c)=>{var d=c(77336);a.exports=function(a,b,c){var e=a.length;return c=void 0===c?e:c,!b&&c>=e?a:d(a,b,c)}},85964:a=>{"use strict";var b=Object.prototype.hasOwnProperty,c="~";function d(){}function e(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function f(a,b,d,f,g){if("function"!=typeof d)throw TypeError("The listener must be a function");var h=new e(d,f||a,g),i=c?c+b:b;return a._events[i]?a._events[i].fn?a._events[i]=[a._events[i],h]:a._events[i].push(h):(a._events[i]=h,a._eventsCount++),a}function g(a,b){0==--a._eventsCount?a._events=new d:delete a._events[b]}function h(){this._events=new d,this._eventsCount=0}Object.create&&(d.prototype=Object.create(null),new d().__proto__||(c=!1)),h.prototype.eventNames=function(){var a,d,e=[];if(0===this._eventsCount)return e;for(d in a=this._events)b.call(a,d)&&e.push(c?d.slice(1):d);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(a)):e},h.prototype.listeners=function(a){var b=c?c+a:a,d=this._events[b];if(!d)return[];if(d.fn)return[d.fn];for(var e=0,f=d.length,g=Array(f);e<f;e++)g[e]=d[e].fn;return g},h.prototype.listenerCount=function(a){var b=c?c+a:a,d=this._events[b];return d?d.fn?1:d.length:0},h.prototype.emit=function(a,b,d,e,f,g){var h=c?c+a:a;if(!this._events[h])return!1;var i,j,k=this._events[h],l=arguments.length;if(k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,d),!0;case 4:return k.fn.call(k.context,b,d,e),!0;case 5:return k.fn.call(k.context,b,d,e,f),!0;case 6:return k.fn.call(k.context,b,d,e,f,g),!0}for(j=1,i=Array(l-1);j<l;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;j<n;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,d);break;case 4:k[j].fn.call(k[j].context,b,d,e);break;default:if(!i)for(m=1,i=Array(l-1);m<l;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},h.prototype.on=function(a,b,c){return f(this,a,b,c,!1)},h.prototype.once=function(a,b,c){return f(this,a,b,c,!0)},h.prototype.removeListener=function(a,b,d,e){var f=c?c+a:a;if(!this._events[f])return this;if(!b)return g(this,f),this;var h=this._events[f];if(h.fn)h.fn!==b||e&&!h.once||d&&h.context!==d||g(this,f);else{for(var i=0,j=[],k=h.length;i<k;i++)(h[i].fn!==b||e&&!h[i].once||d&&h[i].context!==d)&&j.push(h[i]);j.length?this._events[f]=1===j.length?j[0]:j:g(this,f)}return this},h.prototype.removeAllListeners=function(a){var b;return a?(b=c?c+a:a,this._events[b]&&g(this,b)):(this._events=new d,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=c,h.EventEmitter=h,a.exports=h},86002:(a,b,c)=>{var d=c(86607),e=c(45e3);a.exports=function(a,b){var c=e(a,b);return d(c)?c:void 0}},86280:(a,b,c)=>{var d=c(86797);function e(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw TypeError("Expected a function");var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g)||f,g};return c.cache=new(e.Cache||d),c}e.Cache=d,a.exports=e},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},86607:(a,b,c)=>{var d=c(45862),e=c(50464),f=c(65197),g=c(409),h=/^\[object .+?Constructor\]$/,i=Object.prototype,j=Function.prototype.toString,k=i.hasOwnProperty,l=RegExp("^"+j.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=function(a){return!(!f(a)||e(a))&&(d(a)?l:h).test(g(a))}},86797:(a,b,c)=>{var d=c(43424),e=c(67066),f=c(45881),g=c(87757),h=c(1269);function i(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}i.prototype.clear=d,i.prototype.delete=e,i.prototype.get=f,i.prototype.has=g,i.prototype.set=h,a.exports=i},87130:(a,b,c)=>{var d=c(8972);a.exports=function(a){return null==a?"":d(a)}},87279:(a,b,c)=>{var d=c(85806),e=c(91166),f=c(18776),g=c(87130);a.exports=function(a){return function(b){var c=e(b=g(b))?f(b):void 0,h=c?c[0]:b.charAt(0),i=c?d(c,1).join(""):b.slice(1);return h[a]()+i}}},87516:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{default:function(){return i},getImageProps:function(){return h}});let d=c(35288),e=c(63974),f=c(40106),g=d._(c(49656));function h(a){let{props:b}=(0,e.getImgProps)(a,{defaultLoader:g.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[a,c]of Object.entries(b))void 0===c&&delete b[a];return{props:b}}let i=f.Image},87757:(a,b,c)=>{var d=c(43167);a.exports=function(a){return d(this,a).has(a)}},88241:a=>{a.exports=function(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}},88723:(a,b,c)=>{Promise.resolve().then(c.bind(c,17742))},89159:a=>{a.exports=function(a){return this.__data__.has(a)}},90230:(a,b,c)=>{var d=c(96882),e=c(78996),f=c(2451),g=c(95062),h=c(92828),i=c(54861),j=c(45157);a.exports=function(a,b){return g(a)&&h(b)?i(j(a),b):function(c){var g=e(c,a);return void 0===g&&g===b?f(c,a):d(b,g,3)}}},91166:a=>{var b=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");a.exports=function(a){return b.test(a)}},91429:(a,b,c)=>{var d=c(10446);a.exports=function(a,b){var c=this.__data__;return this.size+=+!this.has(a),c[a]=d&&void 0===b?"__lodash_hash_undefined__":b,this}},91594:(a,b,c)=>{var d=c(7709),e=c(65197);a.exports=function(a,b,c){var f=!0,g=!0;if("function"!=typeof a)throw TypeError("Expected a function");return e(c)&&(f="leading"in c?!!c.leading:f,g="trailing"in c?!!c.trailing:g),d(a,b,{leading:f,maxWait:b,trailing:g})}},92343:(a,b,c)=>{var d=c(61353),e=Object.prototype,f=e.hasOwnProperty,g=e.toString,h=d?d.toStringTag:void 0;a.exports=function(a){var b=f.call(a,h),c=a[h];try{a[h]=void 0;var d=!0}catch(a){}var e=g.call(a);return d&&(b?a[h]=c:delete a[h]),e}},92828:(a,b,c)=>{var d=c(65197);a.exports=function(a){return a==a&&!d(a)}},93145:a=>{a.exports=function(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}},93330:(a,b,c)=>{var d=c(74672),e=c(65197),f=c(80246),g=0/0,h=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,j=/^0o[0-7]+$/i,k=parseInt;a.exports=function(a){if("number"==typeof a)return a;if(f(a))return g;if(e(a)){var b="function"==typeof a.valueOf?a.valueOf():a;a=e(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=d(a);var c=i.test(a);return c||j.test(a)?k(a.slice(2),c?2:8):h.test(a)?g:+a}},94389:a=>{a.exports=function(a){return function(b,c,d){for(var e=-1,f=Object(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(!1===c(f[i],i,f))break}return b}}},94580:(a,b,c)=>{var d=c(66898),e=c(22790),f=Object.prototype,g=f.hasOwnProperty,h=f.propertyIsEnumerable;a.exports=d(function(){return arguments}())?d:function(a){return e(a)&&g.call(a,"callee")&&!h.call(a,"callee")}},94958:a=>{a.exports=function(a){return a.split("")}},95062:(a,b,c)=>{var d=c(11849),e=c(80246),f=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g=/^\w*$/;a.exports=function(a,b){if(d(a))return!1;var c=typeof a;return!!("number"==c||"symbol"==c||"boolean"==c||null==a||e(a))||g.test(a)||!f.test(a)||null!=b&&a in Object(b)}},96882:(a,b,c)=>{var d=c(61188),e=c(22790);a.exports=function a(b,c,f,g,h){return b===c||(null!=b&&null!=c&&(e(b)||e(c))?d(b,c,f,g,a,h):b!=b&&c!=c)}},97376:(a,b,c)=>{a.exports=c(87279)("toUpperCase")},97510:a=>{a.exports=function(a){var b=null==a?0:a.length;return b?a[b-1]:void 0}},97987:a=>{var b=Object.prototype;a.exports=function(a){var c=a&&a.constructor;return a===("function"==typeof c&&c.prototype||b)}},98024:(a,b,c)=>{var d=c(93330),e=1/0;a.exports=function(a){return a?(a=d(a))===e||a===-e?(a<0?-1:1)*17976931348623157e292:a==a?a:0:0===a?a:0}},98038:a=>{a.exports=function(a){var b=typeof a;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}},98097:(a,b,c)=>{a.exports=c(94389)()},98228:()=>{},98767:()=>{throw Error("Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js):\nError:   \x1b[31mx\x1b[0m Expression expected\n    ,-[\x1b[36;1;4m/workspaces/pro_barber/components/MarketingTools.tsx\x1b[0m:71:1]\n \x1b[2m68\x1b[0m |                 title=\"Marketing & Fidelidade\"\n \x1b[2m69\x1b[0m |                 subtitle=\"Engaje seus clientes e aumente a recorr\xeancia.\"\n \x1b[2m70\x1b[0m |                 action={\n \x1b[2m71\x1b[0m |                     <div className=\"flex gap-2\">\n    : \x1b[35;1m                    ^\x1b[0m\n \x1b[2m72\x1b[0m |                         <Button variant={activeTab === 'campaigns' ? 'primary' : 'ghost'} size=\"sm\" onClick={() => setActiveTab('campaigns')}>Campanhas</Button>\n \x1b[2m73\x1b[0m |                         <Button variant={activeTab === 'automation' ? 'primary' : 'ghost'} size=\"sm\" onClick={() => setActiveTab('automation')}>Automa\xe7\xe3o</Button>\n \x1b[2m74\x1b[0m |                     </div>\n    `----\n  \x1b[31mx\x1b[0m Expected ';', '}' or <eof>\n    ,-[\x1b[36;1;4m/workspaces/pro_barber/components/MarketingTools.tsx\x1b[0m:70:1]\n \x1b[2m67\x1b[0m |         );\n \x1b[2m68\x1b[0m |                     title=\"Marketing & Fidelidade\"\n \x1b[2m69\x1b[0m |                     subtitle=\"Engaje seus clientes e aumente a recorr\xeancia.\"\n \x1b[2m70\x1b[0m | \x1b[35;1m,\x1b[0m\x1b[35;1m-\x1b[0m\x1b[35;1m>\x1b[0m                 action={\n \x1b[2m71\x1b[0m | \x1b[35;1m|\x1b[0m\x1b[35;1m-\x1b[0m\x1b[35;1m>\x1b[0m                     <div className=\"flex gap-2\">\n    : \x1b[35;1m`\x1b[0m\x1b[35;1m---\x1b[0m\x1b[33;1m                         ^^^^^^^^^\x1b[0m\n    : \x1b[35;1m`\x1b[0m\x1b[35;1m---\x1b[0m\x1b[35;1m-\x1b[0m \x1b[35;1mThis is the expression part of an expression statement\x1b[0m\n \x1b[2m72\x1b[0m |                             <Button variant={activeTab === 'campaigns' ? 'primary' : 'ghost'} size=\"sm\" onClick={() => setActiveTab('campaigns')}>Campanhas</Button>\n \x1b[2m73\x1b[0m |                             <Button variant={activeTab === 'automation' ? 'primary' : 'ghost'} size=\"sm\" onClick={() => setActiveTab('automation')}>Automa\xe7\xe3o</Button>\n \x1b[2m74\x1b[0m |                         </div>\n    `----\n\n\nCaused by:\n    Syntax Error")},98813:(a,b,c)=>{var d=c(9640),e="object"==typeof self&&self&&self.Object===Object&&self;a.exports=d||e||Function("return this")()},99218:(a,b,c)=>{var d=c(99459),e=c(12968),f=c(70050);a.exports=function(a){return f(a)?d(a):e(a)}},99459:(a,b,c)=>{var d=c(2224),e=c(94580),f=c(11849),g=c(12024),h=c(40337),i=c(38331),j=Object.prototype.hasOwnProperty;a.exports=function(a,b){var c=f(a),k=!c&&e(a),l=!c&&!k&&g(a),m=!c&&!k&&!l&&i(a),n=c||k||l||m,o=n?d(a.length,String):[],p=o.length;for(var q in a)(b||j.call(a,q))&&!(n&&("length"==q||l&&("offset"==q||"parent"==q)||m&&("buffer"==q||"byteLength"==q||"byteOffset"==q)||h(q,p)))&&o.push(q);return o}},99625:(a,b,c)=>{var d=c(39517);a.exports=function(a,b){var c=!0;return d(a,function(a,d,e){return c=!!b(a,d,e)}),c}}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[819],()=>b(b.s=70033));module.exports=c})();