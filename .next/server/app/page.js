(()=>{var a={};a.id=974,a.ids=[974],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},409:a=>{var b=Function.prototype.toString;a.exports=function(a){if(null!=a){try{return b.call(a)}catch(a){}try{return a+""}catch(a){}}return""}},456:(a,b,c)=>{"use strict";a.exports=c(56796).vendored.contexts.ImageConfigContext},1269:(a,b,c)=>{var d=c(43167);a.exports=function(a,b){var c=d(this,a),e=c.size;return c.set(a,b),this.size+=+(c.size!=e),this}},1375:(a,b,c)=>{var d=c(50448),e=c(37870);a.exports=function(a,b){return d(e(a,b),1)}},1400:a=>{a.exports=function(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}},1658:a=>{var b="\ud800-\udfff",c="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",d="\ud83c[\udffb-\udfff]",e="[^"+b+"]",f="(?:\ud83c[\udde6-\uddff]){2}",g="[\ud800-\udbff][\udc00-\udfff]",h="(?:"+c+"|"+d+")?",i="[\\ufe0e\\ufe0f]?",j="(?:\\u200d(?:"+[e,f,g].join("|")+")"+i+h+")*",k=RegExp(d+"(?="+d+")|"+("(?:"+[e+c+"?",c,f,g,"["+b+"]"].join("|"))+")"+(i+h+j),"g");a.exports=function(a){return a.match(k)||[]}},2224:a=>{a.exports=function(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}},2451:(a,b,c)=>{var d=c(84957),e=c(49810);a.exports=function(a,b){return null!=a&&e(a,b,d)}},2803:a=>{a.exports=function(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}},2894:(a,b,c)=>{var d=c(64979),e=c(26440),f=c(99218);a.exports=function(a){return d(a,f,e)}},3001:(a,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{VALID_LOADERS:function(){return c},imageConfigDefault:function(){return d}});let c=["default","imgix","cloudinary","akamai","custom"],d={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],maximumResponseBody:5e7,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3575:a=>{a.exports=function(a){return null==a}},5699:(a,b,c)=>{var d=c(72513);a.exports=function(a,b){var c=this.__data__,e=d(c,a);return e<0?(++this.size,c.push([a,b])):c[e][1]=b,this}},5909:(a,b,c)=>{var d=c(88241),e=Math.max;a.exports=function(a,b,c){return b=e(void 0===b?a.length-1:b,0),function(){for(var f=arguments,g=-1,h=e(f.length-b,0),i=Array(h);++g<h;)i[g]=f[b+g];g=-1;for(var j=Array(b+1);++g<b;)j[g]=f[g];return j[b]=c(i),d(a,this,j)}}},6289:(a,b,c)=>{var d=c(11849),e=c(95062),f=c(75958),g=c(87130);a.exports=function(a,b){return d(a)?a:e(a,b)?[a]:f(g(a))}},7285:a=>{a.exports=function(a){return this.__data__.get(a)}},7372:(a,b,c)=>{a.exports=c(59418)()},7709:(a,b,c)=>{var d=c(65197),e=c(83252),f=c(93330),g=Math.max,h=Math.min;a.exports=function(a,b,c){var i,j,k,l,m,n,o=0,p=!1,q=!1,r=!0;if("function"!=typeof a)throw TypeError("Expected a function");function s(b){var c=i,d=j;return i=j=void 0,o=b,l=a.apply(d,c)}function t(a){var c=a-n,d=a-o;return void 0===n||c>=b||c<0||q&&d>=k}function u(){var a,c,d,f=e();if(t(f))return v(f);m=setTimeout(u,(a=f-n,c=f-o,d=b-a,q?h(d,k-c):d))}function v(a){return(m=void 0,r&&i)?s(a):(i=j=void 0,l)}function w(){var a,c=e(),d=t(c);if(i=arguments,j=this,n=c,d){if(void 0===m)return o=a=n,m=setTimeout(u,b),p?s(a):l;if(q)return clearTimeout(m),m=setTimeout(u,b),s(n)}return void 0===m&&(m=setTimeout(u,b)),l}return b=f(b)||0,d(c)&&(p=!!c.leading,k=(q="maxWait"in c)?g(f(c.maxWait)||0,b):k,r="trailing"in c?!!c.trailing:r),w.cancel=function(){void 0!==m&&clearTimeout(m),o=0,i=n=j=m=void 0},w.flush=function(){return void 0===m?l:v(e())},w}},8702:(a,b,c)=>{var d=c(61353),e=c(76604),f=c(36552),g=c(10707),h=c(42605),i=c(2803),j=d?d.prototype:void 0,k=j?j.valueOf:void 0;a.exports=function(a,b,c,d,j,l,m){switch(c){case"[object DataView]":if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)break;a=a.buffer,b=b.buffer;case"[object ArrayBuffer]":if(a.byteLength!=b.byteLength||!l(new e(a),new e(b)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return f(+a,+b);case"[object Error]":return a.name==b.name&&a.message==b.message;case"[object RegExp]":case"[object String]":return a==b+"";case"[object Map]":var n=h;case"[object Set]":var o=1&d;if(n||(n=i),a.size!=b.size&&!o)break;var p=m.get(a);if(p)return p==b;d|=2,m.set(a,b);var q=g(n(a),n(b),d,j,l,m);return m.delete(a),q;case"[object Symbol]":if(k)return k.call(a)==k.call(b)}return!1}},8972:(a,b,c)=>{var d=c(61353),e=c(13292),f=c(11849),g=c(80246),h=1/0,i=d?d.prototype:void 0,j=i?i.toString:void 0;a.exports=function a(b){if("string"==typeof b)return b;if(f(b))return e(b,a)+"";if(g(b))return j?j.call(b):"";var c=b+"";return"0"==c&&1/b==-h?"-0":c}},9640:a=>{a.exports="object"==typeof global&&global&&global.Object===Object&&global},9831:(a,b,c)=>{var d=c(61353),e=c(94580),f=c(11849),g=d?d.isConcatSpreadable:void 0;a.exports=function(a){return f(a)||e(a)||!!(g&&a&&a[g])}},10446:(a,b,c)=>{a.exports=c(86002)(Object,"create")},10707:(a,b,c)=>{var d=c(55839),e=c(1400),f=c(59735);a.exports=function(a,b,c,g,h,i){var j=1&c,k=a.length,l=b.length;if(k!=l&&!(j&&l>k))return!1;var m=i.get(a),n=i.get(b);if(m&&n)return m==b&&n==a;var o=-1,p=!0,q=2&c?new d:void 0;for(i.set(a,b),i.set(b,a);++o<k;){var r=a[o],s=b[o];if(g)var t=j?g(s,r,o,b,a,i):g(r,s,o,a,b,i);if(void 0!==t){if(t)continue;p=!1;break}if(q){if(!e(b,function(a,b){if(!f(q,b)&&(r===a||h(r,a,c,g,i)))return q.push(b)})){p=!1;break}}else if(!(r===s||h(r,s,c,g,i))){p=!1;break}}return i.delete(a),i.delete(b),p}},10818:(a,b,c)=>{var d=c(6289),e=c(45157);a.exports=function(a,b){b=d(b,a);for(var c=0,f=b.length;null!=a&&c<f;)a=a[e(b[c++])];return c&&c==f?a:void 0}},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11849:a=>{a.exports=Array.isArray},12005:(a,b,c)=>{var d=c(42424),e=c(83690),f=c(22790),g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g["[object Arguments]"]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g["[object Map]"]=g["[object Number]"]=g["[object Object]"]=g["[object RegExp]"]=g["[object Set]"]=g["[object String]"]=g["[object WeakMap]"]=!1,a.exports=function(a){return f(a)&&e(a.length)&&!!g[d(a)]}},12024:(a,b,c)=>{a=c.nmd(a);var d=c(98813),e=c(54363),f=b&&!b.nodeType&&b,g=f&&a&&!a.nodeType&&a,h=g&&g.exports===f?d.Buffer:void 0,i=h?h.isBuffer:void 0;a.exports=i||e},12049:(a,b,c)=>{a=c.nmd(a);var d=c(9640),e=b&&!b.nodeType&&b,f=e&&a&&!a.nodeType&&a,g=f&&f.exports===e&&d.process,h=function(){try{var a=f&&f.require&&f.require("util").types;if(a)return a;return g&&g.binding&&g.binding("util")}catch(a){}}();a.exports=h},12968:(a,b,c)=>{var d=c(97987),e=c(78494),f=Object.prototype.hasOwnProperty;a.exports=function(a){if(!d(a))return e(a);var b=[];for(var c in Object(a))f.call(a,c)&&"constructor"!=c&&b.push(c);return b}},13292:a=>{a.exports=function(a,b){for(var c=-1,d=null==a?0:a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}},13595:(a,b,c)=>{var d=c(48907),e=c(24131),f=c(29869);a.exports=function(a,b){return a&&a.length?d(a,f(b,2),e):void 0}},13936:(a,b,c)=>{var d=c(10446);a.exports=function(){this.__data__=d?d(null):{},this.size=0}},14075:(a,b,c)=>{a.exports=c(86002)(c(98813),"WeakMap")},14753:(a,b,c)=>{var d=c(43823),e=c(29869),f=c(48569),g=Math.max;a.exports=function(a,b,c){var h=null==a?0:a.length;if(!h)return -1;var i=null==c?0:f(c);return i<0&&(i=g(h+i,0)),d(a,e(b,3),i)}},15217:(a,b)=>{"use strict";function c(a){let{ampFirst:b=!1,hybrid:c=!1,hasQuery:d=!1}=void 0===a?{}:a;return b||c&&d}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"isInAmpMode",{enumerable:!0,get:function(){return c}})},15452:(a,b,c)=>{var d=c(32259),e=c(20128),f=c(98024);a.exports=function(a){return function(b,c,g){return g&&"number"!=typeof g&&e(b,c,g)&&(c=g=void 0),b=f(b),void 0===c?(c=b,b=0):c=f(c),g=void 0===g?b<c?1:-1:f(g),d(b,c,g,a)}}},16106:a=>{var b=Object.prototype.toString;a.exports=function(a){return b.call(a)}},16413:(a,b,c)=>{a.exports=c(15452)()},16953:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>i,metadata:()=>g,viewport:()=>h});var d=c(75338),e=c(15090),f=c.n(e);c(82704);let g={title:"Barvo - Gestao de Barbearia",description:"Sistema completo de gestao para barbearias. Agendamentos, fila, loja, financeiro e muito mais."},h={width:"device-width",initialScale:1,themeColor:"#081E26"};function i({children:a}){return(0,d.jsx)("html",{lang:"pt-BR",children:(0,d.jsx)("body",{className:`${f().variable} font-sans`,children:a})})}},16967:(a,b,c)=>{var d=c(43823),e=c(74899),f=c(78667);a.exports=function(a,b,c){return b==b?f(a,b,c):d(a,e,c)}},17742:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/workspaces/pro_barber/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspaces/pro_barber/app/page.tsx","default")},18355:(a,b,c)=>{"use strict";a.exports=c(56796).vendored.contexts.RouterContext},18776:(a,b,c)=>{var d=c(94958),e=c(91166),f=c(1658);a.exports=function(a){return e(a)?f(a):d(a)}},18799:(a,b,c)=>{var d=c(86002);a.exports=function(){try{var a=d(Object,"defineProperty");return a({},"",{}),a}catch(a){}}()},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19746:(a,b,c)=>{"use strict";a.exports=c(56796).vendored.contexts.HeadManagerContext},19779:(a,b,c)=>{var d=c(10818);a.exports=function(a){return function(b){return d(b,a)}}},20128:(a,b,c)=>{var d=c(36552),e=c(70050),f=c(40337),g=c(65197);a.exports=function(a,b,c){if(!g(c))return!1;var h=typeof b;return("number"==h?!!(e(c)&&f(b,c.length)):"string"==h&&b in c)&&d(c[b],a)}},20394:a=>{a.exports=function(){this.__data__=[],this.size=0}},22790:a=>{a.exports=function(a){return null!=a&&"object"==typeof a}},23082:(a,b,c)=>{var d=c(46304),e=c(5909),f=c(51529);a.exports=function(a,b){return f(e(a,b,d),a+"")}},24120:(a,b,c)=>{var d=c(39517),e=c(70050);a.exports=function(a,b){var c=-1,f=e(a)?Array(a.length):[];return d(a,function(a,d,e){f[++c]=b(a,d,e)}),f}},24131:a=>{a.exports=function(a,b){return a>b}},24613:a=>{a.exports=function(a){return function(b){return null==b?void 0:b[a]}}},24924:(a,b,c)=>{a.exports=c(86002)(c(98813),"Promise")},25301:(a,b,c)=>{var d=c(48907),e=c(29869),f=c(80976);a.exports=function(a,b){return a&&a.length?d(a,e(b,2),f):void 0}},25945:a=>{a.exports=function(){return[]}},26440:(a,b,c)=>{var d=c(62598),e=c(25945),f=Object.prototype.propertyIsEnumerable,g=Object.getOwnPropertySymbols;a.exports=g?function(a){return null==a?[]:d(g(a=Object(a)),function(b){return f.call(a,b)})}:e},26707:(a,b,c)=>{var d=c(42424),e=c(11849),f=c(22790);a.exports=function(a){return"string"==typeof a||!e(a)&&f(a)&&"[object String]"==d(a)}},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},27165:(a,b,c)=>{var d=c(10446),e=Object.prototype.hasOwnProperty;a.exports=function(a){var b=this.__data__;return d?void 0!==b[a]:e.call(b,a)}},28354:a=>{"use strict";a.exports=require("util")},28925:(a,b,c)=>{a.exports=c(42954)(c(14753))},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29502:(a,b,c)=>{var d=c(77822);a.exports=function(a,b,c){for(var e=-1,f=a.criteria,g=b.criteria,h=f.length,i=c.length;++e<h;){var j=d(f[e],g[e]);if(j){if(e>=i)return j;return j*("desc"==c[e]?-1:1)}}return a.index-b.index}},29514:a=>{a.exports=function(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=!!b,b}},29869:(a,b,c)=>{var d=c(83851),e=c(90230),f=c(46304),g=c(11849),h=c(71923);a.exports=function(a){return"function"==typeof a?a:null==a?f:"object"==typeof a?g(a)?e(a[0],a[1]):d(a):h(a)}},30353:(a,b,c)=>{a.exports=c(98813)["__core-js_shared__"]},30940:(a,b,c)=>{var d=c(48907),e=c(80976),f=c(46304);a.exports=function(a){return a&&a.length?d(a,f,e):void 0}},31907:(a,b,c)=>{var d=c(42424),e=c(22790);a.exports=function(a){return"number"==typeof a||e(a)&&"[object Number]"==d(a)}},32259:a=>{var b=Math.ceil,c=Math.max;a.exports=function(a,d,e,f){for(var g=-1,h=c(b((d-a)/(e||1)),0),i=Array(h);h--;)i[f?h:++g]=a,a+=e;return i}},33873:a=>{"use strict";a.exports=require("path")},34073:(a,b,c)=>{var d=c(83131),e=c(73483),f=c(86797);a.exports=function(a,b){var c=this.__data__;if(c instanceof d){var g=c.__data__;if(!e||g.length<199)return g.push([a,b]),this.size=++c.size,this;c=this.__data__=new f(g)}return c.set(a,b),this.size=c.size,this}},34311:(a,b,c)=>{var d=c(42925),e=c(99625),f=c(29869),g=c(11849),h=c(20128);a.exports=function(a,b,c){var i=g(a)?d:e;return c&&h(a,b,c)&&(b=void 0),i(a,f(b,3))}},35204:(a,b,c)=>{var d=c(83131);a.exports=function(){this.__data__=new d,this.size=0}},35557:a=>{a.exports=function(a){return function(b){return a(b)}}},36552:a=>{a.exports=function(a,b){return a===b||a!=a&&b!=b}},37070:(a,b,c)=>{var d=c(50698),e=c(18799),f=c(46304);a.exports=e?function(a,b){return e(a,"toString",{configurable:!0,enumerable:!1,value:d(b),writable:!0})}:f},37870:(a,b,c)=>{var d=c(13292),e=c(29869),f=c(24120),g=c(11849);a.exports=function(a,b){return(g(a)?d:f)(a,e(b,3))}},37972:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},38331:(a,b,c)=>{var d=c(12005),e=c(35557),f=c(12049),g=f&&f.isTypedArray;a.exports=g?e(g):d},39289:(a,b,c)=>{var d=c(98097),e=c(99218);a.exports=function(a,b){return a&&d(a,b,e)}},39517:(a,b,c)=>{var d=c(39289);a.exports=c(63185)(d)},40106:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"Image",{enumerable:!0,get:function(){return u}});let d=c(35288),e=c(55823),f=c(21124),g=e._(c(38301)),h=d._(c(23312)),i=d._(c(63725)),j=c(63974),k=c(3001),l=c(456);c(21507);let m=c(18355),n=d._(c(49656)),o=c(49427),p={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function q(a,b,c,d,e,f,g){let h=null==a?void 0:a.src;a&&a["data-loaded-src"]!==h&&(a["data-loaded-src"]=h,("decode"in a?a.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(a.parentElement&&a.isConnected){if("empty"!==b&&e(!0),null==c?void 0:c.current){let b=new Event("load");Object.defineProperty(b,"target",{writable:!1,value:a});let d=!1,e=!1;c.current({...b,nativeEvent:b,currentTarget:a,target:a,isDefaultPrevented:()=>d,isPropagationStopped:()=>e,persist:()=>{},preventDefault:()=>{d=!0,b.preventDefault()},stopPropagation:()=>{e=!0,b.stopPropagation()}})}(null==d?void 0:d.current)&&d.current(a)}}))}function r(a){return g.use?{fetchPriority:a}:{fetchpriority:a}}globalThis.__NEXT_IMAGE_IMPORTED=!0;let s=(0,g.forwardRef)((a,b)=>{let{src:c,srcSet:d,sizes:e,height:h,width:i,decoding:j,className:k,style:l,fetchPriority:m,placeholder:n,loading:p,unoptimized:s,fill:t,onLoadRef:u,onLoadingCompleteRef:v,setBlurComplete:w,setShowAltText:x,sizesInput:y,onLoad:z,onError:A,...B}=a,C=(0,g.useCallback)(a=>{a&&(A&&(a.src=a.src),a.complete&&q(a,n,u,v,w,s,y))},[c,n,u,v,w,A,s,y]),D=(0,o.useMergedRef)(b,C);return(0,f.jsx)("img",{...B,...r(m),loading:p,width:i,height:h,decoding:j,"data-nimg":t?"fill":"1",className:k,style:l,sizes:e,srcSet:d,src:c,ref:D,onLoad:a=>{q(a.currentTarget,n,u,v,w,s,y)},onError:a=>{x(!0),"empty"!==n&&w(!0),A&&A(a)}})});function t(a){let{isAppRouter:b,imgAttributes:c}=a,d={as:"image",imageSrcSet:c.srcSet,imageSizes:c.sizes,crossOrigin:c.crossOrigin,referrerPolicy:c.referrerPolicy,...r(c.fetchPriority)};return b&&h.default.preload?(h.default.preload(c.src,d),null):(0,f.jsx)(i.default,{children:(0,f.jsx)("link",{rel:"preload",href:c.srcSet?void 0:c.src,...d},"__nimg-"+c.src+c.srcSet+c.sizes)})}let u=(0,g.forwardRef)((a,b)=>{let c=(0,g.useContext)(m.RouterContext),d=(0,g.useContext)(l.ImageConfigContext),e=(0,g.useMemo)(()=>{var a;let b=p||d||k.imageConfigDefault,c=[...b.deviceSizes,...b.imageSizes].sort((a,b)=>a-b),e=b.deviceSizes.sort((a,b)=>a-b),f=null==(a=b.qualities)?void 0:a.sort((a,b)=>a-b);return{...b,allSizes:c,deviceSizes:e,qualities:f}},[d]),{onLoad:h,onLoadingComplete:i}=a,o=(0,g.useRef)(h);(0,g.useEffect)(()=>{o.current=h},[h]);let q=(0,g.useRef)(i);(0,g.useEffect)(()=>{q.current=i},[i]);let[r,u]=(0,g.useState)(!1),[v,w]=(0,g.useState)(!1),{props:x,meta:y}=(0,j.getImgProps)(a,{defaultLoader:n.default,imgConf:e,blurComplete:r,showAltText:v});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s,{...x,unoptimized:y.unoptimized,placeholder:y.placeholder,fill:y.fill,onLoadRef:o,onLoadingCompleteRef:q,setBlurComplete:u,setShowAltText:w,sizesInput:a.sizes,ref:b}),y.priority?(0,f.jsx)(t,{isAppRouter:!c,imgAttributes:x}):null]})});("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},40337:a=>{var b=/^(?:0|[1-9]\d*)$/;a.exports=function(a,c){var d=typeof a;return!!(c=null==c?0x1fffffffffffff:c)&&("number"==d||"symbol"!=d&&b.test(a))&&a>-1&&a%1==0&&a<c}},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},42424:(a,b,c)=>{var d=c(61353),e=c(92343),f=c(16106),g=d?d.toStringTag:void 0;a.exports=function(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":g&&g in Object(a)?e(a):f(a)}},42605:a=>{a.exports=function(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}},42805:(a,b,c)=>{var d=c(55839),e=c(46925),f=c(59993),g=c(59735),h=c(61477),i=c(2803);a.exports=function(a,b,c){var j=-1,k=e,l=a.length,m=!0,n=[],o=n;if(c)m=!1,k=f;else if(l>=200){var p=b?null:h(a);if(p)return i(p);m=!1,k=g,o=new d}else o=b?[]:n;a:for(;++j<l;){var q=a[j],r=b?b(q):q;if(q=c||0!==q?q:0,m&&r==r){for(var s=o.length;s--;)if(o[s]===r)continue a;b&&o.push(r),n.push(q)}else k(o,r,c)||(o!==n&&o.push(r),n.push(q))}return n}},42925:a=>{a.exports=function(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}},42954:(a,b,c)=>{var d=c(29869),e=c(70050),f=c(99218);a.exports=function(a){return function(b,c,g){var h=Object(b);if(!e(b)){var i=d(c,3);b=f(b),c=function(a){return i(h[a],a,h)}}var j=a(b,c,g);return j>-1?h[i?b[j]:j]:void 0}}},43167:(a,b,c)=>{var d=c(98038);a.exports=function(a,b){var c=a.__data__;return d(b)?c["string"==typeof b?"string":"hash"]:c.map}},43424:(a,b,c)=>{var d=c(57917),e=c(83131),f=c(73483);a.exports=function(){this.size=0,this.__data__={hash:new d,map:new(f||e),string:new d}}},43823:a=>{a.exports=function(a,b,c,d){for(var e=a.length,f=c+(d?1:-1);d?f--:++f<e;)if(b(a[f],f,a))return f;return -1}},43884:a=>{a.exports=function(a){return this.__data__.set(a,"__lodash_hash_undefined__"),this}},44956:(a,b,c)=>{var d=c(39517);a.exports=function(a,b){var c;return d(a,function(a,d,e){return!(c=b(a,d,e))}),!!c}},45e3:a=>{a.exports=function(a,b){return null==a?void 0:a[b]}},45157:(a,b,c)=>{var d=c(80246),e=1/0;a.exports=function(a){if("string"==typeof a||d(a))return a;var b=a+"";return"0"==b&&1/a==-e?"-0":b}},45380:(a,b,c)=>{a.exports=c(86002)(c(98813),"DataView")},45446:a=>{a.exports=function(a){var b=this.__data__,c=b.delete(a);return this.size=b.size,c}},45862:(a,b,c)=>{var d=c(42424),e=c(65197);a.exports=function(a){if(!e(a))return!1;var b=d(a);return"[object Function]"==b||"[object GeneratorFunction]"==b||"[object AsyncFunction]"==b||"[object Proxy]"==b}},45881:(a,b,c)=>{var d=c(43167);a.exports=function(a){return d(this,a).get(a)}},46304:a=>{a.exports=function(a){return a}},46345:(a,b,c)=>{var d=c(10446),e=Object.prototype.hasOwnProperty;a.exports=function(a){var b=this.__data__;if(d){var c=b[a];return"__lodash_hash_undefined__"===c?void 0:c}return e.call(b,a)?b[a]:void 0}},46925:(a,b,c)=>{var d=c(16967);a.exports=function(a,b){return!!(null==a?0:a.length)&&d(a,b,0)>-1}},47616:(a,b,c)=>{var d=c(72513),e=Array.prototype.splice;a.exports=function(a){var b=this.__data__,c=d(b,a);return!(c<0)&&(c==b.length-1?b.pop():e.call(b,c,1),--this.size,!0)}},48451:(a,b,c)=>{var d=c(72905),e=c(96882);a.exports=function(a,b,c,f){var g=c.length,h=g,i=!f;if(null==a)return!h;for(a=Object(a);g--;){var j=c[g];if(i&&j[2]?j[1]!==a[j[0]]:!(j[0]in a))return!1}for(;++g<h;){var k=(j=c[g])[0],l=a[k],m=j[1];if(i&&j[2]){if(void 0===l&&!(k in a))return!1}else{var n=new d;if(f)var o=f(l,m,k,a,b,n);if(!(void 0===o?e(m,l,3,f,n):o))return!1}}return!0}},48569:(a,b,c)=>{var d=c(98024);a.exports=function(a){var b=d(a),c=b%1;return b==b?c?b-c:b:0}},48768:(a,b,c)=>{var d=c(18799);a.exports=function(a,b,c){"__proto__"==b&&d?d(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}},48873:(a,b,c)=>{var d=c(2894),e=Object.prototype.hasOwnProperty;a.exports=function(a,b,c,f,g,h){var i=1&c,j=d(a),k=j.length;if(k!=d(b).length&&!i)return!1;for(var l=k;l--;){var m=j[l];if(!(i?m in b:e.call(b,m)))return!1}var n=h.get(a),o=h.get(b);if(n&&o)return n==b&&o==a;var p=!0;h.set(a,b),h.set(b,a);for(var q=i;++l<k;){var r=a[m=j[l]],s=b[m];if(f)var t=i?f(s,r,m,b,a,h):f(r,s,m,a,b,h);if(!(void 0===t?r===s||g(r,s,c,f,h):t)){p=!1;break}q||(q="constructor"==m)}if(p&&!q){var u=a.constructor,v=b.constructor;u!=v&&"constructor"in a&&"constructor"in b&&!("function"==typeof u&&u instanceof u&&"function"==typeof v&&v instanceof v)&&(p=!1)}return h.delete(a),h.delete(b),p}},48907:(a,b,c)=>{var d=c(80246);a.exports=function(a,b,c){for(var e=-1,f=a.length;++e<f;){var g=a[e],h=b(g);if(null!=h&&(void 0===i?h==h&&!d(h):c(h,i)))var i=h,j=g}return j}},49427:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"useMergedRef",{enumerable:!0,get:function(){return e}});let d=c(38301);function e(a,b){let c=(0,d.useRef)(null),e=(0,d.useRef)(null);return(0,d.useCallback)(d=>{if(null===d){let a=c.current;a&&(c.current=null,a());let b=e.current;b&&(e.current=null,b())}else a&&(c.current=f(a,d)),b&&(e.current=f(b,d))},[a,b])}function f(a,b){if("function"!=typeof a)return a.current=b,()=>{a.current=null};{let c=a(b);return"function"==typeof c?c:()=>a(null)}}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},49656:(a,b)=>{"use strict";function c(a){var b;let{config:c,src:d,width:e,quality:f}=a,g=f||(null==(b=c.qualities)?void 0:b.reduce((a,b)=>Math.abs(b-75)<Math.abs(a-75)?b:a))||75;return c.path+"?url="+encodeURIComponent(d)+"&w="+e+"&q="+g+(d.startsWith("/_next/static/media/"),"")}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"default",{enumerable:!0,get:function(){return d}}),c.__next_img_default=!0;let d=c},49810:(a,b,c)=>{var d=c(6289),e=c(94580),f=c(11849),g=c(40337),h=c(83690),i=c(45157);a.exports=function(a,b,c){b=d(b,a);for(var j=-1,k=b.length,l=!1;++j<k;){var m=i(b[j]);if(!(l=null!=a&&c(a,m)))break;a=a[m]}return l||++j!=k?l:!!(k=null==a?0:a.length)&&h(k)&&g(m,k)&&(f(a)||e(a))}},49888:a=>{a.exports=function(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}},49928:a=>{var b=/\s/;a.exports=function(a){for(var c=a.length;c--&&b.test(a.charAt(c)););return c}},50448:(a,b,c)=>{var d=c(49888),e=c(9831);a.exports=function a(b,c,f,g,h){var i=-1,j=b.length;for(f||(f=e),h||(h=[]);++i<j;){var k=b[i];c>0&&f(k)?c>1?a(k,c-1,f,g,h):d(h,k):g||(h[h.length]=k)}return h}},50464:(a,b,c)=>{var d=c(30353),e=function(){var a=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();a.exports=function(a){return!!e&&e in a}},50698:a=>{a.exports=function(a){return function(){return a}}},51529:(a,b,c)=>{var d=c(37070);a.exports=c(79655)(d)},51691:a=>{a.exports=function(a,b){return function(c){return a(b(c))}}},53032:(a,b,c)=>{var d=c(92828),e=c(99218);a.exports=function(a){for(var b=e(a),c=b.length;c--;){var f=b[c],g=a[f];b[c]=[f,g,d(g)]}return b}},54363:a=>{a.exports=function(){return!1}},54861:a=>{a.exports=function(a,b){return function(c){return null!=c&&c[a]===b&&(void 0!==b||a in Object(c))}}},55707:(a,b,c)=>{a.exports=c(51691)(Object.getPrototypeOf,Object)},55839:(a,b,c)=>{var d=c(86797),e=c(43884),f=c(89159);function g(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new d;++b<c;)this.add(a[b])}g.prototype.add=g.prototype.push=e,g.prototype.has=f,a.exports=g},57684:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"default",{enumerable:!0,get:function(){return f}});let d=c(38301),e=()=>{};function f(a){var b;let{headManager:c,reduceComponentsToState:f}=a;function g(){if(c&&c.mountedInstances){let b=d.Children.toArray(Array.from(c.mountedInstances).filter(Boolean));c.updateHead(f(b,a))}}return null==c||null==(b=c.mountedInstances)||b.add(a.children),g(),e(()=>{var b;return null==c||null==(b=c.mountedInstances)||b.add(a.children),()=>{var b;null==c||null==(b=c.mountedInstances)||b.delete(a.children)}}),e(()=>(c&&(c._pendingUpdate=g),()=>{c&&(c._pendingUpdate=g)})),null}},57750:(a,b,c)=>{var d=c(48907),e=c(24131),f=c(46304);a.exports=function(a){return a&&a.length?d(a,f,e):void 0}},57820:(a,b,c)=>{var d=c(96882);a.exports=function(a,b){return d(a,b)}},57917:(a,b,c)=>{var d=c(13936),e=c(29514),f=c(46345),g=c(27165),h=c(91429);function i(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}i.prototype.clear=d,i.prototype.delete=e,i.prototype.get=f,i.prototype.has=g,i.prototype.set=h,a.exports=i},59418:(a,b,c)=>{"use strict";var d=c(69405);function e(){}function f(){}f.resetWarningCache=e,a.exports=function(){function a(a,b,c,e,f,g){if(g!==d){var h=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}function b(){return a}a.isRequired=a;var c={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:b,element:a,elementType:a,instanceOf:b,node:a,objectOf:b,oneOf:b,oneOfType:b,shape:b,exact:b,checkPropTypes:f,resetWarningCache:e};return c.PropTypes=c,c}},59735:a=>{a.exports=function(a,b){return a.has(b)}},59899:(a,b,c)=>{var d=c(72513);a.exports=function(a){return d(this.__data__,a)>-1}},59993:a=>{a.exports=function(a,b,c){for(var d=-1,e=null==a?0:a.length;++d<e;)if(c(b,a[d]))return!0;return!1}},61188:(a,b,c)=>{var d=c(72905),e=c(10707),f=c(8702),g=c(48873),h=c(69797),i=c(11849),j=c(12024),k=c(38331),l="[object Arguments]",m="[object Array]",n="[object Object]",o=Object.prototype.hasOwnProperty;a.exports=function(a,b,c,p,q,r){var s=i(a),t=i(b),u=s?m:h(a),v=t?m:h(b);u=u==l?n:u,v=v==l?n:v;var w=u==n,x=v==n,y=u==v;if(y&&j(a)){if(!j(b))return!1;s=!0,w=!1}if(y&&!w)return r||(r=new d),s||k(a)?e(a,b,c,p,q,r):f(a,b,u,c,p,q,r);if(!(1&c)){var z=w&&o.call(a,"__wrapped__"),A=x&&o.call(b,"__wrapped__");if(z||A){var B=z?a.value():a,C=A?b.value():b;return r||(r=new d),q(B,C,c,p,r)}}return!!y&&(r||(r=new d),g(a,b,c,p,q,r))}},61353:(a,b,c)=>{a.exports=c(98813).Symbol},61477:(a,b,c)=>{var d=c(85161),e=c(77522),f=c(2803);a.exports=d&&1/f(new d([,-0]))[1]==1/0?function(a){return new d(a)}:e},62598:a=>{a.exports=function(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63181:(a,b,c)=>{var d=c(31907);a.exports=function(a){return d(a)&&a!=+a}},63185:(a,b,c)=>{var d=c(70050);a.exports=function(a,b){return function(c,e){if(null==c)return c;if(!d(c))return a(c,e);for(var f=c.length,g=b?f:-1,h=Object(c);(b?g--:++g<f)&&!1!==e(h[g],g,h););return c}}},63725:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{default:function(){return p},defaultHead:function(){return l}});let d=c(35288),e=c(55823),f=c(21124),g=e._(c(38301)),h=d._(c(57684)),i=c(81578),j=c(19746),k=c(15217);function l(a){void 0===a&&(a=!1);let b=[(0,f.jsx)("meta",{charSet:"utf-8"},"charset")];return a||b.push((0,f.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),b}function m(a,b){return"string"==typeof b||"number"==typeof b?a:b.type===g.default.Fragment?a.concat(g.default.Children.toArray(b.props.children).reduce((a,b)=>"string"==typeof b||"number"==typeof b?a:a.concat(b),[])):a.concat(b)}c(21507);let n=["name","httpEquiv","charSet","itemProp"];function o(a,b){let{inAmpMode:c}=b;return a.reduce(m,[]).reverse().concat(l(c).reverse()).filter(function(){let a=new Set,b=new Set,c=new Set,d={};return e=>{let f=!0,g=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){g=!0;let b=e.key.slice(e.key.indexOf("$")+1);a.has(b)?f=!1:a.add(b)}switch(e.type){case"title":case"base":b.has(e.type)?f=!1:b.add(e.type);break;case"meta":for(let a=0,b=n.length;a<b;a++){let b=n[a];if(e.props.hasOwnProperty(b))if("charSet"===b)c.has(b)?f=!1:c.add(b);else{let a=e.props[b],c=d[b]||new Set;("name"!==b||!g)&&c.has(a)?f=!1:(c.add(a),d[b]=c)}}}return f}}()).reverse().map((a,b)=>{let c=a.key||b;return g.default.cloneElement(a,{key:c})})}let p=function(a){let{children:b}=a,c=(0,g.useContext)(i.AmpStateContext),d=(0,g.useContext)(j.HeadManagerContext);return(0,f.jsx)(h.default,{reduceComponentsToState:o,headManager:d,inAmpMode:(0,k.isInAmpMode)(c),children:b})};("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},63847:(a,b,c)=>{var d=c(72513);a.exports=function(a){var b=this.__data__,c=d(b,a);return c<0?void 0:b[c][1]}},63974:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"getImgProps",{enumerable:!0,get:function(){return i}}),c(21507);let d=c(78757),e=c(3001),f=["-moz-initial","fill","none","scale-down",void 0];function g(a){return void 0!==a.default}function h(a){return void 0===a?a:"number"==typeof a?Number.isFinite(a)?a:NaN:"string"==typeof a&&/^[0-9]+$/.test(a)?parseInt(a,10):NaN}function i(a,b){var c,i;let j,k,l,{src:m,sizes:n,unoptimized:o=!1,priority:p=!1,loading:q,className:r,quality:s,width:t,height:u,fill:v=!1,style:w,overrideSrc:x,onLoad:y,onLoadingComplete:z,placeholder:A="empty",blurDataURL:B,fetchPriority:C,decoding:D="async",layout:E,objectFit:F,objectPosition:G,lazyBoundary:H,lazyRoot:I,...J}=a,{imgConf:K,showAltText:L,blurComplete:M,defaultLoader:N}=b,O=K||e.imageConfigDefault;if("allSizes"in O)j=O;else{let a=[...O.deviceSizes,...O.imageSizes].sort((a,b)=>a-b),b=O.deviceSizes.sort((a,b)=>a-b),d=null==(c=O.qualities)?void 0:c.sort((a,b)=>a-b);j={...O,allSizes:a,deviceSizes:b,qualities:d}}if(void 0===N)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let P=J.loader||N;delete J.loader,delete J.srcSet;let Q="__next_img_default"in P;if(Q){if("custom"===j.loader)throw Object.defineProperty(Error('Image with src "'+m+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader'),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let a=P;P=b=>{let{config:c,...d}=b;return a(d)}}if(E){"fill"===E&&(v=!0);let a={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[E];a&&(w={...w,...a});let b={responsive:"100vw",fill:"100vw"}[E];b&&!n&&(n=b)}let R="",S=h(t),T=h(u);if((i=m)&&"object"==typeof i&&(g(i)||void 0!==i.src)){let a=g(m)?m.default:m;if(!a.src)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(a)),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!a.height||!a.width)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(a)),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(k=a.blurWidth,l=a.blurHeight,B=B||a.blurDataURL,R=a.src,!v)if(S||T){if(S&&!T){let b=S/a.width;T=Math.round(a.height*b)}else if(!S&&T){let b=T/a.height;S=Math.round(a.width*b)}}else S=a.width,T=a.height}let U=!p&&("lazy"===q||void 0===q);(!(m="string"==typeof m?m:R)||m.startsWith("data:")||m.startsWith("blob:"))&&(o=!0,U=!1),j.unoptimized&&(o=!0),Q&&!j.dangerouslyAllowSVG&&m.split("?",1)[0].endsWith(".svg")&&(o=!0);let V=h(s),W=Object.assign(v?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:F,objectPosition:G}:{},L?{}:{color:"transparent"},w),X=M||"empty"===A?null:"blur"===A?'url("data:image/svg+xml;charset=utf-8,'+(0,d.getImageBlurSvg)({widthInt:S,heightInt:T,blurWidth:k,blurHeight:l,blurDataURL:B||"",objectFit:W.objectFit})+'")':'url("'+A+'")',Y=f.includes(W.objectFit)?"fill"===W.objectFit?"100% 100%":"cover":W.objectFit,Z=X?{backgroundSize:Y,backgroundPosition:W.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:X}:{},$=function(a){let{config:b,src:c,unoptimized:d,width:e,quality:f,sizes:g,loader:h}=a;if(d)return{src:c,srcSet:void 0,sizes:void 0};let{widths:i,kind:j}=function(a,b,c){let{deviceSizes:d,allSizes:e}=a;if(c){let a=/(^|\s)(1?\d?\d)vw/g,b=[];for(let d;d=a.exec(c);)b.push(parseInt(d[2]));if(b.length){let a=.01*Math.min(...b);return{widths:e.filter(b=>b>=d[0]*a),kind:"w"}}return{widths:e,kind:"w"}}return"number"!=typeof b?{widths:d,kind:"w"}:{widths:[...new Set([b,2*b].map(a=>e.find(b=>b>=a)||e[e.length-1]))],kind:"x"}}(b,e,g),k=i.length-1;return{sizes:g||"w"!==j?g:"100vw",srcSet:i.map((a,d)=>h({config:b,src:c,quality:f,width:a})+" "+("w"===j?a:d+1)+j).join(", "),src:h({config:b,src:c,quality:f,width:i[k]})}}({config:j,src:m,unoptimized:o,width:S,quality:V,sizes:n,loader:P});return{props:{...J,loading:U?"lazy":q,fetchPriority:C,width:S,height:T,decoding:D,className:r,style:{...W,...Z},sizes:$.sizes,srcSet:$.srcSet,src:x||$.src},meta:{unoptimized:o,priority:p,placeholder:A,fill:v}}}},64592:(a,b,c)=>{var d=c(86280);a.exports=function(a){var b=d(a,function(a){return 500===c.size&&c.clear(),a}),c=b.cache;return b}},64979:(a,b,c)=>{var d=c(49888),e=c(11849);a.exports=function(a,b,c){var f=b(a);return e(a)?f:d(f,c(a))}},65197:a=>{a.exports=function(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}},66850:(a,b,c)=>{var d=c(29869),e=c(42805);a.exports=function(a,b){return a&&a.length?e(a,d(b,2)):[]}},66898:(a,b,c)=>{var d=c(42424),e=c(22790);a.exports=function(a){return e(a)&&"[object Arguments]"==d(a)}},67066:(a,b,c)=>{var d=c(43167);a.exports=function(a){var b=d(this,a).delete(a);return this.size-=!!b,b}},68543:(a,b,c)=>{"use strict";a.exports=c(81851)},69405:a=>{"use strict";a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},69797:(a,b,c)=>{var d=c(45380),e=c(73483),f=c(24924),g=c(85161),h=c(14075),i=c(42424),j=c(409),k="[object Map]",l="[object Promise]",m="[object Set]",n="[object WeakMap]",o="[object DataView]",p=j(d),q=j(e),r=j(f),s=j(g),t=j(h),u=i;(d&&u(new d(new ArrayBuffer(1)))!=o||e&&u(new e)!=k||f&&u(f.resolve())!=l||g&&u(new g)!=m||h&&u(new h)!=n)&&(u=function(a){var b=i(a),c="[object Object]"==b?a.constructor:void 0,d=c?j(c):"";if(d)switch(d){case p:return o;case q:return k;case r:return l;case s:return m;case t:return n}return b}),a.exports=u},70033:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(49754),e=c(9117),f=c(46595),g=c(32324),h=c(39326),i=c(38928),j=c(20175),k=c(12),l=c(54290),m=c(12696),n=c(82802),o=c(77533),p=c(45229),q=c(32822),r=c(261),s=c(26453),t=c(52474),u=c(26713),v=c(51356),w=c(62685),x=c(36225),y=c(63446),z=c(2762),A=c(45742),B=c(86439),C=c(81170),D=c.n(C),E=c(62506),F=c(91203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,17742)),"/workspaces/pro_barber/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(c.bind(c,16953)),"/workspaces/pro_barber/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,81170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,87028,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,90461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,32768,23)),"next/dist/client/components/builtin/unauthorized.js"]}],I=["/workspaces/pro_barber/app/page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(33873).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},70050:(a,b,c)=>{var d=c(45862),e=c(83690);a.exports=function(a){return null!=a&&e(a.length)&&!d(a)}},71140:(a,b,c)=>{var d=c(48768),e=c(39289),f=c(29869);a.exports=function(a,b){var c={};return b=f(b,3),e(a,function(a,e,f){d(c,e,b(a,e,f))}),c}},71923:(a,b,c)=>{var d=c(24613),e=c(19779),f=c(95062),g=c(45157);a.exports=function(a){return f(a)?d(g(a)):e(a)}},72513:(a,b,c)=>{var d=c(36552);a.exports=function(a,b){for(var c=a.length;c--;)if(d(a[c][0],b))return c;return -1}},72905:(a,b,c)=>{var d=c(83131),e=c(35204),f=c(45446),g=c(7285),h=c(77617),i=c(34073);function j(a){var b=this.__data__=new d(a);this.size=b.size}j.prototype.clear=e,j.prototype.delete=f,j.prototype.get=g,j.prototype.has=h,j.prototype.set=i,a.exports=j},73483:(a,b,c)=>{a.exports=c(86002)(c(98813),"Map")},74260:()=>{},74672:(a,b,c)=>{var d=c(49928),e=/^\s+/;a.exports=function(a){return a?a.slice(0,d(a)+1).replace(e,""):a}},74899:a=>{a.exports=function(a){return a!=a}},75958:(a,b,c)=>{var d=c(64592),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g;a.exports=d(function(a){var b=[];return 46===a.charCodeAt(0)&&b.push(""),a.replace(e,function(a,c,d,e){b.push(d?e.replace(f,"$1"):c||a)}),b})},76604:(a,b,c)=>{a.exports=c(98813).Uint8Array},77336:a=>{a.exports=function(a,b,c){var d=-1,e=a.length;b<0&&(b=-b>e?0:e+b),(c=c>e?e:c)<0&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Array(e);++d<e;)f[d]=a[d+b];return f}},77516:(a,b,c)=>{var d=c(42424),e=c(22790);a.exports=function(a){return!0===a||!1===a||e(a)&&"[object Boolean]"==d(a)}},77522:a=>{a.exports=function(){}},77617:a=>{a.exports=function(a){return this.__data__.has(a)}},77822:(a,b,c)=>{var d=c(80246);a.exports=function(a,b){if(a!==b){var c=void 0!==a,e=null===a,f=a==a,g=d(a),h=void 0!==b,i=null===b,j=b==b,k=d(b);if(!i&&!k&&!g&&a>b||g&&h&&j&&!i&&!k||e&&h&&j||!c&&j||!f)return 1;if(!e&&!g&&!k&&a<b||k&&c&&f&&!e&&!g||i&&c&&f||!h&&f||!j)return -1}return 0}},77955:(a,b,c)=>{var d=c(50448),e=c(81151),f=c(23082),g=c(20128);a.exports=f(function(a,b){if(null==a)return[];var c=b.length;return c>1&&g(a,b[0],b[1])?b=[]:c>2&&g(b[0],b[1],b[2])&&(b=[b[0]]),e(a,d(b,1),[])})},78494:(a,b,c)=>{a.exports=c(51691)(Object.keys,Object)},78667:a=>{a.exports=function(a,b,c){for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return -1}},78757:(a,b)=>{"use strict";function c(a){let{widthInt:b,heightInt:c,blurWidth:d,blurHeight:e,blurDataURL:f,objectFit:g}=a,h=d?40*d:b,i=e?40*e:c,j=h&&i?"viewBox='0 0 "+h+" "+i+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+j+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(j?"none":"contain"===g?"xMidYMid":"cover"===g?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+f+"'/%3E%3C/svg%3E"}Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"getImageBlurSvg",{enumerable:!0,get:function(){return c}})},78996:(a,b,c)=>{var d=c(10818);a.exports=function(a,b,c){var e=null==a?void 0:d(a,b);return void 0===e?c:e}},79655:a=>{var b=Date.now;a.exports=function(a){var c=0,d=0;return function(){var e=b(),f=16-(e-d);if(d=e,f>0){if(++c>=800)return arguments[0]}else c=0;return a.apply(void 0,arguments)}}},80246:(a,b,c)=>{var d=c(42424),e=c(22790);a.exports=function(a){return"symbol"==typeof a||e(a)&&"[object Symbol]"==d(a)}},80976:a=>{a.exports=function(a,b){return a<b}},81151:(a,b,c)=>{var d=c(13292),e=c(10818),f=c(29869),g=c(24120),h=c(93145),i=c(35557),j=c(29502),k=c(46304),l=c(11849);a.exports=function(a,b,c){b=b.length?d(b,function(a){return l(a)?function(b){return e(b,1===a.length?a[0]:a)}:a}):[k];var m=-1;return b=d(b,i(f)),h(g(a,function(a,c,e){return{criteria:d(b,function(b){return b(a)}),index:++m,value:a}}),function(a,b){return j(a,b,c)})}},81578:(a,b,c)=>{"use strict";a.exports=c(56796).vendored.contexts.AmpContext},81851:(a,b)=>{"use strict";var c=Symbol.for("react.element"),d=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),i=Symbol.for("react.context"),j=Symbol.for("react.server_context"),k=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),n=Symbol.for("react.memo"),o=Symbol.for("react.lazy");Symbol.for("react.offscreen");Symbol.for("react.module.reference"),b.isFragment=function(a){return function(a){if("object"==typeof a&&null!==a){var b=a.$$typeof;switch(b){case c:switch(a=a.type){case e:case g:case f:case l:case m:return a;default:switch(a=a&&a.$$typeof){case j:case i:case k:case o:case n:case h:return a;default:return b}}case d:return b}}}(a)===e}},82704:()=>{},83131:(a,b,c)=>{var d=c(20394),e=c(47616),f=c(63847),g=c(59899),h=c(5699);function i(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}i.prototype.clear=d,i.prototype.delete=e,i.prototype.get=f,i.prototype.has=g,i.prototype.set=h,a.exports=i},83147:(a,b,c)=>{Promise.resolve().then(c.bind(c,85130))},83252:(a,b,c)=>{var d=c(98813);a.exports=function(){return d.Date.now()}},83690:a=>{a.exports=function(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=0x1fffffffffffff}},83851:(a,b,c)=>{var d=c(48451),e=c(53032),f=c(54861);a.exports=function(a){var b=e(a);return 1==b.length&&b[0][2]?f(b[0][0],b[0][1]):function(c){return c===a||d(c,a,b)}}},84678:(a,b,c)=>{var d=c(1400),e=c(29869),f=c(44956),g=c(11849),h=c(20128);a.exports=function(a,b,c){var i=g(a)?d:f;return c&&h(a,b,c)&&(b=void 0),i(a,e(b,3))}},84957:a=>{a.exports=function(a,b){return null!=a&&b in Object(a)}},85130:(a,b,c)=>{"use strict";let d;c.r(b),c.d(b,{default:()=>u4});var e,f,g,h,i,j,k,l,m,n,o,p={};c.r(p),c.d(p,{scaleBand:()=>d7,scaleDiverging:()=>function a(){var b=fT(h7()(fB));return b.copy=function(){return h4(b,a())},d1.apply(b,arguments)},scaleDivergingLog:()=>function a(){var b=f0(h7()).domain([.1,1,10]);return b.copy=function(){return h4(b,a()).base(b.base())},d1.apply(b,arguments)},scaleDivergingPow:()=>h8,scaleDivergingSqrt:()=>h9,scaleDivergingSymlog:()=>function a(){var b=f3(h7());return b.copy=function(){return h4(b,a()).constant(b.constant())},d1.apply(b,arguments)},scaleIdentity:()=>function a(b){var c;function d(a){return null==a||isNaN(a*=1)?c:a}return d.invert=d,d.domain=d.range=function(a){return arguments.length?(b=Array.from(a,fz),d):b.slice()},d.unknown=function(a){return arguments.length?(c=a,d):c},d.copy=function(){return a(b).unknown(c)},b=arguments.length?Array.from(b,fz):[0,1],fT(d)},scaleImplicit:()=>d5,scaleLinear:()=>fU,scaleLog:()=>function a(){let b=f0(fG()).domain([1,10]);return b.copy=()=>fF(b,a()).base(b.base()),d0.apply(b,arguments),b},scaleOrdinal:()=>d6,scalePoint:()=>d8,scalePow:()=>f8,scaleQuantile:()=>function a(){var b,c=[],d=[],e=[];function f(){var a=0,b=Math.max(1,d.length);for(e=Array(b-1);++a<b;)e[a-1]=function(a,b,c=eS){if(!(!(d=a.length)||isNaN(b*=1))){if(b<=0||d<2)return+c(a[0],0,a);if(b>=1)return+c(a[d-1],d-1,a);var d,e=(d-1)*b,f=Math.floor(e),g=+c(a[f],f,a);return g+(c(a[f+1],f+1,a)-g)*(e-f)}}(c,a/b);return g}function g(a){return null==a||isNaN(a*=1)?b:d[eU(e,a)]}return g.invertExtent=function(a){var b=d.indexOf(a);return b<0?[NaN,NaN]:[b>0?e[b-1]:c[0],b<e.length?e[b]:c[c.length-1]]},g.domain=function(a){if(!arguments.length)return c.slice();for(let b of(c=[],a))null==b||isNaN(b*=1)||c.push(b);return c.sort(eO),f()},g.range=function(a){return arguments.length?(d=Array.from(a),f()):d.slice()},g.unknown=function(a){return arguments.length?(b=a,g):b},g.quantiles=function(){return e.slice()},g.copy=function(){return a().domain(c).range(d).unknown(b)},d0.apply(g,arguments)},scaleQuantize:()=>function a(){var b,c=0,d=1,e=1,f=[.5],g=[0,1];function h(a){return null!=a&&a<=a?g[eU(f,a,0,e)]:b}function i(){var a=-1;for(f=Array(e);++a<e;)f[a]=((a+1)*d-(a-e)*c)/(e+1);return h}return h.domain=function(a){return arguments.length?([c,d]=a,c*=1,d*=1,i()):[c,d]},h.range=function(a){return arguments.length?(e=(g=Array.from(a)).length-1,i()):g.slice()},h.invertExtent=function(a){var b=g.indexOf(a);return b<0?[NaN,NaN]:b<1?[c,f[0]]:b>=e?[f[e-1],d]:[f[b-1],f[b]]},h.unknown=function(a){return arguments.length&&(b=a),h},h.thresholds=function(){return f.slice()},h.copy=function(){return a().domain([c,d]).range(g).unknown(b)},d0.apply(fT(h),arguments)},scaleRadial:()=>function a(){var b,c=fH(),d=[0,1],e=!1;function f(a){var d,f=Math.sign(d=c(a))*Math.sqrt(Math.abs(d));return isNaN(f)?b:e?Math.round(f):f}return f.invert=function(a){return c.invert(ga(a))},f.domain=function(a){return arguments.length?(c.domain(a),f):c.domain()},f.range=function(a){return arguments.length?(c.range((d=Array.from(a,fz)).map(ga)),f):d.slice()},f.rangeRound=function(a){return f.range(a).round(!0)},f.round=function(a){return arguments.length?(e=!!a,f):e},f.clamp=function(a){return arguments.length?(c.clamp(a),f):c.clamp()},f.unknown=function(a){return arguments.length?(b=a,f):b},f.copy=function(){return a(c.domain(),d).round(e).clamp(c.clamp()).unknown(b)},d0.apply(f,arguments),fT(f)},scaleSequential:()=>function a(){var b=fT(h3()(fB));return b.copy=function(){return h4(b,a())},d1.apply(b,arguments)},scaleSequentialLog:()=>function a(){var b=f0(h3()).domain([1,10]);return b.copy=function(){return h4(b,a()).base(b.base())},d1.apply(b,arguments)},scaleSequentialPow:()=>h5,scaleSequentialQuantile:()=>function a(){var b=[],c=fB;function d(a){if(null!=a&&!isNaN(a*=1))return c((eU(b,a,1)-1)/(b.length-1))}return d.domain=function(a){if(!arguments.length)return b.slice();for(let c of(b=[],a))null==c||isNaN(c*=1)||b.push(c);return b.sort(eO),d},d.interpolator=function(a){return arguments.length?(c=a,d):c},d.range=function(){return b.map((a,d)=>c(d/(b.length-1)))},d.quantiles=function(a){return Array.from({length:a+1},(c,d)=>(function(a,b,c){if(!(!(d=(a=Float64Array.from(function*(a,b){if(void 0===b)for(let b of a)null!=b&&(b*=1)>=b&&(yield b);else{let c=-1;for(let d of a)null!=(d=b(d,++c,a))&&(d*=1)>=d&&(yield d)}}(a,void 0))).length)||isNaN(b*=1))){if(b<=0||d<2)return gc(a);if(b>=1)return gb(a);var d,e=(d-1)*b,f=Math.floor(e),g=gb((function a(b,c,d=0,e=1/0,f){if(c=Math.floor(c),d=Math.floor(Math.max(0,d)),e=Math.floor(Math.min(b.length-1,e)),!(d<=c&&c<=e))return b;for(f=void 0===f?gd:function(a=eO){if(a===eO)return gd;if("function"!=typeof a)throw TypeError("compare is not a function");return(b,c)=>{let d=a(b,c);return d||0===d?d:(0===a(c,c))-(0===a(b,b))}}(f);e>d;){if(e-d>600){let g=e-d+1,h=c-d+1,i=Math.log(g),j=.5*Math.exp(2*i/3),k=.5*Math.sqrt(i*j*(g-j)/g)*(h-g/2<0?-1:1),l=Math.max(d,Math.floor(c-h*j/g+k)),m=Math.min(e,Math.floor(c+(g-h)*j/g+k));a(b,c,l,m,f)}let g=b[c],h=d,i=e;for(ge(b,d,c),f(b[e],g)>0&&ge(b,d,e);h<i;){for(ge(b,h,i),++h,--i;0>f(b[h],g);)++h;for(;f(b[i],g)>0;)--i}0===f(b[d],g)?ge(b,d,i):ge(b,++i,e),i<=c&&(d=i+1),c<=i&&(e=i-1)}return b})(a,f).subarray(0,f+1));return g+(gc(a.subarray(f+1))-g)*(e-f)}})(b,d/a))},d.copy=function(){return a(c).domain(b)},d1.apply(d,arguments)},scaleSequentialSqrt:()=>h6,scaleSequentialSymlog:()=>function a(){var b=f3(h3());return b.copy=function(){return h4(b,a()).constant(b.constant())},d1.apply(b,arguments)},scaleSqrt:()=>f9,scaleSymlog:()=>function a(){var b=f3(fG());return b.copy=function(){return fF(b,a()).constant(b.constant())},d0.apply(b,arguments)},scaleThreshold:()=>function a(){var b,c=[.5],d=[0,1],e=1;function f(a){return null!=a&&a<=a?d[eU(c,a,0,e)]:b}return f.domain=function(a){return arguments.length?(e=Math.min((c=Array.from(a)).length,d.length-1),f):c.slice()},f.range=function(a){return arguments.length?(d=Array.from(a),e=Math.min(c.length,d.length-1),f):d.slice()},f.invertExtent=function(a){var b=d.indexOf(a);return[c[b-1],c[b]]},f.unknown=function(a){return arguments.length?(b=a,f):b},f.copy=function(){return a().domain(c).range(d).unknown(b)},d0.apply(f,arguments)},scaleTime:()=>h1,scaleUtc:()=>h2,tickFormat:()=>fS});var q=c(21124),r=c(38301),s=c.n(r),t=c(87516),u=c.n(t),v=function(a){return a.OWNER="OWNER",a.BARBER="BARBER",a.CUSTOMER="CUSTOMER",a}({}),w={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let x=(a,b)=>{let c=(0,r.forwardRef)(({color:c="currentColor",size:d=24,strokeWidth:e=2,absoluteStrokeWidth:f,children:g,...h},i)=>(0,r.createElement)("svg",{ref:i,...w,width:d,height:d,stroke:c,strokeWidth:f?24*Number(e)/Number(d):e,className:`lucide lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,...h},[...b.map(([a,b])=>(0,r.createElement)(a,b)),...(Array.isArray(g)?g:[g])||[]]));return c.displayName=`${a}`,c},y=x("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),z=({url:a,name:b="Usuario",size:c="md",className:d=""})=>{let e={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"};return a?(0,q.jsx)("div",{className:`${e[c]} rounded-lg overflow-hidden bg-brand-light flex items-center justify-center ${d}`,children:(0,q.jsx)("img",{src:a,alt:b,className:"w-full h-full object-cover"})}):(0,q.jsx)("div",{className:`${e[c]} rounded-lg bg-gradient-to-br from-brand-accent to-blue-600 flex items-center justify-center shadow-md ${d}`,children:(0,q.jsx)(y,{size:{sm:16,md:24,lg:32}[c],className:"text-white"})})},A=x("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),B=x("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),C=x("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),D=x("Tags",[["path",{d:"M9 5H2v7l6.29 6.29c.94.94 2.48.94 3.42 0l3.58-3.58c.94-.94.94-2.48 0-3.42L9 5Z",key:"gt587u"}],["path",{d:"M6 9.01V9",key:"1flxpt"}],["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}]]),E=x("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),F=x("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),G=x("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]),H=x("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),I=x("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),J=x("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),K=x("PackageSearch",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]),L=x("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),M=x("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),N=x("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),O=x("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),P=x("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]),Q=x("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),R=x("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),S=x("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),T=x("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),U=x("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]),V=x("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]),W=x("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),X=x("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),Y=({children:a,currentUser:b,onNavigate:c,currentView:d,onLogout:e,notifications:f,onMarkAllRead:g})=>{let[h,i]=(0,r.useState)(!1),[j,k]=(0,r.useState)(!1),[l,m]=(0,r.useState)(!1),n=(0,r.useRef)(null),o=f.filter(a=>!a.read).length;(0,r.useEffect)(()=>{i(!1),m(!1)},[d]),(0,r.useEffect)(()=>{let a=a=>{n.current&&!n.current.contains(a.target)&&m(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);let p=[{id:"dashboard",label:"In\xedcio",icon:A,roles:[v.OWNER,v.BARBER,v.CUSTOMER]},{id:"calendar",label:"Agenda",icon:B,roles:[v.OWNER]},{id:"queue",label:"Fila",icon:C,roles:[v.OWNER,v.BARBER]},{id:"services",label:"Servi\xe7os",icon:D,roles:[v.OWNER]},{id:"strategic",label:"Assinaturas",icon:E,roles:[v.OWNER]},{id:"investor",label:"Vis\xe3o Investidor",icon:F,roles:[v.OWNER]},{id:"booking",label:"Reservar",icon:G,roles:[v.CUSTOMER]},{id:"appointments",label:"Cortes",icon:H,roles:[v.CUSTOMER]},{id:"shop",label:"Loja",icon:I,roles:[v.CUSTOMER]},{id:"orders",label:"Pedidos",icon:J,roles:[v.CUSTOMER]},{id:"order_management",label:"Pedidos Loja",icon:K,roles:[v.OWNER]},{id:"financials",label:"Financeiro",icon:L,roles:[v.OWNER]},{id:"team",label:"Equipe",icon:M,roles:[v.OWNER]},{id:"inventory",label:"Estoque",icon:N,roles:[v.OWNER]},{id:"crm",label:"Clientes",icon:O,roles:[v.OWNER,v.BARBER]},{id:"marketing",label:"Marketing",icon:P,roles:[v.OWNER]},{id:"settings",label:"Ajustes",icon:Q,roles:[v.OWNER,v.BARBER,v.CUSTOMER]}],s=b?.role||v.CUSTOMER,t=b?p.filter(a=>a.roles.includes(s)):[{id:"booking",label:"Reservar",icon:G,roles:[v.CUSTOMER]}],w=s===v.OWNER?t.filter(a=>["dashboard","calendar","order_management"].includes(a.id)):s===v.BARBER?t.filter(a=>["dashboard","queue","crm"].includes(a.id)):t.filter(a=>["dashboard","booking","orders"].includes(a.id));return(0,q.jsxs)("div",{className:"flex h-screen bg-brand-gray font-sans overflow-hidden select-none",children:[(0,q.jsxs)("aside",{className:`
        fixed inset-y-0 left-0 z-[60] glass-sidebar text-white transition-all duration-300 ease-in-out flex flex-col
        ${h?"translate-x-0 w-64":"-translate-x-full w-64"} 
        md:translate-x-0 ${j?"md:w-20":"md:w-64"}
      `,children:[(0,q.jsxs)("div",{className:`h-16 flex items-center ${j?"justify-center":"px-6"} border-b border-white/5`,children:[(0,q.jsxs)("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>c("dashboard"),children:[(0,q.jsx)(u(),{src:"/logo-branco.png",alt:"Barvo",width:32,height:32,className:"object-contain"}),!j&&(0,q.jsx)("span",{className:"text-lg font-extrabold tracking-tighter italic text-white",children:"BARVO"})]}),h&&(0,q.jsx)("button",{onClick:()=>i(!1),className:"ml-auto p-1.5 md:hidden text-white/50",children:(0,q.jsx)(R,{size:20})})]}),(0,q.jsx)("nav",{className:"flex-1 p-3 space-y-0.5 overflow-y-auto custom-scrollbar",children:t.map(a=>{let b=d===a.id;return(0,q.jsxs)("button",{onClick:()=>c(a.id),className:`
                  w-full flex items-center gap-3 p-3 rounded-xl transition-all duration-200 group relative
                  ${b?"bg-white/10 text-white font-semibold":"text-slate-400 hover:text-white hover:bg-white/5"}
                  ${j?"justify-center":""}
                `,children:[(0,q.jsx)(a.icon,{size:18,className:b?"text-brand-light":"text-slate-500 group-hover:text-white"}),!j&&(0,q.jsx)("span",{className:"text-xs tracking-wide",children:a.label}),b&&!j&&(0,q.jsx)("div",{className:"ml-auto w-1 h-1 bg-brand-light rounded-full"})]},a.id)})}),(0,q.jsx)("div",{className:"p-3 border-t border-white/5",children:(0,q.jsxs)("button",{onClick:e,className:`w-full flex items-center gap-3 p-3 text-slate-500 hover:text-red-400 hover:bg-red-400/5 rounded-xl transition-all ${j?"justify-center":""}`,children:[(0,q.jsx)(S,{size:18})," ",!j&&(0,q.jsx)("span",{className:"text-xs font-semibold",children:"Sair"})]})})]}),(0,q.jsxs)("div",{className:`flex-1 flex flex-col min-w-0 transition-all duration-300 ${j?"md:ml-20":"md:ml-64"} pb-16 md:pb-0`,children:[(0,q.jsxs)("header",{className:"h-14 bg-white/70 backdrop-blur-md border-b border-slate-200/50 flex items-center justify-between px-4 md:px-8 sticky top-0 z-40",children:[(0,q.jsxs)("div",{className:"flex items-center gap-4",children:[(0,q.jsx)("button",{onClick:()=>i(!0),className:"md:hidden p-1.5 text-brand-dark bg-slate-100 rounded-lg",children:(0,q.jsx)(T,{size:18})}),(0,q.jsx)("button",{onClick:()=>k(!j),className:"hidden md:flex p-2 text-slate-400 hover:text-brand-dark hover:bg-white rounded-lg transition-all border border-slate-100",children:j?(0,q.jsx)(U,{size:16}):(0,q.jsx)(V,{size:16})}),(0,q.jsx)("h1",{className:"text-base md:text-lg font-bold text-brand-black tracking-tight",children:p.find(a=>a.id===d)?.label||"Barvo"})]}),(0,q.jsxs)("div",{className:"flex items-center gap-3 relative",ref:n,children:[(0,q.jsxs)("div",{onClick:()=>m(!l),className:`bg-white p-2 rounded-lg border border-slate-100 cursor-pointer relative transition-all active:scale-95 ${l?"text-brand-dark border-brand-light":"text-slate-400 hover:text-brand-dark"}`,children:[(0,q.jsx)(W,{size:16}),o>0&&(0,q.jsx)("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-[9px] font-black rounded-full border-2 border-white flex items-center justify-center",children:o})]}),l&&(0,q.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-72 md:w-80 bg-white rounded-2xl shadow-2xl border border-slate-100 z-50 overflow-hidden animate-fade-in origin-top-right",children:[(0,q.jsxs)("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[(0,q.jsx)("span",{className:"text-xs font-black text-brand-dark uppercase tracking-widest",children:"Notifica\xe7\xf5es"}),(0,q.jsx)("button",{onClick:g,className:"text-[10px] font-bold text-blue-600 hover:underline",children:"Marcar todas como lidas"})]}),(0,q.jsx)("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:f.length>0?f.map(a=>(0,q.jsxs)("div",{className:`p-4 border-b border-slate-50 flex gap-3 hover:bg-slate-50 transition-colors ${!a.read?"bg-blue-50/30":""}`,children:[(0,q.jsx)("div",{className:`w-2 h-2 rounded-full mt-1.5 flex-shrink-0 ${a.read?"bg-slate-200":"bg-blue-500 shadow-[0_0_8px_rgba(59,130,246,0.5)]"}`}),(0,q.jsxs)("div",{children:[(0,q.jsx)("p",{className:`text-xs font-bold ${!a.read?"text-slate-900":"text-slate-600"}`,children:a.title}),(0,q.jsx)("p",{className:"text-[11px] text-slate-500 mt-0.5 leading-relaxed",children:a.message}),(0,q.jsx)("p",{className:"text-[9px] text-slate-400 mt-2 font-medium uppercase",children:a.time})]})]},a.id)):(0,q.jsxs)("div",{className:"p-10 text-center text-slate-400",children:[(0,q.jsx)(W,{size:24,className:"mx-auto mb-2 opacity-20"}),(0,q.jsx)("p",{className:"text-xs font-medium",children:"Nenhuma notifica\xe7\xe3o por enquanto."})]})}),(0,q.jsx)("div",{className:"p-3 text-center bg-slate-50 border-t border-slate-100",children:(0,q.jsx)("button",{onClick:()=>m(!1),className:"text-[10px] font-black text-slate-500 uppercase tracking-widest hover:text-brand-dark",children:"Fechar Painel"})})]}),b&&(0,q.jsx)("button",{onClick:()=>c("settings"),className:"hover:opacity-80 transition-all",children:(0,q.jsx)(z,{url:b.avatar,name:b.name,size:"sm",className:"cursor-pointer"})})]})]}),(0,q.jsx)("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 bg-brand-gray/30 custom-scrollbar",children:(0,q.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,q.jsx)("div",{className:"animate-fade-in",children:a})})}),(0,q.jsxs)("div",{className:"md:hidden fixed bottom-0 left-0 right-0 h-14 bg-white/90 backdrop-blur-md border-t border-slate-200 flex items-center justify-around px-2 z-50",children:[w.map(a=>{let b=d===a.id;return(0,q.jsxs)("button",{onClick:()=>c(a.id),className:`flex flex-col items-center justify-center gap-0.5 flex-1 transition-all ${b?"text-brand-dark":"text-slate-400"}`,children:[(0,q.jsx)(a.icon,{size:18,className:b?"text-brand-dark":""}),(0,q.jsx)("span",{className:`text-[9px] font-bold uppercase tracking-tighter ${b?"opacity-100":"opacity-60"}`,children:a.label})]},a.id)}),(0,q.jsxs)("button",{onClick:()=>i(!0),className:"flex flex-col items-center justify-center gap-0.5 flex-1 text-slate-400",children:[(0,q.jsx)(X,{size:18}),(0,q.jsx)("span",{className:"text-[9px] font-bold uppercase tracking-tighter opacity-60",children:"Mais"})]})]})]})]})},Z=function(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d};var $=c(91594),_=c.n($),aa=c(26707),ab=c.n(aa),ac=c(63181),ad=c.n(ac),ae=c(78996),af=c.n(ae),ag=c(31907),ah=c.n(ag),ai=c(3575),aj=c.n(ai),ak=function(a){return 0===a?0:a>0?1:-1},al=function(a){return ab()(a)&&a.indexOf("%")===a.length-1},am=function(a){return ah()(a)&&!ad()(a)},an=function(a){return am(a)||ab()(a)},ao=0,ap=function(a){var b=++ao;return"".concat(a||"").concat(b)},aq=function(a,b){var c,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!am(a)&&!ab()(a))return d;if(al(a)){var f=a.indexOf("%");c=b*parseFloat(a.slice(0,f))/100}else c=+a;return ad()(c)&&(c=d),e&&c>b&&(c=b),c},ar=function(a){if(!a)return null;var b=Object.keys(a);return b&&b.length?a[b[0]]:null},as=function(a){if(!Array.isArray(a))return!1;for(var b=a.length,c={},d=0;d<b;d++)if(c[a[d]])return!0;else c[a[d]]=!0;return!1},at=function(a,b){return am(a)&&am(b)?function(c){return a+c*(b-a)}:function(){return b}};function au(a,b,c){return a&&a.length?a.find(function(a){return a&&("function"==typeof b?b(a):af()(a,b))===c}):null}var av=function(a,b){return am(a)&&am(b)?a-b:ab()(a)&&ab()(b)?a.localeCompare(b):a instanceof Date&&b instanceof Date?a.getTime()-b.getTime():String(a).localeCompare(String(b))},aw=function(a,b){for(var c=arguments.length,d=Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e]},ax=c(45862),ay=c.n(ax),az=c(65197),aA=c.n(az),aB=c(68543);function aC(a,b){for(var c in a)if(({}).hasOwnProperty.call(a,c)&&(!({}).hasOwnProperty.call(b,c)||a[c]!==b[c]))return!1;for(var d in b)if(({}).hasOwnProperty.call(b,d)&&!({}).hasOwnProperty.call(a,d))return!1;return!0}function aD(a){return(aD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var aE=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],aF=["points","pathLength"],aG={svg:["viewBox","children"],polygon:aF,polyline:aF},aH=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],aI=function(a,b){if(!a||"function"==typeof a||"boolean"==typeof a)return null;var c=a;if((0,r.isValidElement)(a)&&(c=a.props),!aA()(c))return null;var d={};return Object.keys(c).forEach(function(a){aH.includes(a)&&(d[a]=b||function(b){return c[a](c,b)})}),d},aJ=function(a,b,c){if(!aA()(a)||"object"!==aD(a))return null;var d=null;return Object.keys(a).forEach(function(e){var f=a[e];aH.includes(e)&&"function"==typeof f&&(d||(d={}),d[e]=function(a){return f(b,c,a),null})}),d},aK=["children"],aL=["children"];function aM(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function aN(a){return(aN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var aO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},aP=function(a){return"string"==typeof a?a:a?a.displayName||a.name||"Component":""},aQ=null,aR=null,aS=function a(b){if(b===aQ&&Array.isArray(aR))return aR;var c=[];return r.Children.forEach(b,function(b){aj()(b)||((0,aB.isFragment)(b)?c=c.concat(a(b.props.children)):c.push(b))}),aR=c,aQ=b,c};function aT(a,b){var c=[],d=[];return d=Array.isArray(b)?b.map(function(a){return aP(a)}):[aP(b)],aS(a).forEach(function(a){var b=af()(a,"type.displayName")||af()(a,"type.name");-1!==d.indexOf(b)&&c.push(a)}),c}function aU(a,b){var c=aT(a,b);return c&&c[0]}var aV=function(a){if(!a||!a.props)return!1;var b=a.props,c=b.width,d=b.height;return!!am(c)&&!(c<=0)&&!!am(d)&&!(d<=0)},aW=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],aX=function(a,b,c,d){var e,f=null!=(e=null==aG?void 0:aG[d])?e:[];return b.startsWith("data-")||!ay()(a)&&(d&&f.includes(b)||aE.includes(b))||c&&aH.includes(b)},aY=function(a,b,c){if(!a||"function"==typeof a||"boolean"==typeof a)return null;var d=a;if((0,r.isValidElement)(a)&&(d=a.props),!aA()(d))return null;var e={};return Object.keys(d).forEach(function(a){var f;aX(null==(f=d)?void 0:f[a],a,b,c)&&(e[a]=d[a])}),e},aZ=function a(b,c){if(b===c)return!0;var d=r.Children.count(b);if(d!==r.Children.count(c))return!1;if(0===d)return!0;if(1===d)return a$(Array.isArray(b)?b[0]:b,Array.isArray(c)?c[0]:c);for(var e=0;e<d;e++){var f=b[e],g=c[e];if(Array.isArray(f)||Array.isArray(g)){if(!a(f,g))return!1}else if(!a$(f,g))return!1}return!0},a$=function(a,b){if(aj()(a)&&aj()(b))return!0;if(!aj()(a)&&!aj()(b)){var c=a.props||{},d=c.children,e=aM(c,aK),f=b.props||{},g=f.children,h=aM(f,aL);if(d&&g)return aC(e,h)&&aZ(d,g);if(!d&&!g)return aC(e,h)}return!1},a_=function(a,b){var c=[],d={};return aS(a).forEach(function(a,e){if(a&&a.type&&ab()(a.type)&&aW.indexOf(a.type)>=0)c.push(a);else if(a){var f=aP(a.type),g=b[f]||{},h=g.handler,i=g.once;if(h&&(!i||!d[f])){var j=h(a,f,e);c.push(j),d[f]=!0}}}),c},a0=function(a){var b=a&&a.type;return b&&aO[b]?aO[b]:null};function a1(a){return(a1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function a2(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function a3(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?a2(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=a1(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=a1(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==a1(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):a2(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function a4(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var a5=(0,r.forwardRef)(function(a,b){var c,d=a.aspect,e=a.initialDimension,f=void 0===e?{width:-1,height:-1}:e,g=a.width,h=void 0===g?"100%":g,i=a.height,j=void 0===i?"100%":i,k=a.minWidth,l=void 0===k?0:k,m=a.minHeight,n=a.maxHeight,o=a.children,p=a.debounce,q=void 0===p?0:p,t=a.id,u=a.className,v=a.onResize,w=a.style,x=(0,r.useRef)(null),y=(0,r.useRef)();y.current=v,(0,r.useImperativeHandle)(b,function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})});var z=function(a){if(Array.isArray(a))return a}(c=(0,r.useState)({containerWidth:f.width,containerHeight:f.height}))||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{f=(c=c.call(a)).next,!1;for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(c,2)||function(a,b){if(a){if("string"==typeof a)return a4(a,2);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return a4(a,b)}}(c,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),A=z[0],B=z[1],C=(0,r.useCallback)(function(a,b){B(function(c){var d=Math.round(a),e=Math.round(b);return c.containerWidth===d&&c.containerHeight===e?c:{containerWidth:d,containerHeight:e}})},[]);(0,r.useEffect)(function(){var a=function(a){var b,c=a[0].contentRect,d=c.width,e=c.height;C(d,e),null==(b=y.current)||b.call(y,d,e)};q>0&&(a=_()(a,q,{trailing:!0,leading:!1}));var b=new ResizeObserver(a),c=x.current.getBoundingClientRect();return C(c.width,c.height),b.observe(x.current),function(){b.disconnect()}},[C,q]);var D=(0,r.useMemo)(function(){var a=A.containerWidth,b=A.containerHeight;if(a<0||b<0)return null;aw(al(h)||al(j),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",h,j),aw(!d||d>0,"The aspect(%s) must be greater than zero.",d);var c=al(h)?a:h,e=al(j)?b:j;d&&d>0&&(c?e=c/d:e&&(c=e*d),n&&e>n&&(e=n)),aw(c>0||e>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",c,e,h,j,l,m,d);var f=!Array.isArray(o)&&aP(o.type).endsWith("Chart");return s().Children.map(o,function(a){return s().isValidElement(a)?(0,r.cloneElement)(a,a3({width:c,height:e},f?{style:a3({height:"100%",width:"100%",maxHeight:e,maxWidth:c},a.props.style)}:{})):a})},[d,o,j,n,m,l,A,h]);return s().createElement("div",{id:t?"".concat(t):void 0,className:Z("recharts-responsive-container",u),style:a3(a3({},void 0===w?{}:w),{},{width:h,height:j,minWidth:l,minHeight:m,maxHeight:n}),ref:x},D)}),a6=c(16413),a7=c.n(a6),a8=c(77955),a9=c.n(a8);function ba(a,b){if(!a)throw Error("Invariant failed")}var bb=["children","width","height","viewBox","className","style","title","desc"];function bc(){return(bc=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function bd(a){var b=a.children,c=a.width,d=a.height,e=a.viewBox,f=a.className,g=a.style,h=a.title,i=a.desc,j=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,bb),k=e||{width:c,height:d,x:0,y:0},l=Z("recharts-surface",f);return s().createElement("svg",bc({},aY(j,!0,"svg"),{className:l,width:c,height:d,style:g,viewBox:"".concat(k.x," ").concat(k.y," ").concat(k.width," ").concat(k.height)}),s().createElement("title",null,h),s().createElement("desc",null,i),b)}var be=["children","className"];function bf(){return(bf=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var bg=s().forwardRef(function(a,b){var c=a.children,d=a.className,e=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,be),f=Z("recharts-layer",d);return s().createElement("g",bf({className:f},aY(e,!0),{ref:b}),c)});function bh(a){return(bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function bi(){return(bi=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function bj(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function bk(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function bl(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?bk(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=bh(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=bh(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==bh(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):bk(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function bm(a){return Array.isArray(a)&&an(a[0])&&an(a[1])?a.join(" ~ "):a}var bn=function(a){var b=a.separator,c=void 0===b?" : ":b,d=a.contentStyle,e=a.itemStyle,f=void 0===e?{}:e,g=a.labelStyle,h=a.payload,i=a.formatter,j=a.itemSorter,k=a.wrapperClassName,l=a.labelClassName,m=a.label,n=a.labelFormatter,o=a.accessibilityLayer,p=bl({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},void 0===d?{}:d),q=bl({margin:0},void 0===g?{}:g),r=!aj()(m),t=r?m:"",u=Z("recharts-default-tooltip",k),v=Z("recharts-tooltip-label",l);return r&&n&&null!=h&&(t=n(m,h)),s().createElement("div",bi({className:u,style:p},void 0!==o&&o?{role:"status","aria-live":"assertive"}:{}),s().createElement("p",{className:v,style:q},s().isValidElement(t)?t:"".concat(t)),function(){if(h&&h.length){var a=(j?a9()(h,j):h).map(function(a,b){if("none"===a.type)return null;var d=bl({display:"block",paddingTop:4,paddingBottom:4,color:a.color||"#000"},f),e=a.formatter||i||bm,g=a.value,j=a.name,k=g,l=j;if(e&&null!=k&&null!=l){var m=e(g,j,a,b,h);if(Array.isArray(m)){var n=function(a){if(Array.isArray(a))return a}(m)||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{f=(c=c.call(a)).next,!1;for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(m,2)||function(a,b){if(a){if("string"==typeof a)return bj(a,2);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return bj(a,b)}}(m,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();k=n[0],l=n[1]}else k=m}return s().createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(b),style:d},an(l)?s().createElement("span",{className:"recharts-tooltip-item-name"},l):null,an(l)?s().createElement("span",{className:"recharts-tooltip-item-separator"},c):null,s().createElement("span",{className:"recharts-tooltip-item-value"},k),s().createElement("span",{className:"recharts-tooltip-item-unit"},a.unit||""))});return s().createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},a)}return null}())};function bo(a){return(bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function bp(a,b,c){var d;return(d=function(a,b){if("object"!=bo(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=bo(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"),(b="symbol"==bo(d)?d:d+"")in a)?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var bq="recharts-tooltip-wrapper",br={visibility:"hidden"};function bs(a){var b=a.allowEscapeViewBox,c=a.coordinate,d=a.key,e=a.offsetTopLeft,f=a.position,g=a.reverseDirection,h=a.tooltipDimension,i=a.viewBox,j=a.viewBoxDimension;if(f&&am(f[d]))return f[d];var k=c[d]-h-e,l=c[d]+e;return b[d]?g[d]?k:l:g[d]?k<i[d]?Math.max(l,i[d]):Math.max(k,i[d]):l+h>i[d]+j?Math.max(k,i[d]):Math.max(l,i[d])}function bt(a){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function bu(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function bv(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?bu(Object(c),!0).forEach(function(b){bz(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):bu(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function bw(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(bw=function(){return!!a})()}function bx(a){return(bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function by(a,b){return(by=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function bz(a,b,c){return(b=bA(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function bA(a){var b=function(a,b){if("object"!=bt(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=bt(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==bt(b)?b:b+""}var bB=function(a){var b;function c(){var a,b,d;if(!(this instanceof c))throw TypeError("Cannot call a class as a function");for(var e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];return b=c,d=[].concat(f),b=bx(b),bz(a=function(a,b){if(b&&("object"===bt(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,bw()?Reflect.construct(b,d||[],bx(this).constructor):b.apply(this,d)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),bz(a,"handleKeyDown",function(b){if("Escape"===b.key){var c,d,e,f;a.setState({dismissed:!0,dismissedAtCoordinate:{x:null!=(c=null==(d=a.props.coordinate)?void 0:d.x)?c:0,y:null!=(e=null==(f=a.props.coordinate)?void 0:f.y)?e:0}})}}),a}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),a&&by(c,a),b=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>1||Math.abs(a.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(-1!==this.state.lastBoundingBox.width||-1!==this.state.lastBoundingBox.height)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,b;this.props.active&&this.updateBBox(),this.state.dismissed&&((null==(a=this.props.coordinate)?void 0:a.x)!==this.state.dismissedAtCoordinate.x||(null==(b=this.props.coordinate)?void 0:b.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,t,u=this,v=this.props,w=v.active,x=v.allowEscapeViewBox,y=v.animationDuration,z=v.animationEasing,A=v.children,B=v.coordinate,C=v.hasPayload,D=v.isAnimationActive,E=v.offset,F=v.position,G=v.reverseDirection,H=v.useTranslate3d,I=v.viewBox,J=v.wrapperStyle,K=(l=(a={allowEscapeViewBox:x,coordinate:B,offsetTopLeft:E,position:F,reverseDirection:G,tooltipBox:this.state.lastBoundingBox,useTranslate3d:H,viewBox:I}).allowEscapeViewBox,m=a.coordinate,n=a.offsetTopLeft,o=a.position,p=a.reverseDirection,q=a.tooltipBox,r=a.useTranslate3d,t=a.viewBox,q.height>0&&q.width>0&&m?(c=(b={translateX:j=bs({allowEscapeViewBox:l,coordinate:m,key:"x",offsetTopLeft:n,position:o,reverseDirection:p,tooltipDimension:q.width,viewBox:t,viewBoxDimension:t.width}),translateY:k=bs({allowEscapeViewBox:l,coordinate:m,key:"y",offsetTopLeft:n,position:o,reverseDirection:p,tooltipDimension:q.height,viewBox:t,viewBoxDimension:t.height}),useTranslate3d:r}).translateX,d=b.translateY,i={transform:b.useTranslate3d?"translate3d(".concat(c,"px, ").concat(d,"px, 0)"):"translate(".concat(c,"px, ").concat(d,"px)")}):i=br,{cssProperties:i,cssClasses:(f=(e={translateX:j,translateY:k,coordinate:m}).coordinate,g=e.translateX,h=e.translateY,Z(bq,bp(bp(bp(bp({},"".concat(bq,"-right"),am(g)&&f&&am(f.x)&&g>=f.x),"".concat(bq,"-left"),am(g)&&f&&am(f.x)&&g<f.x),"".concat(bq,"-bottom"),am(h)&&f&&am(f.y)&&h>=f.y),"".concat(bq,"-top"),am(h)&&f&&am(f.y)&&h<f.y)))}),L=K.cssClasses,M=K.cssProperties,N=bv(bv({transition:D&&w?"transform ".concat(y,"ms ").concat(z):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&w&&C?"visible":"hidden",position:"absolute",top:0,left:0},J);return s().createElement("div",{tabIndex:-1,className:L,style:N,ref:function(a){u.wrapperNode=a}},A)}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,bA(d.key),d)}}(c.prototype,b),Object.defineProperty(c,"prototype",{writable:!1}),c}(r.PureComponent),bC={isSsr:!0,get:function(a){return bC[a]},set:function(a,b){if("string"==typeof a)bC[a]=b;else{var c=Object.keys(a);c&&c.length&&c.forEach(function(b){bC[b]=a[b]})}}},bD=c(66850),bE=c.n(bD);function bF(a,b,c){return!0===b?bE()(a,c):ay()(b)?bE()(a,b):a}function bG(a){return(bG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function bH(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function bI(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?bH(Object(c),!0).forEach(function(b){bM(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):bH(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function bJ(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(bJ=function(){return!!a})()}function bK(a){return(bK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function bL(a,b){return(bL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function bM(a,b,c){return(b=bN(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function bN(a){var b=function(a,b){if("object"!=bG(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=bG(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==bG(b)?b:b+""}function bO(a){return a.dataKey}var bP=function(a){var b;function c(){var a,b;if(!(this instanceof c))throw TypeError("Cannot call a class as a function");return a=c,b=arguments,a=bK(a),function(a,b){if(b&&("object"===bG(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,bJ()?Reflect.construct(a,b||[],bK(this).constructor):a.apply(this,b))}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),a&&bL(c,a),b=[{key:"render",value:function(){var a,b=this,c=this.props,d=c.active,e=c.allowEscapeViewBox,f=c.animationDuration,g=c.animationEasing,h=c.content,i=c.coordinate,j=c.filterNull,k=c.isAnimationActive,l=c.offset,m=c.payload,n=c.payloadUniqBy,o=c.position,p=c.reverseDirection,q=c.useTranslate3d,r=c.viewBox,t=c.wrapperStyle,u=null!=m?m:[];j&&u.length&&(u=bF(m.filter(function(a){return null!=a.value&&(!0!==a.hide||b.props.includeHidden)}),n,bO));var v=u.length>0;return s().createElement(bB,{allowEscapeViewBox:e,animationDuration:f,animationEasing:g,isAnimationActive:k,active:d,coordinate:i,hasPayload:v,offset:l,position:o,reverseDirection:p,useTranslate3d:q,viewBox:r,wrapperStyle:t},(a=bI(bI({},this.props),{},{payload:u}),s().isValidElement(h)?s().cloneElement(h,a):"function"==typeof h?s().createElement(h,a):s().createElement(bn,a)))}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,bN(d.key),d)}}(c.prototype,b),Object.defineProperty(c,"prototype",{writable:!1}),c}(r.PureComponent);bM(bP,"displayName","Tooltip"),bM(bP,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!bC.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var bQ=c(97376),bR=c.n(bQ);let bS=Math.cos,bT=Math.sin,bU=Math.sqrt,bV=Math.PI,bW=2*bV,bX={draw(a,b){let c=bU(b/bV);a.moveTo(c,0),a.arc(0,0,c,0,bW)}},bY=bU(1/3),bZ=2*bY,b$=bT(bV/10)/bT(7*bV/10),b_=bT(bW/10)*b$,b0=-bS(bW/10)*b$,b1=bU(3),b2=bU(3)/2,b3=1/bU(12),b4=(b3/2+1)*3;function b5(a){return function(){return a}}let b6=Math.PI,b7=2*b6,b8=b7-1e-6;function b9(a){this._+=a[0];for(let b=1,c=a.length;b<c;++b)this._+=arguments[b]+a[b]}class ca{constructor(a){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==a?b9:function(a){let b=Math.floor(a);if(!(b>=0))throw Error(`invalid digits: ${a}`);if(b>15)return b9;let c=10**b;return function(a){this._+=a[0];for(let b=1,d=a.length;b<d;++b)this._+=Math.round(arguments[b]*c)/c+a[b]}}(a)}moveTo(a,b){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+b}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(a,b){this._append`L${this._x1=+a},${this._y1=+b}`}quadraticCurveTo(a,b,c,d){this._append`Q${+a},${+b},${this._x1=+c},${this._y1=+d}`}bezierCurveTo(a,b,c,d,e,f){this._append`C${+a},${+b},${+c},${+d},${this._x1=+e},${this._y1=+f}`}arcTo(a,b,c,d,e){if(a*=1,b*=1,c*=1,d*=1,(e*=1)<0)throw Error(`negative radius: ${e}`);let f=this._x1,g=this._y1,h=c-a,i=d-b,j=f-a,k=g-b,l=j*j+k*k;if(null===this._x1)this._append`M${this._x1=a},${this._y1=b}`;else if(l>1e-6)if(Math.abs(k*h-i*j)>1e-6&&e){let m=c-f,n=d-g,o=h*h+i*i,p=Math.sqrt(o),q=Math.sqrt(l),r=e*Math.tan((b6-Math.acos((o+l-(m*m+n*n))/(2*p*q)))/2),s=r/q,t=r/p;Math.abs(s-1)>1e-6&&this._append`L${a+s*j},${b+s*k}`,this._append`A${e},${e},0,0,${+(k*m>j*n)},${this._x1=a+t*h},${this._y1=b+t*i}`}else this._append`L${this._x1=a},${this._y1=b}`}arc(a,b,c,d,e,f){if(a*=1,b*=1,c*=1,f=!!f,c<0)throw Error(`negative radius: ${c}`);let g=c*Math.cos(d),h=c*Math.sin(d),i=a+g,j=b+h,k=1^f,l=f?d-e:e-d;null===this._x1?this._append`M${i},${j}`:(Math.abs(this._x1-i)>1e-6||Math.abs(this._y1-j)>1e-6)&&this._append`L${i},${j}`,c&&(l<0&&(l=l%b7+b7),l>b8?this._append`A${c},${c},0,1,${k},${a-g},${b-h}A${c},${c},0,1,${k},${this._x1=i},${this._y1=j}`:l>1e-6&&this._append`A${c},${c},0,${+(l>=b6)},${k},${this._x1=a+c*Math.cos(e)},${this._y1=b+c*Math.sin(e)}`)}rect(a,b,c,d){this._append`M${this._x0=this._x1=+a},${this._y0=this._y1=+b}h${c*=1}v${+d}h${-c}Z`}toString(){return this._}}function cb(a){let b=3;return a.digits=function(c){if(!arguments.length)return b;if(null==c)b=null;else{let a=Math.floor(c);if(!(a>=0))throw RangeError(`invalid digits: ${c}`);b=a}return a},()=>new ca(b)}function cc(a){return(cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}ca.prototype,bU(3),bU(3);var cd=["type","size","sizeType"];function ce(){return(ce=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function cf(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function cg(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?cf(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=cc(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=cc(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==cc(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):cf(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var ch={symbolCircle:bX,symbolCross:{draw(a,b){let c=bU(b/5)/2;a.moveTo(-3*c,-c),a.lineTo(-c,-c),a.lineTo(-c,-3*c),a.lineTo(c,-3*c),a.lineTo(c,-c),a.lineTo(3*c,-c),a.lineTo(3*c,c),a.lineTo(c,c),a.lineTo(c,3*c),a.lineTo(-c,3*c),a.lineTo(-c,c),a.lineTo(-3*c,c),a.closePath()}},symbolDiamond:{draw(a,b){let c=bU(b/bZ),d=c*bY;a.moveTo(0,-c),a.lineTo(d,0),a.lineTo(0,c),a.lineTo(-d,0),a.closePath()}},symbolSquare:{draw(a,b){let c=bU(b),d=-c/2;a.rect(d,d,c,c)}},symbolStar:{draw(a,b){let c=bU(.8908130915292852*b),d=b_*c,e=b0*c;a.moveTo(0,-c),a.lineTo(d,e);for(let b=1;b<5;++b){let f=bW*b/5,g=bS(f),h=bT(f);a.lineTo(h*c,-g*c),a.lineTo(g*d-h*e,h*d+g*e)}a.closePath()}},symbolTriangle:{draw(a,b){let c=-bU(b/(3*b1));a.moveTo(0,2*c),a.lineTo(-b1*c,-c),a.lineTo(b1*c,-c),a.closePath()}},symbolWye:{draw(a,b){let c=bU(b/b4),d=c/2,e=c*b3,f=c*b3+c,g=-d;a.moveTo(d,e),a.lineTo(d,f),a.lineTo(g,f),a.lineTo(-.5*d-b2*e,b2*d+-.5*e),a.lineTo(-.5*d-b2*f,b2*d+-.5*f),a.lineTo(-.5*g-b2*f,b2*g+-.5*f),a.lineTo(-.5*d+b2*e,-.5*e-b2*d),a.lineTo(-.5*d+b2*f,-.5*f-b2*d),a.lineTo(-.5*g+b2*f,-.5*f-b2*g),a.closePath()}}},ci=Math.PI/180,cj=function(a,b,c){if("area"===b)return a;switch(c){case"cross":return 5*a*a/9;case"diamond":return .5*a*a/Math.sqrt(3);case"square":return a*a;case"star":var d=18*ci;return 1.25*a*a*(Math.tan(d)-Math.tan(2*d)*Math.pow(Math.tan(d),2));case"triangle":return Math.sqrt(3)*a*a/4;case"wye":return(21-10*Math.sqrt(3))*a*a/8;default:return Math.PI*a*a/4}},ck=function(a){var b,c=a.type,d=void 0===c?"circle":c,e=a.size,f=void 0===e?64:e,g=a.sizeType,h=void 0===g?"area":g,i=cg(cg({},function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,cd)),{},{type:d,size:f,sizeType:h}),j=i.className,k=i.cx,l=i.cy,m=aY(i,!0);return k===+k&&l===+l&&f===+f?s().createElement("path",ce({},m,{className:Z("recharts-symbols",j),transform:"translate(".concat(k,", ").concat(l,")"),d:(b=ch["symbol".concat(bR()(d))]||bX,(function(a,b){let c=null,d=cb(e);function e(){let e;if(c||(c=e=d()),a.apply(this,arguments).draw(c,+b.apply(this,arguments)),e)return c=null,e+""||null}return a="function"==typeof a?a:b5(a||bX),b="function"==typeof b?b:b5(void 0===b?64:+b),e.type=function(b){return arguments.length?(a="function"==typeof b?b:b5(b),e):a},e.size=function(a){return arguments.length?(b="function"==typeof a?a:b5(+a),e):b},e.context=function(a){return arguments.length?(c=null==a?null:a,e):c},e})().type(b).size(cj(f,h,d))())})):null};function cl(a){return(cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function cm(){return(cm=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function cn(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}ck.registerSymbol=function(a,b){ch["symbol".concat(bR()(a))]=b};function co(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(co=function(){return!!a})()}function cp(a){return(cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function cq(a,b){return(cq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function cr(a,b,c){return(b=cs(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function cs(a){var b=function(a,b){if("object"!=cl(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=cl(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==cl(b)?b:b+""}var ct=function(a){var b;function c(){var a,b;if(!(this instanceof c))throw TypeError("Cannot call a class as a function");return a=c,b=arguments,a=cp(a),function(a,b){if(b&&("object"===cl(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,co()?Reflect.construct(a,b||[],cp(this).constructor):a.apply(this,b))}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),a&&cq(c,a),b=[{key:"renderIcon",value:function(a){var b=this.props.inactiveColor,c=32/6,d=32/3,e=a.inactive?b:a.color;if("plainline"===a.type)return s().createElement("line",{strokeWidth:4,fill:"none",stroke:e,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"});if("line"===a.type)return s().createElement("path",{strokeWidth:4,fill:"none",stroke:e,d:"M0,".concat(16,"h").concat(d,"\n            A").concat(c,",").concat(c,",0,1,1,").concat(2*d,",").concat(16,"\n            H").concat(32,"M").concat(2*d,",").concat(16,"\n            A").concat(c,",").concat(c,",0,1,1,").concat(d,",").concat(16),className:"recharts-legend-icon"});if("rect"===a.type)return s().createElement("path",{stroke:"none",fill:e,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(s().isValidElement(a.legendIcon)){var f=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?cn(Object(c),!0).forEach(function(b){cr(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):cn(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({},a);return delete f.legendIcon,s().cloneElement(a.legendIcon,f)}return s().createElement(ck,{fill:e,cx:16,cy:16,size:32,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,b=this.props,c=b.payload,d=b.iconSize,e=b.layout,f=b.formatter,g=b.inactiveColor,h={x:0,y:0,width:32,height:32},i={display:"horizontal"===e?"inline-block":"block",marginRight:10},j={display:"inline-block",verticalAlign:"middle",marginRight:4};return c.map(function(b,c){var e=b.formatter||f,k=Z(cr(cr({"recharts-legend-item":!0},"legend-item-".concat(c),!0),"inactive",b.inactive));if("none"===b.type)return null;var l=ay()(b.value)?null:b.value;aw(!ay()(b.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var m=b.inactive?g:b.color;return s().createElement("li",cm({className:k,style:i,key:"legend-item-".concat(c)},aJ(a.props,b,c)),s().createElement(bd,{width:d,height:d,viewBox:h,style:j},a.renderIcon(b)),s().createElement("span",{className:"recharts-legend-item-text",style:{color:m}},e?e(l,b,c):l))})}},{key:"render",value:function(){var a=this.props,b=a.payload,c=a.layout,d=a.align;return b&&b.length?s().createElement("ul",{className:"recharts-default-legend",style:{padding:0,margin:0,textAlign:"horizontal"===c?d:"left"}},this.renderItems()):null}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,cs(d.key),d)}}(c.prototype,b),Object.defineProperty(c,"prototype",{writable:!1}),c}(r.PureComponent);function cu(a){return(cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}cr(ct,"displayName","Legend"),cr(ct,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var cv=["ref"];function cw(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function cx(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?cw(Object(c),!0).forEach(function(b){cC(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):cw(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function cy(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,cD(d.key),d)}}function cz(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(cz=function(){return!!a})()}function cA(a){return(cA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function cB(a,b){return(cB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function cC(a,b,c){return(b=cD(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function cD(a){var b=function(a,b){if("object"!=cu(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=cu(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==cu(b)?b:b+""}function cE(a){return a.value}var cF=function(a){var b,c;function d(){var a,b,c;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");for(var e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];return b=d,c=[].concat(f),b=cA(b),cC(a=function(a,b){if(b&&("object"===cu(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,cz()?Reflect.construct(b,c||[],cA(this).constructor):b.apply(this,c)),"lastBoundingBox",{width:-1,height:-1}),a}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),a&&cB(d,a),b=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,b=this.getBBox();b?(Math.abs(b.width-this.lastBoundingBox.width)>1||Math.abs(b.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=b.width,this.lastBoundingBox.height=b.height,a&&a(b)):(-1!==this.lastBoundingBox.width||-1!==this.lastBoundingBox.height)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?cx({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var b,c,d=this.props,e=d.layout,f=d.align,g=d.verticalAlign,h=d.margin,i=d.chartWidth,j=d.chartHeight;return a&&(void 0!==a.left&&null!==a.left||void 0!==a.right&&null!==a.right)||(b="center"===f&&"vertical"===e?{left:((i||0)-this.getBBoxSnapshot().width)/2}:"right"===f?{right:h&&h.right||0}:{left:h&&h.left||0}),a&&(void 0!==a.top&&null!==a.top||void 0!==a.bottom&&null!==a.bottom)||(c="middle"===g?{top:((j||0)-this.getBBoxSnapshot().height)/2}:"bottom"===g?{bottom:h&&h.bottom||0}:{top:h&&h.top||0}),cx(cx({},b),c)}},{key:"render",value:function(){var a=this,b=this.props,c=b.content,d=b.width,e=b.height,f=b.wrapperStyle,g=b.payloadUniqBy,h=b.payload,i=cx(cx({position:"absolute",width:d||"auto",height:e||"auto"},this.getDefaultPosition(f)),f);return s().createElement("div",{className:"recharts-legend-wrapper",style:i,ref:function(b){a.wrapperNode=b}},function(a,b){if(s().isValidElement(a))return s().cloneElement(a,b);if("function"==typeof a)return s().createElement(a,b);b.ref;var c=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(b,cv);return s().createElement(ct,c)}(c,cx(cx({},this.props),{},{payload:bF(h,g,cE)})))}}],c=[{key:"getWithHeight",value:function(a,b){var c=cx(cx({},this.defaultProps),a.props).layout;return"vertical"===c&&am(a.props.height)?{height:a.props.height}:"horizontal"===c?{width:a.props.width||b}:null}}],b&&cy(d.prototype,b),c&&cy(d,c),Object.defineProperty(d,"prototype",{writable:!1}),d}(r.PureComponent);function cG(){return(cG=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}cC(cF,"displayName","Legend"),cC(cF,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var cH=function(a){var b=a.cx,c=a.cy,d=a.r,e=Z("recharts-dot",a.className);return b===+b&&c===+c&&d===+d?r.createElement("circle",cG({},aY(a,!1),aI(a),{className:e,cx:b,cy:c,r:d})):null},cI=c(7372),cJ=c.n(cI);let{getOwnPropertyNames:cK,getOwnPropertySymbols:cL}=Object,{hasOwnProperty:cM}=Object.prototype;function cN(a,b){return function(c,d,e){return a(c,d,e)&&b(c,d,e)}}function cO(a){return function(b,c,d){if(!b||!c||"object"!=typeof b||"object"!=typeof c)return a(b,c,d);let{cache:e}=d,f=e.get(b),g=e.get(c);if(f&&g)return f===c&&g===b;e.set(b,c),e.set(c,b);let h=a(b,c,d);return e.delete(b),e.delete(c),h}}function cP(a){return cK(a).concat(cL(a))}let cQ=Object.hasOwn||((a,b)=>cM.call(a,b));function cR(a,b){return a===b||!a&&!b&&a!=a&&b!=b}let{getOwnPropertyDescriptor:cS,keys:cT}=Object;function cU(a,b){return a.byteLength===b.byteLength&&c4(new Uint8Array(a),new Uint8Array(b))}function cV(a,b,c){let d=a.length;if(b.length!==d)return!1;for(;d-- >0;)if(!c.equals(a[d],b[d],d,d,a,b,c))return!1;return!0}function cW(a,b){return a.byteLength===b.byteLength&&c4(new Uint8Array(a.buffer,a.byteOffset,a.byteLength),new Uint8Array(b.buffer,b.byteOffset,b.byteLength))}function cX(a,b){return cR(a.getTime(),b.getTime())}function cY(a,b){return a.name===b.name&&a.message===b.message&&a.cause===b.cause&&a.stack===b.stack}function cZ(a,b){return a===b}function c$(a,b,c){let d,e,f=a.size;if(f!==b.size)return!1;if(!f)return!0;let g=Array(f),h=a.entries(),i=0;for(;(d=h.next())&&!d.done;){let f=b.entries(),h=!1,j=0;for(;(e=f.next())&&!e.done;){if(g[j]){j++;continue}let f=d.value,k=e.value;if(c.equals(f[0],k[0],i,j,a,b,c)&&c.equals(f[1],k[1],f[0],k[0],a,b,c)){h=g[j]=!0;break}j++}if(!h)return!1;i++}return!0}function c_(a,b,c){let d=cT(a),e=d.length;if(cT(b).length!==e)return!1;for(;e-- >0;)if(!c6(a,b,c,d[e]))return!1;return!0}function c0(a,b,c){let d,e,f,g=cP(a),h=g.length;if(cP(b).length!==h)return!1;for(;h-- >0;)if(!c6(a,b,c,d=g[h])||(e=cS(a,d),f=cS(b,d),(e||f)&&(!e||!f||e.configurable!==f.configurable||e.enumerable!==f.enumerable||e.writable!==f.writable)))return!1;return!0}function c1(a,b){return cR(a.valueOf(),b.valueOf())}function c2(a,b){return a.source===b.source&&a.flags===b.flags}function c3(a,b,c){let d,e,f=a.size;if(f!==b.size)return!1;if(!f)return!0;let g=Array(f),h=a.values();for(;(d=h.next())&&!d.done;){let f=b.values(),h=!1,i=0;for(;(e=f.next())&&!e.done;){if(!g[i]&&c.equals(d.value,e.value,d.value,e.value,a,b,c)){h=g[i]=!0;break}i++}if(!h)return!1}return!0}function c4(a,b){let c=a.byteLength;if(b.byteLength!==c||a.byteOffset!==b.byteOffset)return!1;for(;c-- >0;)if(a[c]!==b[c])return!1;return!0}function c5(a,b){return a.hostname===b.hostname&&a.pathname===b.pathname&&a.protocol===b.protocol&&a.port===b.port&&a.hash===b.hash&&a.username===b.username&&a.password===b.password}function c6(a,b,c,d){return("_owner"===d||"__o"===d||"__v"===d)&&(!!a.$$typeof||!!b.$$typeof)||cQ(b,d)&&c.equals(a[d],b[d],d,d,a,b,c)}let c7={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},c8=Object.prototype.toString,c9=da();function da(a={}){let{circular:b=!1,createInternalComparator:c,createState:d,strict:e=!1}=a,f=function({areArrayBuffersEqual:a,areArraysEqual:b,areDataViewsEqual:c,areDatesEqual:d,areErrorsEqual:e,areFunctionsEqual:f,areMapsEqual:g,areNumbersEqual:h,areObjectsEqual:i,arePrimitiveWrappersEqual:j,areRegExpsEqual:k,areSetsEqual:l,areTypedArraysEqual:m,areUrlsEqual:n,unknownTagComparators:o}){return function(p,q,r){if(p===q)return!0;if(null==p||null==q)return!1;let s=typeof p;if(s!==typeof q)return!1;if("object"!==s)return"number"===s?h(p,q,r):"function"===s&&f(p,q,r);let t=p.constructor;if(t!==q.constructor)return!1;if(t===Object)return i(p,q,r);if(Array.isArray(p))return b(p,q,r);if(t===Date)return d(p,q,r);if(t===RegExp)return k(p,q,r);if(t===Map)return g(p,q,r);if(t===Set)return l(p,q,r);let u=c8.call(p);if("[object Date]"===u)return d(p,q,r);if("[object RegExp]"===u)return k(p,q,r);if("[object Map]"===u)return g(p,q,r);if("[object Set]"===u)return l(p,q,r);if("[object Object]"===u)return"function"!=typeof p.then&&"function"!=typeof q.then&&i(p,q,r);if("[object URL]"===u)return n(p,q,r);if("[object Error]"===u)return e(p,q,r);if("[object Arguments]"===u)return i(p,q,r);if(c7[u])return m(p,q,r);if("[object ArrayBuffer]"===u)return a(p,q,r);if("[object DataView]"===u)return c(p,q,r);if("[object Boolean]"===u||"[object Number]"===u||"[object String]"===u)return j(p,q,r);if(o){let a=o[u];if(!a){let b=null!=p?p[Symbol.toStringTag]:void 0;b&&(a=o[b])}if(a)return a(p,q,r)}return!1}}(function({circular:a,createCustomConfig:b,strict:c}){let d={areArrayBuffersEqual:cU,areArraysEqual:c?c0:cV,areDataViewsEqual:cW,areDatesEqual:cX,areErrorsEqual:cY,areFunctionsEqual:cZ,areMapsEqual:c?cN(c$,c0):c$,areNumbersEqual:cR,areObjectsEqual:c?c0:c_,arePrimitiveWrappersEqual:c1,areRegExpsEqual:c2,areSetsEqual:c?cN(c3,c0):c3,areTypedArraysEqual:c?cN(c4,c0):c4,areUrlsEqual:c5,unknownTagComparators:void 0};if(b&&(d=Object.assign({},d,b(d))),a){let a=cO(d.areArraysEqual),b=cO(d.areMapsEqual),c=cO(d.areObjectsEqual),e=cO(d.areSetsEqual);d=Object.assign({},d,{areArraysEqual:a,areMapsEqual:b,areObjectsEqual:c,areSetsEqual:e})}return d}(a)),g=c?c(f):function(a,b,c,d,e,g,h){return f(a,b,h)};return function({circular:a,comparator:b,createState:c,equals:d,strict:e}){if(c)return function(f,g){let{cache:h=a?new WeakMap:void 0,meta:i}=c();return b(f,g,{cache:h,equals:d,meta:i,strict:e})};if(a)return function(a,c){return b(a,c,{cache:new WeakMap,equals:d,meta:void 0,strict:e})};let f={cache:void 0,equals:d,meta:void 0,strict:e};return function(a,c){return b(a,c,f)}}({circular:b,comparator:f,createState:d,equals:g,strict:e})}function db(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=-1;requestAnimationFrame(function d(e){if(c<0&&(c=e),e-c>b)a(e),c=-1;else{var f;f=d,"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(f)}})}function dc(a){return(dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function dd(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function de(a){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function df(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function dg(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?df(Object(c),!0).forEach(function(b){dh(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):df(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function dh(a,b,c){var d;return(d=function(a,b){if("object"!==de(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!==de(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"),(b="symbol"===de(d)?d:String(d))in a)?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}da({strict:!0}),da({circular:!0}),da({circular:!0,strict:!0}),da({createInternalComparator:()=>cR}),da({strict:!0,createInternalComparator:()=>cR}),da({circular:!0,createInternalComparator:()=>cR}),da({circular:!0,createInternalComparator:()=>cR,strict:!0});var di=function(a){return a},dj=function(a,b){return Object.keys(b).reduce(function(c,d){return dg(dg({},c),{},dh({},d,a(d,b[d])))},{})},dk=function(a,b,c){return a.map(function(a){return"".concat(a.replace(/([A-Z])/g,function(a){return"-".concat(a.toLowerCase())})," ").concat(b,"ms ").concat(c)}).join(",")},dl=function(a,b,c,d,e,f,g,h){};function dm(a,b){if(a){if("string"==typeof a)return dn(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return dn(a,b)}}function dn(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var dp=function(a,b){return[0,3*a,3*b-6*a,3*a-3*b+1]},dq=function(a,b){return a.map(function(a,c){return a*Math.pow(b,c)}).reduce(function(a,b){return a+b})},dr=function(a,b){return function(c){return dq(dp(a,b),c)}},ds=function(){for(var a,b,c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=d[0],g=d[1],h=d[2],i=d[3];if(1===d.length)switch(d[0]){case"linear":f=0,g=0,h=1,i=1;break;case"ease":f=.25,g=.1,h=.25,i=1;break;case"ease-in":f=.42,g=0,h=1,i=1;break;case"ease-out":f=.42,g=0,h=.58,i=1;break;case"ease-in-out":f=0,g=0,h=.58,i=1;break;default:var j=d[0].split("(");if("cubic-bezier"===j[0]&&4===j[1].split(")")[0].split(",").length){var k,l=function(a){if(Array.isArray(a))return a}(k=j[1].split(")")[0].split(",").map(function(a){return parseFloat(a)}))||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{f=(c=c.call(a)).next,!1;for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(k,4)||dm(k,4)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();f=l[0],g=l[1],h=l[2],i=l[3]}else dl(!1,"[configBezier]: arguments should be one of oneOf 'linear', 'ease', 'ease-in', 'ease-out', 'ease-in-out','cubic-bezier(x1,y1,x2,y2)', instead received %s",d)}dl([f,h,g,i].every(function(a){return"number"==typeof a&&a>=0&&a<=1}),"[configBezier]: arguments should be x1, y1, x2, y2 of [0, 1] instead received %s",d);var m=dr(f,h),n=dr(g,i),o=(a=f,b=h,function(c){var d;return dq([].concat(function(a){if(Array.isArray(a))return dn(a)}(d=dp(a,b).map(function(a,b){return a*b}).slice(1))||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(d)||dm(d)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[0]),c)}),p=function(a){for(var b=a>1?1:a,c=b,d=0;d<8;++d){var e,f=m(c)-b,g=o(c);if(1e-4>Math.abs(f-b)||g<1e-4)break;c=(e=c-f/g)>1?1:e<0?0:e}return n(c)};return p.isStepper=!1,p},dt=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=a.stiff,c=void 0===b?100:b,d=a.damping,e=void 0===d?8:d,f=a.dt,g=void 0===f?17:f,h=function(a,b,d){var f=d+(-(a-b)*c-d*e)*g/1e3,h=d*g/1e3+a;return 1e-4>Math.abs(h-b)&&1e-4>Math.abs(f)?[b,0]:[h,f]};return h.isStepper=!0,h.dt=g,h},du=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=b[0];if("string"==typeof d)switch(d){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ds(d);case"spring":return dt();default:if("cubic-bezier"===d.split("(")[0])return ds(d);dl(!1,"[configEasing]: first argument should be one of 'ease', 'ease-in', 'ease-out', 'ease-in-out','cubic-bezier(x1,y1,x2,y2)', 'linear' and 'spring', instead  received %s",b)}return"function"==typeof d?d:(dl(!1,"[configEasing]: first argument type should be function or string, instead received %s",b),null)};function dv(a){return(dv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function dw(a){return function(a){if(Array.isArray(a))return dB(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||dA(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dx(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function dy(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?dx(Object(c),!0).forEach(function(b){dz(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):dx(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function dz(a,b,c){var d;return(d=function(a,b){if("object"!==dv(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!==dv(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"),(b="symbol"===dv(d)?d:String(d))in a)?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function dA(a,b){if(a){if("string"==typeof a)return dB(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return dB(a,b)}}function dB(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var dC=function(a,b,c){return a+(b-a)*c},dD=function(a){return a.from!==a.to},dE=function a(b,c,d){var e=dj(function(a,c){if(dD(c)){var d,e=function(a){if(Array.isArray(a))return a}(d=b(c.from,c.to,c.velocity))||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{f=(c=c.call(a)).next,!1;for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(d,2)||dA(d,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=e[0],g=e[1];return dy(dy({},c),{},{from:f,velocity:g})}return c},c);return d<1?dj(function(a,b){return dD(b)?dy(dy({},b),{},{velocity:dC(b.velocity,e[a].velocity,d),from:dC(b.from,e[a].from,d)}):b},c):a(b,e,d-1)};let dF=function(a,b,c,d,e){var f,g,h=[Object.keys(a),Object.keys(b)].reduce(function(a,b){return a.filter(function(a){return b.includes(a)})}),i=h.reduce(function(c,d){return dy(dy({},c),{},dz({},d,[a[d],b[d]]))},{}),j=h.reduce(function(c,d){return dy(dy({},c),{},dz({},d,{from:a[d],velocity:0,to:b[d]}))},{}),k=-1,l=function(){return null};return l=c.isStepper?function(d){f||(f=d);var g=(d-f)/c.dt;j=dE(c,j,g),e(dy(dy(dy({},a),b),dj(function(a,b){return b.from},j))),f=d,Object.values(j).filter(dD).length&&(k=requestAnimationFrame(l))}:function(f){g||(g=f);var h=(f-g)/d,j=dj(function(a,b){return dC.apply(void 0,dw(b).concat([c(h)]))},i);if(e(dy(dy(dy({},a),b),j)),h<1)k=requestAnimationFrame(l);else{var m=dj(function(a,b){return dC.apply(void 0,dw(b).concat([c(1)]))},i);e(dy(dy(dy({},a),b),m))}},function(){return requestAnimationFrame(l),function(){cancelAnimationFrame(k)}}};function dG(a){return(dG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var dH=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dI(a){return function(a){if(Array.isArray(a))return dJ(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function(a,b){if(a){if("string"==typeof a)return dJ(a,void 0);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return dJ(a,b)}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dJ(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function dK(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function dL(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?dK(Object(c),!0).forEach(function(b){dM(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):dK(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function dM(a,b,c){return(b=dN(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function dN(a){var b=function(a,b){if("object"!==dG(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!==dG(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"===dG(b)?b:String(b)}function dO(a,b){return(dO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function dP(a,b){if(b&&("object"===dG(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");return dQ(a)}function dQ(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function dR(a){return(dR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}var dS=function(a){if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),a&&dO(e,a);var b,c,d=(b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,c=dR(e);return a=b?Reflect.construct(c,arguments,dR(this).constructor):c.apply(this,arguments),dP(this,a)});function e(a,b){if(!(this instanceof e))throw TypeError("Cannot call a class as a function");var c=d.call(this,a,b),f=c.props,g=f.isActive,h=f.attributeName,i=f.from,j=f.to,k=f.steps,l=f.children,m=f.duration;if(c.handleStyleChange=c.handleStyleChange.bind(dQ(c)),c.changeStyle=c.changeStyle.bind(dQ(c)),!g||m<=0)return c.state={style:{}},"function"==typeof l&&(c.state={style:j}),dP(c);if(k&&k.length)c.state={style:k[0].style};else if(i){if("function"==typeof l)return c.state={style:i},dP(c);c.state={style:h?dM({},h,i):i}}else c.state={style:{}};return c}return c=[{key:"componentDidMount",value:function(){var a=this.props,b=a.isActive,c=a.canBegin;this.mounted=!0,b&&c&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var b=this.props,c=b.isActive,d=b.canBegin,e=b.attributeName,f=b.shouldReAnimate,g=b.to,h=b.from,i=this.state.style;if(d){if(!c){var j={style:e?dM({},e,g):g};this.state&&i&&(e&&i[e]!==g||!e&&i!==g)&&this.setState(j);return}if(!c9(a.to,g)||!a.canBegin||!a.isActive){var k=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var l=k||f?h:a.to;if(this.state&&i){var m={style:e?dM({},e,l):l};(e&&i[e]!==l||!e&&i!==l)&&this.setState(m)}this.runAnimation(dL(dL({},this.props),{},{from:l,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var b=this,c=a.from,d=a.to,e=a.duration,f=a.easing,g=a.begin,h=a.onAnimationEnd,i=a.onAnimationStart,j=dF(c,d,du(f),e,this.changeStyle);this.manager.start([i,g,function(){b.stopJSAnimation=j()},e,h])}},{key:"runStepAnimation",value:function(a){var b=this,c=a.steps,d=a.begin,e=a.onAnimationStart,f=c[0],g=f.style,h=f.duration;return this.manager.start([e].concat(dI(c.reduce(function(a,d,e){if(0===e)return a;var f=d.duration,g=d.easing,h=void 0===g?"ease":g,i=d.style,j=d.properties,k=d.onAnimationEnd,l=e>0?c[e-1]:d,m=j||Object.keys(i);if("function"==typeof h||"spring"===h)return[].concat(dI(a),[b.runJSAnimation.bind(b,{from:l.style,to:i,duration:f,easing:h}),f]);var n=dk(m,f,h),o=dL(dL(dL({},l.style),i),{},{transition:n});return[].concat(dI(a),[o,f,k]).filter(di)},[g,Math.max(void 0===h?0:h,d)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=(b=function(){return null},c=!1,d=function a(d){if(!c){if(Array.isArray(d)){if(!d.length)return;var e=function(a){if(Array.isArray(a))return a}(d)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(d)||function(a,b){if(a){if("string"==typeof a)return dd(a,void 0);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return dd(a,b)}}(d)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=e[0],g=e.slice(1);return"number"==typeof f?void db(a.bind(null,g),f):(a(f),void db(a.bind(null,g)))}"object"===dc(d)&&b(d),"function"==typeof d&&d()}},{stop:function(){c=!0},start:function(a){c=!1,d(a)},subscribe:function(a){return b=a,function(){b=function(){return null}}}}));var b,c,d,e=a.begin,f=a.duration,g=a.attributeName,h=a.to,i=a.easing,j=a.onAnimationStart,k=a.onAnimationEnd,l=a.steps,m=a.children,n=this.manager;if(this.unSubscribe=n.subscribe(this.handleStyleChange),"function"==typeof i||"function"==typeof m||"spring"===i)return void this.runJSAnimation(a);if(l.length>1)return void this.runStepAnimation(a);var o=g?dM({},g,h):h,p=dk(Object.keys(o),f,i);n.start([j,e,dL(dL({},o),{},{transition:p}),f,k])}},{key:"render",value:function(){var a=this.props,b=a.children,c=(a.begin,a.duration),d=(a.attributeName,a.easing,a.isActive),e=(a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart,function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,dH)),f=r.Children.count(b),g=this.state.style;if("function"==typeof b)return b(g);if(!d||0===f||c<=0)return b;var h=function(a){var b=a.props,c=b.style,d=b.className;return(0,r.cloneElement)(a,dL(dL({},e),{},{style:dL(dL({},void 0===c?{}:c),g),className:d}))};return 1===f?h(r.Children.only(b)):s().createElement("div",null,r.Children.map(b,function(a){return h(a)}))}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,dN(d.key),d)}}(e.prototype,c),Object.defineProperty(e,"prototype",{writable:!1}),e}(r.PureComponent);function dT(a){return(dT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function dU(){return(dU=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function dV(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function dW(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function dX(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?dW(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=dT(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=dT(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==dT(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):dW(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}dS.displayName="Animate",dS.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},dS.propTypes={from:cJ().oneOfType([cJ().object,cJ().string]),to:cJ().oneOfType([cJ().object,cJ().string]),attributeName:cJ().string,duration:cJ().number,begin:cJ().number,easing:cJ().oneOfType([cJ().string,cJ().func]),steps:cJ().arrayOf(cJ().shape({duration:cJ().number.isRequired,style:cJ().object.isRequired,easing:cJ().oneOfType([cJ().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),cJ().func]),properties:cJ().arrayOf("string"),onAnimationEnd:cJ().func})),children:cJ().oneOfType([cJ().node,cJ().func]),isActive:cJ().bool,canBegin:cJ().bool,onAnimationEnd:cJ().func,shouldReAnimate:cJ().bool,onAnimationStart:cJ().func,onAnimationReStart:cJ().func};var dY=function(a,b,c,d,e){var f,g=Math.min(Math.abs(c)/2,Math.abs(d)/2),h=d>=0?1:-1,i=c>=0?1:-1,j=+(d>=0&&c>=0||d<0&&c<0);if(g>0&&e instanceof Array){for(var k=[0,0,0,0],l=0;l<4;l++)k[l]=e[l]>g?g:e[l];f="M".concat(a,",").concat(b+h*k[0]),k[0]>0&&(f+="A ".concat(k[0],",").concat(k[0],",0,0,").concat(j,",").concat(a+i*k[0],",").concat(b)),f+="L ".concat(a+c-i*k[1],",").concat(b),k[1]>0&&(f+="A ".concat(k[1],",").concat(k[1],",0,0,").concat(j,",\n        ").concat(a+c,",").concat(b+h*k[1])),f+="L ".concat(a+c,",").concat(b+d-h*k[2]),k[2]>0&&(f+="A ".concat(k[2],",").concat(k[2],",0,0,").concat(j,",\n        ").concat(a+c-i*k[2],",").concat(b+d)),f+="L ".concat(a+i*k[3],",").concat(b+d),k[3]>0&&(f+="A ".concat(k[3],",").concat(k[3],",0,0,").concat(j,",\n        ").concat(a,",").concat(b+d-h*k[3])),f+="Z"}else if(g>0&&e===+e&&e>0){var m=Math.min(g,e);f="M ".concat(a,",").concat(b+h*m,"\n            A ").concat(m,",").concat(m,",0,0,").concat(j,",").concat(a+i*m,",").concat(b,"\n            L ").concat(a+c-i*m,",").concat(b,"\n            A ").concat(m,",").concat(m,",0,0,").concat(j,",").concat(a+c,",").concat(b+h*m,"\n            L ").concat(a+c,",").concat(b+d-h*m,"\n            A ").concat(m,",").concat(m,",0,0,").concat(j,",").concat(a+c-i*m,",").concat(b+d,"\n            L ").concat(a+i*m,",").concat(b+d,"\n            A ").concat(m,",").concat(m,",0,0,").concat(j,",").concat(a,",").concat(b+d-h*m," Z")}else f="M ".concat(a,",").concat(b," h ").concat(c," v ").concat(d," h ").concat(-c," Z");return f},dZ=function(a,b){if(!a||!b)return!1;var c=a.x,d=a.y,e=b.x,f=b.y,g=b.width,h=b.height;if(Math.abs(g)>0&&Math.abs(h)>0){var i=Math.min(e,e+g),j=Math.max(e,e+g),k=Math.min(f,f+h),l=Math.max(f,f+h);return c>=i&&c<=j&&d>=k&&d<=l}return!1},d$={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},d_=function(a){var b,c=dX(dX({},d$),a),d=(0,r.useRef)(),e=function(a){if(Array.isArray(a))return a}(b=(0,r.useState)(-1))||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{f=(c=c.call(a)).next,!1;for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(b,2)||function(a,b){if(a){if("string"==typeof a)return dV(a,2);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return dV(a,b)}}(b,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=e[0],g=e[1];(0,r.useEffect)(function(){if(d.current&&d.current.getTotalLength)try{var a=d.current.getTotalLength();a&&g(a)}catch(a){}},[]);var h=c.x,i=c.y,j=c.width,k=c.height,l=c.radius,m=c.className,n=c.animationEasing,o=c.animationDuration,p=c.animationBegin,q=c.isAnimationActive,t=c.isUpdateAnimationActive;if(h!==+h||i!==+i||j!==+j||k!==+k||0===j||0===k)return null;var u=Z("recharts-rectangle",m);return t?s().createElement(dS,{canBegin:f>0,from:{width:j,height:k,x:h,y:i},to:{width:j,height:k,x:h,y:i},duration:o,animationEasing:n,isActive:t},function(a){var b=a.width,e=a.height,g=a.x,h=a.y;return s().createElement(dS,{canBegin:f>0,from:"0px ".concat(-1===f?1:f,"px"),to:"".concat(f,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:o,isActive:q,easing:n},s().createElement("path",dU({},aY(c,!0),{className:u,d:dY(g,h,b,e,l),ref:d})))}):s().createElement("path",dU({},aY(c,!0),{className:u,d:dY(h,i,j,k,l)}))};function d0(a,b){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(b).domain(a)}return this}function d1(a,b){switch(arguments.length){case 0:break;case 1:"function"==typeof a?this.interpolator(a):this.range(a);break;default:this.domain(a),"function"==typeof b?this.interpolator(b):this.range(b)}return this}class d2 extends Map{constructor(a,b=d4){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:b}}),null!=a)for(let[b,c]of a)this.set(b,c)}get(a){return super.get(d3(this,a))}has(a){return super.has(d3(this,a))}set(a,b){return super.set(function({_intern:a,_key:b},c){let d=b(c);return a.has(d)?a.get(d):(a.set(d,c),c)}(this,a),b)}delete(a){return super.delete(function({_intern:a,_key:b},c){let d=b(c);return a.has(d)&&(c=a.get(d),a.delete(d)),c}(this,a))}}function d3({_intern:a,_key:b},c){let d=b(c);return a.has(d)?a.get(d):c}function d4(a){return null!==a&&"object"==typeof a?a.valueOf():a}let d5=Symbol("implicit");function d6(){var a=new d2,b=[],c=[],d=d5;function e(e){let f=a.get(e);if(void 0===f){if(d!==d5)return d;a.set(e,f=b.push(e)-1)}return c[f%c.length]}return e.domain=function(c){if(!arguments.length)return b.slice();for(let d of(b=[],a=new d2,c))a.has(d)||a.set(d,b.push(d)-1);return e},e.range=function(a){return arguments.length?(c=Array.from(a),e):c.slice()},e.unknown=function(a){return arguments.length?(d=a,e):d},e.copy=function(){return d6(b,c).unknown(d)},d0.apply(e,arguments),e}function d7(){var a,b,c=d6().unknown(void 0),d=c.domain,e=c.range,f=0,g=1,h=!1,i=0,j=0,k=.5;function l(){var c=d().length,l=g<f,m=l?g:f,n=l?f:g;a=(n-m)/Math.max(1,c-i+2*j),h&&(a=Math.floor(a)),m+=(n-m-a*(c-i))*k,b=a*(1-i),h&&(m=Math.round(m),b=Math.round(b));var o=(function(a,b,c){a*=1,b*=1,c=(e=arguments.length)<2?(b=a,a=0,1):e<3?1:+c;for(var d=-1,e=0|Math.max(0,Math.ceil((b-a)/c)),f=Array(e);++d<e;)f[d]=a+d*c;return f})(c).map(function(b){return m+a*b});return e(l?o.reverse():o)}return delete c.unknown,c.domain=function(a){return arguments.length?(d(a),l()):d()},c.range=function(a){return arguments.length?([f,g]=a,f*=1,g*=1,l()):[f,g]},c.rangeRound=function(a){return[f,g]=a,f*=1,g*=1,h=!0,l()},c.bandwidth=function(){return b},c.step=function(){return a},c.round=function(a){return arguments.length?(h=!!a,l()):h},c.padding=function(a){return arguments.length?(i=Math.min(1,j=+a),l()):i},c.paddingInner=function(a){return arguments.length?(i=Math.min(1,a),l()):i},c.paddingOuter=function(a){return arguments.length?(j=+a,l()):j},c.align=function(a){return arguments.length?(k=Math.max(0,Math.min(1,a)),l()):k},c.copy=function(){return d7(d(),[f,g]).round(h).paddingInner(i).paddingOuter(j).align(k)},d0.apply(l(),arguments)}function d8(){return function a(b){var c=b.copy;return b.padding=b.paddingOuter,delete b.paddingInner,delete b.paddingOuter,b.copy=function(){return a(c())},b}(d7.apply(null,arguments).paddingInner(1))}function d9(a){return(d9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function ea(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function eb(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ea(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=d9(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=d9(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==d9(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ea(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var ec={widthCache:{},cacheCount:0},ed={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ee="recharts_measurement_span",ef=function(a){var b,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==a||bC.isSsr)return{width:0,height:0};var d=(Object.keys(b=eb({},c)).forEach(function(a){b[a]||delete b[a]}),b),e=JSON.stringify({text:a,copyStyle:d});if(ec.widthCache[e])return ec.widthCache[e];try{var f=document.getElementById(ee);f||((f=document.createElement("span")).setAttribute("id",ee),f.setAttribute("aria-hidden","true"),document.body.appendChild(f));var g=eb(eb({},ed),d);Object.assign(f.style,g),f.textContent="".concat(a);var h=f.getBoundingClientRect(),i={width:h.width,height:h.height};return ec.widthCache[e]=i,++ec.cacheCount>2e3&&(ec.cacheCount=0,ec.widthCache={}),i}catch(a){return{width:0,height:0}}};function eg(a){return(eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function eh(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{if(f=(c=c.call(a)).next,0===b){if(Object(c)!==c)return;i=!1}else for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(a,b)||function(a,b){if(a){if("string"==typeof a)return ei(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return ei(a,b)}}(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ei(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function ej(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,function(a){var b=function(a,b){if("object"!=eg(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=eg(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==eg(b)?b:b+""}(d.key),d)}}var ek=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,el=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,em=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,en=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eo={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},ep=Object.keys(eo),eq=function(){var a,b;function c(a,b){if(!(this instanceof c))throw TypeError("Cannot call a class as a function");this.num=a,this.unit=b,this.num=a,this.unit=b,Number.isNaN(a)&&(this.unit=""),""===b||em.test(b)||(this.num=NaN,this.unit=""),ep.includes(b)&&(this.num=a*eo[b],this.unit="px")}return a=[{key:"add",value:function(a){return this.unit!==a.unit?new c(NaN,""):new c(this.num+a.num,this.unit)}},{key:"subtract",value:function(a){return this.unit!==a.unit?new c(NaN,""):new c(this.num-a.num,this.unit)}},{key:"multiply",value:function(a){return""!==this.unit&&""!==a.unit&&this.unit!==a.unit?new c(NaN,""):new c(this.num*a.num,this.unit||a.unit)}},{key:"divide",value:function(a){return""!==this.unit&&""!==a.unit&&this.unit!==a.unit?new c(NaN,""):new c(this.num/a.num,this.unit||a.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],b=[{key:"parse",value:function(a){var b,d=eh(null!=(b=en.exec(a))?b:[],3),e=d[1],f=d[2];return new c(parseFloat(e),null!=f?f:"")}}],a&&ej(c.prototype,a),b&&ej(c,b),Object.defineProperty(c,"prototype",{writable:!1}),c}();function er(a){if(a.includes("NaN"))return"NaN";for(var b=a;b.includes("*")||b.includes("/");){var c,d=eh(null!=(c=ek.exec(b))?c:[],4),e=d[1],f=d[2],g=d[3],h=eq.parse(null!=e?e:""),i=eq.parse(null!=g?g:""),j="*"===f?h.multiply(i):h.divide(i);if(j.isNaN())return"NaN";b=b.replace(ek,j.toString())}for(;b.includes("+")||/.-\d+(?:\.\d+)?/.test(b);){var k,l=eh(null!=(k=el.exec(b))?k:[],4),m=l[1],n=l[2],o=l[3],p=eq.parse(null!=m?m:""),q=eq.parse(null!=o?o:""),r="+"===n?p.add(q):p.subtract(q);if(r.isNaN())return"NaN";b=b.replace(el,r.toString())}return b}var es=/\(([^()]*)\)/;function et(a){var b=function(a){try{var b;return b=a.replace(/\s+/g,""),b=function(a){for(var b=a;b.includes("(");){var c=eh(es.exec(b),2)[1];b=b.replace(es,er(c))}return b}(b),b=er(b)}catch(a){return"NaN"}}(a.slice(5,-1));return"NaN"===b?"":b}var eu=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ev=["dx","dy","angle","className","breakAll"];function ew(){return(ew=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function ex(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function ey(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{if(f=(c=c.call(a)).next,0===b){if(Object(c)!==c)return;i=!1}else for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(a,b)||function(a,b){if(a){if("string"==typeof a)return ez(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return ez(a,b)}}(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ez(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var eA=/[ \f\n\r\t\v\u2028\u2029]+/,eB=function(a){var b=a.children,c=a.breakAll,d=a.style;try{var e=[];aj()(b)||(e=c?b.toString().split(""):b.toString().split(eA));var f=e.map(function(a){return{word:a,width:ef(a,d).width}}),g=c?0:ef("\xa0",d).width;return{wordsWithComputedWidth:f,spaceWidth:g}}catch(a){return null}},eC=function(a,b,c,d,e){var f,g=a.maxLines,h=a.children,i=a.style,j=a.breakAll,k=am(g),l=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return a.reduce(function(a,b){var f=b.word,g=b.width,h=a[a.length-1];return h&&(null==d||e||h.width+g+c<Number(d))?(h.words.push(f),h.width+=g+c):a.push({words:[f],width:g}),a},[])},m=l(b);if(!k)return m;for(var n=function(a){var b=l(eB({breakAll:j,style:i,children:h.slice(0,a)+""}).wordsWithComputedWidth);return[b.length>g||b.reduce(function(a,b){return a.width>b.width?a:b}).width>Number(d),b]},o=0,p=h.length-1,q=0;o<=p&&q<=h.length-1;){var r=Math.floor((o+p)/2),s=ey(n(r-1),2),t=s[0],u=s[1],v=ey(n(r),1)[0];if(t||v||(o=r+1),t&&v&&(p=r-1),!t&&v){f=u;break}q++}return f||m},eD=function(a){return[{words:aj()(a)?[]:a.toString().split(eA)}]},eE=function(a){var b=a.width,c=a.scaleToFit,d=a.children,e=a.style,f=a.breakAll,g=a.maxLines;if((b||c)&&!bC.isSsr){var h=eB({breakAll:f,children:d,style:e});if(!h)return eD(d);var i=h.wordsWithComputedWidth,j=h.spaceWidth;return eC({breakAll:f,children:d,maxLines:g,style:e},i,j,b,c)}return eD(d)},eF="#808080",eG=function(a){var b,c=a.x,d=void 0===c?0:c,e=a.y,f=void 0===e?0:e,g=a.lineHeight,h=void 0===g?"1em":g,i=a.capHeight,j=void 0===i?"0.71em":i,k=a.scaleToFit,l=void 0!==k&&k,m=a.textAnchor,n=a.verticalAnchor,o=a.fill,p=void 0===o?eF:o,q=ex(a,eu),t=(0,r.useMemo)(function(){return eE({breakAll:q.breakAll,children:q.children,maxLines:q.maxLines,scaleToFit:l,style:q.style,width:q.width})},[q.breakAll,q.children,q.maxLines,l,q.style,q.width]),u=q.dx,v=q.dy,w=q.angle,x=q.className,y=q.breakAll,z=ex(q,ev);if(!an(d)||!an(f))return null;var A=d+(am(u)?u:0),B=f+(am(v)?v:0);switch(void 0===n?"end":n){case"start":b=et("calc(".concat(j,")"));break;case"middle":b=et("calc(".concat((t.length-1)/2," * -").concat(h," + (").concat(j," / 2))"));break;default:b=et("calc(".concat(t.length-1," * -").concat(h,")"))}var C=[];if(l){var D=t[0].width,E=q.width;C.push("scale(".concat((am(E)?E/D:1)/D,")"))}return w&&C.push("rotate(".concat(w,", ").concat(A,", ").concat(B,")")),C.length&&(z.transform=C.join(" ")),s().createElement("text",ew({},aY(z,!0),{x:A,y:B,className:Z("recharts-text",x),textAnchor:void 0===m?"start":m,fill:p.includes("url")?eF:p}),t.map(function(a,c){var d=a.words.join(y?"":" ");return s().createElement("tspan",{x:A,dy:0===c?b:h,key:"".concat(d,"-").concat(c)},d)}))};let eH=Math.sqrt(50),eI=Math.sqrt(10),eJ=Math.sqrt(2);function eK(a,b,c){let d,e,f,g=(b-a)/Math.max(0,c),h=Math.floor(Math.log10(g)),i=g/Math.pow(10,h),j=i>=eH?10:i>=eI?5:i>=eJ?2:1;return(h<0?(d=Math.round(a*(f=Math.pow(10,-h)/j)),e=Math.round(b*f),d/f<a&&++d,e/f>b&&--e,f=-f):(d=Math.round(a/(f=Math.pow(10,h)*j)),e=Math.round(b/f),d*f<a&&++d,e*f>b&&--e),e<d&&.5<=c&&c<2)?eK(a,b,2*c):[d,e,f]}function eL(a,b,c){if(b*=1,a*=1,!((c*=1)>0))return[];if(a===b)return[a];let d=b<a,[e,f,g]=d?eK(b,a,c):eK(a,b,c);if(!(f>=e))return[];let h=f-e+1,i=Array(h);if(d)if(g<0)for(let a=0;a<h;++a)i[a]=-((f-a)/g);else for(let a=0;a<h;++a)i[a]=(f-a)*g;else if(g<0)for(let a=0;a<h;++a)i[a]=-((e+a)/g);else for(let a=0;a<h;++a)i[a]=(e+a)*g;return i}function eM(a,b,c){return eK(a*=1,b*=1,c*=1)[2]}function eN(a,b,c){b*=1,a*=1,c*=1;let d=b<a,e=d?eM(b,a,c):eM(a,b,c);return(d?-1:1)*(e<0?-(1/e):e)}function eO(a,b){return null==a||null==b?NaN:a<b?-1:a>b?1:a>=b?0:NaN}function eP(a,b){return null==a||null==b?NaN:b<a?-1:b>a?1:b>=a?0:NaN}function eQ(a){let b,c,d;function e(a,d,f=0,g=a.length){if(f<g){if(0!==b(d,d))return g;do{let b=f+g>>>1;0>c(a[b],d)?f=b+1:g=b}while(f<g)}return f}return 2!==a.length?(b=eO,c=(b,c)=>eO(a(b),c),d=(b,c)=>a(b)-c):(b=a===eO||a===eP?a:eR,c=a,d=a),{left:e,center:function(a,b,c=0,f=a.length){let g=e(a,b,c,f-1);return g>c&&d(a[g-1],b)>-d(a[g],b)?g-1:g},right:function(a,d,e=0,f=a.length){if(e<f){if(0!==b(d,d))return f;do{let b=e+f>>>1;0>=c(a[b],d)?e=b+1:f=b}while(e<f)}return e}}}function eR(){return 0}function eS(a){return null===a?NaN:+a}let eT=eQ(eO),eU=eT.right;function eV(a,b,c){a.prototype=b.prototype=c,c.constructor=a}function eW(a,b){var c=Object.create(a.prototype);for(var d in b)c[d]=b[d];return c}function eX(){}eT.left,eQ(eS).center;var eY="\\s*([+-]?\\d+)\\s*",eZ="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",e$="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",e_=/^#([0-9a-f]{3,8})$/,e0=RegExp(`^rgb\\(${eY},${eY},${eY}\\)$`),e1=RegExp(`^rgb\\(${e$},${e$},${e$}\\)$`),e2=RegExp(`^rgba\\(${eY},${eY},${eY},${eZ}\\)$`),e3=RegExp(`^rgba\\(${e$},${e$},${e$},${eZ}\\)$`),e4=RegExp(`^hsl\\(${eZ},${e$},${e$}\\)$`),e5=RegExp(`^hsla\\(${eZ},${e$},${e$},${eZ}\\)$`),e6={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};function e7(){return this.rgb().formatHex()}function e8(){return this.rgb().formatRgb()}function e9(a){var b,c;return a=(a+"").trim().toLowerCase(),(b=e_.exec(a))?(c=b[1].length,b=parseInt(b[1],16),6===c?fa(b):3===c?new fd(b>>8&15|b>>4&240,b>>4&15|240&b,(15&b)<<4|15&b,1):8===c?fb(b>>24&255,b>>16&255,b>>8&255,(255&b)/255):4===c?fb(b>>12&15|b>>8&240,b>>8&15|b>>4&240,b>>4&15|240&b,((15&b)<<4|15&b)/255):null):(b=e0.exec(a))?new fd(b[1],b[2],b[3],1):(b=e1.exec(a))?new fd(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=e2.exec(a))?fb(b[1],b[2],b[3],b[4]):(b=e3.exec(a))?fb(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=e4.exec(a))?fj(b[1],b[2]/100,b[3]/100,1):(b=e5.exec(a))?fj(b[1],b[2]/100,b[3]/100,b[4]):e6.hasOwnProperty(a)?fa(e6[a]):"transparent"===a?new fd(NaN,NaN,NaN,0):null}function fa(a){return new fd(a>>16&255,a>>8&255,255&a,1)}function fb(a,b,c,d){return d<=0&&(a=b=c=NaN),new fd(a,b,c,d)}function fc(a,b,c,d){var e;return 1==arguments.length?((e=a)instanceof eX||(e=e9(e)),e)?new fd((e=e.rgb()).r,e.g,e.b,e.opacity):new fd:new fd(a,b,c,null==d?1:d)}function fd(a,b,c,d){this.r=+a,this.g=+b,this.b=+c,this.opacity=+d}function fe(){return`#${fi(this.r)}${fi(this.g)}${fi(this.b)}`}function ff(){let a=fg(this.opacity);return`${1===a?"rgb(":"rgba("}${fh(this.r)}, ${fh(this.g)}, ${fh(this.b)}${1===a?")":`, ${a})`}`}function fg(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function fh(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function fi(a){return((a=fh(a))<16?"0":"")+a.toString(16)}function fj(a,b,c,d){return d<=0?a=b=c=NaN:c<=0||c>=1?a=b=NaN:b<=0&&(a=NaN),new fl(a,b,c,d)}function fk(a){if(a instanceof fl)return new fl(a.h,a.s,a.l,a.opacity);if(a instanceof eX||(a=e9(a)),!a)return new fl;if(a instanceof fl)return a;var b=(a=a.rgb()).r/255,c=a.g/255,d=a.b/255,e=Math.min(b,c,d),f=Math.max(b,c,d),g=NaN,h=f-e,i=(f+e)/2;return h?(g=b===f?(c-d)/h+(c<d)*6:c===f?(d-b)/h+2:(b-c)/h+4,h/=i<.5?f+e:2-f-e,g*=60):h=i>0&&i<1?0:g,new fl(g,h,i,a.opacity)}function fl(a,b,c,d){this.h=+a,this.s=+b,this.l=+c,this.opacity=+d}function fm(a){return(a=(a||0)%360)<0?a+360:a}function fn(a){return Math.max(0,Math.min(1,a||0))}function fo(a,b,c){return(a<60?b+(c-b)*a/60:a<180?c:a<240?b+(c-b)*(240-a)/60:b)*255}function fp(a,b,c,d,e){var f=a*a,g=f*a;return((1-3*a+3*f-g)*b+(4-6*f+3*g)*c+(1+3*a+3*f-3*g)*d+g*e)/6}eV(eX,e9,{copy(a){return Object.assign(new this.constructor,this,a)},displayable(){return this.rgb().displayable()},hex:e7,formatHex:e7,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return fk(this).formatHsl()},formatRgb:e8,toString:e8}),eV(fd,fc,eW(eX,{brighter(a){return a=null==a?1.4285714285714286:Math.pow(1.4285714285714286,a),new fd(this.r*a,this.g*a,this.b*a,this.opacity)},darker(a){return a=null==a?.7:Math.pow(.7,a),new fd(this.r*a,this.g*a,this.b*a,this.opacity)},rgb(){return this},clamp(){return new fd(fh(this.r),fh(this.g),fh(this.b),fg(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fe,formatHex:fe,formatHex8:function(){return`#${fi(this.r)}${fi(this.g)}${fi(this.b)}${fi((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:ff,toString:ff})),eV(fl,function(a,b,c,d){return 1==arguments.length?fk(a):new fl(a,b,c,null==d?1:d)},eW(eX,{brighter(a){return a=null==a?1.4285714285714286:Math.pow(1.4285714285714286,a),new fl(this.h,this.s,this.l*a,this.opacity)},darker(a){return a=null==a?.7:Math.pow(.7,a),new fl(this.h,this.s,this.l*a,this.opacity)},rgb(){var a=this.h%360+(this.h<0)*360,b=isNaN(a)||isNaN(this.s)?0:this.s,c=this.l,d=c+(c<.5?c:1-c)*b,e=2*c-d;return new fd(fo(a>=240?a-240:a+120,e,d),fo(a,e,d),fo(a<120?a+240:a-120,e,d),this.opacity)},clamp(){return new fl(fm(this.h),fn(this.s),fn(this.l),fg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let a=fg(this.opacity);return`${1===a?"hsl(":"hsla("}${fm(this.h)}, ${100*fn(this.s)}%, ${100*fn(this.l)}%${1===a?")":`, ${a})`}`}}));let fq=a=>()=>a;function fr(a,b){var c=b-a;return c?function(b){return a+b*c}:fq(isNaN(a)?b:a)}let fs=function a(b){var c,d=1==(c=+b)?fr:function(a,b){var d,e,f;return b-a?(d=a,e=b,d=Math.pow(d,f=c),e=Math.pow(e,f)-d,f=1/f,function(a){return Math.pow(d+a*e,f)}):fq(isNaN(a)?b:a)};function e(a,b){var c=d((a=fc(a)).r,(b=fc(b)).r),e=d(a.g,b.g),f=d(a.b,b.b),g=fr(a.opacity,b.opacity);return function(b){return a.r=c(b),a.g=e(b),a.b=f(b),a.opacity=g(b),a+""}}return e.gamma=a,e}(1);function ft(a){return function(b){var c,d,e=b.length,f=Array(e),g=Array(e),h=Array(e);for(c=0;c<e;++c)d=fc(b[c]),f[c]=d.r||0,g[c]=d.g||0,h[c]=d.b||0;return f=a(f),g=a(g),h=a(h),d.opacity=1,function(a){return d.r=f(a),d.g=g(a),d.b=h(a),d+""}}}function fu(a,b){return a*=1,b*=1,function(c){return a*(1-c)+b*c}}ft(function(a){var b=a.length-1;return function(c){var d=c<=0?c=0:c>=1?(c=1,b-1):Math.floor(c*b),e=a[d],f=a[d+1],g=d>0?a[d-1]:2*e-f,h=d<b-1?a[d+2]:2*f-e;return fp((c-d/b)*b,g,e,f,h)}}),ft(function(a){var b=a.length;return function(c){var d=Math.floor(((c%=1)<0?++c:c)*b),e=a[(d+b-1)%b],f=a[d%b],g=a[(d+1)%b],h=a[(d+2)%b];return fp((c-d/b)*b,e,f,g,h)}});var fv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fw=RegExp(fv.source,"g");function fx(a,b){var c,d,e=typeof b;return null==b||"boolean"===e?fq(b):("number"===e?fu:"string"===e?(d=e9(b))?(b=d,fs):function(a,b){var c,d,e,f,g,h=fv.lastIndex=fw.lastIndex=0,i=-1,j=[],k=[];for(a+="",b+="";(e=fv.exec(a))&&(f=fw.exec(b));)(g=f.index)>h&&(g=b.slice(h,g),j[i]?j[i]+=g:j[++i]=g),(e=e[0])===(f=f[0])?j[i]?j[i]+=f:j[++i]=f:(j[++i]=null,k.push({i:i,x:fu(e,f)})),h=fw.lastIndex;return h<b.length&&(g=b.slice(h),j[i]?j[i]+=g:j[++i]=g),j.length<2?k[0]?(c=k[0].x,function(a){return c(a)+""}):(d=b,function(){return d}):(b=k.length,function(a){for(var c,d=0;d<b;++d)j[(c=k[d]).i]=c.x(a);return j.join("")})}:b instanceof e9?fs:b instanceof Date?function(a,b){var c=new Date;return a*=1,b*=1,function(d){return c.setTime(a*(1-d)+b*d),c}}:!ArrayBuffer.isView(c=b)||c instanceof DataView?Array.isArray(b)?function(a,b){var c,d=b?b.length:0,e=a?Math.min(d,a.length):0,f=Array(e),g=Array(d);for(c=0;c<e;++c)f[c]=fx(a[c],b[c]);for(;c<d;++c)g[c]=b[c];return function(a){for(c=0;c<e;++c)g[c]=f[c](a);return g}}:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?function(a,b){var c,d={},e={};for(c in(null===a||"object"!=typeof a)&&(a={}),(null===b||"object"!=typeof b)&&(b={}),b)c in a?d[c]=fx(a[c],b[c]):e[c]=b[c];return function(a){for(c in d)e[c]=d[c](a);return e}}:fu:function(a,b){b||(b=[]);var c,d=a?Math.min(b.length,a.length):0,e=b.slice();return function(f){for(c=0;c<d;++c)e[c]=a[c]*(1-f)+b[c]*f;return e}})(a,b)}function fy(a,b){return a*=1,b*=1,function(c){return Math.round(a*(1-c)+b*c)}}function fz(a){return+a}var fA=[0,1];function fB(a){return a}function fC(a,b){var c;return(b-=a*=1)?function(c){return(c-a)/b}:(c=isNaN(b)?NaN:.5,function(){return c})}function fD(a,b,c){var d=a[0],e=a[1],f=b[0],g=b[1];return e<d?(d=fC(e,d),f=c(g,f)):(d=fC(d,e),f=c(f,g)),function(a){return f(d(a))}}function fE(a,b,c){var d=Math.min(a.length,b.length)-1,e=Array(d),f=Array(d),g=-1;for(a[d]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++g<d;)e[g]=fC(a[g],a[g+1]),f[g]=c(b[g],b[g+1]);return function(b){var c=eU(a,b,1,d)-1;return f[c](e[c](b))}}function fF(a,b){return b.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp()).unknown(a.unknown())}function fG(){var a,b,c,d,e,f,g=fA,h=fA,i=fx,j=fB;function k(){var a,b,c,i=Math.min(g.length,h.length);return j!==fB&&(a=g[0],b=g[i-1],a>b&&(c=a,a=b,b=c),j=function(c){return Math.max(a,Math.min(b,c))}),d=i>2?fE:fD,e=f=null,l}function l(b){return null==b||isNaN(b*=1)?c:(e||(e=d(g.map(a),h,i)))(a(j(b)))}return l.invert=function(c){return j(b((f||(f=d(h,g.map(a),fu)))(c)))},l.domain=function(a){return arguments.length?(g=Array.from(a,fz),k()):g.slice()},l.range=function(a){return arguments.length?(h=Array.from(a),k()):h.slice()},l.rangeRound=function(a){return h=Array.from(a),i=fy,k()},l.clamp=function(a){return arguments.length?(j=!!a||fB,k()):j!==fB},l.interpolate=function(a){return arguments.length?(i=a,k()):i},l.unknown=function(a){return arguments.length?(c=a,l):c},function(c,d){return a=c,b=d,k()}}function fH(){return fG()(fB,fB)}var fI=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fJ(a){var b;if(!(b=fI.exec(a)))throw Error("invalid format: "+a);return new fK({fill:b[1],align:b[2],sign:b[3],symbol:b[4],zero:b[5],width:b[6],comma:b[7],precision:b[8]&&b[8].slice(1),trim:b[9],type:b[10]})}function fK(a){this.fill=void 0===a.fill?" ":a.fill+"",this.align=void 0===a.align?">":a.align+"",this.sign=void 0===a.sign?"-":a.sign+"",this.symbol=void 0===a.symbol?"":a.symbol+"",this.zero=!!a.zero,this.width=void 0===a.width?void 0:+a.width,this.comma=!!a.comma,this.precision=void 0===a.precision?void 0:+a.precision,this.trim=!!a.trim,this.type=void 0===a.type?"":a.type+""}function fL(a,b){if(!isFinite(a)||0===a)return null;var c=(a=b?a.toExponential(b-1):a.toExponential()).indexOf("e"),d=a.slice(0,c);return[d.length>1?d[0]+d.slice(2):d,+a.slice(c+1)]}function fM(a){return(a=fL(Math.abs(a)))?a[1]:NaN}function fN(a,b){var c=fL(a,b);if(!c)return a+"";var d=c[0],e=c[1];return e<0?"0."+Array(-e).join("0")+d:d.length>e+1?d.slice(0,e+1)+"."+d.slice(e+1):d+Array(e-d.length+2).join("0")}fJ.prototype=fK.prototype,fK.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};let fO={"%":(a,b)=>(100*a).toFixed(b),b:a=>Math.round(a).toString(2),c:a=>a+"",d:function(a){return Math.abs(a=Math.round(a))>=1e21?a.toLocaleString("en").replace(/,/g,""):a.toString(10)},e:(a,b)=>a.toExponential(b),f:(a,b)=>a.toFixed(b),g:(a,b)=>a.toPrecision(b),o:a=>Math.round(a).toString(8),p:(a,b)=>fN(100*a,b),r:fN,s:function(a,b){var c=fL(a,b);if(!c)return ig=void 0,a.toPrecision(b);var d=c[0],e=c[1],f=e-(ig=3*Math.max(-8,Math.min(8,Math.floor(e/3))))+1,g=d.length;return f===g?d:f>g?d+Array(f-g+1).join("0"):f>0?d.slice(0,f)+"."+d.slice(f):"0."+Array(1-f).join("0")+fL(a,Math.max(0,b+f-1))[0]},X:a=>Math.round(a).toString(16).toUpperCase(),x:a=>Math.round(a).toString(16)};function fP(a){return a}var fQ=Array.prototype.map,fR=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function fS(a,b,c,d){var e,f,g=eN(a,b,c);switch((d=fJ(null==d?",f":d)).type){case"s":var h=Math.max(Math.abs(a),Math.abs(b));return null!=d.precision||isNaN(f=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(fM(h)/3)))-fM(Math.abs(g))))||(d.precision=f),ij(d,h);case"":case"e":case"g":case"p":case"r":null!=d.precision||isNaN(f=Math.max(0,fM(Math.abs(Math.max(Math.abs(a),Math.abs(b)))-(e=Math.abs(e=g)))-fM(e))+1)||(d.precision=f-("e"===d.type));break;case"f":case"%":null!=d.precision||isNaN(f=Math.max(0,-fM(Math.abs(g))))||(d.precision=f-("%"===d.type)*2)}return ii(d)}function fT(a){var b=a.domain;return a.ticks=function(a){var c=b();return eL(c[0],c[c.length-1],null==a?10:a)},a.tickFormat=function(a,c){var d=b();return fS(d[0],d[d.length-1],null==a?10:a,c)},a.nice=function(c){null==c&&(c=10);var d,e,f=b(),g=0,h=f.length-1,i=f[g],j=f[h],k=10;for(j<i&&(e=i,i=j,j=e,e=g,g=h,h=e);k-- >0;){if((e=eM(i,j,c))===d)return f[g]=i,f[h]=j,b(f);if(e>0)i=Math.floor(i/e)*e,j=Math.ceil(j/e)*e;else if(e<0)i=Math.ceil(i*e)/e,j=Math.floor(j*e)/e;else break;d=e}return a},a}function fU(){var a=fH();return a.copy=function(){return fF(a,fU())},d0.apply(a,arguments),fT(a)}function fV(a,b){a=a.slice();var c,d=0,e=a.length-1,f=a[d],g=a[e];return g<f&&(c=d,d=e,e=c,c=f,f=g,g=c),a[d]=b.floor(f),a[e]=b.ceil(g),a}function fW(a){return Math.log(a)}function fX(a){return Math.exp(a)}function fY(a){return-Math.log(-a)}function fZ(a){return-Math.exp(-a)}function f$(a){return isFinite(a)?+("1e"+a):a<0?0:a}function f_(a){return(b,c)=>-a(-b,c)}function f0(a){let b,c,d=a(fW,fX),e=d.domain,f=10;function g(){var g,h;return b=(g=f)===Math.E?Math.log:10===g&&Math.log10||2===g&&Math.log2||(g=Math.log(g),a=>Math.log(a)/g),c=10===(h=f)?f$:h===Math.E?Math.exp:a=>Math.pow(h,a),e()[0]<0?(b=f_(b),c=f_(c),a(fY,fZ)):a(fW,fX),d}return d.base=function(a){return arguments.length?(f=+a,g()):f},d.domain=function(a){return arguments.length?(e(a),g()):e()},d.ticks=a=>{let d,g,h=e(),i=h[0],j=h[h.length-1],k=j<i;k&&([i,j]=[j,i]);let l=b(i),m=b(j),n=null==a?10:+a,o=[];if(!(f%1)&&m-l<n){if(l=Math.floor(l),m=Math.ceil(m),i>0){for(;l<=m;++l)for(d=1;d<f;++d)if(!((g=l<0?d/c(-l):d*c(l))<i)){if(g>j)break;o.push(g)}}else for(;l<=m;++l)for(d=f-1;d>=1;--d)if(!((g=l>0?d/c(-l):d*c(l))<i)){if(g>j)break;o.push(g)}2*o.length<n&&(o=eL(i,j,n))}else o=eL(l,m,Math.min(m-l,n)).map(c);return k?o.reverse():o},d.tickFormat=(a,e)=>{if(null==a&&(a=10),null==e&&(e=10===f?"s":","),"function"!=typeof e&&(f%1||null!=(e=fJ(e)).precision||(e.trim=!0),e=ii(e)),a===1/0)return e;let g=Math.max(1,f*a/d.ticks().length);return a=>{let d=a/c(Math.round(b(a)));return d*f<f-.5&&(d*=f),d<=g?e(a):""}},d.nice=()=>e(fV(e(),{floor:a=>c(Math.floor(b(a))),ceil:a=>c(Math.ceil(b(a)))})),d}function f1(a){return function(b){return Math.sign(b)*Math.log1p(Math.abs(b/a))}}function f2(a){return function(b){return Math.sign(b)*Math.expm1(Math.abs(b))*a}}function f3(a){var b=1,c=a(f1(1),f2(b));return c.constant=function(c){return arguments.length?a(f1(b=+c),f2(b)):b},fT(c)}function f4(a){return function(b){return b<0?-Math.pow(-b,a):Math.pow(b,a)}}function f5(a){return a<0?-Math.sqrt(-a):Math.sqrt(a)}function f6(a){return a<0?-a*a:a*a}function f7(a){var b=a(fB,fB),c=1;return b.exponent=function(b){return arguments.length?1==(c=+b)?a(fB,fB):.5===c?a(f5,f6):a(f4(c),f4(1/c)):c},fT(b)}function f8(){var a=f7(fG());return a.copy=function(){return fF(a,f8()).exponent(a.exponent())},d0.apply(a,arguments),a}function f9(){return f8.apply(null,arguments).exponent(.5)}function ga(a){return Math.sign(a)*a*a}function gb(a,b){let c;if(void 0===b)for(let b of a)null!=b&&(c<b||void 0===c&&b>=b)&&(c=b);else{let d=-1;for(let e of a)null!=(e=b(e,++d,a))&&(c<e||void 0===c&&e>=e)&&(c=e)}return c}function gc(a,b){let c;if(void 0===b)for(let b of a)null!=b&&(c>b||void 0===c&&b>=b)&&(c=b);else{let d=-1;for(let e of a)null!=(e=b(e,++d,a))&&(c>e||void 0===c&&e>=e)&&(c=e)}return c}function gd(a,b){return(null==a||!(a>=a))-(null==b||!(b>=b))||(a<b?-1:+(a>b))}function ge(a,b,c){let d=a[b];a[b]=a[c],a[c]=d}ii=(ih=function(a){var b,c,d,e=void 0===a.grouping||void 0===a.thousands?fP:(b=fQ.call(a.grouping,Number),c=a.thousands+"",function(a,d){for(var e=a.length,f=[],g=0,h=b[0],i=0;e>0&&h>0&&(i+h+1>d&&(h=Math.max(1,d-i)),f.push(a.substring(e-=h,e+h)),!((i+=h+1)>d));)h=b[g=(g+1)%b.length];return f.reverse().join(c)}),f=void 0===a.currency?"":a.currency[0]+"",g=void 0===a.currency?"":a.currency[1]+"",h=void 0===a.decimal?".":a.decimal+"",i=void 0===a.numerals?fP:(d=fQ.call(a.numerals,String),function(a){return a.replace(/[0-9]/g,function(a){return d[+a]})}),j=void 0===a.percent?"%":a.percent+"",k=void 0===a.minus?"":a.minus+"",l=void 0===a.nan?"NaN":a.nan+"";function m(a,b){var c=(a=fJ(a)).fill,d=a.align,m=a.sign,n=a.symbol,o=a.zero,p=a.width,q=a.comma,r=a.precision,s=a.trim,t=a.type;"n"===t?(q=!0,t="g"):fO[t]||(void 0===r&&(r=12),s=!0,t="g"),(o||"0"===c&&"="===d)&&(o=!0,c="0",d="=");var u=(b&&void 0!==b.prefix?b.prefix:"")+("$"===n?f:"#"===n&&/[boxX]/.test(t)?"0"+t.toLowerCase():""),v=("$"===n?g:/[%p]/.test(t)?j:"")+(b&&void 0!==b.suffix?b.suffix:""),w=fO[t],x=/[defgprs%]/.test(t);function y(a){var b,f,g,j=u,n=v;if("c"===t)n=w(a)+n,a="";else{var y=(a*=1)<0||1/a<0;if(a=isNaN(a)?l:w(Math.abs(a),r),s&&(a=function(a){b:for(var b,c=a.length,d=1,e=-1;d<c;++d)switch(a[d]){case".":e=b=d;break;case"0":0===e&&(e=d),b=d;break;default:if(!+a[d])break b;e>0&&(e=0)}return e>0?a.slice(0,e)+a.slice(b+1):a}(a)),y&&0==+a&&"+"!==m&&(y=!1),j=(y?"("===m?m:k:"-"===m||"("===m?"":m)+j,n=("s"!==t||isNaN(a)||void 0===ig?"":fR[8+ig/3])+n+(y&&"("===m?")":""),x){for(b=-1,f=a.length;++b<f;)if(48>(g=a.charCodeAt(b))||g>57){n=(46===g?h+a.slice(b+1):a.slice(b))+n,a=a.slice(0,b);break}}}q&&!o&&(a=e(a,1/0));var z=j.length+a.length+n.length,A=z<p?Array(p-z+1).join(c):"";switch(q&&o&&(a=e(A+a,A.length?p-n.length:1/0),A=""),d){case"<":a=j+a+n+A;break;case"=":a=j+A+a+n;break;case"^":a=A.slice(0,z=A.length>>1)+j+a+n+A.slice(z);break;default:a=A+j+a+n}return i(a)}return r=void 0===r?6:/[gprs]/.test(t)?Math.max(1,Math.min(21,r)):Math.max(0,Math.min(20,r)),y.toString=function(){return a+""},y}return{format:m,formatPrefix:function(a,b){var c=3*Math.max(-8,Math.min(8,Math.floor(fM(b)/3))),d=Math.pow(10,-c),e=m(((a=fJ(a)).type="f",a),{suffix:fR[8+c/3]});return function(a){return e(d*a)}}}}({thousands:",",grouping:[3],currency:["$",""]})).format,ij=ih.formatPrefix;let gf=new Date,gg=new Date;function gh(a,b,c,d){function e(b){return a(b=0==arguments.length?new Date:new Date(+b)),b}return e.floor=b=>(a(b=new Date(+b)),b),e.ceil=c=>(a(c=new Date(c-1)),b(c,1),a(c),c),e.round=a=>{let b=e(a),c=e.ceil(a);return a-b<c-a?b:c},e.offset=(a,c)=>(b(a=new Date(+a),null==c?1:Math.floor(c)),a),e.range=(c,d,f)=>{let g,h=[];if(c=e.ceil(c),f=null==f?1:Math.floor(f),!(c<d)||!(f>0))return h;do h.push(g=new Date(+c)),b(c,f),a(c);while(g<c&&c<d);return h},e.filter=c=>gh(b=>{if(b>=b)for(;a(b),!c(b);)b.setTime(b-1)},(a,d)=>{if(a>=a)if(d<0)for(;++d<=0;)for(;b(a,-1),!c(a););else for(;--d>=0;)for(;b(a,1),!c(a););}),c&&(e.count=(b,d)=>(gf.setTime(+b),gg.setTime(+d),a(gf),a(gg),Math.floor(c(gf,gg))),e.every=a=>isFinite(a=Math.floor(a))&&a>0?a>1?e.filter(d?b=>d(b)%a==0:b=>e.count(0,b)%a==0):e:null),e}let gi=gh(()=>{},(a,b)=>{a.setTime(+a+b)},(a,b)=>b-a);gi.every=a=>isFinite(a=Math.floor(a))&&a>0?a>1?gh(b=>{b.setTime(Math.floor(b/a)*a)},(b,c)=>{b.setTime(+b+c*a)},(b,c)=>(c-b)/a):gi:null,gi.range;let gj=gh(a=>{a.setTime(a-a.getMilliseconds())},(a,b)=>{a.setTime(+a+1e3*b)},(a,b)=>(b-a)/1e3,a=>a.getUTCSeconds());gj.range;let gk=gh(a=>{a.setTime(a-a.getMilliseconds()-1e3*a.getSeconds())},(a,b)=>{a.setTime(+a+6e4*b)},(a,b)=>(b-a)/6e4,a=>a.getMinutes());gk.range;let gl=gh(a=>{a.setUTCSeconds(0,0)},(a,b)=>{a.setTime(+a+6e4*b)},(a,b)=>(b-a)/6e4,a=>a.getUTCMinutes());gl.range;let gm=gh(a=>{a.setTime(a-a.getMilliseconds()-1e3*a.getSeconds()-6e4*a.getMinutes())},(a,b)=>{a.setTime(+a+36e5*b)},(a,b)=>(b-a)/36e5,a=>a.getHours());gm.range;let gn=gh(a=>{a.setUTCMinutes(0,0,0)},(a,b)=>{a.setTime(+a+36e5*b)},(a,b)=>(b-a)/36e5,a=>a.getUTCHours());gn.range;let go=gh(a=>a.setHours(0,0,0,0),(a,b)=>a.setDate(a.getDate()+b),(a,b)=>(b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*6e4)/864e5,a=>a.getDate()-1);go.range;let gp=gh(a=>{a.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCDate(a.getUTCDate()+b)},(a,b)=>(b-a)/864e5,a=>a.getUTCDate()-1);gp.range;let gq=gh(a=>{a.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCDate(a.getUTCDate()+b)},(a,b)=>(b-a)/864e5,a=>Math.floor(a/864e5));function gr(a){return gh(b=>{b.setDate(b.getDate()-(b.getDay()+7-a)%7),b.setHours(0,0,0,0)},(a,b)=>{a.setDate(a.getDate()+7*b)},(a,b)=>(b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*6e4)/6048e5)}gq.range;let gs=gr(0),gt=gr(1),gu=gr(2),gv=gr(3),gw=gr(4),gx=gr(5),gy=gr(6);function gz(a){return gh(b=>{b.setUTCDate(b.getUTCDate()-(b.getUTCDay()+7-a)%7),b.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCDate(a.getUTCDate()+7*b)},(a,b)=>(b-a)/6048e5)}gs.range,gt.range,gu.range,gv.range,gw.range,gx.range,gy.range;let gA=gz(0),gB=gz(1),gC=gz(2),gD=gz(3),gE=gz(4),gF=gz(5),gG=gz(6);gA.range,gB.range,gC.range,gD.range,gE.range,gF.range,gG.range;let gH=gh(a=>{a.setDate(1),a.setHours(0,0,0,0)},(a,b)=>{a.setMonth(a.getMonth()+b)},(a,b)=>b.getMonth()-a.getMonth()+(b.getFullYear()-a.getFullYear())*12,a=>a.getMonth());gH.range;let gI=gh(a=>{a.setUTCDate(1),a.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCMonth(a.getUTCMonth()+b)},(a,b)=>b.getUTCMonth()-a.getUTCMonth()+(b.getUTCFullYear()-a.getUTCFullYear())*12,a=>a.getUTCMonth());gI.range;let gJ=gh(a=>{a.setMonth(0,1),a.setHours(0,0,0,0)},(a,b)=>{a.setFullYear(a.getFullYear()+b)},(a,b)=>b.getFullYear()-a.getFullYear(),a=>a.getFullYear());gJ.every=a=>isFinite(a=Math.floor(a))&&a>0?gh(b=>{b.setFullYear(Math.floor(b.getFullYear()/a)*a),b.setMonth(0,1),b.setHours(0,0,0,0)},(b,c)=>{b.setFullYear(b.getFullYear()+c*a)}):null,gJ.range;let gK=gh(a=>{a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},(a,b)=>{a.setUTCFullYear(a.getUTCFullYear()+b)},(a,b)=>b.getUTCFullYear()-a.getUTCFullYear(),a=>a.getUTCFullYear());function gL(a,b,c,d,e,f){let g=[[gj,1,1e3],[gj,5,5e3],[gj,15,15e3],[gj,30,3e4],[f,1,6e4],[f,5,3e5],[f,15,9e5],[f,30,18e5],[e,1,36e5],[e,3,108e5],[e,6,216e5],[e,12,432e5],[d,1,864e5],[d,2,1728e5],[c,1,6048e5],[b,1,2592e6],[b,3,7776e6],[a,1,31536e6]];function h(b,c,d){let e=Math.abs(c-b)/d,f=eQ(([,,a])=>a).right(g,e);if(f===g.length)return a.every(eN(b/31536e6,c/31536e6,d));if(0===f)return gi.every(Math.max(eN(b,c,d),1));let[h,i]=g[e/g[f-1][2]<g[f][2]/e?f-1:f];return h.every(i)}return[function(a,b,c){let d=b<a;d&&([a,b]=[b,a]);let e=c&&"function"==typeof c.range?c:h(a,b,c),f=e?e.range(a,+b+1):[];return d?f.reverse():f},h]}gK.every=a=>isFinite(a=Math.floor(a))&&a>0?gh(b=>{b.setUTCFullYear(Math.floor(b.getUTCFullYear()/a)*a),b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},(b,c)=>{b.setUTCFullYear(b.getUTCFullYear()+c*a)}):null,gK.range;let[gM,gN]=gL(gK,gI,gA,gq,gn,gl),[gO,gP]=gL(gJ,gH,gs,go,gm,gk);function gQ(a){if(0<=a.y&&a.y<100){var b=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);return b.setFullYear(a.y),b}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function gR(a){if(0<=a.y&&a.y<100){var b=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));return b.setUTCFullYear(a.y),b}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function gS(a,b,c){return{y:a,m:b,d:c,H:0,M:0,S:0,L:0}}var gT={"-":"",_:" ",0:"0"},gU=/^\s*\d+/,gV=/^%/,gW=/[\\^$*+?|[\]().{}]/g;function gX(a,b,c){var d=a<0?"-":"",e=(d?-a:a)+"",f=e.length;return d+(f<c?Array(c-f+1).join(b)+e:e)}function gY(a){return a.replace(gW,"\\$&")}function gZ(a){return RegExp("^(?:"+a.map(gY).join("|")+")","i")}function g$(a){return new Map(a.map((a,b)=>[a.toLowerCase(),b]))}function g_(a,b,c){var d=gU.exec(b.slice(c,c+1));return d?(a.w=+d[0],c+d[0].length):-1}function g0(a,b,c){var d=gU.exec(b.slice(c,c+1));return d?(a.u=+d[0],c+d[0].length):-1}function g1(a,b,c){var d=gU.exec(b.slice(c,c+2));return d?(a.U=+d[0],c+d[0].length):-1}function g2(a,b,c){var d=gU.exec(b.slice(c,c+2));return d?(a.V=+d[0],c+d[0].length):-1}function g3(a,b,c){var d=gU.exec(b.slice(c,c+2));return d?(a.W=+d[0],c+d[0].length):-1}function g4(a,b,c){var d=gU.exec(b.slice(c,c+4));return d?(a.y=+d[0],c+d[0].length):-1}function g5(a,b,c){var d=gU.exec(b.slice(c,c+2));return d?(a.y=+d[0]+(+d[0]>68?1900:2e3),c+d[0].length):-1}function g6(a,b,c){var d=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(b.slice(c,c+6));return d?(a.Z=d[1]?0:-(d[2]+(d[3]||"00")),c+d[0].length):-1}function g7(a,b,c){var d=gU.exec(b.slice(c,c+1));return d?(a.q=3*d[0]-3,c+d[0].length):-1}function g8(a,b,c){var d=gU.exec(b.slice(c,c+2));return d?(a.m=d[0]-1,c+d[0].length):-1}function g9(a,b,c){var d=gU.exec(b.slice(c,c+2));return d?(a.d=+d[0],c+d[0].length):-1}function ha(a,b,c){var d=gU.exec(b.slice(c,c+3));return d?(a.m=0,a.d=+d[0],c+d[0].length):-1}function hb(a,b,c){var d=gU.exec(b.slice(c,c+2));return d?(a.H=+d[0],c+d[0].length):-1}function hc(a,b,c){var d=gU.exec(b.slice(c,c+2));return d?(a.M=+d[0],c+d[0].length):-1}function hd(a,b,c){var d=gU.exec(b.slice(c,c+2));return d?(a.S=+d[0],c+d[0].length):-1}function he(a,b,c){var d=gU.exec(b.slice(c,c+3));return d?(a.L=+d[0],c+d[0].length):-1}function hf(a,b,c){var d=gU.exec(b.slice(c,c+6));return d?(a.L=Math.floor(d[0]/1e3),c+d[0].length):-1}function hg(a,b,c){var d=gV.exec(b.slice(c,c+1));return d?c+d[0].length:-1}function hh(a,b,c){var d=gU.exec(b.slice(c));return d?(a.Q=+d[0],c+d[0].length):-1}function hi(a,b,c){var d=gU.exec(b.slice(c));return d?(a.s=+d[0],c+d[0].length):-1}function hj(a,b){return gX(a.getDate(),b,2)}function hk(a,b){return gX(a.getHours(),b,2)}function hl(a,b){return gX(a.getHours()%12||12,b,2)}function hm(a,b){return gX(1+go.count(gJ(a),a),b,3)}function hn(a,b){return gX(a.getMilliseconds(),b,3)}function ho(a,b){return hn(a,b)+"000"}function hp(a,b){return gX(a.getMonth()+1,b,2)}function hq(a,b){return gX(a.getMinutes(),b,2)}function hr(a,b){return gX(a.getSeconds(),b,2)}function hs(a){var b=a.getDay();return 0===b?7:b}function ht(a,b){return gX(gs.count(gJ(a)-1,a),b,2)}function hu(a){var b=a.getDay();return b>=4||0===b?gw(a):gw.ceil(a)}function hv(a,b){return a=hu(a),gX(gw.count(gJ(a),a)+(4===gJ(a).getDay()),b,2)}function hw(a){return a.getDay()}function hx(a,b){return gX(gt.count(gJ(a)-1,a),b,2)}function hy(a,b){return gX(a.getFullYear()%100,b,2)}function hz(a,b){return gX((a=hu(a)).getFullYear()%100,b,2)}function hA(a,b){return gX(a.getFullYear()%1e4,b,4)}function hB(a,b){var c=a.getDay();return gX((a=c>=4||0===c?gw(a):gw.ceil(a)).getFullYear()%1e4,b,4)}function hC(a){var b=a.getTimezoneOffset();return(b>0?"-":(b*=-1,"+"))+gX(b/60|0,"0",2)+gX(b%60,"0",2)}function hD(a,b){return gX(a.getUTCDate(),b,2)}function hE(a,b){return gX(a.getUTCHours(),b,2)}function hF(a,b){return gX(a.getUTCHours()%12||12,b,2)}function hG(a,b){return gX(1+gp.count(gK(a),a),b,3)}function hH(a,b){return gX(a.getUTCMilliseconds(),b,3)}function hI(a,b){return hH(a,b)+"000"}function hJ(a,b){return gX(a.getUTCMonth()+1,b,2)}function hK(a,b){return gX(a.getUTCMinutes(),b,2)}function hL(a,b){return gX(a.getUTCSeconds(),b,2)}function hM(a){var b=a.getUTCDay();return 0===b?7:b}function hN(a,b){return gX(gA.count(gK(a)-1,a),b,2)}function hO(a){var b=a.getUTCDay();return b>=4||0===b?gE(a):gE.ceil(a)}function hP(a,b){return a=hO(a),gX(gE.count(gK(a),a)+(4===gK(a).getUTCDay()),b,2)}function hQ(a){return a.getUTCDay()}function hR(a,b){return gX(gB.count(gK(a)-1,a),b,2)}function hS(a,b){return gX(a.getUTCFullYear()%100,b,2)}function hT(a,b){return gX((a=hO(a)).getUTCFullYear()%100,b,2)}function hU(a,b){return gX(a.getUTCFullYear()%1e4,b,4)}function hV(a,b){var c=a.getUTCDay();return gX((a=c>=4||0===c?gE(a):gE.ceil(a)).getUTCFullYear()%1e4,b,4)}function hW(){return"+0000"}function hX(){return"%"}function hY(a){return+a}function hZ(a){return Math.floor(a/1e3)}function h$(a){return new Date(a)}function h_(a){return a instanceof Date?+a:+new Date(+a)}function h0(a,b,c,d,e,f,g,h,i,j){var k=fH(),l=k.invert,m=k.domain,n=j(".%L"),o=j(":%S"),p=j("%I:%M"),q=j("%I %p"),r=j("%a %d"),s=j("%b %d"),t=j("%B"),u=j("%Y");function v(a){return(i(a)<a?n:h(a)<a?o:g(a)<a?p:f(a)<a?q:d(a)<a?e(a)<a?r:s:c(a)<a?t:u)(a)}return k.invert=function(a){return new Date(l(a))},k.domain=function(a){return arguments.length?m(Array.from(a,h_)):m().map(h$)},k.ticks=function(b){var c=m();return a(c[0],c[c.length-1],null==b?10:b)},k.tickFormat=function(a,b){return null==b?v:j(b)},k.nice=function(a){var c=m();return a&&"function"==typeof a.range||(a=b(c[0],c[c.length-1],null==a?10:a)),a?m(fV(c,a)):k},k.copy=function(){return fF(k,h0(a,b,c,d,e,f,g,h,i,j))},k}function h1(){return d0.apply(h0(gO,gP,gJ,gH,gs,go,gm,gk,gj,il).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function h2(){return d0.apply(h0(gM,gN,gK,gI,gA,gp,gn,gl,gj,im).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function h3(){var a,b,c,d,e,f=0,g=1,h=fB,i=!1;function j(b){return null==b||isNaN(b*=1)?e:h(0===c?.5:(b=(d(b)-a)*c,i?Math.max(0,Math.min(1,b)):b))}function k(a){return function(b){var c,d;return arguments.length?([c,d]=b,h=a(c,d),j):[h(0),h(1)]}}return j.domain=function(e){return arguments.length?([f,g]=e,a=d(f*=1),b=d(g*=1),c=a===b?0:1/(b-a),j):[f,g]},j.clamp=function(a){return arguments.length?(i=!!a,j):i},j.interpolator=function(a){return arguments.length?(h=a,j):h},j.range=k(fx),j.rangeRound=k(fy),j.unknown=function(a){return arguments.length?(e=a,j):e},function(e){return d=e,a=e(f),b=e(g),c=a===b?0:1/(b-a),j}}function h4(a,b){return b.domain(a.domain()).interpolator(a.interpolator()).clamp(a.clamp()).unknown(a.unknown())}function h5(){var a=f7(h3());return a.copy=function(){return h4(a,h5()).exponent(a.exponent())},d1.apply(a,arguments)}function h6(){return h5.apply(null,arguments).exponent(.5)}function h7(){var a,b,c,d,e,f,g,h=0,i=.5,j=1,k=1,l=fB,m=!1;function n(a){return isNaN(a*=1)?g:(a=.5+((a=+f(a))-b)*(k*a<k*b?d:e),l(m?Math.max(0,Math.min(1,a)):a))}function o(a){return function(b){var c,d,e;return arguments.length?([c,d,e]=b,l=function(a,b){void 0===b&&(b=a,a=fx);for(var c=0,d=b.length-1,e=b[0],f=Array(d<0?0:d);c<d;)f[c]=a(e,e=b[++c]);return function(a){var b=Math.max(0,Math.min(d-1,Math.floor(a*=d)));return f[b](a-b)}}(a,[c,d,e]),n):[l(0),l(.5),l(1)]}}return n.domain=function(g){return arguments.length?([h,i,j]=g,a=f(h*=1),b=f(i*=1),c=f(j*=1),d=a===b?0:.5/(b-a),e=b===c?0:.5/(c-b),k=b<a?-1:1,n):[h,i,j]},n.clamp=function(a){return arguments.length?(m=!!a,n):m},n.interpolator=function(a){return arguments.length?(l=a,n):l},n.range=o(fx),n.rangeRound=o(fy),n.unknown=function(a){return arguments.length?(g=a,n):g},function(g){return f=g,a=g(h),b=g(i),c=g(j),d=a===b?0:.5/(b-a),e=b===c?0:.5/(c-b),k=b<a?-1:1,n}}function h8(){var a=f7(h7());return a.copy=function(){return h4(a,h8()).exponent(a.exponent())},d1.apply(a,arguments)}function h9(){return h8.apply(null,arguments).exponent(.5)}function ia(a,b){if((e=a.length)>1)for(var c,d,e,f=1,g=a[b[0]],h=g.length;f<e;++f)for(d=g,g=a[b[f]],c=0;c<h;++c)g[c][1]+=g[c][0]=isNaN(d[c][1])?d[c][0]:d[c][1]}function ib(a){return"object"==typeof a&&"length"in a?a:Array.from(a)}function ic(a){for(var b=a.length,c=Array(b);--b>=0;)c[b]=b;return c}function id(a,b){return a[b]}function ie(a){let b=[];return b.key=a,b}il=(ik=function(a){var b=a.dateTime,c=a.date,d=a.time,e=a.periods,f=a.days,g=a.shortDays,h=a.months,i=a.shortMonths,j=gZ(e),k=g$(e),l=gZ(f),m=g$(f),n=gZ(g),o=g$(g),p=gZ(h),q=g$(h),r=gZ(i),s=g$(i),t={a:function(a){return g[a.getDay()]},A:function(a){return f[a.getDay()]},b:function(a){return i[a.getMonth()]},B:function(a){return h[a.getMonth()]},c:null,d:hj,e:hj,f:ho,g:hz,G:hB,H:hk,I:hl,j:hm,L:hn,m:hp,M:hq,p:function(a){return e[+(a.getHours()>=12)]},q:function(a){return 1+~~(a.getMonth()/3)},Q:hY,s:hZ,S:hr,u:hs,U:ht,V:hv,w:hw,W:hx,x:null,X:null,y:hy,Y:hA,Z:hC,"%":hX},u={a:function(a){return g[a.getUTCDay()]},A:function(a){return f[a.getUTCDay()]},b:function(a){return i[a.getUTCMonth()]},B:function(a){return h[a.getUTCMonth()]},c:null,d:hD,e:hD,f:hI,g:hT,G:hV,H:hE,I:hF,j:hG,L:hH,m:hJ,M:hK,p:function(a){return e[+(a.getUTCHours()>=12)]},q:function(a){return 1+~~(a.getUTCMonth()/3)},Q:hY,s:hZ,S:hL,u:hM,U:hN,V:hP,w:hQ,W:hR,x:null,X:null,y:hS,Y:hU,Z:hW,"%":hX},v={a:function(a,b,c){var d=n.exec(b.slice(c));return d?(a.w=o.get(d[0].toLowerCase()),c+d[0].length):-1},A:function(a,b,c){var d=l.exec(b.slice(c));return d?(a.w=m.get(d[0].toLowerCase()),c+d[0].length):-1},b:function(a,b,c){var d=r.exec(b.slice(c));return d?(a.m=s.get(d[0].toLowerCase()),c+d[0].length):-1},B:function(a,b,c){var d=p.exec(b.slice(c));return d?(a.m=q.get(d[0].toLowerCase()),c+d[0].length):-1},c:function(a,c,d){return y(a,b,c,d)},d:g9,e:g9,f:hf,g:g5,G:g4,H:hb,I:hb,j:ha,L:he,m:g8,M:hc,p:function(a,b,c){var d=j.exec(b.slice(c));return d?(a.p=k.get(d[0].toLowerCase()),c+d[0].length):-1},q:g7,Q:hh,s:hi,S:hd,u:g0,U:g1,V:g2,w:g_,W:g3,x:function(a,b,d){return y(a,c,b,d)},X:function(a,b,c){return y(a,d,b,c)},y:g5,Y:g4,Z:g6,"%":hg};function w(a,b){return function(c){var d,e,f,g=[],h=-1,i=0,j=a.length;for(c instanceof Date||(c=new Date(+c));++h<j;)37===a.charCodeAt(h)&&(g.push(a.slice(i,h)),null!=(e=gT[d=a.charAt(++h)])?d=a.charAt(++h):e="e"===d?" ":"0",(f=b[d])&&(d=f(c,e)),g.push(d),i=h+1);return g.push(a.slice(i,h)),g.join("")}}function x(a,b){return function(c){var d,e,f=gS(1900,void 0,1);if(y(f,a,c+="",0)!=c.length)return null;if("Q"in f)return new Date(f.Q);if("s"in f)return new Date(1e3*f.s+("L"in f?f.L:0));if(!b||"Z"in f||(f.Z=0),"p"in f&&(f.H=f.H%12+12*f.p),void 0===f.m&&(f.m="q"in f?f.q:0),"V"in f){if(f.V<1||f.V>53)return null;"w"in f||(f.w=1),"Z"in f?(d=(e=(d=gR(gS(f.y,0,1))).getUTCDay())>4||0===e?gB.ceil(d):gB(d),d=gp.offset(d,(f.V-1)*7),f.y=d.getUTCFullYear(),f.m=d.getUTCMonth(),f.d=d.getUTCDate()+(f.w+6)%7):(d=(e=(d=gQ(gS(f.y,0,1))).getDay())>4||0===e?gt.ceil(d):gt(d),d=go.offset(d,(f.V-1)*7),f.y=d.getFullYear(),f.m=d.getMonth(),f.d=d.getDate()+(f.w+6)%7)}else("W"in f||"U"in f)&&("w"in f||(f.w="u"in f?f.u%7:+("W"in f)),e="Z"in f?gR(gS(f.y,0,1)).getUTCDay():gQ(gS(f.y,0,1)).getDay(),f.m=0,f.d="W"in f?(f.w+6)%7+7*f.W-(e+5)%7:f.w+7*f.U-(e+6)%7);return"Z"in f?(f.H+=f.Z/100|0,f.M+=f.Z%100,gR(f)):gQ(f)}}function y(a,b,c,d){for(var e,f,g=0,h=b.length,i=c.length;g<h;){if(d>=i)return -1;if(37===(e=b.charCodeAt(g++))){if(!(f=v[(e=b.charAt(g++))in gT?b.charAt(g++):e])||(d=f(a,c,d))<0)return -1}else if(e!=c.charCodeAt(d++))return -1}return d}return t.x=w(c,t),t.X=w(d,t),t.c=w(b,t),u.x=w(c,u),u.X=w(d,u),u.c=w(b,u),{format:function(a){var b=w(a+="",t);return b.toString=function(){return a},b},parse:function(a){var b=x(a+="",!1);return b.toString=function(){return a},b},utcFormat:function(a){var b=w(a+="",u);return b.toString=function(){return a},b},utcParse:function(a){var b=x(a+="",!0);return b.toString=function(){return a},b}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]})).format,ik.parse,im=ik.utcFormat,ik.utcParse,Array.prototype.slice;var ig,ih,ii,ij,ik,il,im,io,ip,iq=c(57750),ir=c.n(iq),is=c(30940),it=c.n(is),iu=c(1375),iv=c.n(iu),iw=c(57820),ix=c.n(iw),iy=!0,iz="[DecimalError] ",iA=iz+"Invalid argument: ",iB=iz+"Exponent out of range: ",iC=Math.floor,iD=Math.pow,iE=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,iF=iC(1286742750677284.5),iG={};function iH(a,b){var c,d,e,f,g,h,i,j,k=a.constructor,l=k.precision;if(!a.s||!b.s)return b.s||(b=new k(a)),iy?iR(b,l):b;if(i=a.d,j=b.d,g=a.e,e=b.e,i=i.slice(),f=g-e){for(f<0?(d=i,f=-f,h=j.length):(d=j,e=g,h=i.length),f>(h=(g=Math.ceil(l/7))>h?g+1:h+1)&&(f=h,d.length=1),d.reverse();f--;)d.push(0);d.reverse()}for((h=i.length)-(f=j.length)<0&&(f=h,d=j,j=i,i=d),c=0;f;)c=(i[--f]=i[f]+j[f]+c)/1e7|0,i[f]%=1e7;for(c&&(i.unshift(c),++e),h=i.length;0==i[--h];)i.pop();return b.d=i,b.e=e,iy?iR(b,l):b}function iI(a,b,c){if(a!==~~a||a<b||a>c)throw Error(iA+a)}function iJ(a){var b,c,d,e=a.length-1,f="",g=a[0];if(e>0){for(f+=g,b=1;b<e;b++)(c=7-(d=a[b]+"").length)&&(f+=iO(c)),f+=d;(c=7-(d=(g=a[b])+"").length)&&(f+=iO(c))}else if(0===g)return"0";for(;g%10==0;)g/=10;return f+g}iG.absoluteValue=iG.abs=function(){var a=new this.constructor(this);return a.s&&(a.s=1),a},iG.comparedTo=iG.cmp=function(a){var b,c,d,e;if(a=new this.constructor(a),this.s!==a.s)return this.s||-a.s;if(this.e!==a.e)return this.e>a.e^this.s<0?1:-1;for(b=0,c=(d=this.d.length)<(e=a.d.length)?d:e;b<c;++b)if(this.d[b]!==a.d[b])return this.d[b]>a.d[b]^this.s<0?1:-1;return d===e?0:d>e^this.s<0?1:-1},iG.decimalPlaces=iG.dp=function(){var a=this.d.length-1,b=(a-this.e)*7;if(a=this.d[a])for(;a%10==0;a/=10)b--;return b<0?0:b},iG.dividedBy=iG.div=function(a){return iK(this,new this.constructor(a))},iG.dividedToIntegerBy=iG.idiv=function(a){var b=this.constructor;return iR(iK(this,new b(a),0,1),b.precision)},iG.equals=iG.eq=function(a){return!this.cmp(a)},iG.exponent=function(){return iM(this)},iG.greaterThan=iG.gt=function(a){return this.cmp(a)>0},iG.greaterThanOrEqualTo=iG.gte=function(a){return this.cmp(a)>=0},iG.isInteger=iG.isint=function(){return this.e>this.d.length-2},iG.isNegative=iG.isneg=function(){return this.s<0},iG.isPositive=iG.ispos=function(){return this.s>0},iG.isZero=function(){return 0===this.s},iG.lessThan=iG.lt=function(a){return 0>this.cmp(a)},iG.lessThanOrEqualTo=iG.lte=function(a){return 1>this.cmp(a)},iG.logarithm=iG.log=function(a){var b,c=this.constructor,d=c.precision,e=d+5;if(void 0===a)a=new c(10);else if((a=new c(a)).s<1||a.eq(ip))throw Error(iz+"NaN");if(this.s<1)throw Error(iz+(this.s?"NaN":"-Infinity"));return this.eq(ip)?new c(0):(iy=!1,b=iK(iP(this,e),iP(a,e),e),iy=!0,iR(b,d))},iG.minus=iG.sub=function(a){return a=new this.constructor(a),this.s==a.s?iS(this,a):iH(this,(a.s=-a.s,a))},iG.modulo=iG.mod=function(a){var b,c=this.constructor,d=c.precision;if(!(a=new c(a)).s)throw Error(iz+"NaN");return this.s?(iy=!1,b=iK(this,a,0,1).times(a),iy=!0,this.minus(b)):iR(new c(this),d)},iG.naturalExponential=iG.exp=function(){return iL(this)},iG.naturalLogarithm=iG.ln=function(){return iP(this)},iG.negated=iG.neg=function(){var a=new this.constructor(this);return a.s=-a.s||0,a},iG.plus=iG.add=function(a){return a=new this.constructor(a),this.s==a.s?iH(this,a):iS(this,(a.s=-a.s,a))},iG.precision=iG.sd=function(a){var b,c,d;if(void 0!==a&&!!a!==a&&1!==a&&0!==a)throw Error(iA+a);if(b=iM(this)+1,c=7*(d=this.d.length-1)+1,d=this.d[d]){for(;d%10==0;d/=10)c--;for(d=this.d[0];d>=10;d/=10)c++}return a&&b>c?b:c},iG.squareRoot=iG.sqrt=function(){var a,b,c,d,e,f,g,h=this.constructor;if(this.s<1){if(!this.s)return new h(0);throw Error(iz+"NaN")}for(a=iM(this),iy=!1,0==(e=Math.sqrt(+this))||e==1/0?(((b=iJ(this.d)).length+a)%2==0&&(b+="0"),e=Math.sqrt(b),a=iC((a+1)/2)-(a<0||a%2),d=new h(b=e==1/0?"5e"+a:(b=e.toExponential()).slice(0,b.indexOf("e")+1)+a)):d=new h(e.toString()),e=g=(c=h.precision)+3;;)if(d=(f=d).plus(iK(this,f,g+2)).times(.5),iJ(f.d).slice(0,g)===(b=iJ(d.d)).slice(0,g)){if(b=b.slice(g-3,g+1),e==g&&"4999"==b){if(iR(f,c+1,0),f.times(f).eq(this)){d=f;break}}else if("9999"!=b)break;g+=4}return iy=!0,iR(d,c)},iG.times=iG.mul=function(a){var b,c,d,e,f,g,h,i,j,k=this.constructor,l=this.d,m=(a=new k(a)).d;if(!this.s||!a.s)return new k(0);for(a.s*=this.s,c=this.e+a.e,(i=l.length)<(j=m.length)&&(f=l,l=m,m=f,g=i,i=j,j=g),f=[],d=g=i+j;d--;)f.push(0);for(d=j;--d>=0;){for(b=0,e=i+d;e>d;)h=f[e]+m[d]*l[e-d-1]+b,f[e--]=h%1e7|0,b=h/1e7|0;f[e]=(f[e]+b)%1e7|0}for(;!f[--g];)f.pop();return b?++c:f.shift(),a.d=f,a.e=c,iy?iR(a,k.precision):a},iG.toDecimalPlaces=iG.todp=function(a,b){var c=this,d=c.constructor;return(c=new d(c),void 0===a)?c:(iI(a,0,1e9),void 0===b?b=d.rounding:iI(b,0,8),iR(c,a+iM(c)+1,b))},iG.toExponential=function(a,b){var c,d=this,e=d.constructor;return void 0===a?c=iT(d,!0):(iI(a,0,1e9),void 0===b?b=e.rounding:iI(b,0,8),c=iT(d=iR(new e(d),a+1,b),!0,a+1)),c},iG.toFixed=function(a,b){var c,d,e=this.constructor;return void 0===a?iT(this):(iI(a,0,1e9),void 0===b?b=e.rounding:iI(b,0,8),c=iT((d=iR(new e(this),a+iM(this)+1,b)).abs(),!1,a+iM(d)+1),this.isneg()&&!this.isZero()?"-"+c:c)},iG.toInteger=iG.toint=function(){var a=this.constructor;return iR(new a(this),iM(this)+1,a.rounding)},iG.toNumber=function(){return+this},iG.toPower=iG.pow=function(a){var b,c,d,e,f,g,h=this,i=h.constructor,j=+(a=new i(a));if(!a.s)return new i(ip);if(!(h=new i(h)).s){if(a.s<1)throw Error(iz+"Infinity");return h}if(h.eq(ip))return h;if(d=i.precision,a.eq(ip))return iR(h,d);if(g=(b=a.e)>=(c=a.d.length-1),f=h.s,g){if((c=j<0?-j:j)<=0x1fffffffffffff){for(e=new i(ip),b=Math.ceil(d/7+4),iy=!1;c%2&&iU((e=e.times(h)).d,b),0!==(c=iC(c/2));)iU((h=h.times(h)).d,b);return iy=!0,a.s<0?new i(ip).div(e):iR(e,d)}}else if(f<0)throw Error(iz+"NaN");return f=f<0&&1&a.d[Math.max(b,c)]?-1:1,h.s=1,iy=!1,e=a.times(iP(h,d+12)),iy=!0,(e=iL(e)).s=f,e},iG.toPrecision=function(a,b){var c,d,e=this,f=e.constructor;return void 0===a?(c=iM(e),d=iT(e,c<=f.toExpNeg||c>=f.toExpPos)):(iI(a,1,1e9),void 0===b?b=f.rounding:iI(b,0,8),c=iM(e=iR(new f(e),a,b)),d=iT(e,a<=c||c<=f.toExpNeg,a)),d},iG.toSignificantDigits=iG.tosd=function(a,b){var c=this.constructor;return void 0===a?(a=c.precision,b=c.rounding):(iI(a,1,1e9),void 0===b?b=c.rounding:iI(b,0,8)),iR(new c(this),a,b)},iG.toString=iG.valueOf=iG.val=iG.toJSON=iG[Symbol.for("nodejs.util.inspect.custom")]=function(){var a=iM(this),b=this.constructor;return iT(this,a<=b.toExpNeg||a>=b.toExpPos)};var iK=function(){function a(a,b){var c,d=0,e=a.length;for(a=a.slice();e--;)c=a[e]*b+d,a[e]=c%1e7|0,d=c/1e7|0;return d&&a.unshift(d),a}function b(a,b,c,d){var e,f;if(c!=d)f=c>d?1:-1;else for(e=f=0;e<c;e++)if(a[e]!=b[e]){f=a[e]>b[e]?1:-1;break}return f}function c(a,b,c){for(var d=0;c--;)a[c]-=d,d=+(a[c]<b[c]),a[c]=1e7*d+a[c]-b[c];for(;!a[0]&&a.length>1;)a.shift()}return function(d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z=d.constructor,A=d.s==e.s?1:-1,B=d.d,C=e.d;if(!d.s)return new z(d);if(!e.s)throw Error(iz+"Division by zero");for(j=0,i=d.e-e.e,x=C.length,v=B.length,o=(n=new z(A)).d=[];C[j]==(B[j]||0);)++j;if(C[j]>(B[j]||0)&&--i,(s=null==f?f=z.precision:g?f+(iM(d)-iM(e))+1:f)<0)return new z(0);if(s=s/7+2|0,j=0,1==x)for(k=0,C=C[0],s++;(j<v||k)&&s--;j++)t=1e7*k+(B[j]||0),o[j]=t/C|0,k=t%C|0;else{for((k=1e7/(C[0]+1)|0)>1&&(C=a(C,k),B=a(B,k),x=C.length,v=B.length),u=x,q=(p=B.slice(0,x)).length;q<x;)p[q++]=0;(y=C.slice()).unshift(0),w=C[0],C[1]>=1e7/2&&++w;do k=0,(h=b(C,p,x,q))<0?(r=p[0],x!=q&&(r=1e7*r+(p[1]||0)),(k=r/w|0)>1?(k>=1e7&&(k=1e7-1),m=(l=a(C,k)).length,q=p.length,1==(h=b(l,p,m,q))&&(k--,c(l,x<m?y:C,m))):(0==k&&(h=k=1),l=C.slice()),(m=l.length)<q&&l.unshift(0),c(p,l,q),-1==h&&(q=p.length,(h=b(C,p,x,q))<1&&(k++,c(p,x<q?y:C,q))),q=p.length):0===h&&(k++,p=[0]),o[j++]=k,h&&p[0]?p[q++]=B[u]||0:(p=[B[u]],q=1);while((u++<v||void 0!==p[0])&&s--)}return o[0]||o.shift(),n.e=i,iR(n,g?f+iM(n)+1:f)}}();function iL(a,b){var c,d,e,f,g,h=0,i=0,j=a.constructor,k=j.precision;if(iM(a)>16)throw Error(iB+iM(a));if(!a.s)return new j(ip);for(null==b?(iy=!1,g=k):g=b,f=new j(.03125);a.abs().gte(.1);)a=a.times(f),i+=5;for(g+=Math.log(iD(2,i))/Math.LN10*2+5|0,c=d=e=new j(ip),j.precision=g;;){if(d=iR(d.times(a),g),c=c.times(++h),iJ((f=e.plus(iK(d,c,g))).d).slice(0,g)===iJ(e.d).slice(0,g)){for(;i--;)e=iR(e.times(e),g);return j.precision=k,null==b?(iy=!0,iR(e,k)):e}e=f}}function iM(a){for(var b=7*a.e,c=a.d[0];c>=10;c/=10)b++;return b}function iN(a,b,c){if(b>a.LN10.sd())throw iy=!0,c&&(a.precision=c),Error(iz+"LN10 precision limit exceeded");return iR(new a(a.LN10),b)}function iO(a){for(var b="";a--;)b+="0";return b}function iP(a,b){var c,d,e,f,g,h,i,j,k,l=1,m=a,n=m.d,o=m.constructor,p=o.precision;if(m.s<1)throw Error(iz+(m.s?"NaN":"-Infinity"));if(m.eq(ip))return new o(0);if(null==b?(iy=!1,j=p):j=b,m.eq(10))return null==b&&(iy=!0),iN(o,j);if(o.precision=j+=10,d=(c=iJ(n)).charAt(0),!(15e14>Math.abs(f=iM(m))))return i=iN(o,j+2,p).times(f+""),m=iP(new o(d+"."+c.slice(1)),j-10).plus(i),o.precision=p,null==b?(iy=!0,iR(m,p)):m;for(;d<7&&1!=d||1==d&&c.charAt(1)>3;)d=(c=iJ((m=m.times(a)).d)).charAt(0),l++;for(f=iM(m),d>1?(m=new o("0."+c),f++):m=new o(d+"."+c.slice(1)),h=g=m=iK(m.minus(ip),m.plus(ip),j),k=iR(m.times(m),j),e=3;;){if(g=iR(g.times(k),j),iJ((i=h.plus(iK(g,new o(e),j))).d).slice(0,j)===iJ(h.d).slice(0,j))return h=h.times(2),0!==f&&(h=h.plus(iN(o,j+2,p).times(f+""))),h=iK(h,new o(l),j),o.precision=p,null==b?(iy=!0,iR(h,p)):h;h=i,e+=2}}function iQ(a,b){var c,d,e;for((c=b.indexOf("."))>-1&&(b=b.replace(".","")),(d=b.search(/e/i))>0?(c<0&&(c=d),c+=+b.slice(d+1),b=b.substring(0,d)):c<0&&(c=b.length),d=0;48===b.charCodeAt(d);)++d;for(e=b.length;48===b.charCodeAt(e-1);)--e;if(b=b.slice(d,e)){if(e-=d,a.e=iC((c=c-d-1)/7),a.d=[],d=(c+1)%7,c<0&&(d+=7),d<e){for(d&&a.d.push(+b.slice(0,d)),e-=7;d<e;)a.d.push(+b.slice(d,d+=7));d=7-(b=b.slice(d)).length}else d-=e;for(;d--;)b+="0";if(a.d.push(+b),iy&&(a.e>iF||a.e<-iF))throw Error(iB+c)}else a.s=0,a.e=0,a.d=[0];return a}function iR(a,b,c){var d,e,f,g,h,i,j,k,l=a.d;for(g=1,f=l[0];f>=10;f/=10)g++;if((d=b-g)<0)d+=7,e=b,j=l[k=0];else{if((k=Math.ceil((d+1)/7))>=(f=l.length))return a;for(g=1,j=f=l[k];f>=10;f/=10)g++;d%=7,e=d-7+g}if(void 0!==c&&(h=j/(f=iD(10,g-e-1))%10|0,i=b<0||void 0!==l[k+1]||j%f,i=c<4?(h||i)&&(0==c||c==(a.s<0?3:2)):h>5||5==h&&(4==c||i||6==c&&(d>0?e>0?j/iD(10,g-e):0:l[k-1])%10&1||c==(a.s<0?8:7))),b<1||!l[0])return i?(f=iM(a),l.length=1,b=b-f-1,l[0]=iD(10,(7-b%7)%7),a.e=iC(-b/7)||0):(l.length=1,l[0]=a.e=a.s=0),a;if(0==d?(l.length=k,f=1,k--):(l.length=k+1,f=iD(10,7-d),l[k]=e>0?(j/iD(10,g-e)%iD(10,e)|0)*f:0),i)for(;;)if(0==k){1e7==(l[0]+=f)&&(l[0]=1,++a.e);break}else{if(l[k]+=f,1e7!=l[k])break;l[k--]=0,f=1}for(d=l.length;0===l[--d];)l.pop();if(iy&&(a.e>iF||a.e<-iF))throw Error(iB+iM(a));return a}function iS(a,b){var c,d,e,f,g,h,i,j,k,l,m=a.constructor,n=m.precision;if(!a.s||!b.s)return b.s?b.s=-b.s:b=new m(a),iy?iR(b,n):b;if(i=a.d,l=b.d,d=b.e,j=a.e,i=i.slice(),g=j-d){for((k=g<0)?(c=i,g=-g,h=l.length):(c=l,d=j,h=i.length),g>(e=Math.max(Math.ceil(n/7),h)+2)&&(g=e,c.length=1),c.reverse(),e=g;e--;)c.push(0);c.reverse()}else{for((k=(e=i.length)<(h=l.length))&&(h=e),e=0;e<h;e++)if(i[e]!=l[e]){k=i[e]<l[e];break}g=0}for(k&&(c=i,i=l,l=c,b.s=-b.s),h=i.length,e=l.length-h;e>0;--e)i[h++]=0;for(e=l.length;e>g;){if(i[--e]<l[e]){for(f=e;f&&0===i[--f];)i[f]=1e7-1;--i[f],i[e]+=1e7}i[e]-=l[e]}for(;0===i[--h];)i.pop();for(;0===i[0];i.shift())--d;return i[0]?(b.d=i,b.e=d,iy?iR(b,n):b):new m(0)}function iT(a,b,c){var d,e=iM(a),f=iJ(a.d),g=f.length;return b?(c&&(d=c-g)>0?f=f.charAt(0)+"."+f.slice(1)+iO(d):g>1&&(f=f.charAt(0)+"."+f.slice(1)),f=f+(e<0?"e":"e+")+e):e<0?(f="0."+iO(-e-1)+f,c&&(d=c-g)>0&&(f+=iO(d))):e>=g?(f+=iO(e+1-g),c&&(d=c-e-1)>0&&(f=f+"."+iO(d))):((d=e+1)<g&&(f=f.slice(0,d)+"."+f.slice(d)),c&&(d=c-g)>0&&(e+1===g&&(f+="."),f+=iO(d))),a.s<0?"-"+f:f}function iU(a,b){if(a.length>b)return a.length=b,!0}function iV(a){if(!a||"object"!=typeof a)throw Error(iz+"Object expected");var b,c,d,e=["precision",1,1e9,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(b=0;b<e.length;b+=3)if(void 0!==(d=a[c=e[b]]))if(iC(d)===d&&d>=e[b+1]&&d<=e[b+2])this[c]=d;else throw Error(iA+c+": "+d);if(void 0!==(d=a[c="LN10"]))if(d==Math.LN10)this[c]=new this(d);else throw Error(iA+c+": "+d);return this}var io=function a(b){var c,d,e;function f(a){if(!(this instanceof f))return new f(a);if(this.constructor=f,a instanceof f){this.s=a.s,this.e=a.e,this.d=(a=a.d)?a.slice():a;return}if("number"==typeof a){if(0*a!=0)throw Error(iA+a);if(a>0)this.s=1;else if(a<0)a=-a,this.s=-1;else{this.s=0,this.e=0,this.d=[0];return}if(a===~~a&&a<1e7){this.e=0,this.d=[a];return}return iQ(this,a.toString())}if("string"!=typeof a)throw Error(iA+a);if(45===a.charCodeAt(0)?(a=a.slice(1),this.s=-1):this.s=1,iE.test(a))iQ(this,a);else throw Error(iA+a)}if(f.prototype=iG,f.ROUND_UP=0,f.ROUND_DOWN=1,f.ROUND_CEIL=2,f.ROUND_FLOOR=3,f.ROUND_HALF_UP=4,f.ROUND_HALF_DOWN=5,f.ROUND_HALF_EVEN=6,f.ROUND_HALF_CEIL=7,f.ROUND_HALF_FLOOR=8,f.clone=a,f.config=f.set=iV,void 0===b&&(b={}),b)for(c=0,e=["precision","rounding","toExpNeg","toExpPos","LN10"];c<e.length;)b.hasOwnProperty(d=e[c++])||(b[d]=this[d]);return f.config(b),f}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});ip=new io(1);let iW=io;function iX(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var iY=function(a){return a},iZ={},i$=function(a){return a===iZ},i_=function(a){return function b(){return 0==arguments.length||1==arguments.length&&i$(arguments.length<=0?void 0:arguments[0])?b:a.apply(void 0,arguments)}},i0=function(a){return function a(b,c){return 1===b?c:i_(function(){for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];var g=e.filter(function(a){return a!==iZ}).length;return g>=b?c.apply(void 0,e):a(b-g,i_(function(){for(var a=arguments.length,b=Array(a),d=0;d<a;d++)b[d]=arguments[d];var f=e.map(function(a){return i$(a)?b.shift():a});return c.apply(void 0,((function(a){if(Array.isArray(a))return iX(a)})(f)||function(a){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a))return Array.from(a)}(f)||function(a,b){if(a){if("string"==typeof a)return iX(a,void 0);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return iX(a,b)}}(f)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat(b))}))})}(a.length,a)},i1=function(a,b){for(var c=[],d=a;d<b;++d)c[d-a]=d;return c},i2=i0(function(a,b){return Array.isArray(b)?b.map(a):Object.keys(b).map(function(a){return b[a]}).map(a)}),i3=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];if(!b.length)return iY;var d=b.reverse(),e=d[0],f=d.slice(1);return function(){return f.reduce(function(a,b){return b(a)},e.apply(void 0,arguments))}},i4=function(a){return Array.isArray(a)?a.reverse():a.split("").reverse.join("")},i5=function(a){var b=null,c=null;return function(){for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return b&&e.every(function(a,c){return a===b[c]})?c:(b=e,c=a.apply(void 0,e))}};i0(function(a,b,c){var d=+a;return d+c*(b-d)}),i0(function(a,b,c){var d=b-a;return(c-a)/(d=d||1/0)}),i0(function(a,b,c){var d=b-a;return Math.max(0,Math.min(1,(c-a)/(d=d||1/0)))});let i6={rangeStep:function(a,b,c){for(var d=new iW(a),e=0,f=[];d.lt(b)&&e<1e5;)f.push(d.toNumber()),d=d.add(c),e++;return f},getDigitCount:function(a){return 0===a?1:Math.floor(new iW(a).abs().log(10).toNumber())+1}};function i7(a){return function(a){if(Array.isArray(a))return ja(a)}(a)||function(a){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a))return Array.from(a)}(a)||i9(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i8(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a)){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h.return||h.return()}finally{if(e)throw f}}return c}}(a,b)||i9(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i9(a,b){if(a){if("string"==typeof a)return ja(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return ja(a,b)}}function ja(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function jb(a){var b=i8(a,2),c=b[0],d=b[1],e=c,f=d;return c>d&&(e=d,f=c),[e,f]}function jc(a,b,c){if(a.lte(0))return new iW(0);var d=i6.getDigitCount(a.toNumber()),e=new iW(10).pow(d),f=a.div(e),g=1!==d?.05:.1,h=new iW(Math.ceil(f.div(g).toNumber())).add(c).mul(g).mul(e);return b?h:new iW(Math.ceil(h))}function jd(a,b,c){var d=1,e=new iW(a);if(!e.isint()&&c){var f=Math.abs(a);f<1?(d=new iW(10).pow(i6.getDigitCount(a)-1),e=new iW(Math.floor(e.div(d).toNumber())).mul(d)):f>1&&(e=new iW(Math.floor(a)))}else 0===a?e=new iW(Math.floor((b-1)/2)):c||(e=new iW(Math.floor(a)));var g=Math.floor((b-1)/2);return i3(i2(function(a){return e.add(new iW(a-g).mul(d)).toNumber()}),i1)(0,b)}var je=i5(function(a){var b=i8(a,2),c=b[0],d=b[1],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,f=!(arguments.length>2)||void 0===arguments[2]||arguments[2],g=Math.max(e,2),h=i8(jb([c,d]),2),i=h[0],j=h[1];if(i===-1/0||j===1/0){var k=j===1/0?[i].concat(i7(i1(0,e-1).map(function(){return 1/0}))):[].concat(i7(i1(0,e-1).map(function(){return-1/0})),[j]);return c>d?i4(k):k}if(i===j)return jd(i,e,f);var l=function a(b,c,d,e){var f,g=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((c-b)/(d-1)))return{step:new iW(0),tickMin:new iW(0),tickMax:new iW(0)};var h=jc(new iW(c).sub(b).div(d-1),e,g),i=Math.ceil((f=b<=0&&c>=0?new iW(0):(f=new iW(b).add(c).div(2)).sub(new iW(f).mod(h))).sub(b).div(h).toNumber()),j=Math.ceil(new iW(c).sub(f).div(h).toNumber()),k=i+j+1;return k>d?a(b,c,d,e,g+1):(k<d&&(j=c>0?j+(d-k):j,i=c>0?i:i+(d-k)),{step:h,tickMin:f.sub(new iW(i).mul(h)),tickMax:f.add(new iW(j).mul(h))})}(i,j,g,f),m=l.step,n=l.tickMin,o=l.tickMax,p=i6.rangeStep(n,o.add(new iW(.1).mul(m)),m);return c>d?i4(p):p});i5(function(a){var b=i8(a,2),c=b[0],d=b[1],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,f=!(arguments.length>2)||void 0===arguments[2]||arguments[2],g=Math.max(e,2),h=i8(jb([c,d]),2),i=h[0],j=h[1];if(i===-1/0||j===1/0)return[c,d];if(i===j)return jd(i,e,f);var k=jc(new iW(j).sub(i).div(g-1),f,0),l=i3(i2(function(a){return new iW(i).add(new iW(a).mul(k)).toNumber()}),i1)(0,g).filter(function(a){return a>=i&&a<=j});return c>d?i4(l):l});var jf=i5(function(a,b){var c=i8(a,2),d=c[0],e=c[1],f=!(arguments.length>2)||void 0===arguments[2]||arguments[2],g=i8(jb([d,e]),2),h=g[0],i=g[1];if(h===-1/0||i===1/0)return[d,e];if(h===i)return[h];var j=Math.max(b,2),k=jc(new iW(i).sub(h).div(j-1),f,0),l=[].concat(i7(i6.rangeStep(new iW(h),new iW(i).sub(new iW(.99).mul(k)),k)),[i]);return d>e?i4(l):l}),jg=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function jh(a){return(jh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function ji(){return(ji=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function jj(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function jk(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(jk=function(){return!!a})()}function jl(a){return(jl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function jm(a,b){return(jm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function jn(a,b,c){return(b=jo(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function jo(a){var b=function(a,b){if("object"!=jh(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=jh(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==jh(b)?b:b+""}var jp=function(a){var b;function c(){var a,b;if(!(this instanceof c))throw TypeError("Cannot call a class as a function");return a=c,b=arguments,a=jl(a),function(a,b){if(b&&("object"===jh(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,jk()?Reflect.construct(a,b||[],jl(this).constructor):a.apply(this,b))}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),a&&jm(c,a),b=[{key:"render",value:function(){var a=this.props,b=a.offset,c=a.layout,d=a.width,e=a.dataKey,f=a.data,g=a.dataPointFormatter,h=a.xAxis,i=a.yAxis,j=aY(function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,jg),!1);"x"===this.props.direction&&"number"!==h.type&&ba(!1);var k=f.map(function(a){var f,k,l=g(a,e),m=l.x,n=l.y,o=l.value,p=l.errorVal;if(!p)return null;var q=[];if(Array.isArray(p)){var r=function(a){if(Array.isArray(a))return a}(p)||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{f=(c=c.call(a)).next,!1;for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(p,2)||function(a,b){if(a){if("string"==typeof a)return jj(a,2);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return jj(a,b)}}(p,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();f=r[0],k=r[1]}else f=k=p;if("vertical"===c){var t=h.scale,u=n+b,v=u+d,w=u-d,x=t(o-f),y=t(o+k);q.push({x1:y,y1:v,x2:y,y2:w}),q.push({x1:x,y1:u,x2:y,y2:u}),q.push({x1:x,y1:v,x2:x,y2:w})}else if("horizontal"===c){var z=i.scale,A=m+b,B=A-d,C=A+d,D=z(o-f),E=z(o+k);q.push({x1:B,y1:E,x2:C,y2:E}),q.push({x1:A,y1:D,x2:A,y2:E}),q.push({x1:B,y1:D,x2:C,y2:D})}return s().createElement(bg,ji({className:"recharts-errorBar",key:"bar-".concat(q.map(function(a){return"".concat(a.x1,"-").concat(a.x2,"-").concat(a.y1,"-").concat(a.y2)}))},j),q.map(function(a){return s().createElement("line",ji({},a,{key:"line-".concat(a.x1,"-").concat(a.x2,"-").concat(a.y1,"-").concat(a.y2)}))}))});return s().createElement(bg,{className:"recharts-errorBars"},k)}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,jo(d.key),d)}}(c.prototype,b),Object.defineProperty(c,"prototype",{writable:!1}),c}(s().Component);function jq(a){return(jq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function jr(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function js(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?jr(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=jq(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=jq(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==jq(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):jr(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}jn(jp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),jn(jp,"displayName","ErrorBar");var jt=function(a){var b,c=a.children,d=a.formattedGraphicalItems,e=a.legendWidth,f=a.legendContent,g=aU(c,cF);if(!g)return null;var h=cF.defaultProps,i=void 0!==h?js(js({},h),g.props):{};return b=g.props&&g.props.payload?g.props&&g.props.payload:"children"===f?(d||[]).reduce(function(a,b){var c=b.item,d=b.props,e=d.sectors||d.data||[];return a.concat(e.map(function(a){return{type:g.props.iconType||c.props.legendType,value:a.name,color:a.fill,payload:a}}))},[]):(d||[]).map(function(a){var b=a.item,c=b.type.defaultProps,d=void 0!==c?js(js({},c),b.props):{},e=d.dataKey,f=d.name,g=d.legendType;return{inactive:d.hide,dataKey:e,type:i.iconType||g||"square",color:jD(b),value:f||e,payload:d}}),js(js(js({},i),cF.getWithHeight(g,e)),{},{payload:b,item:g})};function ju(a){return(ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function jv(a){return function(a){if(Array.isArray(a))return jw(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function(a,b){if(a){if("string"==typeof a)return jw(a,void 0);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return jw(a,b)}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jw(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function jx(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function jy(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?jx(Object(c),!0).forEach(function(b){jz(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):jx(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function jz(a,b,c){var d;return(d=function(a,b){if("object"!=ju(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=ju(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"),(b="symbol"==ju(d)?d:d+"")in a)?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function jA(a,b,c){return aj()(a)||aj()(b)?c:an(b)?af()(a,b,c):ay()(b)?b(a):c}function jB(a,b,c,d){var e=iv()(a,function(a){return jA(a,b)});if("number"===c){var f=e.filter(function(a){return am(a)||parseFloat(a)});return f.length?[it()(f),ir()(f)]:[1/0,-1/0]}return(d?e.filter(function(a){return!aj()(a)}):e).map(function(a){return an(a)||a instanceof Date?a:""})}var jC=function(a){var b,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],d=arguments.length>2?arguments[2]:void 0,e=arguments.length>3?arguments[3]:void 0,f=-1,g=null!=(b=null==c?void 0:c.length)?b:0;if(g<=1)return 0;if(e&&"angleAxis"===e.axisType&&1e-6>=Math.abs(Math.abs(e.range[1]-e.range[0])-360))for(var h=e.range,i=0;i<g;i++){var j=i>0?d[i-1].coordinate:d[g-1].coordinate,k=d[i].coordinate,l=i>=g-1?d[0].coordinate:d[i+1].coordinate,m=void 0;if(ak(k-j)!==ak(l-k)){var n=[];if(ak(l-k)===ak(h[1]-h[0])){m=l;var o=k+h[1]-h[0];n[0]=Math.min(o,(o+j)/2),n[1]=Math.max(o,(o+j)/2)}else{m=j;var p=l+h[1]-h[0];n[0]=Math.min(k,(p+k)/2),n[1]=Math.max(k,(p+k)/2)}var q=[Math.min(k,(m+k)/2),Math.max(k,(m+k)/2)];if(a>q[0]&&a<=q[1]||a>=n[0]&&a<=n[1]){f=d[i].index;break}}else{var r=Math.min(j,l),s=Math.max(j,l);if(a>(r+k)/2&&a<=(s+k)/2){f=d[i].index;break}}}else for(var t=0;t<g;t++)if(0===t&&a<=(c[t].coordinate+c[t+1].coordinate)/2||t>0&&t<g-1&&a>(c[t].coordinate+c[t-1].coordinate)/2&&a<=(c[t].coordinate+c[t+1].coordinate)/2||t===g-1&&a>(c[t].coordinate+c[t-1].coordinate)/2){f=c[t].index;break}return f},jD=function(a){var b,c,d=a.type.displayName,e=null!=(b=a.type)&&b.defaultProps?jy(jy({},a.type.defaultProps),a.props):a.props,f=e.stroke,g=e.fill;switch(d){case"Line":c=f;break;case"Area":case"Radar":c=f&&"none"!==f?f:g;break;default:c=g}return c},jE=function(a){var b=a.barSize,c=a.totalSize,d=a.stackGroups,e=void 0===d?{}:d;if(!e)return{};for(var f={},g=Object.keys(e),h=0,i=g.length;h<i;h++)for(var j=e[g[h]].stackGroups,k=Object.keys(j),l=0,m=k.length;l<m;l++){var n=j[k[l]],o=n.items,p=n.cateAxisId,q=o.filter(function(a){return aP(a.type).indexOf("Bar")>=0});if(q&&q.length){var r=q[0].type.defaultProps,s=void 0!==r?jy(jy({},r),q[0].props):q[0].props,t=s.barSize,u=s[p];f[u]||(f[u]=[]);var v=aj()(t)?b:t;f[u].push({item:q[0],stackList:q.slice(1),barSize:aj()(v)?void 0:aq(v,c,0)})}}return f},jF=function(a){var b,c=a.barGap,d=a.barCategoryGap,e=a.bandSize,f=a.sizeList,g=void 0===f?[]:f,h=a.maxBarSize,i=g.length;if(i<1)return null;var j=aq(c,e,0,!0),k=[];if(g[0].barSize===+g[0].barSize){var l=!1,m=e/i,n=g.reduce(function(a,b){return a+b.barSize||0},0);(n+=(i-1)*j)>=e&&(n-=(i-1)*j,j=0),n>=e&&m>0&&(l=!0,m*=.9,n=i*m);var o={offset:((e-n)/2|0)-j,size:0};b=g.reduce(function(a,b){var c={item:b.item,position:{offset:o.offset+o.size+j,size:l?m:b.barSize}},d=[].concat(jv(a),[c]);return o=d[d.length-1].position,b.stackList&&b.stackList.length&&b.stackList.forEach(function(a){d.push({item:a,position:o})}),d},k)}else{var p=aq(d,e,0,!0);e-2*p-(i-1)*j<=0&&(j=0);var q=(e-2*p-(i-1)*j)/i;q>1&&(q>>=0);var r=h===+h?Math.min(q,h):q;b=g.reduce(function(a,b,c){var d=[].concat(jv(a),[{item:b.item,position:{offset:p+(q+j)*c+(q-r)/2,size:r}}]);return b.stackList&&b.stackList.length&&b.stackList.forEach(function(a){d.push({item:a,position:d[d.length-1].position})}),d},k)}return b},jG=function(a,b,c,d){var e=c.children,f=c.width,g=c.margin,h=jt({children:e,legendWidth:f-(g.left||0)-(g.right||0)});if(h){var i=d||{},j=i.width,k=i.height,l=h.align,m=h.verticalAlign,n=h.layout;if(("vertical"===n||"horizontal"===n&&"middle"===m)&&"center"!==l&&am(a[l]))return jy(jy({},a),{},jz({},l,a[l]+(j||0)));if(("horizontal"===n||"vertical"===n&&"center"===l)&&"middle"!==m&&am(a[m]))return jy(jy({},a),{},jz({},m,a[m]+(k||0)))}return a},jH=function(a,b,c,d,e){var f=aT(b.props.children,jp).filter(function(a){var b;return b=a.props.direction,!!aj()(e)||("horizontal"===d?"yAxis"===e:"vertical"===d||"x"===b?"xAxis"===e:"y"!==b||"yAxis"===e)});if(f&&f.length){var g=f.map(function(a){return a.props.dataKey});return a.reduce(function(a,b){var d=jA(b,c);if(aj()(d))return a;var e=Array.isArray(d)?[it()(d),ir()(d)]:[d,d],f=g.reduce(function(a,c){var d=jA(b,c,0),f=e[0]-Math.abs(Array.isArray(d)?d[0]:d),g=e[1]+Math.abs(Array.isArray(d)?d[1]:d);return[Math.min(f,a[0]),Math.max(g,a[1])]},[1/0,-1/0]);return[Math.min(f[0],a[0]),Math.max(f[1],a[1])]},[1/0,-1/0])}return null},jI=function(a,b,c,d,e){var f=b.map(function(b){return jH(a,b,c,e,d)}).filter(function(a){return!aj()(a)});return f&&f.length?f.reduce(function(a,b){return[Math.min(a[0],b[0]),Math.max(a[1],b[1])]},[1/0,-1/0]):null},jJ=function(a,b,c,d,e){var f=b.map(function(b){var f=b.props.dataKey;return"number"===c&&f&&jH(a,b,f,d)||jB(a,f,c,e)});if("number"===c)return f.reduce(function(a,b){return[Math.min(a[0],b[0]),Math.max(a[1],b[1])]},[1/0,-1/0]);var g={};return f.reduce(function(a,b){for(var c=0,d=b.length;c<d;c++)g[b[c]]||(g[b[c]]=!0,a.push(b[c]));return a},[])},jK=function(a,b){return"horizontal"===a&&"xAxis"===b||"vertical"===a&&"yAxis"===b||"centric"===a&&"angleAxis"===b||"radial"===a&&"radiusAxis"===b},jL=function(a,b,c,d){if(d)return a.map(function(a){return a.coordinate});var e,f,g=a.map(function(a){return a.coordinate===b&&(e=!0),a.coordinate===c&&(f=!0),a.coordinate});return e||g.push(b),f||g.push(c),g},jM=function(a,b,c){if(!a)return null;var d=a.scale,e=a.duplicateDomain,f=a.type,g=a.range,h="scaleBand"===a.realScaleType?d.bandwidth()/2:2,i=(b||c)&&"category"===f&&d.bandwidth?d.bandwidth()/h:0;return(i="angleAxis"===a.axisType&&(null==g?void 0:g.length)>=2?2*ak(g[0]-g[1])*i:i,b&&(a.ticks||a.niceTicks))?(a.ticks||a.niceTicks).map(function(a){return{coordinate:d(e?e.indexOf(a):a)+i,value:a,offset:i}}).filter(function(a){return!ad()(a.coordinate)}):a.isCategorical&&a.categoricalDomain?a.categoricalDomain.map(function(a,b){return{coordinate:d(a)+i,value:a,index:b,offset:i}}):d.ticks&&!c?d.ticks(a.tickCount).map(function(a){return{coordinate:d(a)+i,value:a,offset:i}}):d.domain().map(function(a,b){return{coordinate:d(a)+i,value:e?e[a]:a,index:b,offset:i}})},jN=new WeakMap,jO=function(a,b){if("function"!=typeof b)return a;jN.has(a)||jN.set(a,new WeakMap);var c=jN.get(a);if(c.has(b))return c.get(b);var d=function(){a.apply(void 0,arguments),b.apply(void 0,arguments)};return c.set(b,d),d},jP=function(a,b,c){var d=a.scale,e=a.type,f=a.layout,g=a.axisType;if("auto"===d)return"radial"===f&&"radiusAxis"===g?{scale:d7(),realScaleType:"band"}:"radial"===f&&"angleAxis"===g?{scale:fU(),realScaleType:"linear"}:"category"===e&&b&&(b.indexOf("LineChart")>=0||b.indexOf("AreaChart")>=0||b.indexOf("ComposedChart")>=0&&!c)?{scale:d8(),realScaleType:"point"}:"category"===e?{scale:d7(),realScaleType:"band"}:{scale:fU(),realScaleType:"linear"};if(ab()(d)){var h="scale".concat(bR()(d));return{scale:(p[h]||d8)(),realScaleType:p[h]?h:"point"}}return ay()(d)?{scale:d}:{scale:d8(),realScaleType:"point"}},jQ=function(a){var b=a.domain();if(b&&!(b.length<=2)){var c=b.length,d=a.range(),e=Math.min(d[0],d[1])-1e-4,f=Math.max(d[0],d[1])+1e-4,g=a(b[0]),h=a(b[c-1]);(g<e||g>f||h<e||h>f)&&a.domain([b[0],b[c-1]])}},jR=function(a,b){if(!a)return null;for(var c=0,d=a.length;c<d;c++)if(a[c].item===b)return a[c].position;return null},jS=function(a,b){if(!b||2!==b.length||!am(b[0])||!am(b[1]))return a;var c=Math.min(b[0],b[1]),d=Math.max(b[0],b[1]),e=[a[0],a[1]];return(!am(a[0])||a[0]<c)&&(e[0]=c),(!am(a[1])||a[1]>d)&&(e[1]=d),e[0]>d&&(e[0]=d),e[1]<c&&(e[1]=c),e},jT={sign:function(a){var b=a.length;if(!(b<=0))for(var c=0,d=a[0].length;c<d;++c)for(var e=0,f=0,g=0;g<b;++g){var h=ad()(a[g][c][1])?a[g][c][0]:a[g][c][1];h>=0?(a[g][c][0]=e,a[g][c][1]=e+h,e=a[g][c][1]):(a[g][c][0]=f,a[g][c][1]=f+h,f=a[g][c][1])}},expand:function(a,b){if((d=a.length)>0){for(var c,d,e,f=0,g=a[0].length;f<g;++f){for(e=c=0;c<d;++c)e+=a[c][f][1]||0;if(e)for(c=0;c<d;++c)a[c][f][1]/=e}ia(a,b)}},none:ia,silhouette:function(a,b){if((c=a.length)>0){for(var c,d=0,e=a[b[0]],f=e.length;d<f;++d){for(var g=0,h=0;g<c;++g)h+=a[g][d][1]||0;e[d][1]+=e[d][0]=-h/2}ia(a,b)}},wiggle:function(a,b){if((e=a.length)>0&&(d=(c=a[b[0]]).length)>0){for(var c,d,e,f=0,g=1;g<d;++g){for(var h=0,i=0,j=0;h<e;++h){for(var k=a[b[h]],l=k[g][1]||0,m=(l-(k[g-1][1]||0))/2,n=0;n<h;++n){var o=a[b[n]];m+=(o[g][1]||0)-(o[g-1][1]||0)}i+=l,j+=m*l}c[g-1][1]+=c[g-1][0]=f,i&&(f-=j/i)}c[g-1][1]+=c[g-1][0]=f,ia(a,b)}},positive:function(a){var b=a.length;if(!(b<=0))for(var c=0,d=a[0].length;c<d;++c)for(var e=0,f=0;f<b;++f){var g=ad()(a[f][c][1])?a[f][c][0]:a[f][c][1];g>=0?(a[f][c][0]=e,a[f][c][1]=e+g,e=a[f][c][1]):(a[f][c][0]=0,a[f][c][1]=0)}}},jU=function(a,b,c){var d=b.map(function(a){return a.props.dataKey}),e=jT[c];return(function(){var a=b5([]),b=ic,c=ia,d=id;function e(e){var f,g,h=Array.from(a.apply(this,arguments),ie),i=h.length,j=-1;for(let a of e)for(f=0,++j;f<i;++f)(h[f][j]=[0,+d(a,h[f].key,j,e)]).data=a;for(f=0,g=ib(b(h));f<i;++f)h[g[f]].index=f;return c(h,g),h}return e.keys=function(b){return arguments.length?(a="function"==typeof b?b:b5(Array.from(b)),e):a},e.value=function(a){return arguments.length?(d="function"==typeof a?a:b5(+a),e):d},e.order=function(a){return arguments.length?(b=null==a?ic:"function"==typeof a?a:b5(Array.from(a)),e):b},e.offset=function(a){return arguments.length?(c=null==a?ia:a,e):c},e})().keys(d).value(function(a,b){return+jA(a,b,0)}).order(ic).offset(e)(a)},jV=function(a,b,c,d,e,f){if(!a)return null;var g=(f?b.reverse():b).reduce(function(a,b){var e,f=null!=(e=b.type)&&e.defaultProps?jy(jy({},b.type.defaultProps),b.props):b.props,g=f.stackId;if(f.hide)return a;var h=f[c],i=a[h]||{hasStack:!1,stackGroups:{}};if(an(g)){var j=i.stackGroups[g]||{numericAxisId:c,cateAxisId:d,items:[]};j.items.push(b),i.hasStack=!0,i.stackGroups[g]=j}else i.stackGroups[ap("_stackId_")]={numericAxisId:c,cateAxisId:d,items:[b]};return jy(jy({},a),{},jz({},h,i))},{});return Object.keys(g).reduce(function(b,f){var h=g[f];return h.hasStack&&(h.stackGroups=Object.keys(h.stackGroups).reduce(function(b,f){var g=h.stackGroups[f];return jy(jy({},b),{},jz({},f,{numericAxisId:c,cateAxisId:d,items:g.items,stackedData:jU(a,g.items,e)}))},{})),jy(jy({},b),{},jz({},f,h))},{})},jW=function(a,b){var c=b.realScaleType,d=b.type,e=b.tickCount,f=b.originalDomain,g=b.allowDecimals,h=c||b.scale;if("auto"!==h&&"linear"!==h)return null;if(e&&"number"===d&&f&&("auto"===f[0]||"auto"===f[1])){var i=a.domain();if(!i.length)return null;var j=je(i,e,g);return a.domain([it()(j),ir()(j)]),{niceTicks:j}}return e&&"number"===d?{niceTicks:jf(a.domain(),e,g)}:null};function jX(a){var b=a.axis,c=a.ticks,d=a.bandSize,e=a.entry,f=a.index,g=a.dataKey;if("category"===b.type){if(!b.allowDuplicatedCategory&&b.dataKey&&!aj()(e[b.dataKey])){var h=au(c,"value",e[b.dataKey]);if(h)return h.coordinate+d/2}return c[f]?c[f].coordinate+d/2:null}var i=jA(e,aj()(g)?b.dataKey:g);return aj()(i)?null:b.scale(i)}var jY=function(a){var b=a.axis,c=a.ticks,d=a.offset,e=a.bandSize,f=a.entry,g=a.index;if("category"===b.type)return c[g]?c[g].coordinate+d:null;var h=jA(f,b.dataKey,b.domain[g]);return aj()(h)?null:b.scale(h)-e/2+d},jZ=function(a){var b=a.numericAxis,c=b.scale.domain();if("number"===b.type){var d=Math.min(c[0],c[1]),e=Math.max(c[0],c[1]);return d<=0&&e>=0?0:e<0?e:d}return c[0]},j$=function(a,b){var c,d=(null!=(c=a.type)&&c.defaultProps?jy(jy({},a.type.defaultProps),a.props):a.props).stackId;if(an(d)){var e=b[d];if(e){var f=e.items.indexOf(a);return f>=0?e.stackedData[f]:null}}return null},j_=function(a,b,c){return Object.keys(a).reduce(function(d,e){var f=a[e].stackedData.reduce(function(a,d){var e=d.slice(b,c+1).reduce(function(a,b){return[it()(b.concat([a[0]]).filter(am)),ir()(b.concat([a[1]]).filter(am))]},[1/0,-1/0]);return[Math.min(a[0],e[0]),Math.max(a[1],e[1])]},[1/0,-1/0]);return[Math.min(f[0],d[0]),Math.max(f[1],d[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},j0=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,j1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,j2=function(a,b,c){if(ay()(a))return a(b,c);if(!Array.isArray(a))return b;var d=[];if(am(a[0]))d[0]=c?a[0]:Math.min(a[0],b[0]);else if(j0.test(a[0])){var e=+j0.exec(a[0])[1];d[0]=b[0]-e}else ay()(a[0])?d[0]=a[0](b[0]):d[0]=b[0];if(am(a[1]))d[1]=c?a[1]:Math.max(a[1],b[1]);else if(j1.test(a[1])){var f=+j1.exec(a[1])[1];d[1]=b[1]+f}else ay()(a[1])?d[1]=a[1](b[1]):d[1]=b[1];return d},j3=function(a,b,c){if(a&&a.scale&&a.scale.bandwidth){var d=a.scale.bandwidth();if(!c||d>0)return d}if(a&&b&&b.length>=2){for(var e=a9()(b,function(a){return a.coordinate}),f=1/0,g=1,h=e.length;g<h;g++){var i=e[g],j=e[g-1];f=Math.min((i.coordinate||0)-(j.coordinate||0),f)}return f===1/0?0:f}return c?void 0:0},j4=function(a,b,c){return!a||!a.length||ix()(a,af()(c,"type.defaultProps.domain"))?b:a},j5=function(a,b){var c=a.type.defaultProps?jy(jy({},a.type.defaultProps),a.props):a.props,d=c.dataKey,e=c.name,f=c.unit,g=c.formatter,h=c.tooltipType,i=c.chartType,j=c.hide;return jy(jy({},aY(a,!1)),{},{dataKey:d,unit:f,formatter:g,name:e||d,color:jD(a),value:jA(b,d),type:h,payload:b,chartType:i,hide:j})};function j6(a){return(j6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function j7(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function j8(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?j7(Object(c),!0).forEach(function(b){j9(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):j7(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function j9(a,b,c){var d;return(d=function(a,b){if("object"!=j6(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=j6(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"),(b="symbol"==j6(d)?d:d+"")in a)?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var ka=["Webkit","Moz","O","ms"],kb=function(a,b){if(!a)return null;var c=a.replace(/(\w)/,function(a){return a.toUpperCase()}),d=ka.reduce(function(a,d){return j8(j8({},a),{},j9({},d+c,b))},{});return d[a]=b,d};function kc(a){return(kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function kd(){return(kd=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function ke(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function kf(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ke(Object(c),!0).forEach(function(b){kk(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ke(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function kg(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,kl(d.key),d)}}function kh(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(kh=function(){return!!a})()}function ki(a){return(ki=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function kj(a,b){return(kj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function kk(a,b,c){return(b=kl(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function kl(a){var b=function(a,b){if("object"!=kc(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=kc(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==kc(b)?b:b+""}var km=function(a){var b=a.data,c=a.startIndex,d=a.endIndex,e=a.x,f=a.width,g=a.travellerWidth;if(!b||!b.length)return{};var h=b.length,i=d8().domain(a7()(0,h)).range([e,e+f-g]),j=i.domain().map(function(a){return i(a)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:i(c),endX:i(d),scale:i,scaleValues:j}},kn=function(a){return a.changedTouches&&!!a.changedTouches.length},ko=function(a){var b,c;function d(a){var b,c,e;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");return c=d,e=[a],c=ki(c),kk(b=function(a,b){if(b&&("object"===kc(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,kh()?Reflect.construct(c,e||[],ki(this).constructor):c.apply(this,e)),"handleDrag",function(a){b.leaveTimer&&(clearTimeout(b.leaveTimer),b.leaveTimer=null),b.state.isTravellerMoving?b.handleTravellerMove(a):b.state.isSlideMoving&&b.handleSlideDrag(a)}),kk(b,"handleTouchMove",function(a){null!=a.changedTouches&&a.changedTouches.length>0&&b.handleDrag(a.changedTouches[0])}),kk(b,"handleDragEnd",function(){b.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=b.props,c=a.endIndex,d=a.onDragEnd,e=a.startIndex;null==d||d({endIndex:c,startIndex:e})}),b.detachDragEndListener()}),kk(b,"handleLeaveWrapper",function(){(b.state.isTravellerMoving||b.state.isSlideMoving)&&(b.leaveTimer=window.setTimeout(b.handleDragEnd,b.props.leaveTimeOut))}),kk(b,"handleEnterSlideOrTraveller",function(){b.setState({isTextActive:!0})}),kk(b,"handleLeaveSlideOrTraveller",function(){b.setState({isTextActive:!1})}),kk(b,"handleSlideDragStart",function(a){var c=kn(a)?a.changedTouches[0]:a;b.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:c.pageX}),b.attachDragEndListener()}),b.travellerDragStartHandlers={startX:b.handleTravellerDragStart.bind(b,"startX"),endX:b.handleTravellerDragStart.bind(b,"endX")},b.state={},b}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),a&&kj(d,a),b=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var b=a.startX,c=a.endX,e=this.state.scaleValues,f=this.props,g=f.gap,h=f.data.length-1,i=Math.min(b,c),j=Math.max(b,c),k=d.getIndexInRange(e,i),l=d.getIndexInRange(e,j);return{startIndex:k-k%g,endIndex:l===h?h:l-l%g}}},{key:"getTextOfTick",value:function(a){var b=this.props,c=b.data,d=b.tickFormatter,e=b.dataKey,f=jA(c[a],e,a);return ay()(d)?d(f,a):f}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var b=this.state,c=b.slideMoveStartX,d=b.startX,e=b.endX,f=this.props,g=f.x,h=f.width,i=f.travellerWidth,j=f.startIndex,k=f.endIndex,l=f.onChange,m=a.pageX-c;m>0?m=Math.min(m,g+h-i-e,g+h-i-d):m<0&&(m=Math.max(m,g-d,g-e));var n=this.getIndex({startX:d+m,endX:e+m});(n.startIndex!==j||n.endIndex!==k)&&l&&l(n),this.setState({startX:d+m,endX:e+m,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,b){var c=kn(b)?b.changedTouches[0]:b;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:c.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var b=this.state,c=b.brushMoveStartX,d=b.movingTravellerId,e=b.endX,f=b.startX,g=this.state[d],h=this.props,i=h.x,j=h.width,k=h.travellerWidth,l=h.onChange,m=h.gap,n=h.data,o={startX:this.state.startX,endX:this.state.endX},p=a.pageX-c;p>0?p=Math.min(p,i+j-k-g):p<0&&(p=Math.max(p,i-g)),o[d]=g+p;var q=this.getIndex(o),r=q.startIndex,s=q.endIndex,t=function(){var a=n.length-1;return"startX"===d&&(e>f?r%m==0:s%m==0)||!!(e<f)&&s===a||"endX"===d&&(e>f?s%m==0:r%m==0)||!!(e>f)&&s===a};this.setState(kk(kk({},d,g+p),"brushMoveStartX",a.pageX),function(){l&&t()&&l(q)})}},{key:"handleTravellerMoveKeyboard",value:function(a,b){var c=this,d=this.state,e=d.scaleValues,f=d.startX,g=d.endX,h=this.state[b],i=e.indexOf(h);if(-1!==i){var j=i+a;if(-1!==j&&!(j>=e.length)){var k=e[j];"startX"===b&&k>=g||"endX"===b&&k<=f||this.setState(kk({},b,k),function(){c.props.onChange(c.getIndex({startX:c.state.startX,endX:c.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,b=a.x,c=a.y,d=a.width,e=a.height,f=a.fill,g=a.stroke;return s().createElement("rect",{stroke:g,fill:f,x:b,y:c,width:d,height:e})}},{key:"renderPanorama",value:function(){var a=this.props,b=a.x,c=a.y,d=a.width,e=a.height,f=a.data,g=a.children,h=a.padding,i=r.Children.only(g);return i?s().cloneElement(i,{x:b,y:c,width:d,height:e,margin:h,compact:!0,data:f}):null}},{key:"renderTravellerLayer",value:function(a,b){var c,e,f=this,g=this.props,h=g.y,i=g.travellerWidth,j=g.height,k=g.traveller,l=g.ariaLabel,m=g.data,n=g.startIndex,o=g.endIndex,p=Math.max(a,this.props.x),q=kf(kf({},aY(this.props,!1)),{},{x:p,y:h,width:i,height:j}),r=l||"Min value: ".concat(null==(c=m[n])?void 0:c.name,", Max value: ").concat(null==(e=m[o])?void 0:e.name);return s().createElement(bg,{tabIndex:0,role:"slider","aria-label":r,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[b],onTouchStart:this.travellerDragStartHandlers[b],onKeyDown:function(a){["ArrowLeft","ArrowRight"].includes(a.key)&&(a.preventDefault(),a.stopPropagation(),f.handleTravellerMoveKeyboard("ArrowRight"===a.key?1:-1,b))},onFocus:function(){f.setState({isTravellerFocused:!0})},onBlur:function(){f.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},d.renderTraveller(k,q))}},{key:"renderSlide",value:function(a,b){var c=this.props,d=c.y,e=c.height,f=c.stroke,g=c.travellerWidth,h=Math.min(a,b)+g,i=Math.max(Math.abs(b-a)-g,0);return s().createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:f,fillOpacity:.2,x:h,y:d,width:i,height:e})}},{key:"renderText",value:function(){var a=this.props,b=a.startIndex,c=a.endIndex,d=a.y,e=a.height,f=a.travellerWidth,g=a.stroke,h=this.state,i=h.startX,j=h.endX,k={pointerEvents:"none",fill:g};return s().createElement(bg,{className:"recharts-brush-texts"},s().createElement(eG,kd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(i,j)-5,y:d+e/2},k),this.getTextOfTick(b)),s().createElement(eG,kd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(i,j)+f+5,y:d+e/2},k),this.getTextOfTick(c)))}},{key:"render",value:function(){var a=this.props,b=a.data,c=a.className,d=a.children,e=a.x,f=a.y,g=a.width,h=a.height,i=a.alwaysShowText,j=this.state,k=j.startX,l=j.endX,m=j.isTextActive,n=j.isSlideMoving,o=j.isTravellerMoving,p=j.isTravellerFocused;if(!b||!b.length||!am(e)||!am(f)||!am(g)||!am(h)||g<=0||h<=0)return null;var q=Z("recharts-brush",c),r=1===s().Children.count(d),t=kb("userSelect","none");return s().createElement(bg,{className:q,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:t},this.renderBackground(),r&&this.renderPanorama(),this.renderSlide(k,l),this.renderTravellerLayer(k,"startX"),this.renderTravellerLayer(l,"endX"),(m||n||o||p||i)&&this.renderText())}}],c=[{key:"renderDefaultTraveller",value:function(a){var b=a.x,c=a.y,d=a.width,e=a.height,f=a.stroke,g=Math.floor(c+e/2)-1;return s().createElement(s().Fragment,null,s().createElement("rect",{x:b,y:c,width:d,height:e,fill:f,stroke:"none"}),s().createElement("line",{x1:b+1,y1:g,x2:b+d-1,y2:g,fill:"none",stroke:"#fff"}),s().createElement("line",{x1:b+1,y1:g+2,x2:b+d-1,y2:g+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,b){return s().isValidElement(a)?s().cloneElement(a,b):ay()(a)?a(b):d.renderDefaultTraveller(b)}},{key:"getDerivedStateFromProps",value:function(a,b){var c=a.data,d=a.width,e=a.x,f=a.travellerWidth,g=a.updateId,h=a.startIndex,i=a.endIndex;if(c!==b.prevData||g!==b.prevUpdateId)return kf({prevData:c,prevTravellerWidth:f,prevUpdateId:g,prevX:e,prevWidth:d},c&&c.length?km({data:c,width:d,x:e,travellerWidth:f,startIndex:h,endIndex:i}):{scale:null,scaleValues:null});if(b.scale&&(d!==b.prevWidth||e!==b.prevX||f!==b.prevTravellerWidth)){b.scale.range([e,e+d-f]);var j=b.scale.domain().map(function(a){return b.scale(a)});return{prevData:c,prevTravellerWidth:f,prevUpdateId:g,prevX:e,prevWidth:d,startX:b.scale(a.startIndex),endX:b.scale(a.endIndex),scaleValues:j}}return null}},{key:"getIndexInRange",value:function(a,b){for(var c=a.length,d=0,e=c-1;e-d>1;){var f=Math.floor((d+e)/2);a[f]>b?e=f:d=f}return b>=a[e]?e:d}}],b&&kg(d.prototype,b),c&&kg(d,c),Object.defineProperty(d,"prototype",{writable:!1}),d}(r.PureComponent);function kp(a){return(kp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function kq(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function kr(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?kq(Object(c),!0).forEach(function(b){ks(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):kq(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function ks(a,b,c){var d;return(d=function(a,b){if("object"!=kp(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=kp(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"),(b="symbol"==kp(d)?d:d+"")in a)?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function kt(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}kk(ko,"displayName","Brush"),kk(ko,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ku=Math.PI/180,kv=function(a,b,c,d){return{x:a+Math.cos(-ku*d)*c,y:b+Math.sin(-ku*d)*c}},kw=function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(a-(c.left||0)-(c.right||0)),Math.abs(b-(c.top||0)-(c.bottom||0)))/2},kx=function(a,b){var c=a.x,d=a.y;return Math.sqrt(Math.pow(c-b.x,2)+Math.pow(d-b.y,2))},ky=function(a,b){var c=a.x,d=a.y,e=b.cx,f=b.cy,g=kx({x:c,y:d},{x:e,y:f});if(g<=0)return{radius:g};var h=Math.acos((c-e)/g);return d>f&&(h=2*Math.PI-h),{radius:g,angle:180*h/Math.PI,angleInRadian:h}},kz=function(a){var b=a.startAngle,c=a.endAngle,d=Math.min(Math.floor(b/360),Math.floor(c/360));return{startAngle:b-360*d,endAngle:c-360*d}},kA=function(a,b){var c,d=ky({x:a.x,y:a.y},b),e=d.radius,f=d.angle,g=b.innerRadius,h=b.outerRadius;if(e<g||e>h)return!1;if(0===e)return!0;var i=kz(b),j=i.startAngle,k=i.endAngle,l=f;if(j<=k){for(;l>k;)l-=360;for(;l<j;)l+=360;c=l>=j&&l<=k}else{for(;l>j;)l-=360;for(;l<k;)l+=360;c=l>=k&&l<=j}return c?kr(kr({},b),{},{radius:e,angle:l+360*Math.min(Math.floor(b.startAngle/360),Math.floor(b.endAngle/360))}):null},kB=function(a){return(0,r.isValidElement)(a)||ay()(a)||"boolean"==typeof a?"":a.className};function kC(a){return(kC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var kD=["offset"];function kE(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function kF(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function kG(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?kF(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=kC(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=kC(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==kC(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):kF(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function kH(){return(kH=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var kI=function(a){var b=a.value,c=a.formatter,d=aj()(a.children)?b:a.children;return ay()(c)?c(d):d},kJ=function(a,b,c){var d,e,f=a.position,g=a.viewBox,h=a.offset,i=a.className,j=g.cx,k=g.cy,l=g.innerRadius,m=g.outerRadius,n=g.startAngle,o=g.endAngle,p=g.clockWise,q=(l+m)/2,r=ak(o-n)*Math.min(Math.abs(o-n),360),t=r>=0?1:-1;"insideStart"===f?(d=n+t*h,e=p):"insideEnd"===f?(d=o-t*h,e=!p):"end"===f&&(d=o+t*h,e=p),e=r<=0?e:!e;var u=kv(j,k,q,d),v=kv(j,k,q,d+(e?1:-1)*359),w="M".concat(u.x,",").concat(u.y,"\n    A").concat(q,",").concat(q,",0,1,").concat(+!e,",\n    ").concat(v.x,",").concat(v.y),x=aj()(a.id)?ap("recharts-radial-line-"):a.id;return s().createElement("text",kH({},c,{dominantBaseline:"central",className:Z("recharts-radial-bar-label",i)}),s().createElement("defs",null,s().createElement("path",{id:x,d:w})),s().createElement("textPath",{xlinkHref:"#".concat(x)},b))},kK=function(a){var b=a.viewBox,c=a.offset,d=a.position,e=b.cx,f=b.cy,g=b.innerRadius,h=b.outerRadius,i=(b.startAngle+b.endAngle)/2;if("outside"===d){var j=kv(e,f,h+c,i),k=j.x;return{x:k,y:j.y,textAnchor:k>=e?"start":"end",verticalAnchor:"middle"}}if("center"===d)return{x:e,y:f,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===d)return{x:e,y:f,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===d)return{x:e,y:f,textAnchor:"middle",verticalAnchor:"end"};var l=kv(e,f,(g+h)/2,i);return{x:l.x,y:l.y,textAnchor:"middle",verticalAnchor:"middle"}},kL=function(a){var b=a.viewBox,c=a.parentViewBox,d=a.offset,e=a.position,f=b.x,g=b.y,h=b.width,i=b.height,j=i>=0?1:-1,k=j*d,l=j>0?"end":"start",m=j>0?"start":"end",n=h>=0?1:-1,o=n*d,p=n>0?"end":"start",q=n>0?"start":"end";if("top"===e)return kG(kG({},{x:f+h/2,y:g-j*d,textAnchor:"middle",verticalAnchor:l}),c?{height:Math.max(g-c.y,0),width:h}:{});if("bottom"===e)return kG(kG({},{x:f+h/2,y:g+i+k,textAnchor:"middle",verticalAnchor:m}),c?{height:Math.max(c.y+c.height-(g+i),0),width:h}:{});if("left"===e){var r={x:f-o,y:g+i/2,textAnchor:p,verticalAnchor:"middle"};return kG(kG({},r),c?{width:Math.max(r.x-c.x,0),height:i}:{})}if("right"===e){var s={x:f+h+o,y:g+i/2,textAnchor:q,verticalAnchor:"middle"};return kG(kG({},s),c?{width:Math.max(c.x+c.width-s.x,0),height:i}:{})}var t=c?{width:h,height:i}:{};return"insideLeft"===e?kG({x:f+o,y:g+i/2,textAnchor:q,verticalAnchor:"middle"},t):"insideRight"===e?kG({x:f+h-o,y:g+i/2,textAnchor:p,verticalAnchor:"middle"},t):"insideTop"===e?kG({x:f+h/2,y:g+k,textAnchor:"middle",verticalAnchor:m},t):"insideBottom"===e?kG({x:f+h/2,y:g+i-k,textAnchor:"middle",verticalAnchor:l},t):"insideTopLeft"===e?kG({x:f+o,y:g+k,textAnchor:q,verticalAnchor:m},t):"insideTopRight"===e?kG({x:f+h-o,y:g+k,textAnchor:p,verticalAnchor:m},t):"insideBottomLeft"===e?kG({x:f+o,y:g+i-k,textAnchor:q,verticalAnchor:l},t):"insideBottomRight"===e?kG({x:f+h-o,y:g+i-k,textAnchor:p,verticalAnchor:l},t):aA()(e)&&(am(e.x)||al(e.x))&&(am(e.y)||al(e.y))?kG({x:f+aq(e.x,h),y:g+aq(e.y,i),textAnchor:"end",verticalAnchor:"end"},t):kG({x:f+h/2,y:g+i/2,textAnchor:"middle",verticalAnchor:"middle"},t)};function kM(a){var b,c=a.offset,d=kG({offset:void 0===c?5:c},function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,kD)),e=d.viewBox,f=d.position,g=d.value,h=d.children,i=d.content,j=d.className,k=d.textBreakAll;if(!e||aj()(g)&&aj()(h)&&!(0,r.isValidElement)(i)&&!ay()(i))return null;if((0,r.isValidElement)(i))return(0,r.cloneElement)(i,d);if(ay()(i)){if(b=(0,r.createElement)(i,d),(0,r.isValidElement)(b))return b}else b=kI(d);var l="cx"in e&&am(e.cx),m=aY(d,!0);if(l&&("insideStart"===f||"insideEnd"===f||"end"===f))return kJ(d,b,m);var n=l?kK(d):kL(d);return s().createElement(eG,kH({className:Z("recharts-label",void 0===j?"":j)},m,n,{breakAll:k}),b)}kM.displayName="Label";var kN=function(a){var b=a.cx,c=a.cy,d=a.angle,e=a.startAngle,f=a.endAngle,g=a.r,h=a.radius,i=a.innerRadius,j=a.outerRadius,k=a.x,l=a.y,m=a.top,n=a.left,o=a.width,p=a.height,q=a.clockWise,r=a.labelViewBox;if(r)return r;if(am(o)&&am(p)){if(am(k)&&am(l))return{x:k,y:l,width:o,height:p};if(am(m)&&am(n))return{x:m,y:n,width:o,height:p}}return am(k)&&am(l)?{x:k,y:l,width:0,height:0}:am(b)&&am(c)?{cx:b,cy:c,startAngle:e||d||0,endAngle:f||d||0,innerRadius:i||0,outerRadius:j||h||g||0,clockWise:q}:a.viewBox?a.viewBox:{}};kM.parseViewBox=kN,kM.renderCallByParent=function(a,b){var c,d,e=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!a||!a.children&&e&&!a.label)return null;var f=a.children,g=kN(a),h=aT(f,kM).map(function(a,c){return(0,r.cloneElement)(a,{viewBox:b||g,key:"label-".concat(c)})});if(!e)return h;return[(c=a.label,d=b||g,!c?null:!0===c?s().createElement(kM,{key:"label-implicit",viewBox:d}):an(c)?s().createElement(kM,{key:"label-implicit",viewBox:d,value:c}):(0,r.isValidElement)(c)?c.type===kM?(0,r.cloneElement)(c,{key:"label-implicit",viewBox:d}):s().createElement(kM,{key:"label-implicit",content:c,viewBox:d}):ay()(c)?s().createElement(kM,{key:"label-implicit",content:c,viewBox:d}):aA()(c)?s().createElement(kM,kH({viewBox:d},c,{key:"label-implicit"})):null)].concat(function(a){if(Array.isArray(a))return kE(a)}(h)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(h)||function(a,b){if(a){if("string"==typeof a)return kE(a,void 0);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return kE(a,b)}}(h)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())};var kO=function(a,b){var c=a.alwaysShow,d=a.ifOverflow;return c&&(d="extendDomain"),d===b},kP=c(71140),kQ=c.n(kP),kR=c(34311),kS=c.n(kR),kT=function(a){return null};kT.displayName="Cell";var kU=c(97510),kV=c.n(kU);function kW(a){return(kW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var kX=["valueAccessor"],kY=["data","dataKey","clockWise","id","textBreakAll"];function kZ(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function k$(){return(k$=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function k_(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function k0(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?k_(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=kW(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=kW(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==kW(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):k_(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function k1(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}var k2=function(a){return Array.isArray(a.value)?kV()(a.value):a.value};function k3(a){var b=a.valueAccessor,c=void 0===b?k2:b,d=k1(a,kX),e=d.data,f=d.dataKey,g=d.clockWise,h=d.id,i=d.textBreakAll,j=k1(d,kY);return e&&e.length?s().createElement(bg,{className:"recharts-label-list"},e.map(function(a,b){var d=aj()(f)?c(a,b):jA(a&&a.payload,f),e=aj()(h)?{}:{id:"".concat(h,"-").concat(b)};return s().createElement(kM,k$({},aY(a,!0),j,e,{parentViewBox:a.parentViewBox,value:d,textBreakAll:i,viewBox:kM.parseViewBox(aj()(g)?a:k0(k0({},a),{},{clockWise:g})),key:"label-".concat(b),index:b}))})):null}k3.displayName="LabelList",k3.renderCallByParent=function(a,b){var c,d=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!a||!a.children&&d&&!a.label)return null;var e=aT(a.children,k3).map(function(a,c){return(0,r.cloneElement)(a,{data:b,key:"labelList-".concat(c)})});return d?[(c=a.label,!c?null:!0===c?s().createElement(k3,{key:"labelList-implicit",data:b}):s().isValidElement(c)||ay()(c)?s().createElement(k3,{key:"labelList-implicit",data:b,content:c}):aA()(c)?s().createElement(k3,k$({data:b},c,{key:"labelList-implicit"})):null)].concat(function(a){if(Array.isArray(a))return kZ(a)}(e)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(e)||function(a,b){if(a){if("string"==typeof a)return kZ(a,void 0);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return kZ(a,b)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):e};var k4=c(85511),k5=c.n(k4),k6=c(77516),k7=c.n(k6);function k8(a){return(k8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function k9(){return(k9=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function la(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function lb(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function lc(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?lb(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=k8(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=k8(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==k8(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):lb(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var ld=function(a,b,c,d,e){var f=c-d;return"M ".concat(a,",").concat(b)+"L ".concat(a+c,",").concat(b)+"L ".concat(a+c-f/2,",").concat(b+e)+"L ".concat(a+c-f/2-d,",").concat(b+e)+"L ".concat(a,",").concat(b," Z")},le={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lf=function(a){var b,c=lc(lc({},le),a),d=(0,r.useRef)(),e=function(a){if(Array.isArray(a))return a}(b=(0,r.useState)(-1))||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{f=(c=c.call(a)).next,!1;for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(b,2)||function(a,b){if(a){if("string"==typeof a)return la(a,2);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return la(a,b)}}(b,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=e[0],g=e[1];(0,r.useEffect)(function(){if(d.current&&d.current.getTotalLength)try{var a=d.current.getTotalLength();a&&g(a)}catch(a){}},[]);var h=c.x,i=c.y,j=c.upperWidth,k=c.lowerWidth,l=c.height,m=c.className,n=c.animationEasing,o=c.animationDuration,p=c.animationBegin,q=c.isUpdateAnimationActive;if(h!==+h||i!==+i||j!==+j||k!==+k||l!==+l||0===j&&0===k||0===l)return null;var t=Z("recharts-trapezoid",m);return q?s().createElement(dS,{canBegin:f>0,from:{upperWidth:0,lowerWidth:0,height:l,x:h,y:i},to:{upperWidth:j,lowerWidth:k,height:l,x:h,y:i},duration:o,animationEasing:n,isActive:q},function(a){var b=a.upperWidth,e=a.lowerWidth,g=a.height,h=a.x,i=a.y;return s().createElement(dS,{canBegin:f>0,from:"0px ".concat(-1===f?1:f,"px"),to:"".concat(f,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:o,easing:n},s().createElement("path",k9({},aY(c,!0),{className:t,d:ld(h,i,b,e,g),ref:d})))}):s().createElement("g",null,s().createElement("path",k9({},aY(c,!0),{className:t,d:ld(h,i,j,k,l)})))};function lg(a){return(lg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function lh(){return(lh=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function li(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function lj(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?li(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=lg(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=lg(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==lg(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):li(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var lk=function(a){var b=a.cx,c=a.cy,d=a.radius,e=a.angle,f=a.sign,g=a.isExternal,h=a.cornerRadius,i=a.cornerIsExternal,j=h*(g?1:-1)+d,k=Math.asin(h/j)/ku,l=i?e:e+f*k;return{center:kv(b,c,j,l),circleTangency:kv(b,c,d,l),lineTangency:kv(b,c,j*Math.cos(k*ku),i?e-f*k:e),theta:k}},ll=function(a){var b=a.cx,c=a.cy,d=a.innerRadius,e=a.outerRadius,f=a.startAngle,g=a.endAngle,h=ak(g-f)*Math.min(Math.abs(g-f),359.999),i=f+h,j=kv(b,c,e,f),k=kv(b,c,e,i),l="M ".concat(j.x,",").concat(j.y,"\n    A ").concat(e,",").concat(e,",0,\n    ").concat(+(Math.abs(h)>180),",").concat(+(f>i),",\n    ").concat(k.x,",").concat(k.y,"\n  ");if(d>0){var m=kv(b,c,d,f),n=kv(b,c,d,i);l+="L ".concat(n.x,",").concat(n.y,"\n            A ").concat(d,",").concat(d,",0,\n            ").concat(+(Math.abs(h)>180),",").concat(+(f<=i),",\n            ").concat(m.x,",").concat(m.y," Z")}else l+="L ".concat(b,",").concat(c," Z");return l},lm=function(a){var b=a.cx,c=a.cy,d=a.innerRadius,e=a.outerRadius,f=a.cornerRadius,g=a.forceCornerRadius,h=a.cornerIsExternal,i=a.startAngle,j=a.endAngle,k=ak(j-i),l=lk({cx:b,cy:c,radius:e,angle:i,sign:k,cornerRadius:f,cornerIsExternal:h}),m=l.circleTangency,n=l.lineTangency,o=l.theta,p=lk({cx:b,cy:c,radius:e,angle:j,sign:-k,cornerRadius:f,cornerIsExternal:h}),q=p.circleTangency,r=p.lineTangency,s=p.theta,t=h?Math.abs(i-j):Math.abs(i-j)-o-s;if(t<0)return g?"M ".concat(n.x,",").concat(n.y,"\n        a").concat(f,",").concat(f,",0,0,1,").concat(2*f,",0\n        a").concat(f,",").concat(f,",0,0,1,").concat(-(2*f),",0\n      "):ll({cx:b,cy:c,innerRadius:d,outerRadius:e,startAngle:i,endAngle:j});var u="M ".concat(n.x,",").concat(n.y,"\n    A").concat(f,",").concat(f,",0,0,").concat(+(k<0),",").concat(m.x,",").concat(m.y,"\n    A").concat(e,",").concat(e,",0,").concat(+(t>180),",").concat(+(k<0),",").concat(q.x,",").concat(q.y,"\n    A").concat(f,",").concat(f,",0,0,").concat(+(k<0),",").concat(r.x,",").concat(r.y,"\n  ");if(d>0){var v=lk({cx:b,cy:c,radius:d,angle:i,sign:k,isExternal:!0,cornerRadius:f,cornerIsExternal:h}),w=v.circleTangency,x=v.lineTangency,y=v.theta,z=lk({cx:b,cy:c,radius:d,angle:j,sign:-k,isExternal:!0,cornerRadius:f,cornerIsExternal:h}),A=z.circleTangency,B=z.lineTangency,C=z.theta,D=h?Math.abs(i-j):Math.abs(i-j)-y-C;if(D<0&&0===f)return"".concat(u,"L").concat(b,",").concat(c,"Z");u+="L".concat(B.x,",").concat(B.y,"\n      A").concat(f,",").concat(f,",0,0,").concat(+(k<0),",").concat(A.x,",").concat(A.y,"\n      A").concat(d,",").concat(d,",0,").concat(+(D>180),",").concat(+(k>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(f,",").concat(f,",0,0,").concat(+(k<0),",").concat(x.x,",").concat(x.y,"Z")}else u+="L".concat(b,",").concat(c,"Z");return u},ln={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},lo=function(a){var b,c=lj(lj({},ln),a),d=c.cx,e=c.cy,f=c.innerRadius,g=c.outerRadius,h=c.cornerRadius,i=c.forceCornerRadius,j=c.cornerIsExternal,k=c.startAngle,l=c.endAngle,m=c.className;if(g<f||k===l)return null;var n=Z("recharts-sector",m),o=g-f,p=aq(h,o,0,!0);return b=p>0&&360>Math.abs(k-l)?lm({cx:d,cy:e,innerRadius:f,outerRadius:g,cornerRadius:Math.min(p,o/2),forceCornerRadius:i,cornerIsExternal:j,startAngle:k,endAngle:l}):ll({cx:d,cy:e,innerRadius:f,outerRadius:g,startAngle:k,endAngle:l}),s().createElement("path",lh({},aY(c,!0),{className:n,d:b,role:"img"}))},lp=["option","shapeType","propTransformer","activeClassName","isActive"];function lq(a){return(lq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function lr(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ls(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?lr(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=lq(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=lq(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==lq(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):lr(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function lt(a){var b=a.shapeType,c=a.elementProps;switch(b){case"rectangle":return s().createElement(d_,c);case"trapezoid":return s().createElement(lf,c);case"sector":return s().createElement(lo,c);case"symbols":if("symbols"===b)return s().createElement(ck,c);break;default:return null}}function lu(a){var b,c=a.option,d=a.shapeType,e=a.propTransformer,f=a.activeClassName,g=a.isActive,h=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,lp);if((0,r.isValidElement)(c))b=(0,r.cloneElement)(c,ls(ls({},h),(0,r.isValidElement)(c)?c.props:c));else if(ay()(c))b=c(h);else if(k5()(c)&&!k7()(c)){var i=(void 0===e?function(a,b){return ls(ls({},b),a)}:e)(c,h);b=s().createElement(lt,{shapeType:d,elementProps:i})}else b=s().createElement(lt,{shapeType:d,elementProps:h});return g?s().createElement(bg,{className:void 0===f?"recharts-active-shape":f},b):b}function lv(a,b){return null!=b&&"trapezoids"in a.props}function lw(a,b){return null!=b&&"sectors"in a.props}function lx(a,b){return null!=b&&"points"in a.props}function ly(a,b){var c,d,e=a.x===(null==b||null==(c=b.labelViewBox)?void 0:c.x)||a.x===b.x,f=a.y===(null==b||null==(d=b.labelViewBox)?void 0:d.y)||a.y===b.y;return e&&f}function lz(a,b){var c=a.endAngle===b.endAngle,d=a.startAngle===b.startAngle;return c&&d}function lA(a,b){var c=a.x===b.x,d=a.y===b.y,e=a.z===b.z;return c&&d&&e}var lB=["x","y"];function lC(a){return(lC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function lD(){return(lD=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function lE(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function lF(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?lE(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=lC(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=lC(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==lC(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):lE(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function lG(a,b){var c=a.x,d=a.y,e=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,lB),f=parseInt("".concat(c),10),g=parseInt("".concat(d),10),h=parseInt("".concat(b.height||e.height),10),i=parseInt("".concat(b.width||e.width),10);return lF(lF(lF(lF(lF({},b),e),f?{x:f}:{}),g?{y:g}:{}),{},{height:h,width:i,name:b.name,radius:b.radius})}function lH(a){return s().createElement(lu,lD({shapeType:"rectangle",propTransformer:lG,activeClassName:"recharts-active-bar"},a))}var lI=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(c,d){if("number"==typeof a)return a;var e=am(c)||aj()(c);return e?a(c,d):(e||ba(!1),b)}},lJ=["value","background"];function lK(a){return(lK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function lL(){return(lL=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function lM(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function lN(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?lM(Object(c),!0).forEach(function(b){lS(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):lM(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function lO(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,lT(d.key),d)}}function lP(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(lP=function(){return!!a})()}function lQ(a){return(lQ=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function lR(a,b){return(lR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function lS(a,b,c){return(b=lT(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function lT(a){var b=function(a,b){if("object"!=lK(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=lK(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==lK(b)?b:b+""}var lU=function(a){var b,c;function d(){var a,b,c;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");for(var e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];return b=d,c=[].concat(f),b=lQ(b),lS(a=function(a,b){if(b&&("object"===lK(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,lP()?Reflect.construct(b,c||[],lQ(this).constructor):b.apply(this,c)),"state",{isAnimationFinished:!1}),lS(a,"id",ap("recharts-bar-")),lS(a,"handleAnimationEnd",function(){var b=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),b&&b()}),lS(a,"handleAnimationStart",function(){var b=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),b&&b()}),a}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),a&&lR(d,a),b=[{key:"renderRectanglesStatically",value:function(a){var b=this,c=this.props,d=c.shape,e=c.dataKey,f=c.activeIndex,g=c.activeBar,h=aY(this.props,!1);return a&&a.map(function(a,c){var i=c===f,j=lN(lN(lN({},h),a),{},{isActive:i,option:i?g:d,index:c,dataKey:e,onAnimationStart:b.handleAnimationStart,onAnimationEnd:b.handleAnimationEnd});return s().createElement(bg,lL({className:"recharts-bar-rectangle"},aJ(b.props,a,c),{key:"rectangle-".concat(null==a?void 0:a.x,"-").concat(null==a?void 0:a.y,"-").concat(null==a?void 0:a.value,"-").concat(c)}),s().createElement(lH,j))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,b=this.props,c=b.data,d=b.layout,e=b.isAnimationActive,f=b.animationBegin,g=b.animationDuration,h=b.animationEasing,i=b.animationId,j=this.state.prevData;return s().createElement(dS,{begin:f,duration:g,isActive:e,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(i),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var e=b.t,f=c.map(function(a,b){var c=j&&j[b];if(c){var f=at(c.x,a.x),g=at(c.y,a.y),h=at(c.width,a.width),i=at(c.height,a.height);return lN(lN({},a),{},{x:f(e),y:g(e),width:h(e),height:i(e)})}if("horizontal"===d){var k=at(0,a.height)(e);return lN(lN({},a),{},{y:a.y+a.height-k,height:k})}var l=at(0,a.width)(e);return lN(lN({},a),{},{width:l})});return s().createElement(bg,null,a.renderRectanglesStatically(f))})}},{key:"renderRectangles",value:function(){var a=this.props,b=a.data,c=a.isAnimationActive,d=this.state.prevData;return c&&b&&b.length&&(!d||!ix()(d,b))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(b)}},{key:"renderBackground",value:function(){var a=this,b=this.props,c=b.data,d=b.dataKey,e=b.activeIndex,f=aY(this.props.background,!1);return c.map(function(b,c){b.value;var g=b.background,h=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(b,lJ);if(!g)return null;var i=lN(lN(lN(lN(lN({},h),{},{fill:"#eee"},g),f),aJ(a.props,b,c)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:d,index:c,className:"recharts-bar-background-rectangle"});return s().createElement(lH,lL({key:"background-bar-".concat(c),option:a.props.background,isActive:c===e},i))})}},{key:"renderErrorBar",value:function(a,b){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var c=this.props,d=c.data,e=c.xAxis,f=c.yAxis,g=c.layout,h=aT(c.children,jp);if(!h)return null;var i="vertical"===g?d[0].height/2:d[0].width/2,j=function(a,b){var c=Array.isArray(a.value)?a.value[1]:a.value;return{x:a.x,y:a.y,value:c,errorVal:jA(a,b)}};return s().createElement(bg,{clipPath:a?"url(#clipPath-".concat(b,")"):null},h.map(function(a){return s().cloneElement(a,{key:"error-bar-".concat(b,"-").concat(a.props.dataKey),data:d,xAxis:e,yAxis:f,layout:g,offset:i,dataPointFormatter:j})}))}},{key:"render",value:function(){var a=this.props,b=a.hide,c=a.data,d=a.className,e=a.xAxis,f=a.yAxis,g=a.left,h=a.top,i=a.width,j=a.height,k=a.isAnimationActive,l=a.background,m=a.id;if(b||!c||!c.length)return null;var n=this.state.isAnimationFinished,o=Z("recharts-bar",d),p=e&&e.allowDataOverflow,q=f&&f.allowDataOverflow,r=p||q,t=aj()(m)?this.id:m;return s().createElement(bg,{className:o},p||q?s().createElement("defs",null,s().createElement("clipPath",{id:"clipPath-".concat(t)},s().createElement("rect",{x:p?g:g-i/2,y:q?h:h-j/2,width:p?i:2*i,height:q?j:2*j}))):null,s().createElement(bg,{className:"recharts-bar-rectangles",clipPath:r?"url(#clipPath-".concat(t,")"):null},l?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(r,t),(!k||n)&&k3.renderCallByParent(this.props,c))}}],c=[{key:"getDerivedStateFromProps",value:function(a,b){return a.animationId!==b.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:b.curData}:a.data!==b.curData?{curData:a.data}:null}}],b&&lO(d.prototype,b),c&&lO(d,c),Object.defineProperty(d,"prototype",{writable:!1}),d}(r.PureComponent);function lV(a){return(lV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function lW(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,l$(d.key),d)}}function lX(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function lY(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?lX(Object(c),!0).forEach(function(b){lZ(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):lX(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function lZ(a,b,c){return(b=l$(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function l$(a){var b=function(a,b){if("object"!=lV(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=lV(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==lV(b)?b:b+""}lS(lU,"displayName","Bar"),lS(lU,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!bC.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),lS(lU,"getComposedData",function(a){var b=a.props,c=a.item,d=a.barPosition,e=a.bandSize,f=a.xAxis,g=a.yAxis,h=a.xAxisTicks,i=a.yAxisTicks,j=a.stackedData,k=a.dataStartIndex,l=a.displayedData,m=a.offset,n=jR(d,c);if(!n)return null;var o=b.layout,p=c.type.defaultProps,q=void 0!==p?lN(lN({},p),c.props):c.props,r=q.dataKey,s=q.children,t=q.minPointSize,u="horizontal"===o?g:f,v=j?u.scale.domain():null,w=jZ({numericAxis:u}),x=aT(s,kT),y=l.map(function(a,b){j?l=jS(j[k+b],v):Array.isArray(l=jA(a,r))||(l=[w,l]);var d=lI(t,lU.defaultProps.minPointSize)(l[1],b);if("horizontal"===o){var l,m,p,q,s,u,y,z=[g.scale(l[0]),g.scale(l[1])],A=z[0],B=z[1];m=jY({axis:f,ticks:h,bandSize:e,offset:n.offset,entry:a,index:b}),p=null!=(y=null!=B?B:A)?y:void 0,q=n.size;var C=A-B;if(s=Number.isNaN(C)?0:C,u={x:m,y:g.y,width:q,height:g.height},Math.abs(d)>0&&Math.abs(s)<Math.abs(d)){var D=ak(s||d)*(Math.abs(d)-Math.abs(s));p-=D,s+=D}}else{var E=[f.scale(l[0]),f.scale(l[1])],F=E[0],G=E[1];if(m=F,p=jY({axis:g,ticks:i,bandSize:e,offset:n.offset,entry:a,index:b}),q=G-F,s=n.size,u={x:f.x,y:p,width:f.width,height:s},Math.abs(d)>0&&Math.abs(q)<Math.abs(d)){var H=ak(q||d)*(Math.abs(d)-Math.abs(q));q+=H}}return lN(lN(lN({},a),{},{x:m,y:p,width:q,height:s,value:j?l:l[1],payload:a,background:u},x&&x[b]&&x[b].props),{},{tooltipPayload:[j5(c,a)],tooltipPosition:{x:m+q/2,y:p+s/2}})});return lN({data:y,layout:o},m)});var l_=function(a,b,c,d,e){var f=a.width,g=a.height,h=a.layout,i=a.children,j=Object.keys(b),k={left:c.left,leftMirror:c.left,right:f-c.right,rightMirror:f-c.right,top:c.top,topMirror:c.top,bottom:g-c.bottom,bottomMirror:g-c.bottom},l=!!aU(i,lU);return j.reduce(function(f,g){var i,j,m,n,o,p=b[g],q=p.orientation,r=p.domain,s=p.padding,t=void 0===s?{}:s,u=p.mirror,v=p.reversed,w="".concat(q).concat(u?"Mirror":"");if("number"===p.type&&("gap"===p.padding||"no-gap"===p.padding)){var x=r[1]-r[0],y=1/0,z=p.categoricalDomain.sort(av);if(z.forEach(function(a,b){b>0&&(y=Math.min((a||0)-(z[b-1]||0),y))}),Number.isFinite(y)){var A=y/x,B="vertical"===p.layout?c.height:c.width;if("gap"===p.padding&&(i=A*B/2),"no-gap"===p.padding){var C=aq(a.barCategoryGap,A*B),D=A*B/2;i=D-C-(D-C)/B*C}}}j="xAxis"===d?[c.left+(t.left||0)+(i||0),c.left+c.width-(t.right||0)-(i||0)]:"yAxis"===d?"horizontal"===h?[c.top+c.height-(t.bottom||0),c.top+(t.top||0)]:[c.top+(t.top||0)+(i||0),c.top+c.height-(t.bottom||0)-(i||0)]:p.range,v&&(j=[j[1],j[0]]);var E=jP(p,e,l),F=E.scale,G=E.realScaleType;F.domain(r).range(j),jQ(F);var H=jW(F,lY(lY({},p),{},{realScaleType:G}));"xAxis"===d?(o="top"===q&&!u||"bottom"===q&&u,m=c.left,n=k[w]-o*p.height):"yAxis"===d&&(o="left"===q&&!u||"right"===q&&u,m=k[w]-o*p.width,n=c.top);var I=lY(lY(lY({},p),H),{},{realScaleType:G,x:m,y:n,scale:F,width:"xAxis"===d?c.width:p.width,height:"yAxis"===d?c.height:p.height});return I.bandSize=j3(I,H),p.hide||"xAxis"!==d?p.hide||(k[w]+=(o?-1:1)*I.width):k[w]+=(o?-1:1)*I.height,lY(lY({},f),{},lZ({},g,I))},{})},l0=function(a,b){var c=a.x,d=a.y,e=b.x,f=b.y;return{x:Math.min(c,e),y:Math.min(d,f),width:Math.abs(e-c),height:Math.abs(f-d)}},l1=function(){var a,b;function c(a){if(!(this instanceof c))throw TypeError("Cannot call a class as a function");this.scale=a}return a=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=b.bandAware,d=b.position;if(void 0!==a){if(d)switch(d){case"start":default:return this.scale(a);case"middle":var e=this.bandwidth?this.bandwidth()/2:0;return this.scale(a)+e;case"end":var f=this.bandwidth?this.bandwidth():0;return this.scale(a)+f}if(c){var g=this.bandwidth?this.bandwidth()/2:0;return this.scale(a)+g}return this.scale(a)}}},{key:"isInRange",value:function(a){var b=this.range(),c=b[0],d=b[b.length-1];return c<=d?a>=c&&a<=d:a>=d&&a<=c}}],b=[{key:"create",value:function(a){return new c(a)}}],a&&lW(c.prototype,a),b&&lW(c,b),Object.defineProperty(c,"prototype",{writable:!1}),c}();lZ(l1,"EPS",1e-4);var l2=function(a){var b=Object.keys(a).reduce(function(b,c){return lY(lY({},b),{},lZ({},c,l1.create(a[c])))},{});return lY(lY({},b),{},{apply:function(a){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=c.bandAware,e=c.position;return kQ()(a,function(a,c){return b[c].apply(a,{bandAware:d,position:e})})},isInRange:function(a){return kS()(a,function(a,c){return b[c].isInRange(a)})}})},l3=function(a){var b=a.width,c=a.height,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(d%180+180)%180*Math.PI/180,f=Math.atan(c/b);return Math.abs(e>f&&e<Math.PI-f?c/Math.sin(e):b/Math.cos(e))};function l4(){return(l4=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function l5(a){return(l5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function l6(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function l7(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?l6(Object(c),!0).forEach(function(b){mb(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):l6(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function l8(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(l8=function(){return!!a})()}function l9(a){return(l9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function ma(a,b){return(ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function mb(a,b,c){return(b=mc(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function mc(a){var b=function(a,b){if("object"!=l5(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=l5(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==l5(b)?b:b+""}var md=function(a){var b=a.x,c=a.y,d=a.xAxis,e=a.yAxis,f=l2({x:d.scale,y:e.scale}),g=f.apply({x:b,y:c},{bandAware:!0});return kO(a,"discard")&&!f.isInRange(g)?null:g},me=function(a){var b;function c(){var a,b;if(!(this instanceof c))throw TypeError("Cannot call a class as a function");return a=c,b=arguments,a=l9(a),function(a,b){if(b&&("object"===l5(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,l8()?Reflect.construct(a,b||[],l9(this).constructor):a.apply(this,b))}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),a&&ma(c,a),b=[{key:"render",value:function(){var a=this.props,b=a.x,d=a.y,e=a.r,f=a.alwaysShow,g=a.clipPathId,h=an(b),i=an(d);if(aw(void 0===f,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!i)return null;var j=md(this.props);if(!j)return null;var k=j.x,l=j.y,m=this.props,n=m.shape,o=m.className,p=l7(l7({clipPath:kO(this.props,"hidden")?"url(#".concat(g,")"):void 0},aY(this.props,!0)),{},{cx:k,cy:l});return s().createElement(bg,{className:Z("recharts-reference-dot",o)},c.renderDot(n,p),kM.renderCallByParent(this.props,{x:k-e,y:l-e,width:2*e,height:2*e}))}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,mc(d.key),d)}}(c.prototype,b),Object.defineProperty(c,"prototype",{writable:!1}),c}(s().Component);mb(me,"displayName","ReferenceDot"),mb(me,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),mb(me,"renderDot",function(a,b){return s().isValidElement(a)?s().cloneElement(a,b):ay()(a)?a(b):s().createElement(cH,l4({},b,{cx:b.cx,cy:b.cy,className:"recharts-reference-dot-dot"}))});var mf=c(84678),mg=c.n(mf),mh=c(28925),mi=c.n(mh),mj=c(86280),mk=c.n(mj)()(function(a){return{x:a.left,y:a.top,width:a.width,height:a.height}},function(a){return"l"+a.left+"t"+a.top+"w"+a.width+"h"+a.height}),ml=(0,r.createContext)(void 0),mm=(0,r.createContext)(void 0),mn=(0,r.createContext)(void 0),mo=(0,r.createContext)({}),mp=(0,r.createContext)(void 0),mq=(0,r.createContext)(0),mr=(0,r.createContext)(0),ms=function(a){var b=a.state,c=b.xAxisMap,d=b.yAxisMap,e=b.offset,f=a.clipPathId,g=a.children,h=a.width,i=a.height,j=mk(e);return s().createElement(ml.Provider,{value:c},s().createElement(mm.Provider,{value:d},s().createElement(mo.Provider,{value:e},s().createElement(mn.Provider,{value:j},s().createElement(mp.Provider,{value:f},s().createElement(mq.Provider,{value:i},s().createElement(mr.Provider,{value:h},g)))))))},mt=function(a){var b=(0,r.useContext)(ml);null==b&&ba(!1);var c=b[a];return null==c&&ba(!1),c},mu=function(){var a=(0,r.useContext)(mm);return mi()(a,function(a){return kS()(a.domain,Number.isFinite)})||ar(a)},mv=function(a){var b=(0,r.useContext)(mm);null==b&&ba(!1);var c=b[a];return null==c&&ba(!1),c},mw=function(){return(0,r.useContext)(mr)},mx=function(){return(0,r.useContext)(mq)};function my(a){return(my="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function mz(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(mz=function(){return!!a})()}function mA(a){return(mA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function mB(a,b){return(mB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function mC(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function mD(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?mC(Object(c),!0).forEach(function(b){mE(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):mC(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function mE(a,b,c){return(b=mF(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function mF(a){var b=function(a,b){if("object"!=my(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=my(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==my(b)?b:b+""}function mG(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function mH(){return(mH=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var mI=function(a,b){return s().isValidElement(a)?s().cloneElement(a,b):ay()(a)?a(b):s().createElement("line",mH({},b,{className:"recharts-reference-line-line"}))},mJ=function(a,b,c,d,e,f,g,h,i){var j=e.x,k=e.y,l=e.width,m=e.height;if(c){var n=i.y,o=a.y.apply(n,{position:f});if(kO(i,"discard")&&!a.y.isInRange(o))return null;var p=[{x:j+l,y:o},{x:j,y:o}];return"left"===h?p.reverse():p}if(b){var q=i.x,r=a.x.apply(q,{position:f});if(kO(i,"discard")&&!a.x.isInRange(r))return null;var s=[{x:r,y:k+m},{x:r,y:k}];return"top"===g?s.reverse():s}if(d){var t=i.segment.map(function(b){return a.apply(b,{position:f})});return kO(i,"discard")&&mg()(t,function(b){return!a.isInRange(b)})?null:t}return null};function mK(a){var b,c=a.x,d=a.y,e=a.segment,f=a.xAxisId,g=a.yAxisId,h=a.shape,i=a.className,j=a.alwaysShow,k=(0,r.useContext)(mp),l=mt(f),m=mv(g),n=(0,r.useContext)(mn);if(!k||!n)return null;aw(void 0===j,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var o=mJ(l2({x:l.scale,y:m.scale}),an(c),an(d),e&&2===e.length,n,a.position,l.orientation,m.orientation,a);if(!o)return null;var p=function(a){if(Array.isArray(a))return a}(o)||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{f=(c=c.call(a)).next,!1;for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(o,2)||function(a,b){if(a){if("string"==typeof a)return mG(a,2);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return mG(a,b)}}(o,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),q=p[0],t=q.x,u=q.y,v=p[1],w=v.x,x=v.y,y=mD(mD({clipPath:kO(a,"hidden")?"url(#".concat(k,")"):void 0},aY(a,!0)),{},{x1:t,y1:u,x2:w,y2:x});return s().createElement(bg,{className:Z("recharts-reference-line",i)},mI(h,y),kM.renderCallByParent(a,l0({x:(b={x1:t,y1:u,x2:w,y2:x}).x1,y:b.y1},{x:b.x2,y:b.y2})))}var mL=function(a){var b;function c(){var a,b;if(!(this instanceof c))throw TypeError("Cannot call a class as a function");return a=c,b=arguments,a=mA(a),function(a,b){if(b&&("object"===my(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,mz()?Reflect.construct(a,b||[],mA(this).constructor):a.apply(this,b))}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),a&&mB(c,a),b=[{key:"render",value:function(){return s().createElement(mK,this.props)}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,mF(d.key),d)}}(c.prototype,b),Object.defineProperty(c,"prototype",{writable:!1}),c}(s().Component);function mM(){return(mM=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function mN(a){return(mN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function mO(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function mP(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?mO(Object(c),!0).forEach(function(b){mT(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):mO(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}mE(mL,"displayName","ReferenceLine"),mE(mL,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function mQ(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(mQ=function(){return!!a})()}function mR(a){return(mR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function mS(a,b){return(mS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function mT(a,b,c){return(b=mU(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function mU(a){var b=function(a,b){if("object"!=mN(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=mN(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==mN(b)?b:b+""}var mV=function(a,b,c,d,e){var f=e.x1,g=e.x2,h=e.y1,i=e.y2,j=e.xAxis,k=e.yAxis;if(!j||!k)return null;var l=l2({x:j.scale,y:k.scale}),m={x:a?l.x.apply(f,{position:"start"}):l.x.rangeMin,y:c?l.y.apply(h,{position:"start"}):l.y.rangeMin},n={x:b?l.x.apply(g,{position:"end"}):l.x.rangeMax,y:d?l.y.apply(i,{position:"end"}):l.y.rangeMax};return!kO(e,"discard")||l.isInRange(m)&&l.isInRange(n)?l0(m,n):null},mW=function(a){var b;function c(){var a,b;if(!(this instanceof c))throw TypeError("Cannot call a class as a function");return a=c,b=arguments,a=mR(a),function(a,b){if(b&&("object"===mN(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,mQ()?Reflect.construct(a,b||[],mR(this).constructor):a.apply(this,b))}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),a&&mS(c,a),b=[{key:"render",value:function(){var a=this.props,b=a.x1,d=a.x2,e=a.y1,f=a.y2,g=a.className,h=a.alwaysShow,i=a.clipPathId;aw(void 0===h,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var j=an(b),k=an(d),l=an(e),m=an(f),n=this.props.shape;if(!j&&!k&&!l&&!m&&!n)return null;var o=mV(j,k,l,m,this.props);if(!o&&!n)return null;var p=kO(this.props,"hidden")?"url(#".concat(i,")"):void 0;return s().createElement(bg,{className:Z("recharts-reference-area",g)},c.renderRect(n,mP(mP({clipPath:p},aY(this.props,!0)),o)),kM.renderCallByParent(this.props,o))}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,mU(d.key),d)}}(c.prototype,b),Object.defineProperty(c,"prototype",{writable:!1}),c}(s().Component);function mX(a){return function(a){if(Array.isArray(a))return mY(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function(a,b){if(a){if("string"==typeof a)return mY(a,void 0);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return mY(a,b)}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mY(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}mT(mW,"displayName","ReferenceArea"),mT(mW,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),mT(mW,"renderRect",function(a,b){return s().isValidElement(a)?s().cloneElement(a,b):ay()(a)?a(b):s().createElement(d_,mM({},b,{className:"recharts-reference-area-rect"}))});var mZ=function(a,b,c,d,e){var f=aT(a,mL),g=aT(a,me),h=[].concat(mX(f),mX(g)),i=aT(a,mW),j="".concat(d,"Id"),k=d[0],l=b;if(h.length&&(l=h.reduce(function(a,b){if(b.props[j]===c&&kO(b.props,"extendDomain")&&am(b.props[k])){var d=b.props[k];return[Math.min(a[0],d),Math.max(a[1],d)]}return a},l)),i.length){var m="".concat(k,"1"),n="".concat(k,"2");l=i.reduce(function(a,b){if(b.props[j]===c&&kO(b.props,"extendDomain")&&am(b.props[m])&&am(b.props[n])){var d=b.props[m],e=b.props[n];return[Math.min(a[0],d,e),Math.max(a[1],d,e)]}return a},l)}return e&&e.length&&(l=e.reduce(function(a,b){return am(b)?[Math.min(a[0],b),Math.max(a[1],b)]:a},l)),l},m$=c(85964),m_=new(c.n(m$)()),m0="recharts.syncMouseEvents";function m1(a){return(m1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function m2(a,b,c){return(b=m3(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m3(a){var b=function(a,b){if("object"!=m1(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=m1(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==m1(b)?b:b+""}var m4=function(){var a,b;return a=function a(){if(!(this instanceof a))throw TypeError("Cannot call a class as a function");m2(this,"activeIndex",0),m2(this,"coordinateList",[]),m2(this,"layout","horizontal")},b=[{key:"setDetails",value:function(a){var b,c=a.coordinateList,d=void 0===c?null:c,e=a.container,f=void 0===e?null:e,g=a.layout,h=void 0===g?null:g,i=a.offset,j=void 0===i?null:i,k=a.mouseHandlerCallback,l=void 0===k?null:k;this.coordinateList=null!=(b=null!=d?d:this.coordinateList)?b:[],this.container=null!=f?f:this.container,this.layout=null!=h?h:this.layout,this.offset=null!=j?j:this.offset,this.mouseHandlerCallback=null!=l?l:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(a){if(0!==this.coordinateList.length)switch(a.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(a){this.activeIndex=a}},{key:"spoofMouse",value:function(){if("horizontal"===this.layout&&0!==this.coordinateList.length){var a,b,c=this.container.getBoundingClientRect(),d=c.x,e=c.y,f=c.height,g=this.coordinateList[this.activeIndex].coordinate,h=(null==(a=window)?void 0:a.scrollX)||0,i=(null==(b=window)?void 0:b.scrollY)||0,j=e+this.offset.top+f/2+i;this.mouseHandlerCallback({pageX:d+g+h,pageY:j})}}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,m3(d.key),d)}}(a.prototype,b),Object.defineProperty(a,"prototype",{writable:!1}),a}();function m5(){}function m6(a,b,c){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+b)/6,(a._y0+4*a._y1+c)/6)}function m7(a){this._context=a}function m8(a){this._context=a}function m9(a){this._context=a}m7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:m6(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:m6(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}},m8.prototype={areaStart:m5,areaEnd:m5,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._x2=a,this._y2=b;break;case 1:this._point=2,this._x3=a,this._y3=b;break;case 2:this._point=3,this._x4=a,this._y4=b,this._context.moveTo((this._x0+4*this._x1+a)/6,(this._y0+4*this._y1+b)/6);break;default:m6(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}},m9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var c=(this._x0+4*this._x1+a)/6,d=(this._y0+4*this._y1+b)/6;this._line?this._context.lineTo(c,d):this._context.moveTo(c,d);break;case 3:this._point=4;default:m6(this,a,b)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b}};class na{constructor(a,b){this._context=a,this._x=b}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+a)/2,this._y0,this._x0,b,a,b):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+b)/2,a,this._y0,a,b)}this._x0=a,this._y0=b}}function nb(a){this._context=a}function nc(a){this._context=a}function nd(a){return new nc(a)}nb.prototype={areaStart:m5,areaEnd:m5,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(a,b){a*=1,b*=1,this._point?this._context.lineTo(a,b):(this._point=1,this._context.moveTo(a,b))}};function ne(a,b,c){var d=a._x1-a._x0,e=b-a._x1,f=(a._y1-a._y0)/(d||e<0&&-0),g=(c-a._y1)/(e||d<0&&-0);return((f<0?-1:1)+(g<0?-1:1))*Math.min(Math.abs(f),Math.abs(g),.5*Math.abs((f*e+g*d)/(d+e)))||0}function nf(a,b){var c=a._x1-a._x0;return c?(3*(a._y1-a._y0)/c-b)/2:b}function ng(a,b,c){var d=a._x0,e=a._y0,f=a._x1,g=a._y1,h=(f-d)/3;a._context.bezierCurveTo(d+h,e+h*b,f-h,g-h*c,f,g)}function nh(a){this._context=a}function ni(a){this._context=new nj(a)}function nj(a){this._context=a}function nk(a){this._context=a}function nl(a){var b,c,d=a.length-1,e=Array(d),f=Array(d),g=Array(d);for(e[0]=0,f[0]=2,g[0]=a[0]+2*a[1],b=1;b<d-1;++b)e[b]=1,f[b]=4,g[b]=4*a[b]+2*a[b+1];for(e[d-1]=2,f[d-1]=7,g[d-1]=8*a[d-1]+a[d],b=1;b<d;++b)c=e[b]/f[b-1],f[b]-=c,g[b]-=c*g[b-1];for(e[d-1]=g[d-1]/f[d-1],b=d-2;b>=0;--b)e[b]=(g[b]-e[b+1])/f[b];for(b=0,f[d-1]=(a[d]+e[d-1])/2;b<d-1;++b)f[b]=2*a[b+1]-e[b+1];return[e,f]}function nm(a,b){this._context=a,this._t=b}function nn(a){return a[0]}function no(a){return a[1]}function np(a,b){var c=b5(!0),d=null,e=nd,f=null,g=cb(h);function h(h){var i,j,k,l=(h=ib(h)).length,m=!1;for(null==d&&(f=e(k=g())),i=0;i<=l;++i)!(i<l&&c(j=h[i],i,h))===m&&((m=!m)?f.lineStart():f.lineEnd()),m&&f.point(+a(j,i,h),+b(j,i,h));if(k)return f=null,k+""||null}return a="function"==typeof a?a:void 0===a?nn:b5(a),b="function"==typeof b?b:void 0===b?no:b5(b),h.x=function(b){return arguments.length?(a="function"==typeof b?b:b5(+b),h):a},h.y=function(a){return arguments.length?(b="function"==typeof a?a:b5(+a),h):b},h.defined=function(a){return arguments.length?(c="function"==typeof a?a:b5(!!a),h):c},h.curve=function(a){return arguments.length?(e=a,null!=d&&(f=e(d)),h):e},h.context=function(a){return arguments.length?(null==a?d=f=null:f=e(d=a),h):d},h}function nq(a,b,c){var d=null,e=b5(!0),f=null,g=nd,h=null,i=cb(j);function j(j){var k,l,m,n,o,p=(j=ib(j)).length,q=!1,r=Array(p),s=Array(p);for(null==f&&(h=g(o=i())),k=0;k<=p;++k){if(!(k<p&&e(n=j[k],k,j))===q)if(q=!q)l=k,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),m=k-1;m>=l;--m)h.point(r[m],s[m]);h.lineEnd(),h.areaEnd()}q&&(r[k]=+a(n,k,j),s[k]=+b(n,k,j),h.point(d?+d(n,k,j):r[k],c?+c(n,k,j):s[k]))}if(o)return h=null,o+""||null}function k(){return np().defined(e).curve(g).context(f)}return a="function"==typeof a?a:void 0===a?nn:b5(+a),b="function"==typeof b?b:void 0===b?b5(0):b5(+b),c="function"==typeof c?c:void 0===c?no:b5(+c),j.x=function(b){return arguments.length?(a="function"==typeof b?b:b5(+b),d=null,j):a},j.x0=function(b){return arguments.length?(a="function"==typeof b?b:b5(+b),j):a},j.x1=function(a){return arguments.length?(d=null==a?null:"function"==typeof a?a:b5(+a),j):d},j.y=function(a){return arguments.length?(b="function"==typeof a?a:b5(+a),c=null,j):b},j.y0=function(a){return arguments.length?(b="function"==typeof a?a:b5(+a),j):b},j.y1=function(a){return arguments.length?(c=null==a?null:"function"==typeof a?a:b5(+a),j):c},j.lineX0=j.lineY0=function(){return k().x(a).y(b)},j.lineY1=function(){return k().x(a).y(c)},j.lineX1=function(){return k().x(d).y(b)},j.defined=function(a){return arguments.length?(e="function"==typeof a?a:b5(!!a),j):e},j.curve=function(a){return arguments.length?(g=a,null!=f&&(h=g(f)),j):g},j.context=function(a){return arguments.length?(null==a?f=h=null:h=g(f=a),j):f},j}function nr(a){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function ns(){return(ns=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function nt(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function nu(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?nt(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=nr(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=nr(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==nr(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):nt(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}nc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:this._context.lineTo(a,b)}}},nh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ng(this,this._t0,nf(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(a,b){var c=NaN;if(b*=1,(a*=1)!==this._x1||b!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3,ng(this,nf(this,c=ne(this,a,b)),c);break;default:ng(this,this._t0,c=ne(this,a,b))}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=b,this._t0=c}}},(ni.prototype=Object.create(nh.prototype)).point=function(a,b){nh.prototype.point.call(this,b,a)},nj.prototype={moveTo:function(a,b){this._context.moveTo(b,a)},closePath:function(){this._context.closePath()},lineTo:function(a,b){this._context.lineTo(b,a)},bezierCurveTo:function(a,b,c,d,e,f){this._context.bezierCurveTo(b,a,d,c,f,e)}},nk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var a=this._x,b=this._y,c=a.length;if(c)if(this._line?this._context.lineTo(a[0],b[0]):this._context.moveTo(a[0],b[0]),2===c)this._context.lineTo(a[1],b[1]);else for(var d=nl(a),e=nl(b),f=0,g=1;g<c;++f,++g)this._context.bezierCurveTo(d[0][f],e[0][f],d[1][f],e[1][f],a[g],b[g]);(this._line||0!==this._line&&1===c)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(a,b){this._x.push(+a),this._y.push(+b)}},nm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(a,b){switch(a*=1,b*=1,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,b),this._context.lineTo(a,b);else{var c=this._x*(1-this._t)+a*this._t;this._context.lineTo(c,this._y),this._context.lineTo(c,b)}}this._x=a,this._y=b}};var nv={curveBasisClosed:function(a){return new m8(a)},curveBasisOpen:function(a){return new m9(a)},curveBasis:function(a){return new m7(a)},curveBumpX:function(a){return new na(a,!0)},curveBumpY:function(a){return new na(a,!1)},curveLinearClosed:function(a){return new nb(a)},curveLinear:nd,curveMonotoneX:function(a){return new nh(a)},curveMonotoneY:function(a){return new ni(a)},curveNatural:function(a){return new nk(a)},curveStep:function(a){return new nm(a,.5)},curveStepAfter:function(a){return new nm(a,1)},curveStepBefore:function(a){return new nm(a,0)}},nw=function(a){return a.x===+a.x&&a.y===+a.y},nx=function(a){return a.x},ny=function(a){return a.y},nz=function(a,b){if(ay()(a))return a;var c="curve".concat(bR()(a));return("curveMonotone"===c||"curveBump"===c)&&b?nv["".concat(c).concat("vertical"===b?"Y":"X")]:nv[c]||nd},nA=function(a){var b,c=a.type,d=a.points,e=void 0===d?[]:d,f=a.baseLine,g=a.layout,h=a.connectNulls,i=void 0!==h&&h,j=nz(void 0===c?"linear":c,g),k=i?e.filter(function(a){return nw(a)}):e;if(Array.isArray(f)){var l=i?f.filter(function(a){return nw(a)}):f,m=k.map(function(a,b){return nu(nu({},a),{},{base:l[b]})});return(b="vertical"===g?nq().y(ny).x1(nx).x0(function(a){return a.base.x}):nq().x(nx).y1(ny).y0(function(a){return a.base.y})).defined(nw).curve(j),b(m)}return(b="vertical"===g&&am(f)?nq().y(ny).x1(nx).x0(f):am(f)?nq().x(nx).y1(ny).y0(f):np().x(nx).y(ny)).defined(nw).curve(j),b(k)},nB=function(a){var b=a.className,c=a.points,d=a.path,e=a.pathRef;if((!c||!c.length)&&!d)return null;var f=c&&c.length?nA(a):d;return r.createElement("path",ns({},aY(a,!1),aI(a),{className:Z("recharts-curve",b),d:f,ref:e}))};function nC(a){return(nC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var nD=["x","y","top","left","width","height","className"];function nE(){return(nE=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function nF(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}var nG=function(a){var b=a.x,c=void 0===b?0:b,d=a.y,e=void 0===d?0:d,f=a.top,g=void 0===f?0:f,h=a.left,i=void 0===h?0:h,j=a.width,k=void 0===j?0:j,l=a.height,m=void 0===l?0:l,n=a.className,o=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?nF(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=nC(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=nC(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==nC(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):nF(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}({x:c,y:e,top:g,left:i,width:k,height:m},function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,nD));return am(c)&&am(e)&&am(k)&&am(m)&&am(g)&&am(i)?s().createElement("path",nE({},aY(o,!0),{className:Z("recharts-cross",n),d:"M".concat(c,",").concat(g,"v").concat(m,"M").concat(i,",").concat(e,"h").concat(k)})):null};function nH(a){var b=a.cx,c=a.cy,d=a.radius,e=a.startAngle,f=a.endAngle;return{points:[kv(b,c,d,e),kv(b,c,d,f)],cx:b,cy:c,radius:d,startAngle:e,endAngle:f}}function nI(a){return(nI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function nJ(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function nK(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?nJ(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=nI(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=nI(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==nI(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):nJ(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function nL(a){var b,c,d,e,f=a.element,g=a.tooltipEventType,h=a.isActive,i=a.activeCoordinate,j=a.activePayload,k=a.offset,l=a.activeTooltipIndex,m=a.tooltipAxisBandSize,n=a.layout,o=a.chartName,p=null!=(c=f.props.cursor)?c:null==(d=f.type.defaultProps)?void 0:d.cursor;if(!f||!p||!h||!i||"ScatterChart"!==o&&"axis"!==g)return null;var q=nB;if("ScatterChart"===o)e=i,q=nG;else if("BarChart"===o)b=m/2,e={stroke:"none",fill:"#ccc",x:"horizontal"===n?i.x-b:k.left+.5,y:"horizontal"===n?k.top+.5:i.y-b,width:"horizontal"===n?m:k.width-1,height:"horizontal"===n?k.height-1:m},q=d_;else if("radial"===n){var s=nH(i),t=s.cx,u=s.cy,v=s.radius;e={cx:t,cy:u,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:v,outerRadius:v},q=lo}else e={points:function(a,b,c){var d,e,f,g;if("horizontal"===a)f=d=b.x,e=c.top,g=c.top+c.height;else if("vertical"===a)g=e=b.y,d=c.left,f=c.left+c.width;else if(null!=b.cx&&null!=b.cy)if("centric"!==a)return nH(b);else{var h=b.cx,i=b.cy,j=b.innerRadius,k=b.outerRadius,l=b.angle,m=kv(h,i,j,l),n=kv(h,i,k,l);d=m.x,e=m.y,f=n.x,g=n.y}return[{x:d,y:e},{x:f,y:g}]}(n,i,k)},q=nB;var w=nK(nK(nK(nK({stroke:"#ccc",pointerEvents:"none"},k),e),aY(p,!1)),{},{payload:j,payloadIndex:l,className:Z("recharts-tooltip-cursor",p.className)});return(0,r.isValidElement)(p)?(0,r.cloneElement)(p,w):(0,r.createElement)(q,w)}var nM=["item"],nN=["children","className","width","height","style","compact","title","desc"];function nO(a){return(nO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function nP(){return(nP=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function nQ(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{if(f=(c=c.call(a)).next,0===b){if(Object(c)!==c)return;i=!1}else for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(a,b)||nW(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nR(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function nS(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(nS=function(){return!!a})()}function nT(a){return(nT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function nU(a,b){return(nU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function nV(a){return function(a){if(Array.isArray(a))return nX(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||nW(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nW(a,b){if(a){if("string"==typeof a)return nX(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return nX(a,b)}}function nX(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function nY(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function nZ(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?nY(Object(c),!0).forEach(function(b){n$(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):nY(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function n$(a,b,c){return(b=n_(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function n_(a){var b=function(a,b){if("object"!=nO(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=nO(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==nO(b)?b:b+""}var n0={xAxis:["bottom","top"],yAxis:["left","right"]},n1={width:"100%",height:"100%"},n2={x:0,y:0};function n3(a){return a}var n4=function(a,b,c,d){var e=b.find(function(a){return a&&a.index===c});if(e){if("horizontal"===a)return{x:e.coordinate,y:d.y};if("vertical"===a)return{x:d.x,y:e.coordinate};if("centric"===a){var f=e.coordinate,g=d.radius;return nZ(nZ(nZ({},d),kv(d.cx,d.cy,g,f)),{},{angle:f,radius:g})}var h=e.coordinate,i=d.angle;return nZ(nZ(nZ({},d),kv(d.cx,d.cy,h,i)),{},{angle:i,radius:h})}return n2},n5=function(a,b){var c=b.graphicalItems,d=b.dataStartIndex,e=b.dataEndIndex,f=(null!=c?c:[]).reduce(function(a,b){var c=b.props.data;return c&&c.length?[].concat(nV(a),nV(c)):a},[]);return f.length>0?f:a&&a.length&&am(d)&&am(e)?a.slice(d,e+1):[]};function n6(a){return"number"===a?[0,"auto"]:void 0}var n7=function(a,b,c,d){var e=a.graphicalItems,f=a.tooltipAxis,g=n5(b,a);return c<0||!e||!e.length||c>=g.length?null:e.reduce(function(e,h){var i,j,k=null!=(i=h.props.data)?i:b;return(k&&a.dataStartIndex+a.dataEndIndex!==0&&a.dataEndIndex-a.dataStartIndex>=c&&(k=k.slice(a.dataStartIndex,a.dataEndIndex+1)),j=f.dataKey&&!f.allowDuplicatedCategory?au(void 0===k?g:k,f.dataKey,d):k&&k[c]||g[c])?[].concat(nV(e),[j5(h,j)]):e},[])},n8=function(a,b,c,d){var e=d||{x:a.chartX,y:a.chartY},f="horizontal"===c?e.x:"vertical"===c?e.y:"centric"===c?e.angle:e.radius,g=a.orderedTooltipTicks,h=a.tooltipAxis,i=a.tooltipTicks,j=jC(f,g,i,h);if(j>=0&&i){var k=i[j]&&i[j].value,l=n7(a,b,j,k),m=n4(c,g,j,e);return{activeTooltipIndex:j,activeLabel:k,activePayload:l,activeCoordinate:m}}return null},n9=function(a,b){var c=b.axes,d=b.graphicalItems,e=b.axisType,f=b.axisIdKey,g=b.stackGroups,h=b.dataStartIndex,i=b.dataEndIndex,j=a.layout,k=a.children,l=a.stackOffset,m=jK(j,e);return c.reduce(function(b,c){var n=void 0!==c.type.defaultProps?nZ(nZ({},c.type.defaultProps),c.props):c.props,o=n.type,p=n.dataKey,q=n.allowDataOverflow,r=n.allowDuplicatedCategory,s=n.scale,t=n.ticks,u=n.includeHidden,v=n[f];if(b[v])return b;var w=n5(a.data,{graphicalItems:d.filter(function(a){var b;return(f in a.props?a.props[f]:null==(b=a.type.defaultProps)?void 0:b[f])===v}),dataStartIndex:h,dataEndIndex:i}),x=w.length;(function(a,b,c){if("number"===c&&!0===b&&Array.isArray(a)){var d=null==a?void 0:a[0],e=null==a?void 0:a[1];if(d&&e&&am(d)&&am(e))return!0}return!1})(n.domain,q,o)&&(A=j2(n.domain,null,q),m&&("number"===o||"auto"!==s)&&(C=jB(w,p,"category")));var y=n6(o);if(!A||0===A.length){var z,A,B,C,D,E=null!=(D=n.domain)?D:y;if(p){if(A=jB(w,p,o),"category"===o&&m){var F=as(A);r&&F?(B=A,A=a7()(0,x)):r||(A=j4(E,A,c).reduce(function(a,b){return a.indexOf(b)>=0?a:[].concat(nV(a),[b])},[]))}else if("category"===o)A=r?A.filter(function(a){return""!==a&&!aj()(a)}):j4(E,A,c).reduce(function(a,b){return a.indexOf(b)>=0||""===b||aj()(b)?a:[].concat(nV(a),[b])},[]);else if("number"===o){var G=jI(w,d.filter(function(a){var b,c,d=f in a.props?a.props[f]:null==(b=a.type.defaultProps)?void 0:b[f],e="hide"in a.props?a.props.hide:null==(c=a.type.defaultProps)?void 0:c.hide;return d===v&&(u||!e)}),p,e,j);G&&(A=G)}m&&("number"===o||"auto"!==s)&&(C=jB(w,p,"category"))}else A=m?a7()(0,x):g&&g[v]&&g[v].hasStack&&"number"===o?"expand"===l?[0,1]:j_(g[v].stackGroups,h,i):jJ(w,d.filter(function(a){var b=f in a.props?a.props[f]:a.type.defaultProps[f],c="hide"in a.props?a.props.hide:a.type.defaultProps.hide;return b===v&&(u||!c)}),o,j,!0);"number"===o?(A=mZ(k,A,v,e,t),E&&(A=j2(E,A,q))):"category"===o&&E&&A.every(function(a){return E.indexOf(a)>=0})&&(A=E)}return nZ(nZ({},b),{},n$({},v,nZ(nZ({},n),{},{axisType:e,domain:A,categoricalDomain:C,duplicateDomain:B,originalDomain:null!=(z=n.domain)?z:y,isCategorical:m,layout:j})))},{})},oa=function(a,b){var c=b.graphicalItems,d=b.Axis,e=b.axisType,f=b.axisIdKey,g=b.stackGroups,h=b.dataStartIndex,i=b.dataEndIndex,j=a.layout,k=a.children,l=n5(a.data,{graphicalItems:c,dataStartIndex:h,dataEndIndex:i}),m=l.length,n=jK(j,e),o=-1;return c.reduce(function(a,b){var p,q=(void 0!==b.type.defaultProps?nZ(nZ({},b.type.defaultProps),b.props):b.props)[f],r=n6("number");return a[q]?a:(o++,p=n?a7()(0,m):g&&g[q]&&g[q].hasStack?mZ(k,p=j_(g[q].stackGroups,h,i),q,e):mZ(k,p=j2(r,jJ(l,c.filter(function(a){var b,c,d=f in a.props?a.props[f]:null==(b=a.type.defaultProps)?void 0:b[f],e="hide"in a.props?a.props.hide:null==(c=a.type.defaultProps)?void 0:c.hide;return d===q&&!e}),"number",j),d.defaultProps.allowDataOverflow),q,e),nZ(nZ({},a),{},n$({},q,nZ(nZ({axisType:e},d.defaultProps),{},{hide:!0,orientation:af()(n0,"".concat(e,".").concat(o%2),null),domain:p,originalDomain:r,isCategorical:n,layout:j}))))},{})},ob=function(a,b){var c=b.axisType,d=void 0===c?"xAxis":c,e=b.AxisComp,f=b.graphicalItems,g=b.stackGroups,h=b.dataStartIndex,i=b.dataEndIndex,j=a.children,k="".concat(d,"Id"),l=aT(j,e),m={};return l&&l.length?m=n9(a,{axes:l,graphicalItems:f,axisType:d,axisIdKey:k,stackGroups:g,dataStartIndex:h,dataEndIndex:i}):f&&f.length&&(m=oa(a,{Axis:e,graphicalItems:f,axisType:d,axisIdKey:k,stackGroups:g,dataStartIndex:h,dataEndIndex:i})),m},oc=function(a){var b=ar(a),c=jM(b,!1,!0);return{tooltipTicks:c,orderedTooltipTicks:a9()(c,function(a){return a.coordinate}),tooltipAxis:b,tooltipAxisBandSize:j3(b,c)}},od=function(a){var b=a.children,c=a.defaultShowTooltip,d=aU(b,ko),e=0,f=0;return a.data&&0!==a.data.length&&(f=a.data.length-1),d&&d.props&&(d.props.startIndex>=0&&(e=d.props.startIndex),d.props.endIndex>=0&&(f=d.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:e,dataEndIndex:f,activeTooltipIndex:-1,isTooltipActive:!!c}},oe=function(a){return"horizontal"===a?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===a?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===a?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},of=function(a,b){var c=a.props,d=a.graphicalItems,e=a.xAxisMap,f=void 0===e?{}:e,g=a.yAxisMap,h=void 0===g?{}:g,i=c.width,j=c.height,k=c.children,l=c.margin||{},m=aU(k,ko),n=aU(k,cF),o=Object.keys(h).reduce(function(a,b){var c=h[b],d=c.orientation;return c.mirror||c.hide?a:nZ(nZ({},a),{},n$({},d,a[d]+c.width))},{left:l.left||0,right:l.right||0}),p=Object.keys(f).reduce(function(a,b){var c=f[b],d=c.orientation;return c.mirror||c.hide?a:nZ(nZ({},a),{},n$({},d,af()(a,"".concat(d))+c.height))},{top:l.top||0,bottom:l.bottom||0}),q=nZ(nZ({},p),o),r=q.bottom;m&&(q.bottom+=m.props.height||ko.defaultProps.height),n&&b&&(q=jG(q,d,c,b));var s=i-q.left-q.right,t=j-q.top-q.bottom;return nZ(nZ({brushBottom:r},q),{},{width:Math.max(s,0),height:Math.max(t,0)})},og=function(a){var b=a.chartName,c=a.GraphicalChild,d=a.defaultTooltipEventType,e=void 0===d?"axis":d,f=a.validateTooltipEventTypes,g=void 0===f?["axis"]:f,h=a.axisComponents,i=a.legendContent,j=a.formatAxisMap,k=a.defaultProps,l=function(a,b){var c=b.graphicalItems,d=b.stackGroups,e=b.offset,f=b.updateId,g=b.dataStartIndex,i=b.dataEndIndex,j=a.barSize,k=a.layout,l=a.barGap,m=a.barCategoryGap,n=a.maxBarSize,o=oe(k),p=o.numericAxisName,q=o.cateAxisName,r=!!c&&!!c.length&&c.some(function(a){var b=aP(a&&a.type);return b&&b.indexOf("Bar")>=0}),s=[];return c.forEach(function(c,o){var t=n5(a.data,{graphicalItems:[c],dataStartIndex:g,dataEndIndex:i}),u=void 0!==c.type.defaultProps?nZ(nZ({},c.type.defaultProps),c.props):c.props,v=u.dataKey,w=u.maxBarSize,x=u["".concat(p,"Id")],y=u["".concat(q,"Id")],z=h.reduce(function(a,c){var d=b["".concat(c.axisType,"Map")],e=u["".concat(c.axisType,"Id")];d&&d[e]||"zAxis"===c.axisType||ba(!1);var f=d[e];return nZ(nZ({},a),{},n$(n$({},c.axisType,f),"".concat(c.axisType,"Ticks"),jM(f)))},{}),A=z[q],B=z["".concat(q,"Ticks")],C=d&&d[x]&&d[x].hasStack&&j$(c,d[x].stackGroups),D=aP(c.type).indexOf("Bar")>=0,E=j3(A,B),F=[],G=r&&jE({barSize:j,stackGroups:d,totalSize:"xAxis"===q?z[q].width:"yAxis"===q?z[q].height:void 0});if(D){var H,I,J=aj()(w)?n:w,K=null!=(H=null!=(I=j3(A,B,!0))?I:J)?H:0;F=jF({barGap:l,barCategoryGap:m,bandSize:K!==E?K:E,sizeList:G[y],maxBarSize:J}),K!==E&&(F=F.map(function(a){return nZ(nZ({},a),{},{position:nZ(nZ({},a.position),{},{offset:a.position.offset-K/2})})}))}var L=c&&c.type&&c.type.getComposedData;L&&s.push({props:nZ(nZ({},L(nZ(nZ({},z),{},{displayedData:t,props:a,dataKey:v,item:c,bandSize:E,barPosition:F,offset:e,stackedData:C,layout:k,dataStartIndex:g,dataEndIndex:i}))),{},n$(n$(n$({key:c.key||"item-".concat(o)},p,z[p]),q,z[q]),"animationId",f)),childIndex:aS(a.children).indexOf(c),item:c})}),s},m=function(a,d){var e=a.props,f=a.dataStartIndex,g=a.dataEndIndex,i=a.updateId;if(!aV({props:e}))return null;var k=e.children,m=e.layout,n=e.stackOffset,o=e.data,p=e.reverseStackOrder,q=oe(m),r=q.numericAxisName,s=q.cateAxisName,t=aT(k,c),u=jV(o,t,"".concat(r,"Id"),"".concat(s,"Id"),n,p),v=h.reduce(function(a,b){var c="".concat(b.axisType,"Map");return nZ(nZ({},a),{},n$({},c,ob(e,nZ(nZ({},b),{},{graphicalItems:t,stackGroups:b.axisType===r&&u,dataStartIndex:f,dataEndIndex:g}))))},{}),w=of(nZ(nZ({},v),{},{props:e,graphicalItems:t}),null==d?void 0:d.legendBBox);Object.keys(v).forEach(function(a){v[a]=j(e,v[a],w,a.replace("Map",""),b)});var x=oc(v["".concat(s,"Map")]),y=l(e,nZ(nZ({},v),{},{dataStartIndex:f,dataEndIndex:g,updateId:i,graphicalItems:t,stackGroups:u,offset:w}));return nZ(nZ({formattedGraphicalItems:y,graphicalItems:t,offset:w,stackGroups:u},x),v)},n=function(a){var c;function d(a){var c,e,f,g,h;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");return g=d,h=[a],g=nT(g),n$(f=function(a,b){if(b&&("object"===nO(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,nS()?Reflect.construct(g,h||[],nT(this).constructor):g.apply(this,h)),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),n$(f,"accessibilityManager",new m4),n$(f,"handleLegendBBoxUpdate",function(a){if(a){var b=f.state,c=b.dataStartIndex,d=b.dataEndIndex,e=b.updateId;f.setState(nZ({legendBBox:a},m({props:f.props,dataStartIndex:c,dataEndIndex:d,updateId:e},nZ(nZ({},f.state),{},{legendBBox:a}))))}}),n$(f,"handleReceiveSyncEvent",function(a,b,c){f.props.syncId===a&&(c!==f.eventEmitterSymbol||"function"==typeof f.props.syncMethod)&&f.applySyncEvent(b)}),n$(f,"handleBrushChange",function(a){var b=a.startIndex,c=a.endIndex;if(b!==f.state.dataStartIndex||c!==f.state.dataEndIndex){var d=f.state.updateId;f.setState(function(){return nZ({dataStartIndex:b,dataEndIndex:c},m({props:f.props,dataStartIndex:b,dataEndIndex:c,updateId:d},f.state))}),f.triggerSyncEvent({dataStartIndex:b,dataEndIndex:c})}}),n$(f,"handleMouseEnter",function(a){var b=f.getMouseInfo(a);if(b){var c=nZ(nZ({},b),{},{isTooltipActive:!0});f.setState(c),f.triggerSyncEvent(c);var d=f.props.onMouseEnter;ay()(d)&&d(c,a)}}),n$(f,"triggeredAfterMouseMove",function(a){var b=f.getMouseInfo(a),c=b?nZ(nZ({},b),{},{isTooltipActive:!0}):{isTooltipActive:!1};f.setState(c),f.triggerSyncEvent(c);var d=f.props.onMouseMove;ay()(d)&&d(c,a)}),n$(f,"handleItemMouseEnter",function(a){f.setState(function(){return{isTooltipActive:!0,activeItem:a,activePayload:a.tooltipPayload,activeCoordinate:a.tooltipPosition||{x:a.cx,y:a.cy}}})}),n$(f,"handleItemMouseLeave",function(){f.setState(function(){return{isTooltipActive:!1}})}),n$(f,"handleMouseMove",function(a){a.persist(),f.throttleTriggeredAfterMouseMove(a)}),n$(f,"handleMouseLeave",function(a){f.throttleTriggeredAfterMouseMove.cancel();var b={isTooltipActive:!1};f.setState(b),f.triggerSyncEvent(b);var c=f.props.onMouseLeave;ay()(c)&&c(b,a)}),n$(f,"handleOuterEvent",function(a){var b,c=a0(a),d=af()(f.props,"".concat(c));c&&ay()(d)&&d(null!=(b=/.*touch.*/i.test(c)?f.getMouseInfo(a.changedTouches[0]):f.getMouseInfo(a))?b:{},a)}),n$(f,"handleClick",function(a){var b=f.getMouseInfo(a);if(b){var c=nZ(nZ({},b),{},{isTooltipActive:!0});f.setState(c),f.triggerSyncEvent(c);var d=f.props.onClick;ay()(d)&&d(c,a)}}),n$(f,"handleMouseDown",function(a){var b=f.props.onMouseDown;ay()(b)&&b(f.getMouseInfo(a),a)}),n$(f,"handleMouseUp",function(a){var b=f.props.onMouseUp;ay()(b)&&b(f.getMouseInfo(a),a)}),n$(f,"handleTouchMove",function(a){null!=a.changedTouches&&a.changedTouches.length>0&&f.throttleTriggeredAfterMouseMove(a.changedTouches[0])}),n$(f,"handleTouchStart",function(a){null!=a.changedTouches&&a.changedTouches.length>0&&f.handleMouseDown(a.changedTouches[0])}),n$(f,"handleTouchEnd",function(a){null!=a.changedTouches&&a.changedTouches.length>0&&f.handleMouseUp(a.changedTouches[0])}),n$(f,"handleDoubleClick",function(a){var b=f.props.onDoubleClick;ay()(b)&&b(f.getMouseInfo(a),a)}),n$(f,"handleContextMenu",function(a){var b=f.props.onContextMenu;ay()(b)&&b(f.getMouseInfo(a),a)}),n$(f,"triggerSyncEvent",function(a){void 0!==f.props.syncId&&m_.emit(m0,f.props.syncId,a,f.eventEmitterSymbol)}),n$(f,"applySyncEvent",function(a){var b=f.props,c=b.layout,d=b.syncMethod,e=f.state.updateId,g=a.dataStartIndex,h=a.dataEndIndex;if(void 0!==a.dataStartIndex||void 0!==a.dataEndIndex)f.setState(nZ({dataStartIndex:g,dataEndIndex:h},m({props:f.props,dataStartIndex:g,dataEndIndex:h,updateId:e},f.state)));else if(void 0!==a.activeTooltipIndex){var i=a.chartX,j=a.chartY,k=a.activeTooltipIndex,l=f.state,n=l.offset,o=l.tooltipTicks;if(!n)return;if("function"==typeof d)k=d(o,a);else if("value"===d){k=-1;for(var p=0;p<o.length;p++)if(o[p].value===a.activeLabel){k=p;break}}var q=nZ(nZ({},n),{},{x:n.left,y:n.top}),r=Math.min(i,q.x+q.width),s=Math.min(j,q.y+q.height),t=o[k]&&o[k].value,u=n7(f.state,f.props.data,k),v=o[k]?{x:"horizontal"===c?o[k].coordinate:r,y:"horizontal"===c?s:o[k].coordinate}:n2;f.setState(nZ(nZ({},a),{},{activeLabel:t,activeCoordinate:v,activePayload:u,activeTooltipIndex:k}))}else f.setState(a)}),n$(f,"renderCursor",function(a){var c,d=f.state,e=d.isTooltipActive,g=d.activeCoordinate,h=d.activePayload,i=d.offset,j=d.activeTooltipIndex,k=d.tooltipAxisBandSize,l=f.getTooltipEventType(),m=null!=(c=a.props.active)?c:e,n=f.props.layout,o=a.key||"_recharts-cursor";return s().createElement(nL,{key:o,activeCoordinate:g,activePayload:h,activeTooltipIndex:j,chartName:b,element:a,isActive:m,layout:n,offset:i,tooltipAxisBandSize:k,tooltipEventType:l})}),n$(f,"renderPolarAxis",function(a,b,c){var d=af()(a,"type.axisType"),e=af()(f.state,"".concat(d,"Map")),g=a.type.defaultProps,h=void 0!==g?nZ(nZ({},g),a.props):a.props,i=e&&e[h["".concat(d,"Id")]];return(0,r.cloneElement)(a,nZ(nZ({},i),{},{className:Z(d,i.className),key:a.key||"".concat(b,"-").concat(c),ticks:jM(i,!0)}))}),n$(f,"renderPolarGrid",function(a){var b=a.props,c=b.radialLines,d=b.polarAngles,e=b.polarRadius,g=f.state,h=g.radiusAxisMap,i=g.angleAxisMap,j=ar(h),k=ar(i),l=k.cx,m=k.cy,n=k.innerRadius,o=k.outerRadius;return(0,r.cloneElement)(a,{polarAngles:Array.isArray(d)?d:jM(k,!0).map(function(a){return a.coordinate}),polarRadius:Array.isArray(e)?e:jM(j,!0).map(function(a){return a.coordinate}),cx:l,cy:m,innerRadius:n,outerRadius:o,key:a.key||"polar-grid",radialLines:c})}),n$(f,"renderLegend",function(){var a=f.state.formattedGraphicalItems,b=f.props,c=b.children,d=b.width,e=b.height,g=f.props.margin||{},h=jt({children:c,formattedGraphicalItems:a,legendWidth:d-(g.left||0)-(g.right||0),legendContent:i});if(!h)return null;var j=h.item,k=nR(h,nM);return(0,r.cloneElement)(j,nZ(nZ({},k),{},{chartWidth:d,chartHeight:e,margin:g,onBBoxUpdate:f.handleLegendBBoxUpdate}))}),n$(f,"renderTooltip",function(){var a,b=f.props,c=b.children,d=b.accessibilityLayer,e=aU(c,bP);if(!e)return null;var g=f.state,h=g.isTooltipActive,i=g.activeCoordinate,j=g.activePayload,k=g.activeLabel,l=g.offset,m=null!=(a=e.props.active)?a:h;return(0,r.cloneElement)(e,{viewBox:nZ(nZ({},l),{},{x:l.left,y:l.top}),active:m,label:k,payload:m?j:[],coordinate:i,accessibilityLayer:d})}),n$(f,"renderBrush",function(a){var b=f.props,c=b.margin,d=b.data,e=f.state,g=e.offset,h=e.dataStartIndex,i=e.dataEndIndex,j=e.updateId;return(0,r.cloneElement)(a,{key:a.key||"_recharts-brush",onChange:jO(f.handleBrushChange,a.props.onChange),data:d,x:am(a.props.x)?a.props.x:g.left,y:am(a.props.y)?a.props.y:g.top+g.height+g.brushBottom-(c.bottom||0),width:am(a.props.width)?a.props.width:g.width,startIndex:h,endIndex:i,updateId:"brush-".concat(j)})}),n$(f,"renderReferenceElement",function(a,b,c){if(!a)return null;var d=f.clipPathId,e=f.state,g=e.xAxisMap,h=e.yAxisMap,i=e.offset,j=a.type.defaultProps||{},k=a.props,l=k.xAxisId,m=void 0===l?j.xAxisId:l,n=k.yAxisId,o=void 0===n?j.yAxisId:n;return(0,r.cloneElement)(a,{key:a.key||"".concat(b,"-").concat(c),xAxis:g[m],yAxis:h[o],viewBox:{x:i.left,y:i.top,width:i.width,height:i.height},clipPathId:d})}),n$(f,"renderActivePoints",function(a){var b=a.item,c=a.activePoint,e=a.basePoint,f=a.childIndex,g=a.isRange,h=[],i=b.props.key,j=void 0!==b.item.type.defaultProps?nZ(nZ({},b.item.type.defaultProps),b.item.props):b.item.props,k=j.activeDot,l=nZ(nZ({index:f,dataKey:j.dataKey,cx:c.x,cy:c.y,r:4,fill:jD(b.item),strokeWidth:2,stroke:"#fff",payload:c.payload,value:c.value},aY(k,!1)),aI(k));return h.push(d.renderActiveDot(k,l,"".concat(i,"-activePoint-").concat(f))),e?h.push(d.renderActiveDot(k,nZ(nZ({},l),{},{cx:e.x,cy:e.y}),"".concat(i,"-basePoint-").concat(f))):g&&h.push(null),h}),n$(f,"renderGraphicChild",function(a,b,c){var d=f.filterFormatItem(a,b,c);if(!d)return null;var e=f.getTooltipEventType(),g=f.state,h=g.isTooltipActive,i=g.tooltipAxis,j=g.activeTooltipIndex,k=g.activeLabel,l=aU(f.props.children,bP),m=d.props,n=m.points,o=m.isRange,p=m.baseLine,q=void 0!==d.item.type.defaultProps?nZ(nZ({},d.item.type.defaultProps),d.item.props):d.item.props,s=q.activeDot,t=q.hide,u=q.activeBar,v=q.activeShape,w=!!(!t&&h&&l&&(s||u||v)),x={};"axis"!==e&&l&&"click"===l.props.trigger?x={onClick:jO(f.handleItemMouseEnter,a.props.onClick)}:"axis"!==e&&(x={onMouseLeave:jO(f.handleItemMouseLeave,a.props.onMouseLeave),onMouseEnter:jO(f.handleItemMouseEnter,a.props.onMouseEnter)});var y=(0,r.cloneElement)(a,nZ(nZ({},d.props),x));if(w)if(j>=0){if(i.dataKey&&!i.allowDuplicatedCategory){var z="function"==typeof i.dataKey?function(a){return"function"==typeof i.dataKey?i.dataKey(a.payload):null}:"payload.".concat(i.dataKey.toString());B=au(n,z,k),C=o&&p&&au(p,z,k)}else B=null==n?void 0:n[j],C=o&&p&&p[j];if(v||u){var A=void 0!==a.props.activeIndex?a.props.activeIndex:j;return[(0,r.cloneElement)(a,nZ(nZ(nZ({},d.props),x),{},{activeIndex:A})),null,null]}if(!aj()(B))return[y].concat(nV(f.renderActivePoints({item:d,activePoint:B,basePoint:C,childIndex:j,isRange:o})))}else{var B,C,D,E=(null!=(D=f.getItemByXY(f.state.activeCoordinate))?D:{graphicalItem:y}).graphicalItem,F=E.item,G=void 0===F?a:F,H=E.childIndex,I=nZ(nZ(nZ({},d.props),x),{},{activeIndex:H});return[(0,r.cloneElement)(G,I),null,null]}return o?[y,null,null]:[y,null]}),n$(f,"renderCustomized",function(a,b,c){return(0,r.cloneElement)(a,nZ(nZ({key:"recharts-customized-".concat(c)},f.props),f.state))}),n$(f,"renderMap",{CartesianGrid:{handler:n3,once:!0},ReferenceArea:{handler:f.renderReferenceElement},ReferenceLine:{handler:n3},ReferenceDot:{handler:f.renderReferenceElement},XAxis:{handler:n3},YAxis:{handler:n3},Brush:{handler:f.renderBrush,once:!0},Bar:{handler:f.renderGraphicChild},Line:{handler:f.renderGraphicChild},Area:{handler:f.renderGraphicChild},Radar:{handler:f.renderGraphicChild},RadialBar:{handler:f.renderGraphicChild},Scatter:{handler:f.renderGraphicChild},Pie:{handler:f.renderGraphicChild},Funnel:{handler:f.renderGraphicChild},Tooltip:{handler:f.renderCursor,once:!0},PolarGrid:{handler:f.renderPolarGrid,once:!0},PolarAngleAxis:{handler:f.renderPolarAxis},PolarRadiusAxis:{handler:f.renderPolarAxis},Customized:{handler:f.renderCustomized}}),f.clipPathId="".concat(null!=(c=a.id)?c:ap("recharts"),"-clip"),f.throttleTriggeredAfterMouseMove=_()(f.triggeredAfterMouseMove,null!=(e=a.throttleDelay)?e:1e3/60),f.state={},f}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),a&&nU(d,a),c=[{key:"componentDidMount",value:function(){var a,b;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!=(a=this.props.margin.left)?a:0,top:null!=(b=this.props.margin.top)?b:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var a=this.props,b=a.children,c=a.data,d=a.height,e=a.layout,f=aU(b,bP);if(f){var g=f.props.defaultIndex;if("number"==typeof g&&!(g<0)&&!(g>this.state.tooltipTicks.length-1)){var h=this.state.tooltipTicks[g]&&this.state.tooltipTicks[g].value,i=n7(this.state,c,g,h),j=this.state.tooltipTicks[g].coordinate,k=(this.state.offset.top+d)/2,l="horizontal"===e?{x:j,y:k}:{y:j,x:k},m=this.state.formattedGraphicalItems.find(function(a){return"Scatter"===a.item.type.name});m&&(l=nZ(nZ({},l),m.props.points[g].tooltipPosition),i=m.props.points[g].tooltipPayload);var n={activeTooltipIndex:g,isTooltipActive:!0,activeLabel:h,activePayload:i,activeCoordinate:l};this.setState(n),this.renderCursor(f),this.accessibilityManager.setIndex(g)}}}},{key:"getSnapshotBeforeUpdate",value:function(a,b){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==b.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==a.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==a.margin){var c,d;this.accessibilityManager.setDetails({offset:{left:null!=(c=this.props.margin.left)?c:0,top:null!=(d=this.props.margin.top)?d:0}})}return null}},{key:"componentDidUpdate",value:function(a){aZ([aU(a.children,bP)],[aU(this.props.children,bP)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var a=aU(this.props.children,bP);if(a&&"boolean"==typeof a.props.shared){var b=a.props.shared?"axis":"item";return g.indexOf(b)>=0?b:e}return e}},{key:"getMouseInfo",value:function(a){if(!this.container)return null;var b=this.container,c=b.getBoundingClientRect(),d={top:c.top+window.scrollY-document.documentElement.clientTop,left:c.left+window.scrollX-document.documentElement.clientLeft},e={chartX:Math.round(a.pageX-d.left),chartY:Math.round(a.pageY-d.top)},f=c.width/b.offsetWidth||1,g=this.inRange(e.chartX,e.chartY,f);if(!g)return null;var h=this.state,i=h.xAxisMap,j=h.yAxisMap,k=this.getTooltipEventType(),l=n8(this.state,this.props.data,this.props.layout,g);if("axis"!==k&&i&&j){var m=ar(i).scale,n=ar(j).scale,o=m&&m.invert?m.invert(e.chartX):null,p=n&&n.invert?n.invert(e.chartY):null;return nZ(nZ({},e),{},{xValue:o,yValue:p},l)}return l?nZ(nZ({},e),l):null}},{key:"inRange",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,d=this.props.layout,e=a/c,f=b/c;if("horizontal"===d||"vertical"===d){var g=this.state.offset;return e>=g.left&&e<=g.left+g.width&&f>=g.top&&f<=g.top+g.height?{x:e,y:f}:null}var h=this.state,i=h.angleAxisMap,j=h.radiusAxisMap;return i&&j?kA({x:e,y:f},ar(i)):null}},{key:"parseEventsOfWrapper",value:function(){var a=this.props.children,b=this.getTooltipEventType(),c=aU(a,bP),d={};return c&&"axis"===b&&(d="click"===c.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),nZ(nZ({},aI(this.props,this.handleOuterEvent)),d)}},{key:"addListener",value:function(){m_.on(m0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){m_.removeListener(m0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(a,b,c){for(var d=this.state.formattedGraphicalItems,e=0,f=d.length;e<f;e++){var g=d[e];if(g.item===a||g.props.key===a.key||b===aP(g.item.type)&&c===g.childIndex)return g}return null}},{key:"renderClipPath",value:function(){var a=this.clipPathId,b=this.state.offset,c=b.left,d=b.top,e=b.height,f=b.width;return s().createElement("defs",null,s().createElement("clipPath",{id:a},s().createElement("rect",{x:c,y:d,height:e,width:f})))}},{key:"getXScales",value:function(){var a=this.state.xAxisMap;return a?Object.entries(a).reduce(function(a,b){var c=nQ(b,2),d=c[0],e=c[1];return nZ(nZ({},a),{},n$({},d,e.scale))},{}):null}},{key:"getYScales",value:function(){var a=this.state.yAxisMap;return a?Object.entries(a).reduce(function(a,b){var c=nQ(b,2),d=c[0],e=c[1];return nZ(nZ({},a),{},n$({},d,e.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(a){var b;return null==(b=this.state.xAxisMap)||null==(b=b[a])?void 0:b.scale}},{key:"getYScaleByAxisId",value:function(a){var b;return null==(b=this.state.yAxisMap)||null==(b=b[a])?void 0:b.scale}},{key:"getItemByXY",value:function(a){var b=this.state,c=b.formattedGraphicalItems,d=b.activeItem;if(c&&c.length)for(var e=0,f=c.length;e<f;e++){var g=c[e],h=g.props,i=g.item,j=void 0!==i.type.defaultProps?nZ(nZ({},i.type.defaultProps),i.props):i.props,k=aP(i.type);if("Bar"===k){var l=(h.data||[]).find(function(b){return dZ(a,b)});if(l)return{graphicalItem:g,payload:l}}else if("RadialBar"===k){var m=(h.data||[]).find(function(b){return kA(a,b)});if(m)return{graphicalItem:g,payload:m}}else if(lv(g,d)||lw(g,d)||lx(g,d)){var n=function(a){var b,c,d,e=a.activeTooltipItem,f=a.graphicalItem,g=a.itemData,h=(lv(f,e)?b="trapezoids":lw(f,e)?b="sectors":lx(f,e)&&(b="points"),b),i=lv(f,e)?null==(c=e.tooltipPayload)||null==(c=c[0])||null==(c=c.payload)?void 0:c.payload:lw(f,e)?null==(d=e.tooltipPayload)||null==(d=d[0])||null==(d=d.payload)?void 0:d.payload:lx(f,e)?e.payload:{},j=g.filter(function(a,b){var c=ix()(i,a),d=f.props[h].filter(function(a){var b;return(lv(f,e)?b=ly:lw(f,e)?b=lz:lx(f,e)&&(b=lA),b)(a,e)}),g=f.props[h].indexOf(d[d.length-1]);return c&&b===g});return g.indexOf(j[j.length-1])}({graphicalItem:g,activeTooltipItem:d,itemData:j.data}),o=void 0===j.activeIndex?n:j.activeIndex;return{graphicalItem:nZ(nZ({},g),{},{childIndex:o}),payload:lx(g,d)?j.data[n]:g.props.data[n]}}}return null}},{key:"render",value:function(){var a,b,c=this;if(!aV(this))return null;var d=this.props,e=d.children,f=d.className,g=d.width,h=d.height,i=d.style,j=d.compact,k=d.title,l=d.desc,m=aY(nR(d,nN),!1);if(j)return s().createElement(ms,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},s().createElement(bd,nP({},m,{width:g,height:h,title:k,desc:l}),this.renderClipPath(),a_(e,this.renderMap)));this.props.accessibilityLayer&&(m.tabIndex=null!=(a=this.props.tabIndex)?a:0,m.role=null!=(b=this.props.role)?b:"application",m.onKeyDown=function(a){c.accessibilityManager.keyboardEvent(a)},m.onFocus=function(){c.accessibilityManager.focus()});var n=this.parseEventsOfWrapper();return s().createElement(ms,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},s().createElement("div",nP({className:Z("recharts-wrapper",f),style:nZ({position:"relative",cursor:"default",width:g,height:h},i)},n,{ref:function(a){c.container=a}}),s().createElement(bd,nP({},m,{width:g,height:h,title:k,desc:l,style:n1}),this.renderClipPath(),a_(e,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,n_(d.key),d)}}(d.prototype,c),Object.defineProperty(d,"prototype",{writable:!1}),d}(r.Component);n$(n,"displayName",b),n$(n,"defaultProps",nZ({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},k)),n$(n,"getDerivedStateFromProps",function(a,b){var c=a.dataKey,d=a.data,e=a.children,f=a.width,g=a.height,h=a.layout,i=a.stackOffset,j=a.margin,k=b.dataStartIndex,l=b.dataEndIndex;if(void 0===b.updateId){var n=od(a);return nZ(nZ(nZ({},n),{},{updateId:0},m(nZ(nZ({props:a},n),{},{updateId:0}),b)),{},{prevDataKey:c,prevData:d,prevWidth:f,prevHeight:g,prevLayout:h,prevStackOffset:i,prevMargin:j,prevChildren:e})}if(c!==b.prevDataKey||d!==b.prevData||f!==b.prevWidth||g!==b.prevHeight||h!==b.prevLayout||i!==b.prevStackOffset||!aC(j,b.prevMargin)){var o=od(a),p={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},q=nZ(nZ({},n8(b,d,h)),{},{updateId:b.updateId+1}),r=nZ(nZ(nZ({},o),p),q);return nZ(nZ(nZ({},r),m(nZ({props:a},r),b)),{},{prevDataKey:c,prevData:d,prevWidth:f,prevHeight:g,prevLayout:h,prevStackOffset:i,prevMargin:j,prevChildren:e})}if(!aZ(e,b.prevChildren)){var s,t,u,v,w=aU(e,ko),x=w&&null!=(s=null==(t=w.props)?void 0:t.startIndex)?s:k,y=w&&null!=(u=null==(v=w.props)?void 0:v.endIndex)?u:l,z=aj()(d)||x!==k||y!==l?b.updateId+1:b.updateId;return nZ(nZ({updateId:z},m(nZ(nZ({props:a},b),{},{updateId:z,dataStartIndex:x,dataEndIndex:y}),b)),{},{prevChildren:e,dataStartIndex:x,dataEndIndex:y})}return null}),n$(n,"renderActiveDot",function(a,b,c){var d;return d=(0,r.isValidElement)(a)?(0,r.cloneElement)(a,b):ay()(a)?a(b):s().createElement(cH,b),s().createElement(bg,{className:"recharts-active-dot",key:c},d)});var o=(0,r.forwardRef)(function(a,b){return s().createElement(n,nP({},a,{ref:b}))});return o.displayName=n.displayName,o};function oh(a,b,c){if(b<1)return[];if(1===b&&void 0===c)return a;for(var d=[],e=0;e<a.length;e+=b)if(void 0!==c&&!0!==c(a[e]))return;else d.push(a[e]);return d}function oi(a,b,c,d,e){if(a*b<a*d||a*b>a*e)return!1;var f=c();return a*(b-a*f/2-d)>=0&&a*(b+a*f/2-e)<=0}function oj(a){return(oj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function ok(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ol(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ok(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=oj(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=oj(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==oj(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ok(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function om(a,b,c){var d,e,f,g,h,i=a.tick,j=a.ticks,k=a.viewBox,l=a.minTickGap,m=a.orientation,n=a.interval,o=a.tickFormatter,p=a.unit,q=a.angle;if(!j||!j.length||!i)return[];if(am(n)||bC.isSsr)return oh(j,("number"==typeof n&&am(n)?n:0)+1);var r="top"===m||"bottom"===m?"width":"height",s=p&&"width"===r?ef(p,{fontSize:b,letterSpacing:c}):{width:0,height:0},t=function(a,d){var e,f=ay()(o)?o(a.value,d):a.value;return"width"===r?(e=ef(f,{fontSize:b,letterSpacing:c}),l3({width:e.width+s.width,height:e.height+s.height},q)):ef(f,{fontSize:b,letterSpacing:c})[r]},u=j.length>=2?ak(j[1].coordinate-j[0].coordinate):1,v=(d="width"===r,e=k.x,f=k.y,g=k.width,h=k.height,1===u?{start:d?e:f,end:d?e+g:f+h}:{start:d?e+g:f+h,end:d?e:f});return"equidistantPreserveStart"===n?function(a,b,c,d,e){for(var f,g=(d||[]).slice(),h=b.start,i=b.end,j=0,k=1,l=h;k<=g.length;)if(f=function(){var b,f=null==d?void 0:d[j];if(void 0===f)return{v:oh(d,k)};var g=j,m=function(){return void 0===b&&(b=c(f,g)),b},n=f.coordinate,o=0===j||oi(a,n,m,l,i);o||(j=0,l=h,k+=1),o&&(l=n+a*(m()/2+e),j+=k)}())return f.v;return[]}(u,v,t,j,l):("preserveStart"===n||"preserveStartEnd"===n?function(a,b,c,d,e,f){var g=(d||[]).slice(),h=g.length,i=b.start,j=b.end;if(f){var k=d[h-1],l=c(k,h-1),m=a*(k.coordinate+a*l/2-j);g[h-1]=k=ol(ol({},k),{},{tickCoord:m>0?k.coordinate-m*a:k.coordinate}),oi(a,k.tickCoord,function(){return l},i,j)&&(j=k.tickCoord-a*(l/2+e),g[h-1]=ol(ol({},k),{},{isShow:!0}))}for(var n=f?h-1:h,o=function(b){var d,f=g[b],h=function(){return void 0===d&&(d=c(f,b)),d};if(0===b){var k=a*(f.coordinate-a*h()/2-i);g[b]=f=ol(ol({},f),{},{tickCoord:k<0?f.coordinate-k*a:f.coordinate})}else g[b]=f=ol(ol({},f),{},{tickCoord:f.coordinate});oi(a,f.tickCoord,h,i,j)&&(i=f.tickCoord+a*(h()/2+e),g[b]=ol(ol({},f),{},{isShow:!0}))},p=0;p<n;p++)o(p);return g}(u,v,t,j,l,"preserveStartEnd"===n):function(a,b,c,d,e){for(var f=(d||[]).slice(),g=f.length,h=b.start,i=b.end,j=function(b){var d,j=f[b],k=function(){return void 0===d&&(d=c(j,b)),d};if(b===g-1){var l=a*(j.coordinate+a*k()/2-i);f[b]=j=ol(ol({},j),{},{tickCoord:l>0?j.coordinate-l*a:j.coordinate})}else f[b]=j=ol(ol({},j),{},{tickCoord:j.coordinate});oi(a,j.tickCoord,k,h,i)&&(i=j.tickCoord-a*(k()/2+e),f[b]=ol(ol({},j),{},{isShow:!0}))},k=g-1;k>=0;k--)j(k);return f}(u,v,t,j,l)).filter(function(a){return a.isShow})}var on=["viewBox"],oo=["viewBox"],op=["ticks"];function oq(a){return(oq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function or(){return(or=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function os(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ot(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?os(Object(c),!0).forEach(function(b){oz(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):os(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function ou(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function ov(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,oA(d.key),d)}}function ow(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(ow=function(){return!!a})()}function ox(a){return(ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function oy(a,b){return(oy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function oz(a,b,c){return(b=oA(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function oA(a){var b=function(a,b){if("object"!=oq(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=oq(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==oq(b)?b:b+""}var oB=function(a){var b,c;function d(a){var b,c,e;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");return c=d,e=[a],c=ox(c),(b=function(a,b){if(b&&("object"===oq(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,ow()?Reflect.construct(c,e||[],ox(this).constructor):c.apply(this,e))).state={fontSize:"",letterSpacing:""},b}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),a&&oy(d,a),b=[{key:"shouldComponentUpdate",value:function(a,b){var c=a.viewBox,d=ou(a,on),e=this.props,f=e.viewBox,g=ou(e,oo);return!aC(c,f)||!aC(d,g)||!aC(b,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var b=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];b&&this.setState({fontSize:window.getComputedStyle(b).fontSize,letterSpacing:window.getComputedStyle(b).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var b,c,d,e,f,g,h=this.props,i=h.x,j=h.y,k=h.width,l=h.height,m=h.orientation,n=h.tickSize,o=h.mirror,p=h.tickMargin,q=o?-1:1,r=a.tickSize||n,s=am(a.tickCoord)?a.tickCoord:a.coordinate;switch(m){case"top":b=c=a.coordinate,g=(d=(e=j+!o*l)-q*r)-q*p,f=s;break;case"left":d=e=a.coordinate,f=(b=(c=i+!o*k)-q*r)-q*p,g=s;break;case"right":d=e=a.coordinate,f=(b=(c=i+o*k)+q*r)+q*p,g=s;break;default:b=c=a.coordinate,g=(d=(e=j+o*l)+q*r)+q*p,f=s}return{line:{x1:b,y1:d,x2:c,y2:e},tick:{x:f,y:g}}}},{key:"getTickTextAnchor",value:function(){var a,b=this.props,c=b.orientation,d=b.mirror;switch(c){case"left":a=d?"start":"end";break;case"right":a=d?"end":"start";break;default:a="middle"}return a}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,b=a.orientation,c=a.mirror,d="end";switch(b){case"left":case"right":d="middle";break;case"top":d=c?"start":"end";break;default:d=c?"end":"start"}return d}},{key:"renderAxisLine",value:function(){var a=this.props,b=a.x,c=a.y,d=a.width,e=a.height,f=a.orientation,g=a.mirror,h=a.axisLine,i=ot(ot(ot({},aY(this.props,!1)),aY(h,!1)),{},{fill:"none"});if("top"===f||"bottom"===f){var j=+("top"===f&&!g||"bottom"===f&&g);i=ot(ot({},i),{},{x1:b,y1:c+j*e,x2:b+d,y2:c+j*e})}else{var k=+("left"===f&&!g||"right"===f&&g);i=ot(ot({},i),{},{x1:b+k*d,y1:c,x2:b+k*d,y2:c+e})}return s().createElement("line",or({},i,{className:Z("recharts-cartesian-axis-line",af()(h,"className"))}))}},{key:"renderTicks",value:function(a,b,c){var e=this,f=this.props,g=f.tickLine,h=f.stroke,i=f.tick,j=f.tickFormatter,k=f.unit,l=om(ot(ot({},this.props),{},{ticks:a}),b,c),m=this.getTickTextAnchor(),n=this.getTickVerticalAnchor(),o=aY(this.props,!1),p=aY(i,!1),q=ot(ot({},o),{},{fill:"none"},aY(g,!1)),r=l.map(function(a,b){var c=e.getTickLineCoord(a),f=c.line,r=c.tick,t=ot(ot(ot(ot({textAnchor:m,verticalAnchor:n},o),{},{stroke:"none",fill:h},p),r),{},{index:b,payload:a,visibleTicksCount:l.length,tickFormatter:j});return s().createElement(bg,or({className:"recharts-cartesian-axis-tick",key:"tick-".concat(a.value,"-").concat(a.coordinate,"-").concat(a.tickCoord)},aJ(e.props,a,b)),g&&s().createElement("line",or({},q,f,{className:Z("recharts-cartesian-axis-tick-line",af()(g,"className"))})),i&&d.renderTickItem(i,t,"".concat(ay()(j)?j(a.value,b):a.value).concat(k||"")))});return s().createElement("g",{className:"recharts-cartesian-axis-ticks"},r)}},{key:"render",value:function(){var a=this,b=this.props,c=b.axisLine,d=b.width,e=b.height,f=b.ticksGenerator,g=b.className;if(b.hide)return null;var h=this.props,i=h.ticks,j=ou(h,op),k=i;return(ay()(f)&&(k=f(i&&i.length>0?this.props:j)),d<=0||e<=0||!k||!k.length)?null:s().createElement(bg,{className:Z("recharts-cartesian-axis",g),ref:function(b){a.layerReference=b}},c&&this.renderAxisLine(),this.renderTicks(k,this.state.fontSize,this.state.letterSpacing),kM.renderCallByParent(this.props))}}],c=[{key:"renderTickItem",value:function(a,b,c){var d=Z(b.className,"recharts-cartesian-axis-tick-value");return s().isValidElement(a)?s().cloneElement(a,ot(ot({},b),{},{className:d})):ay()(a)?a(ot(ot({},b),{},{className:d})):s().createElement(eG,or({},b,{className:"recharts-cartesian-axis-tick-value"}),c)}}],b&&ov(d.prototype,b),c&&ov(d,c),Object.defineProperty(d,"prototype",{writable:!1}),d}(r.Component);function oC(a){return(oC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}oz(oB,"displayName","CartesianAxis"),oz(oB,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function oD(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(oD=function(){return!!a})()}function oE(a){return(oE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function oF(a,b){return(oF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function oG(a,b,c){return(b=oH(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function oH(a){var b=function(a,b){if("object"!=oC(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=oC(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==oC(b)?b:b+""}function oI(){return(oI=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function oJ(a){var b=a.xAxisId,c=mw(),d=mx(),e=mt(b);return null==e?null:r.createElement(oB,oI({},e,{className:Z("recharts-".concat(e.axisType," ").concat(e.axisType),e.className),viewBox:{x:0,y:0,width:c,height:d},ticksGenerator:function(a){return jM(a,!0)}}))}var oK=function(a){var b;function c(){var a,b;if(!(this instanceof c))throw TypeError("Cannot call a class as a function");return a=c,b=arguments,a=oE(a),function(a,b){if(b&&("object"===oC(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,oD()?Reflect.construct(a,b||[],oE(this).constructor):a.apply(this,b))}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),a&&oF(c,a),b=[{key:"render",value:function(){return r.createElement(oJ,this.props)}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,oH(d.key),d)}}(c.prototype,b),Object.defineProperty(c,"prototype",{writable:!1}),c}(r.Component);function oL(a){return(oL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}oG(oK,"displayName","XAxis"),oG(oK,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function oM(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(oM=function(){return!!a})()}function oN(a){return(oN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function oO(a,b){return(oO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function oP(a,b,c){return(b=oQ(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function oQ(a){var b=function(a,b){if("object"!=oL(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=oL(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==oL(b)?b:b+""}function oR(){return(oR=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var oS=function(a){var b=a.yAxisId,c=mw(),d=mx(),e=mv(b);return null==e?null:r.createElement(oB,oR({},e,{className:Z("recharts-".concat(e.axisType," ").concat(e.axisType),e.className),viewBox:{x:0,y:0,width:c,height:d},ticksGenerator:function(a){return jM(a,!0)}}))},oT=function(a){var b;function c(){var a,b;if(!(this instanceof c))throw TypeError("Cannot call a class as a function");return a=c,b=arguments,a=oN(a),function(a,b){if(b&&("object"===oL(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,oM()?Reflect.construct(a,b||[],oN(this).constructor):a.apply(this,b))}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),a&&oO(c,a),b=[{key:"render",value:function(){return r.createElement(oS,this.props)}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,oQ(d.key),d)}}(c.prototype,b),Object.defineProperty(c,"prototype",{writable:!1}),c}(r.Component);oP(oT,"displayName","YAxis"),oP(oT,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var oU=og({chartName:"BarChart",GraphicalChild:lU,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:oK},{axisType:"yAxis",AxisComp:oT}],formatAxisMap:l_}),oV=["x1","y1","x2","y2","key"],oW=["offset"];function oX(a){return(oX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function oY(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function oZ(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?oY(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=oX(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=oX(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==oX(b)?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):oY(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function o$(){return(o$=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function o_(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}var o0=function(a){var b=a.fill;if(!b||"none"===b)return null;var c=a.fillOpacity,d=a.x,e=a.y,f=a.width,g=a.height,h=a.ry;return s().createElement("rect",{x:d,y:e,ry:h,width:f,height:g,stroke:"none",fill:b,fillOpacity:c,className:"recharts-cartesian-grid-bg"})};function o1(a,b){var c;if(s().isValidElement(a))c=s().cloneElement(a,b);else if(ay()(a))c=a(b);else{var d=b.x1,e=b.y1,f=b.x2,g=b.y2,h=b.key,i=aY(o_(b,oV),!1),j=(i.offset,o_(i,oW));c=s().createElement("line",o$({},j,{x1:d,y1:e,x2:f,y2:g,fill:"none",key:h}))}return c}function o2(a){var b=a.x,c=a.width,d=a.horizontal,e=void 0===d||d,f=a.horizontalPoints;if(!e||!f||!f.length)return null;var g=f.map(function(d,f){return o1(e,oZ(oZ({},a),{},{x1:b,y1:d,x2:b+c,y2:d,key:"line-".concat(f),index:f}))});return s().createElement("g",{className:"recharts-cartesian-grid-horizontal"},g)}function o3(a){var b=a.y,c=a.height,d=a.vertical,e=void 0===d||d,f=a.verticalPoints;if(!e||!f||!f.length)return null;var g=f.map(function(d,f){return o1(e,oZ(oZ({},a),{},{x1:d,y1:b,x2:d,y2:b+c,key:"line-".concat(f),index:f}))});return s().createElement("g",{className:"recharts-cartesian-grid-vertical"},g)}function o4(a){var b=a.horizontalFill,c=a.fillOpacity,d=a.x,e=a.y,f=a.width,g=a.height,h=a.horizontalPoints,i=a.horizontal;if(!(void 0===i||i)||!b||!b.length)return null;var j=h.map(function(a){return Math.round(a+e-e)}).sort(function(a,b){return a-b});e!==j[0]&&j.unshift(0);var k=j.map(function(a,h){var i=j[h+1]?j[h+1]-a:e+g-a;if(i<=0)return null;var k=h%b.length;return s().createElement("rect",{key:"react-".concat(h),y:a,x:d,height:i,width:f,stroke:"none",fill:b[k],fillOpacity:c,className:"recharts-cartesian-grid-bg"})});return s().createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},k)}function o5(a){var b=a.vertical,c=a.verticalFill,d=a.fillOpacity,e=a.x,f=a.y,g=a.width,h=a.height,i=a.verticalPoints;if(!(void 0===b||b)||!c||!c.length)return null;var j=i.map(function(a){return Math.round(a+e-e)}).sort(function(a,b){return a-b});e!==j[0]&&j.unshift(0);var k=j.map(function(a,b){var i=j[b+1]?j[b+1]-a:e+g-a;if(i<=0)return null;var k=b%c.length;return s().createElement("rect",{key:"react-".concat(b),x:a,y:f,width:i,height:h,stroke:"none",fill:c[k],fillOpacity:d,className:"recharts-cartesian-grid-bg"})});return s().createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},k)}var o6=function(a,b){var c=a.xAxis,d=a.width,e=a.height,f=a.offset;return jL(om(oZ(oZ(oZ({},oB.defaultProps),c),{},{ticks:jM(c,!0),viewBox:{x:0,y:0,width:d,height:e}})),f.left,f.left+f.width,b)},o7=function(a,b){var c=a.yAxis,d=a.width,e=a.height,f=a.offset;return jL(om(oZ(oZ(oZ({},oB.defaultProps),c),{},{ticks:jM(c,!0),viewBox:{x:0,y:0,width:d,height:e}})),f.top,f.top+f.height,b)},o8={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function o9(a){var b,c,d,e,f,g,h=mw(),i=mx(),j=(0,r.useContext)(mo),k=oZ(oZ({},a),{},{stroke:null!=(b=a.stroke)?b:o8.stroke,fill:null!=(c=a.fill)?c:o8.fill,horizontal:null!=(d=a.horizontal)?d:o8.horizontal,horizontalFill:null!=(e=a.horizontalFill)?e:o8.horizontalFill,vertical:null!=(f=a.vertical)?f:o8.vertical,verticalFill:null!=(g=a.verticalFill)?g:o8.verticalFill,x:am(a.x)?a.x:j.left,y:am(a.y)?a.y:j.top,width:am(a.width)?a.width:j.width,height:am(a.height)?a.height:j.height}),l=k.x,m=k.y,n=k.width,o=k.height,p=k.syncWithTicks,q=k.horizontalValues,t=k.verticalValues,u=ar((0,r.useContext)(ml)),v=mu();if(!am(n)||n<=0||!am(o)||o<=0||!am(l)||l!==+l||!am(m)||m!==+m)return null;var w=k.verticalCoordinatesGenerator||o6,x=k.horizontalCoordinatesGenerator||o7,y=k.horizontalPoints,z=k.verticalPoints;if((!y||!y.length)&&ay()(x)){var A=q&&q.length,B=x({yAxis:v?oZ(oZ({},v),{},{ticks:A?q:v.ticks}):void 0,width:h,height:i,offset:j},!!A||p);aw(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(oX(B),"]")),Array.isArray(B)&&(y=B)}if((!z||!z.length)&&ay()(w)){var C=t&&t.length,D=w({xAxis:u?oZ(oZ({},u),{},{ticks:C?t:u.ticks}):void 0,width:h,height:i,offset:j},!!C||p);aw(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(oX(D),"]")),Array.isArray(D)&&(z=D)}return s().createElement("g",{className:"recharts-cartesian-grid"},s().createElement(o0,{fill:k.fill,fillOpacity:k.fillOpacity,x:k.x,y:k.y,width:k.width,height:k.height,ry:k.ry}),s().createElement(o2,o$({},k,{offset:j,horizontalPoints:y,xAxis:u,yAxis:v})),s().createElement(o3,o$({},k,{offset:j,verticalPoints:z,xAxis:u,yAxis:v})),s().createElement(o4,o$({},k,{horizontalPoints:y})),s().createElement(o5,o$({},k,{verticalPoints:z})))}o9.displayName="CartesianGrid";let pa=x("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),pb=x("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),pc=x("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),pd=x("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),pe=({level:a,children:b,subtitle:c,className:d=""})=>{let e=`h${a}`;return(0,q.jsxs)("div",{className:d,children:[(0,q.jsx)(e,{className:`${{1:"text-3xl md:text-4xl",2:"text-2xl md:text-3xl",3:"text-xl md:text-2xl",4:"text-lg md:text-xl"}[a]} font-black text-brand-dark tracking-tight`,children:b}),c&&(0,q.jsx)("p",{className:"text-sm text-slate-500 mt-1 font-medium",children:c})]})},pf=({label:a,value:b,unit:c,trend:d,icon:e,onClick:f})=>(0,q.jsx)("div",{onClick:f,className:`p-6 bg-white rounded-2xl border border-slate-100 shadow-sm transition-all ${f?"cursor-pointer hover:shadow-md hover:-translate-y-1":""}`,children:(0,q.jsxs)("div",{className:"flex justify-between items-start",children:[(0,q.jsxs)("div",{className:"flex-1",children:[(0,q.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:a}),(0,q.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,q.jsx)("span",{className:"text-3xl font-black text-brand-dark",children:b}),c&&(0,q.jsx)("span",{className:"text-sm text-slate-400 font-medium",children:c})]}),d&&(0,q.jsxs)("p",{className:"text-xs font-bold text-emerald-600 mt-2",children:[" ",d]})]}),e&&(0,q.jsx)("div",{className:"text-slate-400",children:e})]})}),pg=({title:a,subtitle:b,action:c,children:d})=>(0,q.jsxs)("div",{className:"space-y-4",children:[(0,q.jsxs)("div",{className:"flex justify-between items-start",children:[(0,q.jsx)(pe,{level:2,subtitle:b,children:a}),c&&(0,q.jsx)("div",{children:c})]}),d]}),ph=({stats:a,onNavigate:b})=>{let c=[{name:"Seg",revenue:400},{name:"Ter",revenue:300},{name:"Qua",revenue:550},{name:"Qui",revenue:450},{name:"Sex",revenue:900},{name:"Sab",revenue:1200},{name:"Dom",revenue:100}];return(0,q.jsxs)("div",{className:"space-y-8",children:[(0,q.jsx)(pg,{title:"Painel Executivo",subtitle:"An\xe1lise de performance em tempo real",action:(0,q.jsxs)("button",{onClick:()=>b("financials"),className:"text-xs font-bold text-blue-600 flex items-center gap-1 hover:text-blue-700 transition-colors",children:["Relat\xf3rios ",(0,q.jsx)(pa,{size:14})]}),children:(0,q.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,q.jsx)(pf,{label:"Receita Mensal",value:`R$ ${(a.monthlyRevenue||0).toLocaleString("pt-BR")}`,trend:"+12%",icon:(0,q.jsx)(L,{size:20,className:"text-blue-600"}),onClick:()=>b("financials")}),(0,q.jsx)(pf,{label:"Atendimentos",value:a.totalAppointments||0,trend:"+4%",icon:(0,q.jsx)(B,{size:20,className:"text-emerald-600"}),onClick:()=>b("calendar")}),(0,q.jsx)(pf,{label:"Novos Clientes",value:`+${a.newCustomers||0}`,icon:(0,q.jsx)(M,{size:20,className:"text-amber-600"}),onClick:()=>b("crm")}),(0,q.jsx)(pf,{label:"Ticket M\xe9dio",value:`R$ ${a.avgTicket||0}`,icon:(0,q.jsx)(E,{size:20,className:"text-purple-600"})})]})}),(0,q.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,q.jsxs)("div",{className:"lg:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[(0,q.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,q.jsx)("h3",{className:"text-sm font-bold text-brand-dark",children:"Faturamento (7 Dias)"}),(0,q.jsx)("span",{className:"text-[10px] font-bold text-slate-400 bg-slate-50 px-3 py-1 rounded-lg",children:"Semanal"})]}),(0,q.jsx)("div",{className:"h-[250px]",children:(0,q.jsx)(a5,{width:"100%",height:"100%",children:(0,q.jsxs)(oU,{data:c,children:[(0,q.jsx)(o9,{strokeDasharray:"3 3",vertical:!1,stroke:"#F1F5F9"}),(0,q.jsx)(oK,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94A3B8",fontSize:11,fontWeight:600},dy:10}),(0,q.jsx)(oT,{hide:!0}),(0,q.jsx)(bP,{cursor:{fill:"#F8FAFC"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",fontSize:"12px",fontWeight:"bold"}}),(0,q.jsx)(lU,{dataKey:"revenue",radius:[8,8,0,0],barSize:32,children:c.map((a,b)=>(0,q.jsx)(kT,{fill:5===b?"#081E26":"#B8D0D9",className:"hover:opacity-80 transition-opacity"},`cell-${b}`))})]})})})]}),(0,q.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex flex-col",children:[(0,q.jsxs)("h3",{className:"text-sm font-bold text-brand-dark mb-6 flex items-center gap-2",children:[(0,q.jsx)(pb,{className:"text-amber-500",size:18})," Top Profissionais"]}),(0,q.jsx)("div",{className:"space-y-4 flex-1",children:[{name:"Marcos",val:7850,color:"bg-brand-dark"},{name:"Jo\xe3o",val:5400,color:"bg-brand-light"},{name:"Felipe",val:4200,color:"bg-slate-300"}].map((a,c)=>(0,q.jsxs)("div",{className:"space-y-2 group cursor-pointer",onClick:()=>b("team"),children:[(0,q.jsxs)("div",{className:"flex justify-between items-center",children:[(0,q.jsxs)("p",{className:"font-bold text-slate-900 text-sm group-hover:text-blue-600 transition-colors",children:[c+1,"\xb0 ",a.name]}),(0,q.jsxs)("span",{className:"font-bold text-slate-600 text-xs",children:["R$ ",(a.val/100).toLocaleString("pt-BR")]})]}),(0,q.jsx)("div",{className:"h-2.5 w-full bg-slate-100 rounded-full overflow-hidden",children:(0,q.jsx)("div",{className:`h-full ${a.color} rounded-full transition-all`,style:{width:`${a.val/7850*100}%`}})})]},c))}),(0,q.jsx)("button",{onClick:()=>b("team"),className:"mt-6 w-full py-3 bg-slate-50 hover:bg-slate-100 text-slate-600 font-bold rounded-xl text-xs uppercase tracking-widest transition-all",children:"Ver Equipe Completa"})]})]})]})},pi=x("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),pj=x("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),pk=x("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),pl=x("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),pm=({appointments:a,barbers:b,services:c,onAddAppointment:d})=>{let[e,f]=(0,r.useState)(!1),[g,h]=(0,r.useState)({time:"",barberId:"",customerName:"",serviceId:""}),[i,j]=(0,r.useState)(null),[k,l]=(0,r.useState)(new Date),m=[];for(let a=9;a<=19;a++)m.push(`${a.toString().padStart(2,"0")}:00`),m.push(`${a.toString().padStart(2,"0")}:30`);let n=(a,d)=>{h({time:a||"09:00",barberId:d||b[0]?.id||"",customerName:"",serviceId:c[0]?.id||""}),f(!0)},o=a=>{let b=new Date(k);b.setDate(b.getDate()+a),l(b)};return(0,q.jsxs)("div",{className:"bg-white rounded-[2.5rem] shadow-sm border border-slate-100 overflow-hidden flex flex-col h-[calc(100vh-160px)] animate-fade-in relative",children:[i&&(0,q.jsxs)("div",{className:"absolute top-6 left-1/2 -translate-x-1/2 bg-brand-dark text-white px-6 py-3 rounded-2xl shadow-2xl z-50 flex items-center gap-3 animate-fade-in border border-white/10",children:[(0,q.jsx)("div",{className:"w-6 h-6 bg-emerald-500 rounded-full flex items-center justify-center text-white",children:(0,q.jsx)(pi,{size:14,strokeWidth:4})}),(0,q.jsx)("span",{className:"text-xs font-black uppercase tracking-widest",children:i})]}),(0,q.jsxs)("div",{className:"px-6 py-5 border-b border-slate-50 flex flex-col md:flex-row justify-between items-center gap-4 bg-white sticky top-0 z-20",children:[(0,q.jsxs)("div",{className:"flex items-center gap-4",children:[(0,q.jsxs)("div",{className:"flex items-center bg-slate-50 p-1 rounded-xl border border-slate-100",children:[(0,q.jsx)("button",{onClick:()=>o(-1),className:"p-2 hover:bg-white hover:shadow-sm rounded-lg transition-all text-slate-400 hover:text-brand-dark",children:(0,q.jsx)(pj,{size:18})}),(0,q.jsxs)("div",{className:"px-4 flex flex-col items-center min-w-[140px]",children:[(0,q.jsx)("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] leading-none mb-1",children:k.toLocaleDateString("pt-BR",{weekday:"short"})}),(0,q.jsx)("span",{className:"text-sm font-black text-brand-dark",children:k.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})})]}),(0,q.jsx)("button",{onClick:()=>o(1),className:"p-2 hover:bg-white hover:shadow-sm rounded-lg transition-all text-slate-400 hover:text-brand-dark",children:(0,q.jsx)(pk,{size:18})})]}),(0,q.jsx)("button",{onClick:()=>l(new Date),className:"text-[10px] font-black text-slate-400 hover:text-brand-dark uppercase tracking-widest px-3 py-2 bg-slate-50 rounded-lg border border-slate-100 transition-all active:scale-95",children:"Hoje"})]}),(0,q.jsxs)("button",{onClick:()=>n(),className:"w-full md:w-auto bg-brand-dark text-white px-6 py-3.5 rounded-2xl text-xs font-black uppercase tracking-[0.15em] hover:bg-black transition-all shadow-xl shadow-brand-dark/10 flex items-center justify-center gap-3 active:scale-95 group",children:[(0,q.jsx)("div",{className:"bg-white/10 p-1 rounded-lg group-hover:scale-110 transition-transform",children:(0,q.jsx)(pi,{size:16,strokeWidth:3})}),"Novo Agendamento"]})]}),(0,q.jsx)("div",{className:"flex-1 overflow-auto bg-slate-50/30 relative custom-scrollbar",children:(0,q.jsxs)("div",{className:"min-w-[800px]",children:[(0,q.jsxs)("div",{className:"flex border-b border-slate-100 sticky top-0 bg-white/90 backdrop-blur-md z-10 shadow-sm",children:[(0,q.jsx)("div",{className:"w-24 p-4 border-r border-slate-50 font-black text-slate-300 text-[10px] uppercase tracking-widest text-center flex items-center justify-center",children:"Hor\xe1rio"}),b.map(a=>(0,q.jsxs)("div",{className:"flex-1 p-4 border-r border-slate-50 flex items-center justify-center gap-4 min-w-[200px]",children:[(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)(z,{url:a.avatar,name:a.name,size:"sm",className:"w-10 h-10 border-2 border-white shadow-md"}),(0,q.jsx)("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-emerald-500 border-2 border-white rounded-full"})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)("span",{className:"block font-black text-brand-dark text-sm tracking-tight",children:a.name.split(" ")[0]}),(0,q.jsx)("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"Dispon\xedvel"})]})]},a.id))]}),(0,q.jsx)("div",{className:"divide-y divide-slate-50 bg-white",children:m.map(d=>(0,q.jsxs)("div",{className:"flex h-32 group/row",children:[(0,q.jsx)("div",{className:"w-24 border-r border-slate-50 flex items-start justify-center pt-4 text-[11px] font-black text-slate-400 bg-slate-50/20 group-hover/row:bg-slate-50 transition-colors",children:d}),b.map(b=>{let e,f=(e=b.id,a.find(a=>{let b=new Date(a.startTime),c=`${b.getHours().toString().padStart(2,"0")}:${b.getMinutes().toString().padStart(2,"0")}`,f=b.toDateString()===k.toDateString();return a.barberId===e&&c===d&&"CANCELLED"!==a.status&&f}));return(0,q.jsx)("div",{className:"flex-1 border-r border-slate-50 p-2 relative min-w-[200px] group/slot transition-colors hover:bg-slate-50/30",children:f?(0,q.jsxs)("div",{className:`
                          w-full h-full rounded-[1.5rem] p-4 border-l-[6px] shadow-sm flex flex-col justify-center cursor-pointer 
                          transition-all duration-300 hover:shadow-xl hover:scale-[1.02] hover:z-10 relative group/card
                          ${"COMPLETED"===f.status?"bg-slate-50 border-slate-400 text-slate-500 opacity-60":"bg-white border-brand-dark text-brand-dark ring-1 ring-slate-100"}
                        `,children:[(0,q.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,q.jsx)("p",{className:"font-black text-sm tracking-tight truncate leading-tight pr-4",children:f.customerName}),"COMPLETED"!==f.status&&(0,q.jsx)(pl,{size:12,className:"text-brand-dark/20"})]}),(0,q.jsx)("p",{className:"text-[9px] font-black uppercase tracking-widest opacity-60 mb-2 truncate",children:c.find(a=>a.id===f.serviceId)?.name||"Servi\xe7o"}),(0,q.jsxs)("div",{className:"flex items-center gap-1",children:[(0,q.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-current animate-pulse"}),(0,q.jsx)("span",{className:"text-[8px] font-bold uppercase tracking-widest",children:"COMPLETED"===f.status?"Finalizado":"Confirmado"})]})]}):(0,q.jsx)("button",{onClick:()=>n(d,b.id),className:"w-full h-full rounded-[1.5rem] border-2 border-dashed border-transparent hover:border-slate-200 hover:bg-slate-50 flex items-center justify-center cursor-pointer transition-all duration-300 group/btn",children:(0,q.jsx)("div",{className:"bg-slate-100 text-slate-300 p-2 rounded-xl group-hover/btn:bg-brand-dark group-hover/btn:text-white transition-all opacity-0 group-hover/slot:opacity-100 scale-75 group-hover/btn:scale-100",children:(0,q.jsx)(pi,{size:20,strokeWidth:3})})})},`${b.id}-${d}`)})]},d))})]})}),e&&(0,q.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-brand-dark/60 backdrop-blur-md p-4 animate-fade-in",children:(0,q.jsxs)("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-md overflow-hidden animate-slide-in",children:[(0,q.jsxs)("div",{className:"bg-slate-50 px-8 py-6 border-b border-slate-100 flex justify-between items-center",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("h3",{className:"text-xl font-black text-brand-dark tracking-tighter uppercase italic leading-none",children:"Agendar Manual"}),(0,q.jsx)("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-1",children:"Cria\xe7\xe3o r\xe1pida de reserva"})]}),(0,q.jsx)("button",{onClick:()=>f(!1),className:"p-2.5 bg-white hover:bg-slate-100 rounded-full text-slate-400 transition-all active:scale-90 shadow-sm border border-slate-100",children:(0,q.jsx)(R,{size:18})})]}),(0,q.jsxs)("form",{onSubmit:a=>{a.preventDefault();let[b,c]=g.time.split(":").map(Number),e=new Date(k);e.setHours(b,c,0,0),d({barberId:g.barberId,customerName:g.customerName,serviceId:g.serviceId,startTime:e}),f(!1),j("Agendamento manual criado!"),setTimeout(()=>j(null),3e3)},className:"p-8 space-y-5 bg-white",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Nome do Cliente"}),(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)(y,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),(0,q.jsx)("input",{required:!0,type:"text",className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-brand-light font-bold text-sm",placeholder:"Ex: Lucas Moura",value:g.customerName,onChange:a=>h({...g,customerName:a.target.value})})]})]}),(0,q.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Barbeiro"}),(0,q.jsx)("select",{className:"w-full px-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl outline-none font-bold text-sm appearance-none cursor-pointer",value:g.barberId,onChange:a=>h({...g,barberId:a.target.value}),children:b.map(a=>(0,q.jsx)("option",{value:a.id,children:a.name.split(" ")[0]},a.id))})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Hor\xe1rio"}),(0,q.jsx)("select",{className:"w-full px-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl outline-none font-bold text-sm appearance-none cursor-pointer",value:g.time,onChange:a=>h({...g,time:a.target.value}),children:m.map(a=>(0,q.jsx)("option",{value:a,children:a},a))})]})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Servi\xe7o Principal"}),(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)(G,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),(0,q.jsx)("select",{className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl outline-none font-bold text-sm appearance-none cursor-pointer",value:g.serviceId,onChange:a=>h({...g,serviceId:a.target.value}),children:c.map(a=>(0,q.jsxs)("option",{value:a.id,children:[a.name," - R$",a.price]},a.id))})]})]}),(0,q.jsx)("button",{type:"submit",className:"w-full py-5 bg-brand-dark text-white font-black rounded-2xl shadow-xl shadow-brand-dark/20 hover:bg-black transition-all mt-4 uppercase text-xs tracking-widest active:scale-95",children:"Confirmar Reserva"})]})]})})]})},pn=x("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),po=x("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),pp=x("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),pq=({initialQueue:a,services:b})=>{let[c,d]=(0,r.useState)(a),[e,f]=(0,r.useState)(""),[g,h]=(0,r.useState)(b[0].id);return(0,q.jsxs)("div",{className:"flex flex-col gap-6 animate-fade-in pb-12",children:[(0,q.jsxs)("div",{className:"md:hidden bg-brand-dark text-white p-5 rounded-[1.5rem] shadow-xl flex justify-between items-center relative overflow-hidden",children:[(0,q.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full blur-2xl -mr-16 -mt-16"}),(0,q.jsxs)("div",{className:"relative z-10",children:[(0,q.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-brand-light/60 mb-1",children:"Pessoas na Fila"}),(0,q.jsxs)("h3",{className:"text-3xl font-black tracking-tighter",children:[c.length," ",(0,q.jsx)("span",{className:"text-sm font-bold opacity-40 ml-1",children:"esperando"})]})]}),(0,q.jsxs)("div",{className:"relative z-10 text-right",children:[(0,q.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-brand-light/60 mb-1",children:"Espera M\xe9dia"}),(0,q.jsxs)("div",{className:"flex items-center gap-1.5 justify-end",children:[(0,q.jsx)(C,{size:14,className:"text-amber-400"}),(0,q.jsxs)("span",{className:"text-xl font-black",children:[20*c.length," min"]})]})]})]}),(0,q.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,q.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,q.jsxs)("div",{className:"bg-white p-6 md:p-8 rounded-[2rem] shadow-sm border border-slate-100 h-fit",children:[(0,q.jsxs)("h2",{className:"text-xl font-black text-brand-dark mb-6 flex items-center gap-2 uppercase tracking-tighter",children:[(0,q.jsx)(pn,{className:"text-brand-dark",size:24})," Novo Walk-in"]}),(0,q.jsxs)("div",{className:"space-y-5",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Nome do Cliente"}),(0,q.jsx)("input",{type:"text",className:"w-full px-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-brand-light focus:bg-white focus:outline-none transition-all font-bold text-slate-800 placeholder:text-slate-300",placeholder:"Ex: Jo\xe3o da Silva",value:e,onChange:a=>f(a.target.value)})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1.5 ml-1",children:"Servi\xe7o Desejado"}),(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)("select",{className:"w-full px-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-brand-light focus:bg-white focus:outline-none transition-all font-bold text-slate-800 appearance-none",value:g,onChange:a=>h(a.target.value),children:b.map(a=>(0,q.jsxs)("option",{value:a.id,children:[a.name," - R$",a.price]},a.id))}),(0,q.jsx)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:(0,q.jsx)(G,{size:18})})]})]}),(0,q.jsxs)("button",{onClick:()=>{if(!e)return;let a=c.reduce((a,b)=>a+20*("WAITING"===b.status),10);d([...c,{id:Math.random().toString(36).substr(2,9),customerName:e,serviceId:g,joinedAt:new Date,estimatedWaitMinutes:a,status:"WAITING"}]),f("")},disabled:!e,className:"w-full bg-brand-dark text-white font-black py-4 rounded-2xl shadow-xl hover:bg-black transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest disabled:opacity-30 active:scale-95",children:[(0,q.jsx)(M,{size:18})," Adicionar \xe0 Fila"]})]})]}),(0,q.jsxs)("div",{className:"bg-blue-50 border border-blue-100 rounded-2xl p-5 flex gap-4",children:[(0,q.jsx)(pd,{className:"text-blue-500 flex-shrink-0",size:24}),(0,q.jsx)("p",{className:"text-xs text-blue-700 font-medium leading-relaxed",children:"A fila walk-in \xe9 ideal para clientes que chegam sem agendamento. O tempo \xe9 calculado automaticamente com base no servi\xe7o."})]})]}),(0,q.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,q.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,q.jsxs)("h2",{className:"text-xl font-black text-brand-dark uppercase tracking-tighter flex items-center gap-2",children:[(0,q.jsx)(H,{size:22})," Ordem de Chamada"]}),(0,q.jsxs)("span",{className:"hidden md:inline-flex items-center gap-1.5 text-[10px] font-black text-slate-400 uppercase tracking-widest bg-slate-100 px-3 py-1 rounded-full",children:["Tempo M\xe9dio: ",20*c.length," min"]})]}),(0,q.jsx)("div",{className:"space-y-3",children:0===c.length?(0,q.jsxs)("div",{className:"text-center py-20 bg-white rounded-[2rem] border border-dashed border-slate-200",children:[(0,q.jsx)("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,q.jsx)(C,{size:32,className:"text-slate-200"})}),(0,q.jsx)("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"A fila est\xe1 livre agora"})]}):c.map((a,e)=>{let f=b.find(b=>b.id===a.serviceId),g="WAITING"===a.status,h="IN_CHAIR"===a.status;return(0,q.jsxs)("div",{className:`
                            flex items-center justify-between p-4 md:p-6 rounded-[2rem] border transition-all active:scale-[0.98]
                            ${g?"bg-white border-slate-100 shadow-sm":"bg-brand-dark border-brand-dark text-white shadow-xl scale-[1.02]"}
                            animate-fade-in
                        `,children:[(0,q.jsxs)("div",{className:"flex items-center gap-4 md:gap-6",children:[(0,q.jsx)("div",{className:`
                                    w-10 h-10 md:w-12 md:h-12 rounded-2xl flex items-center justify-center font-black text-base
                                    ${g?"bg-slate-100 text-slate-400":"bg-brand-light text-brand-dark shadow-inner"}
                                `,children:e+1}),(0,q.jsxs)("div",{className:"min-w-0",children:[(0,q.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,q.jsx)("h3",{className:`font-black text-base md:text-xl tracking-tight truncate ${!g&&"text-white"}`,children:a.customerName}),h&&(0,q.jsx)("span",{className:"bg-emerald-500 text-white text-[8px] font-black px-1.5 py-0.5 rounded-md uppercase animate-pulse",children:"Na Cadeira"})]}),(0,q.jsx)("p",{className:`text-[10px] md:text-xs font-bold uppercase tracking-widest ${g?"text-slate-400":"text-brand-light opacity-80"}`,children:f?.name})]})]}),(0,q.jsxs)("div",{className:"flex items-center gap-4",children:[(0,q.jsxs)("div",{className:"text-right hidden sm:block",children:[g&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest",children:"Espera"}),(0,q.jsxs)("p",{className:"text-sm font-black text-slate-600",children:["~",a.estimatedWaitMinutes," min"]})]}),h&&(0,q.jsx)("p",{className:"text-[10px] font-black text-emerald-400 uppercase tracking-widest",children:"Atendendo..."})]}),(0,q.jsx)("button",{onClick:()=>{var b;return b=a.id,void d(c.map(a=>{if(a.id===b){if("WAITING"===a.status)return{...a,status:"IN_CHAIR"};if("IN_CHAIR"===a.status)return{...a,status:"COMPLETED"}}return a}).filter(a=>"COMPLETED"!==a.status))},title:g?"Chamar para cadeira":"Finalizar atendimento",className:`
                                        w-12 h-12 md:w-14 md:h-14 rounded-2xl flex items-center justify-center transition-all shadow-lg active:scale-90
                                        ${g?"bg-brand-dark text-brand-light hover:bg-black":"bg-white text-brand-dark hover:bg-slate-50"}
                                    `,children:g?(0,q.jsx)(po,{size:20,fill:"currentColor"}):(0,q.jsx)(pp,{size:24,strokeWidth:3})})]})]},a.id)})})]})]})]})},pr={POINTS_PER_CURRENCY:1,MIN_POINTS_TO_REDEEM:100,DISCOUNT_CONVERSION_RATE:10},ps={shopName:"Barvo Matriz",address:"Rua Augusta, 1500 - S\xe3o Paulo, SP",phone:"(11) 99999-0000",openingHours:{start:"09:00",end:"20:00"},workingDays:["Seg","Ter","Qua","Qui","Sex","Sab"],defaultCommissionRate:50},pt=[{id:"n1",title:"Novo Agendamento",message:"Lucas Moura agendou para hoje \xe0s 15:00",time:"10 min atr\xe1s",read:!1,type:"INFO"},{id:"n2",title:"Estoque Baixo",message:"Shampoo Mentolado atingiu n\xedvel m\xednimo.",time:"1 hora atr\xe1s",read:!1,type:"ALERT"},{id:"n3",title:"Meta Batida",message:"Parab\xe9ns! Faturamento di\xe1rio superou a meta.",time:"Ontem",read:!0,type:"SUCCESS"}],pu=[{id:"auto1",title:"Fidelidade 5 Cortes",triggerType:"APPOINTMENT_COUNT",triggerValue:5,message:"Parab\xe9ns! Voc\xea completou 5 cortes conosco na Barvo. Aqui est\xe1 um cupom de 20% OFF: #BARVO20",active:!0,channel:"WHATSAPP"},{id:"auto2",title:"Feliz Anivers\xe1rio",triggerType:"BIRTHDAY",triggerValue:0,message:"Parab\xe9ns pelo seu dia! \uD83C\uDF82 Venha dar um trato no visual por nossa conta hoje na Barvo.",active:!1,channel:"WHATSAPP"}],pv=[{id:"u1",name:"Carlos Dono",role:v.OWNER,avatar:"https://picsum.photos/seed/u1/100/100",email:"admin@barber.com",password:"123",phone:"(11) 99999-9999"},{id:"u2",name:"Marcos Barbeiro",role:v.BARBER,avatar:"https://picsum.photos/seed/u2/100/100",email:"marcos@barber.com",password:"123",phone:"(11) 88888-8888"},{id:"u3",name:"Jo\xe3o Barbeiro",role:v.BARBER,avatar:"https://picsum.photos/seed/u3/100/100",email:"joao@barber.com",password:"123",phone:"(11) 77777-7777"},{id:"u4",name:"Cliente Teste",role:v.CUSTOMER,avatar:"https://picsum.photos/seed/u4/100/100",email:"cliente@gmail.com",password:"123",phone:"(11) 66666-6666",points:450,paymentMethods:[{id:"pm1",type:"CARD",brand:"visa",last4:"4242",expiry:"12/26",isDefault:!0},{id:"pm2",type:"CARD",brand:"mastercard",last4:"8888",expiry:"08/25",isDefault:!1}]},{id:"c1",name:"Roberto Silva",role:v.CUSTOMER,avatar:"https://picsum.photos/seed/c1/100/100",email:"roberto@gmail.com",phone:"(11) 91111-1111",points:120},{id:"c2",name:"Lucas Moura",role:v.CUSTOMER,avatar:"https://picsum.photos/seed/c2/100/100",email:"lucas@gmail.com",phone:"(11) 92222-2222",points:0}],pw=[{id:"s1",name:"Corte de Cabelo",durationMinutes:30,price:50,cost:15,margin:70,description:"Corte moderno com tesoura ou m\xe1quina."},{id:"s2",name:"Barba Terapia",durationMinutes:30,price:40,cost:12,margin:70,description:"Modelagem de barba com toalha quente."},{id:"s3",name:"Combo (Corte + Barba)",durationMinutes:50,price:80,cost:25,margin:68,description:"O pacote completo."},{id:"s4",name:"Pezinho / Acabamento",durationMinutes:15,price:20,cost:5,margin:75,description:"Apenas os contornos."}],px=new Date,py=(a,b,c)=>{let d=new Date(a);return d.setHours(b,c,0,0),d},pz=new Date(px);pz.setDate(pz.getDate()+1);let pA=new Date(px);pA.setDate(pA.getDate()-1);let pB=new Date(px);pB.setMonth(pB.getMonth()-1);let pC=[{id:"a1",barberId:"u2",customerId:"c1",customerName:"Roberto Silva",serviceId:"s1",startTime:py(px,10,0),status:"COMPLETED",paymentMethod:"CREDIT_CARD"},{id:"a2",barberId:"u2",customerId:"c2",customerName:"Lucas Moura",serviceId:"s3",startTime:py(px,11,0),status:"CONFIRMED",paymentMethod:"PIX"},{id:"a3",barberId:"u3",customerId:"c3",customerName:"Andr\xe9 Santos",serviceId:"s2",startTime:py(px,10,30),status:"CONFIRMED",paymentMethod:"PRESENTIAL"},{id:"a4",barberId:"u3",customerId:"c4",customerName:"Felipe Neto",serviceId:"s1",startTime:py(px,14,0),status:"CONFIRMED",paymentMethod:"DEBIT_CARD"},{id:"a5",barberId:"u2",customerId:"u4",customerName:"Cliente Teste",serviceId:"s3",startTime:py(pz,15,30),status:"CONFIRMED",paymentMethod:"CREDIT_CARD"},{id:"a6",barberId:"u3",customerId:"u4",customerName:"Cliente Teste",serviceId:"s1",startTime:py(pA,18,0),status:"COMPLETED",paymentMethod:"PIX"},{id:"a7",barberId:"u2",customerId:"u4",customerName:"Cliente Teste",serviceId:"s2",startTime:py(pB,10,0),status:"COMPLETED",paymentMethod:"PRESENTIAL"}],pD=[{id:"q1",customerName:"Pedro Henrique",serviceId:"s1",joinedAt:new Date(Date.now()-12e5),estimatedWaitMinutes:10,status:"WAITING"},{id:"q2",customerName:"Gabriel Costa",serviceId:"s2",joinedAt:new Date(Date.now()-3e5),estimatedWaitMinutes:25,status:"WAITING"}],pE=[{id:"t1",date:"2023-10-25",amount:80,type:"SERVICE",description:"Combo Corte + Barba",barberId:"u2",paymentMethod:"CREDIT_CARD"},{id:"t2",date:"2023-10-25",amount:50,type:"SERVICE",description:"Corte Simples",barberId:"u3",paymentMethod:"PIX"},{id:"t3",date:"2023-10-25",amount:45,type:"PRODUCT",description:"Pomada Matte",paymentMethod:"DEBIT_CARD"},{id:"t4",date:"2023-10-24",amount:120,type:"SERVICE",description:"Corte + Pigmenta\xe7\xe3o",barberId:"u2",paymentMethod:"PRESENTIAL"},{id:"t5",date:"2023-10-24",amount:40,type:"SERVICE",description:"Barba",barberId:"u3",paymentMethod:"CREDIT_CARD"},{id:"t6",date:"2023-10-23",amount:200,type:"SERVICE",description:"Dia do Noivo",barberId:"u2",paymentMethod:"PIX"},{id:"t7",date:"2023-10-23",amount:90,type:"SERVICE",description:"Combo VIP",barberId:"u3",paymentMethod:"DEBIT_CARD"}],pF={monthlyRevenue:15450,totalAppointments:234,newCustomers:45,avgTicket:66},pG=[{id:"p1",name:"Pomada Matte Barvo Series",quantity:15,price:45,minLevel:10,category:"Finaliza\xe7\xe3o"},{id:"p2",name:"Shampoo Mentolado 5L",quantity:5,price:35,minLevel:8,category:"Lavat\xf3rio"},{id:"p3",name:"\xd3leo de Barba Premium",quantity:12,price:40,minLevel:5,category:"Barba"},{id:"p4",name:"Cerveja Artesanal IPA",quantity:48,price:15,minLevel:24,category:"Bar"}],pH=[{id:"c1",title:"Ver\xe3o Barvo 2024",type:"WHATSAPP",status:"SENT",sentCount:150,openRate:85,date:"2023-12-20",content:"Fique no estilo com a Barvo! Desconto de 20% at\xe9 o final do m\xeas!"},{id:"c2",title:"Volta \xe0s Aulas",type:"EMAIL",status:"DRAFT",sentCount:0,date:"2024-01-15",content:"Volte com estilo na Barvo. Agende seu corte."}],pI=[{id:"plan1",name:"Barvo Essencial",price:80,servicesPerMonth:2,includedServiceIds:["s1"],includesBeard:!1,benefits:["Acesso priorit\xe1rio","Caf\xe9 gr\xe1tis"],activeMembers:45,utilizationRate:75,revenueGenerated:3600},{id:"plan2",name:"Barvo VIP",price:150,servicesPerMonth:0,includedServiceIds:["s1","s2","s3"],includesBeard:!0,benefits:["Cortes ilimitados","Barba inclusa","Cerveja cortesia","10% OFF em produtos"],activeMembers:28,utilizationRate:60,revenueGenerated:4200}],pJ={mrr:7800,churnRate:3.5,clv:1250},pK=[{id:"n1",customerId:"c1",barberId:"u2",date:"2023-10-15",note:"Cliente prefere disfar\xe7ado na 0.5 (Mid Fade). Cuidado com sinal na sobrancelha direita.",tags:["Mid Fade","Sobrancelha"]},{id:"n2",customerId:"c2",barberId:"u3",date:"2023-10-10",note:"Barba desenhada com navalha, pele sens\xedvel. Usar toalha morna, n\xe3o quente.",tags:["Pele Sens\xedvel","Barba"]}],pL=[{id:"sp1",name:"Pomada Modeladora Barvo Matte",description:"Fixa\xe7\xe3o forte com efeito seco natural. F\xf3rmula exclusiva da Barvo \xe0 base de \xe1gua.",price:45,category:"Cabelo",rating:4.8,reviewsCount:124,images:["https://images.unsplash.com/photo-1626285861696-9f0bf5a49c6d?auto=format&fit=crop&q=80&w=600"],variations:["100g","50g"],inStock:!0},{id:"sp2",name:"\xd3leo para Barba Barvo Viking",description:"Hidrata\xe7\xe3o profunda com fragr\xe2ncia amadeirada exclusiva.",price:39.9,category:"Barba",rating:4.9,reviewsCount:89,images:["https://images.unsplash.com/photo-1626285861696-9f0bf5a49c6d?auto=format&fit=crop&q=80&w=600"],variations:["30ml","60ml"],inStock:!0}],pM=x("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),pN=x("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),pO=x("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),pP=x("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),pQ=x("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),pR=x("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),pS=x("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),pT=x("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),pU={u4:{planId:"mp1",startDate:new Date(Date.now()-2592e6).toISOString()}};function pV(a,b){return!!(({})[a]||b?.membershipId)||a in pU}function pW(a){let b={};return b[a]?b[a]:a in pU?pU[a]:null}function pX(){return 0+Object.keys(pU).length}function pY(a,b){let c=function(a){let b=null;if(!b){let c=new Date,d=`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}`,e=new Date(c.getFullYear(),c.getMonth()+1,1);b={planId:pW(a)?.planId||"",customerId:a,servicesUsedThisMonth:0,month:d,createdAt:new Date().toISOString(),resetDate:e.toISOString()}}return function(a){let b=null;return!!b&&new Date>new Date(b.resetDate)}(a)&&(pZ(a),b=null),b}(a);return c.servicesUsedThisMonth,c.servicesUsedThisMonth<b&&(c.servicesUsedThisMonth+=1,p$(c)),{currentUsage:c.servicesUsedThisMonth,remaining:Math.max(0,b-c.servicesUsedThisMonth),isLimitReached:c.servicesUsedThisMonth>=b}}function pZ(a){let b=new Date,c=`${b.getFullYear()}-${String(b.getMonth()+1).padStart(2,"0")}`,d=new Date(b.getFullYear(),b.getMonth()+1,1);pW(a)?.planId,new Date().toISOString(),d.toISOString()}function p$(a){}function p_(a){return Math.floor(a*pr.POINTS_PER_CURRENCY)}let p0=({message:a,type:b,onClose:c})=>(0,q.jsxs)("div",{className:`fixed top-4 left-1/2 transform -translate-x-1/2 z-[100] flex items-center gap-2 px-4 py-3 rounded-lg shadow-xl animate-fade-in border ${"success"===b?"bg-emerald-600 border-emerald-500 text-white":"bg-white border-red-100 text-red-600"}`,children:["success"===b?(0,q.jsx)(pM,{size:16,className:"text-white"}):(0,q.jsx)(pd,{size:16}),(0,q.jsx)("span",{className:"font-semibold text-xs",children:a}),(0,q.jsx)("button",{onClick:c,className:"ml-2 text-sm opacity-70",children:"\xd7"})]}),p1=({currentUser:a,initialData:b,services:c,onBook:d,shopSettings:e,allAppointments:f,availabilityExceptions:g})=>{let[h,i]=(0,r.useState)(1),[j,k]=(0,r.useState)({serviceIds:[],barberId:"",date:new Date().toISOString().split("T")[0],time:"",paymentMethod:"PRESENTIAL",selectedCardId:a?.paymentMethods?.find(a=>a.isDefault)?.id||a?.paymentMethods?.[0]?.id||""}),[l,m]=(0,r.useState)(!1),[n,o]=(0,r.useState)({name:"",phone:""}),[p,s]=(0,r.useState)(null),[t,u]=(0,r.useState)("IDLE"),[w,x]=(0,r.useState)(300);(0,r.useEffect)(()=>{b&&(k(a=>({...a,serviceIds:b.serviceIds||[],barberId:b.barberId||""})),b.customerName&&o(a=>({...a,name:b.customerName||""})))},[b]),(0,r.useEffect)(()=>{if("DISPLAY"===t&&w>0){let a=setInterval(()=>x(a=>a-1),1e3);return()=>clearInterval(a)}},[t,w]);let y=pv.filter(a=>"BARBER"===a.role),A=(0,r.useMemo)(()=>{let a=[],[b]=e.openingHours.start.split(":").map(Number),[c]=e.openingHours.end.split(":").map(Number);for(let d=b;d<c;d++)a.push(`${d.toString().padStart(2,"0")}:00`),a.push(`${d.toString().padStart(2,"0")}:30`);return a},[e]),B=(0,r.useMemo)(()=>{let a=[],b=new Date;for(let c=0;c<7;c++){let d=new Date(b);d.setDate(b.getDate()+c),a.push({iso:d.toISOString().split("T")[0],label:d.toLocaleDateString("pt-BR",{weekday:"short",day:"2-digit"}),isToday:0===c})}return a},[]),D=c.filter(a=>j.serviceIds.includes(a.id)),E=D.reduce((a,b)=>a+b.durationMinutes,0),F=D.reduce((a,b)=>a+Number(b.price),0),H=b?.customerId?pv.find(a=>a.id===b.customerId):a,I=!!H&&pV(H.id,H);H&&pW(H.id);let J=F,K=0,L=0,M=!0,N=0;if(I&&H){j.serviceIds[0]&&((M=function(a,b){var c;let d=(c=0,null);return!!d&&d.servicesUsedThisMonth<4}(H.id,0))||(N=pY(H.id,4).remaining));let a=function(a,b=.15){let c=function(a,b=.15){return a*b}(a,b);return{finalPrice:a-c,discountAmount:c,savingsPercentage:100*b}}(F,.15);J=a.finalPrice,K=a.discountAmount,L=a.savingsPercentage}a?.points&&a.points;let O=pv.find(a=>a.id===j.barberId),P=(a,b)=>{s({message:a,type:b}),setTimeout(()=>s(null),4e3)},Q=a=>{if(!j.barberId||0===j.serviceIds.length)return!0;let[b,d]=a.split(":").map(Number),h=new Date(j.date);h.setHours(b,d,0,0);let i=new Date(h);if(i.setMinutes(i.getMinutes()+E),j.date===new Date().toISOString().split("T")[0]&&h<new Date)return!1;let[k,l]=e.openingHours.end.split(":").map(Number),m=new Date(j.date);return m.setHours(k,l,0,0),!(i>m)&&!(f.filter(a=>{if(a.barberId!==j.barberId||"CANCELLED"===a.status)return!1;let b=new Date(a.startTime),d=c.find(b=>b.id===a.serviceId),e=d?d.durationMinutes:30,f=new Date(b);return f.setMinutes(f.getMinutes()+e),h<f&&i>b}).length>0)&&!g.some(a=>{if(a.barberId!==j.barberId||a.date!==j.date)return!1;let[b,c]=a.startTime.split(":").map(Number),d=new Date(j.date);d.setHours(b,c,0,0);let e=new Date(d);return e.setMinutes(e.getMinutes()+30),h<e&&i>d})};(0,r.useEffect)(()=>{j.time&&!Q(j.time)&&(k(a=>({...a,time:""})),h>4&&(i(4),P("O hor\xe1rio n\xe3o comporta mais a dura\xe7\xe3o total dos servi\xe7os.","error")))},[j.serviceIds,E]);let R=()=>{if(4===h&&j.time&&!Q(j.time))return void P("Conflito de agenda. Escolha outro hor\xe1rio.","error");if(5===h&&"PIX"===j.paymentMethod&&"IDLE"===t){u("GENERATING"),setTimeout(()=>u("DISPLAY"),1500);return}m(!0),setTimeout(()=>{i(a=>a+1),m(!1)},300)};return(0,q.jsxs)("div",{className:`max-w-md mx-auto bg-white rounded-[2.5rem] shadow-2xl border border-slate-100 overflow-hidden min-h-[550px] flex flex-col transition-all duration-300 relative ${5===h?"max-w-5xl":""}`,children:[p&&(0,q.jsx)(p0,{message:p.message,type:p.type,onClose:()=>s(null)}),5!==h&&7!==h&&(0,q.jsxs)("div",{className:"bg-brand-dark py-8 px-8 text-white text-center relative overflow-hidden",children:[(0,q.jsx)("h1",{className:"text-xl font-black tracking-tighter uppercase italic mb-4",children:"Novo Agendamento"}),(0,q.jsx)("div",{className:"flex justify-center gap-1.5",children:[1,2,3,4,5,6].map(a=>(0,q.jsx)("div",{className:`h-1.5 rounded-full transition-all duration-300 ${h>=a?"bg-brand-light w-8":"bg-white/10 w-2"}`},a))})]}),(0,q.jsxs)("div",{className:`p-6 md:p-8 flex-1 flex flex-col relative overflow-hidden ${5===h?"p-0":"bg-slate-50/20"}`,children:[1===h&&(0,q.jsxs)("div",{className:"space-y-4 animate-fade-in flex-1 flex flex-col",children:[(0,q.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,q.jsx)("h2",{className:"text-lg font-black text-brand-dark uppercase tracking-tighter",children:"Servi\xe7os"}),(0,q.jsxs)("div",{className:"flex items-center gap-2",children:[(0,q.jsxs)("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[D.length," selecionado"]}),I&&(0,q.jsx)("span",{className:"text-[10px] font-black px-2 py-1 bg-emerald-100 text-emerald-700 rounded-full uppercase",children:" Assinante"})]})]}),(0,q.jsx)("div",{className:"grid gap-2 pb-24 overflow-y-auto custom-scrollbar",children:c.map(a=>{let b=j.serviceIds.includes(a.id),c=I?.15*a.price:0;return(0,q.jsxs)("button",{onClick:()=>(a=>{k(b=>{let c=b.serviceIds.includes(a)?b.serviceIds.filter(b=>b!==a):[...b.serviceIds,a];return{...b,serviceIds:c}})})(a.id),className:`w-full text-left p-4 md:p-5 border-2 rounded-2xl transition-all relative ${b?"border-brand-dark bg-white shadow-md ring-4 ring-brand-dark/5":"border-slate-100 bg-white"}`,children:[I&&(0,q.jsx)("div",{className:"absolute -top-2 -right-2 bg-emerald-500 text-white text-[10px] font-black px-2 py-1 rounded-full",children:"-15%"}),(0,q.jsxs)("div",{className:"flex justify-between items-center",children:[(0,q.jsxs)("div",{className:"flex items-center gap-4",children:[(0,q.jsx)("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center transition-colors ${b?"bg-brand-dark text-white":"bg-slate-100 text-slate-400"}`,children:b?(0,q.jsx)(pM,{size:20,strokeWidth:4}):(0,q.jsx)(G,{size:20})}),(0,q.jsxs)("div",{children:[(0,q.jsx)("span",{className:`block font-black text-sm md:text-base ${b?"text-brand-dark":"text-slate-800"}`,children:a.name}),(0,q.jsxs)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[a.durationMinutes," min"]})]})]}),(0,q.jsxs)("div",{className:"text-right",children:[I&&c>0&&(0,q.jsxs)("div",{className:"text-[10px] text-slate-400 line-through",children:["R$ ",Number(a.price).toFixed(0)]}),(0,q.jsxs)("div",{className:`text-base font-black ${b?"text-brand-dark":"text-slate-900"}`,children:["R$ ",I?(a.price-c).toFixed(0):Number(a.price).toFixed(0)]})]})]})]},a.id)})}),(0,q.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-5 bg-white/95 backdrop-blur-md border-t border-slate-100 flex items-center justify-between shadow-[0_-10px_20px_rgba(0,0,0,0.02)]",children:[(0,q.jsxs)("div",{className:"flex flex-col",children:[(0,q.jsx)("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Total"}),(0,q.jsxs)("span",{className:"text-xl font-black text-brand-dark leading-none",children:["R$ ",J.toFixed(2)]})]}),(0,q.jsxs)("button",{onClick:R,disabled:0===j.serviceIds.length,className:"bg-brand-dark text-white px-8 py-3.5 rounded-2xl font-black shadow-2xl disabled:opacity-20 transition-all flex items-center gap-2 text-sm uppercase tracking-widest active:scale-95",children:["Avan\xe7ar ",(0,q.jsx)(pk,{size:18,strokeWidth:3})]})]})]}),2===h&&(0,q.jsxs)("div",{className:"space-y-6 animate-fade-in flex-1",children:[(0,q.jsxs)("button",{onClick:()=>i(1),className:"text-[10px] font-black text-slate-400 flex items-center gap-1 uppercase tracking-widest hover:text-brand-dark",children:[(0,q.jsx)(pj,{size:16})," Voltar"]}),(0,q.jsx)("h2",{className:"text-xl font-black text-brand-dark tracking-tighter",children:"Escolha o Barbeiro"}),(0,q.jsx)("div",{className:"grid grid-cols-2 gap-4",children:y.map(a=>(0,q.jsxs)("button",{onClick:()=>{k({...j,barberId:a.id}),R()},className:`p-6 border-2 rounded-[2rem] bg-white transition-all flex flex-col items-center gap-3 active:scale-95 ${j.barberId===a.id?"border-brand-dark shadow-xl ring-4 ring-brand-dark/5":"border-slate-100"}`,children:[(0,q.jsx)(z,{url:a.avatar,name:a.name,size:"lg",className:"!w-20 !h-20 shadow-lg border-2 border-white"}),(0,q.jsx)("span",{className:"font-black text-brand-dark text-sm uppercase tracking-tighter",children:a.name.split(" ")[0]})]},a.id))})]}),3===h&&(0,q.jsxs)("div",{className:"space-y-6 animate-fade-in flex-1",children:[(0,q.jsxs)("button",{onClick:()=>i(2),className:"text-[10px] font-black text-slate-400 flex items-center gap-1 uppercase tracking-widest",children:[(0,q.jsx)(pj,{size:16})," Voltar"]}),(0,q.jsx)("h2",{className:"text-xl font-black text-brand-dark text-center tracking-tighter",children:"Para quando?"}),(0,q.jsx)("div",{className:"grid grid-cols-4 gap-3",children:B.map(a=>(0,q.jsxs)("button",{onClick:()=>{k({...j,date:a.iso}),R()},className:`py-5 rounded-2xl border-2 transition-all flex flex-col items-center justify-center active:scale-90 ${j.date===a.iso?"bg-brand-dark border-brand-dark text-white shadow-xl":"bg-white border-slate-100 text-slate-600"}`,children:[(0,q.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest opacity-60 mb-1",children:a.label.split(" ")[0]}),(0,q.jsx)("span",{className:"text-2xl font-black tracking-tighter",children:a.label.split(" ")[1]})]},a.iso))})]}),4===h&&(0,q.jsxs)("div",{className:"space-y-6 animate-fade-in flex-1",children:[(0,q.jsxs)("button",{onClick:()=>i(3),className:"text-[10px] font-black text-slate-400 flex items-center gap-1 uppercase tracking-widest",children:[(0,q.jsx)(pj,{size:16})," Voltar"]}),(0,q.jsx)("h2",{className:"text-xl font-black text-brand-dark text-center tracking-tighter",children:"Qual hor\xe1rio?"}),(0,q.jsxs)("div",{className:"bg-blue-50 border border-blue-100 p-3 rounded-xl flex items-center gap-2 mb-2",children:[(0,q.jsx)(C,{size:16,className:"text-blue-500"}),(0,q.jsxs)("p",{className:"text-[10px] font-bold text-blue-700 uppercase",children:["Estimado: ",E," min de atendimento"]})]}),(0,q.jsx)("div",{className:"grid grid-cols-3 gap-3 overflow-y-auto max-h-[300px] pr-2 custom-scrollbar",children:A.map(a=>{let b=Q(a);return(0,q.jsx)("button",{disabled:!b,onClick:()=>{k({...j,time:a}),R()},className:`py-4 border-2 rounded-xl font-black text-sm tracking-tighter transition-all active:scale-95 ${b?j.time===a?"bg-brand-dark border-brand-dark text-white shadow-lg":"bg-white border-slate-100 text-slate-700":"bg-slate-50 text-slate-200 border-slate-50 cursor-not-allowed opacity-40"}`,children:a},a)})})]}),5===h&&(0,q.jsxs)("div",{className:"animate-fade-in flex flex-col md:flex-row min-h-[500px]",children:[(0,q.jsxs)("div",{className:"flex-1 p-8 md:p-12 bg-white",children:[(0,q.jsxs)("button",{onClick:()=>{"IDLE"!==t?u("IDLE"):i(4)},className:"text-slate-400 hover:text-brand-dark mb-8 flex items-center gap-1 text-[10px] font-black uppercase tracking-widest",children:[(0,q.jsx)(pj,{size:16})," Voltar"]}),(0,q.jsxs)("div",{className:"max-w-sm mx-auto",children:[(0,q.jsx)("h2",{className:"text-3xl font-black text-slate-800 mb-8 tracking-tighter",children:"Checkout"}),"GENERATING"===t&&(0,q.jsxs)("div",{className:"text-center py-20 animate-pulse",children:[(0,q.jsx)(pN,{className:"animate-spin mx-auto text-emerald-500 mb-4",size:48}),(0,q.jsx)("p",{className:"text-sm font-black text-slate-600 uppercase tracking-widest",children:"Gerando Pix..."})]}),"DISPLAY"===t&&(0,q.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,q.jsxs)("div",{className:"bg-slate-50 p-8 rounded-[2.5rem] border-2 border-emerald-100 flex flex-col items-center",children:[(0,q.jsx)("div",{className:"bg-white p-4 rounded-[2rem] shadow-2xl mb-4",children:(0,q.jsx)("img",{src:"https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=BARVO_BOOKING_PIX",className:"w-40 h-40",alt:"QR Pix"})}),(0,q.jsxs)("div",{className:"flex items-center gap-2 text-emerald-600 font-black mb-2",children:[(0,q.jsx)(pO,{size:20})," ",(0,q.jsx)("span",{className:"text-xl",children:(a=>{let b=Math.floor(a/60);return`${b}:${(a%60).toString().padStart(2,"0")}`})(w)})]}),(0,q.jsx)("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest text-center",children:"Pagamento Instant\xe2neo"})]}),(0,q.jsx)("button",{onClick:R,className:"w-full bg-emerald-600 text-white py-5 rounded-[2rem] font-black text-sm uppercase tracking-widest shadow-2xl shadow-emerald-500/20 active:scale-95 transition-all",children:"Confirmar Pagamento"})]}),"IDLE"===t&&(0,q.jsxs)("div",{className:"space-y-8",children:[(0,q.jsxs)("div",{className:"space-y-4",children:[(0,q.jsx)("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Meios de Pagamento"}),(0,q.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[a?.paymentMethods?.map(a=>(0,q.jsxs)("button",{onClick:()=>k({...j,paymentMethod:"CREDIT_CARD",selectedCardId:a.id}),className:`p-5 border-2 rounded-2xl transition-all flex items-center gap-4 text-left active:scale-[0.98] ${j.selectedCardId===a.id?"border-brand-dark bg-slate-50 ring-4 ring-brand-dark/5 shadow-md":"border-slate-100 bg-white"}`,children:[(0,q.jsx)("div",{className:`p-2 rounded-lg ${j.selectedCardId===a.id?"bg-brand-dark text-white":"bg-slate-50 text-slate-400"}`,children:(0,q.jsx)(pP,{size:20})}),(0,q.jsx)("div",{className:"flex-1",children:(0,q.jsxs)("p",{className:"font-black text-slate-800 text-sm tracking-tight",children:["Cart\xe3o Final ",a.last4]})}),j.selectedCardId===a.id&&(0,q.jsx)(pM,{size:18,className:"text-brand-dark",strokeWidth:4})]},a.id)),(0,q.jsxs)("button",{onClick:()=>k({...j,paymentMethod:"PIX",selectedCardId:""}),className:`p-5 border-2 rounded-2xl transition-all flex items-center gap-4 text-left active:scale-[0.98] ${"PIX"===j.paymentMethod?"border-emerald-600 bg-emerald-50 ring-4 ring-emerald-600/5 shadow-md":"border-slate-100 bg-white"}`,children:[(0,q.jsx)("div",{className:`p-2 rounded-lg ${"PIX"===j.paymentMethod?"bg-emerald-600 text-white":"bg-slate-50 text-slate-400"}`,children:(0,q.jsx)(pQ,{size:20})}),(0,q.jsx)("div",{className:"flex-1",children:(0,q.jsx)("p",{className:"font-black text-slate-800 text-sm tracking-tight",children:"Pix (5% Desconto)"})}),"PIX"===j.paymentMethod&&(0,q.jsx)(pM,{size:18,className:"text-emerald-600",strokeWidth:4})]})]})]}),(0,q.jsxs)("div",{className:"space-y-4",children:[(0,q.jsx)("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Pagar Localmente"}),(0,q.jsxs)("button",{onClick:()=>k({...j,paymentMethod:"PRESENTIAL",selectedCardId:""}),className:`w-full p-6 border-2 border-dashed rounded-2xl transition-all flex items-center gap-4 text-left active:scale-[0.98] ${"PRESENTIAL"===j.paymentMethod?"border-slate-800 bg-slate-50":"border-slate-100 bg-white"}`,children:[(0,q.jsx)(pR,{size:24,className:"text-slate-400"}),(0,q.jsx)("div",{className:"flex-1",children:(0,q.jsx)("p",{className:"font-black text-slate-800 text-sm tracking-tight",children:"Pagar na Barbearia"})})]})]}),(0,q.jsxs)("button",{onClick:R,className:`w-full mt-4 ${"PIX"===j.paymentMethod?"bg-emerald-600":"bg-brand-dark"} text-white py-5 rounded-[2rem] font-black text-sm uppercase tracking-widest shadow-2xl active:scale-95 transition-all flex items-center justify-center gap-3`,children:["Revisar Reserva ",(0,q.jsx)(pa,{size:20,strokeWidth:3})]})]})]})]}),(0,q.jsxs)("div",{className:"w-full md:w-96 bg-slate-50 p-8 md:p-12 border-l border-slate-100 flex flex-col justify-center",children:[(0,q.jsx)("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-8 text-center md:text-left",children:"Resumo"}),(0,q.jsx)("div",{className:"space-y-4 mb-10",children:D.map(a=>(0,q.jsxs)("div",{className:"flex justify-between items-start",children:[(0,q.jsxs)("div",{className:"flex-1 pr-4",children:[(0,q.jsx)("p",{className:"font-black text-slate-800 text-sm tracking-tight leading-tight",children:a.name}),(0,q.jsxs)("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:[a.durationMinutes," min"]})]}),(0,q.jsxs)("span",{className:"font-black text-slate-900 text-sm",children:["R$ ",Number(a.price).toFixed(2)]})]},a.id))}),(0,q.jsxs)("div",{className:"pt-6 border-t-2 border-slate-200/50 space-y-4",children:[I&&K>0&&(0,q.jsxs)("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl p-4 flex items-start gap-3",children:[(0,q.jsx)(pS,{size:18,className:"text-emerald-600 mt-0.5 flex-shrink-0",fill:"currentColor"}),(0,q.jsxs)("div",{className:"flex-1",children:[(0,q.jsx)("p",{className:"text-[10px] font-black text-emerald-700 uppercase tracking-widest mb-1",children:"Desconto Assinante"}),(0,q.jsxs)("p",{className:"text-sm font-black text-emerald-900",children:["-R$ ",K.toFixed(2)," (",L.toFixed(0),"%)"]})]})]}),I&&!M&&(0,q.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex items-start gap-3",children:[(0,q.jsx)(pd,{size:18,className:"text-amber-600 mt-0.5 flex-shrink-0"}),(0,q.jsxs)("div",{children:[(0,q.jsx)("p",{className:"text-[10px] font-black text-amber-700 uppercase tracking-widest mb-1",children:"Limite de Servi\xe7os"}),(0,q.jsxs)("p",{className:"text-xs text-amber-800",children:["Voc\xea tem ",N," servi\xe7os restantes neste m\xeas."]})]})]}),(0,q.jsxs)("div",{className:"flex justify-between items-center",children:[(0,q.jsx)("span",{className:"text-xl font-black text-slate-900 tracking-tighter uppercase",children:"Total"}),(0,q.jsxs)("span",{className:"text-3xl font-black text-slate-900 tracking-tighter",children:["R$ ",J.toFixed(2)]})]})]})]})]}),6===h&&(0,q.jsxs)("div",{className:"space-y-6 animate-fade-in flex-1 flex flex-col",children:[(0,q.jsxs)("button",{onClick:()=>i(5),className:"text-[10px] font-black text-slate-400 flex items-center gap-1 uppercase tracking-widest",children:[(0,q.jsx)(pj,{size:16})," Voltar"]}),(0,q.jsx)("h2",{className:"text-2xl font-black text-brand-dark tracking-tighter",children:"Confirma\xe7\xe3o"}),(0,q.jsxs)("div",{className:"bg-white rounded-[2rem] border border-slate-100 p-8 space-y-6 shadow-xl relative overflow-hidden",children:[(0,q.jsxs)("div",{className:"flex justify-between items-center text-sm border-b border-slate-50 pb-4",children:[(0,q.jsx)("span",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Agendamento"}),(0,q.jsx)("span",{className:"font-black text-right pl-4",children:D.map(a=>a.name).join(", ")})]}),(0,q.jsxs)("div",{className:"flex justify-between items-center text-sm border-b border-slate-50 pb-4",children:[(0,q.jsx)("span",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Data e Hora"}),(0,q.jsxs)("span",{className:"font-black",children:[new Date(j.date).toLocaleDateString("pt-BR")," \xe0s ",j.time]})]}),(0,q.jsxs)("div",{className:"flex justify-between items-center text-sm border-b border-slate-50 pb-4",children:[(0,q.jsx)("span",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Barbeiro"}),(0,q.jsx)("span",{className:"font-black",children:O?.name})]}),(0,q.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,q.jsx)("span",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Pagamento"}),(0,q.jsx)("span",{className:`font-black uppercase text-[10px] px-3 py-1 rounded-full ${"PRESENTIAL"===j.paymentMethod?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"}`,children:"PIX"===j.paymentMethod?"Pix":"PRESENTIAL"===j.paymentMethod?"Presencial":"App"})]})]}),(!a||a.role!==v.CUSTOMER&&!b?.customerId)&&(0,q.jsxs)("div",{className:"space-y-4 bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[(0,q.jsx)("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Seu Nome"}),(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)(pn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),(0,q.jsx)("input",{type:"text",placeholder:"Como quer ser chamado?",className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-xl outline-none text-sm font-black",value:n.name,onChange:a=>o({...n,name:a.target.value})})]})]}),(0,q.jsx)("div",{className:"mt-auto pt-8",children:(0,q.jsx)("button",{onClick:()=>{let c=b?.customerId||a?.id||"guest",e=a?.id===c?a.name:n.name||"Cliente";if("guest"===c&&!n.name)return void P("Nome do cliente \xe9 obrigat\xf3rio.","error");if(!Q(j.time)){P("Este hor\xe1rio acabou de ser ocupado. Por favor, mude o hor\xe1rio.","error"),i(4);return}m(!0);let[f,g]=j.time.split(":").map(Number),h=new Date(j.date);h.setHours(f,g,0,0),j.serviceIds.forEach(a=>{d({barberId:j.barberId,serviceId:a,startTime:h,customerName:e,customerId:c,paymentMethod:j.paymentMethod,paymentStatus:"PRESENTIAL"!==j.paymentMethod?"PAID":"PENDING",isMembershipUsage:I}),I&&H&&pY(H.id,4)}),setTimeout(()=>{i(7),m(!1),P("Hor\xe1rio Confirmado!","success")},1e3)},disabled:l,className:"w-full bg-brand-dark text-white py-5 rounded-[2rem] font-black text-base uppercase tracking-widest shadow-2xl active:scale-95 flex items-center justify-center gap-3",children:l?(0,q.jsx)(pN,{className:"animate-spin",size:24}):"Finalizar Agendamento"})})]}),7===h&&(0,q.jsxs)("div",{className:"text-center space-y-8 animate-fade-in my-auto flex flex-col items-center justify-center flex-1",children:[(0,q.jsx)("div",{className:"w-20 h-20 bg-emerald-100 rounded-full flex items-center justify-center text-emerald-600 shadow-inner",children:(0,q.jsx)(pp,{size:48,strokeWidth:3,className:"animate-bounce"})}),(0,q.jsxs)("div",{className:"px-4",children:[(0,q.jsx)("h2",{className:"text-3xl font-black text-brand-dark tracking-tighter uppercase italic",children:"Agendado!"}),(0,q.jsxs)("p",{className:"text-slate-500 mt-2 text-sm font-medium max-w-xs mx-auto leading-relaxed",children:["Tudo certo, ",(0,q.jsx)("b",{children:a?.name.split(" ")[0]||n.name.split(" ")[0]}),"! Seu hor\xe1rio est\xe1 garantido para dia ",(0,q.jsx)("b",{children:new Date(j.date).toLocaleDateString("pt-BR")})," \xe0s ",(0,q.jsx)("b",{children:j.time}),"."]})]}),(0,q.jsxs)("div",{className:"w-full max-w-xs space-y-3",children:[(0,q.jsxs)("a",{href:(()=>{let c=b?.customerName||a?.name||n.name,d=D.map(a=>a.name).join(", "),f="PIX"===j.paymentMethod?"Pix (Pago)":"PRESENTIAL"===j.paymentMethod?"Pagamento Local":"Pago via App",[g,h,i]=j.date.split("-"),k=`${i}/${h}/${g}`,l=`Ol\xe1! Sou o ${c}. Acabei de confirmar meu agendamento na Barvo! 

 *Detalhes:*

 *Servi\xe7o:* ${d}
 *Barbeiro:* ${O?.name}
 *Data:* ${k} \xe0s ${j.time}
 *Status:* ${f}
 *Total:* R$ ${J.toFixed(2)}

 *Lembrete:* Fique atento! Enviaremos uma confirma\xe7\xe3o para voc\xea no dia anterior ao seu servi\xe7o para garantir que seu hor\xe1rio esteja ok. `;return`https://wa.me/${e.phone.replace(/\D/g,"")}?text=${encodeURIComponent(l)}`})(),target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center justify-center gap-3 bg-emerald-600 text-white font-black py-4 rounded-2xl shadow-xl shadow-emerald-600/20 active:scale-95 transition-all text-xs uppercase tracking-widest",children:[(0,q.jsx)(pT,{size:18})," Notificar no WhatsApp"]}),(0,q.jsx)("button",{onClick:()=>{i(1),u("IDLE")},className:"text-slate-400 font-bold text-[10px] uppercase tracking-widest pt-2",children:"Fazer outra reserva"})]})]})]})]})};function p2(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}Object.create;Object.create,"function"==typeof SuppressedError&&SuppressedError;class p3 extends Error{constructor(a,b="FunctionsError",c){super(a),this.name=b,this.context=c}}class p4 extends p3{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class p5 extends p3{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class p6 extends p3{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}!function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"}(e||(e={}));class p7{constructor(a,{headers:b={},customFetch:c,region:d=e.Any}={}){this.url=a,this.headers=b,this.region=d,this.fetch=(a=>a?(...b)=>a(...b):(...a)=>fetch(...a))(c)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){var b,c,d,e;return b=this,c=arguments,d=void 0,e=function*(a,b={}){var c;let d,e;try{let f,{headers:g,method:h,body:i,signal:j,timeout:k}=b,l={},{region:m}=b;m||(m=this.region);let n=new URL(`${this.url}/${a}`);m&&"any"!==m&&(l["x-region"]=m,n.searchParams.set("forceFunctionRegion",m)),i&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?"undefined"!=typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=i):"string"==typeof i?(l["Content-Type"]="text/plain",f=i):"undefined"!=typeof FormData&&i instanceof FormData?f=i:(l["Content-Type"]="application/json",f=JSON.stringify(i)):f=!i||"string"==typeof i||"undefined"!=typeof Blob&&i instanceof Blob||i instanceof ArrayBuffer||"undefined"!=typeof FormData&&i instanceof FormData?i:JSON.stringify(i);let o=j;k&&(e=new AbortController,d=setTimeout(()=>e.abort(),k),j?(o=e.signal,j.addEventListener("abort",()=>e.abort())):o=e.signal);let p=yield this.fetch(n.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),g),body:f,signal:o}).catch(a=>{throw new p4(a)}),q=p.headers.get("x-relay-error");if(q&&"true"===q)throw new p5(p);if(!p.ok)throw new p6(p);let r=(null!=(c=p.headers.get("Content-Type"))?c:"text/plain").split(";")[0].trim();return{data:"application/json"===r?yield p.json():"application/octet-stream"===r||"application/pdf"===r?yield p.blob():"text/event-stream"===r?p:"multipart/form-data"===r?yield p.formData():yield p.text(),error:null,response:p}}catch(a){return{data:null,error:a,response:a instanceof p6||a instanceof p5?a.context:void 0}}finally{d&&clearTimeout(d)}},new(d||(d=Promise))(function(a,f){function g(a){try{i(e.next(a))}catch(a){f(a)}}function h(a){try{i(e.throw(a))}catch(a){f(a)}}function i(b){var c;b.done?a(b.value):((c=b.value)instanceof d?c:new d(function(a){a(c)})).then(g,h)}i((e=e.apply(b,c||[])).next())})}}var p8=class extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}},p9=class{constructor(a){var b,c,d;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=null!=(b=a.shouldThrowOnError)&&b,this.signal=a.signal,this.isMaybeSingle=null!=(c=a.isMaybeSingle)&&c,this.urlLengthLimit=null!=(d=a.urlLengthLimit)?d:8e3,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,b){return this.headers=new Headers(this.headers),this.headers.set(a,b),this}then(a,b){var c=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let d=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var b,d,e,f;let g=null,h=null,i=null,j=a.status,k=a.statusText;if(a.ok){if("HEAD"!==c.method){let b=await a.text();""===b||(h="text/csv"===c.headers.get("Accept")||c.headers.get("Accept")&&(null==(e=c.headers.get("Accept"))?void 0:e.includes("application/vnd.pgrst.plan+text"))?b:JSON.parse(b))}let f=null==(b=c.headers.get("Prefer"))?void 0:b.match(/count=(exact|planned|estimated)/),l=null==(d=a.headers.get("content-range"))?void 0:d.split("/");f&&l&&l.length>1&&(i=parseInt(l[1])),c.isMaybeSingle&&"GET"===c.method&&Array.isArray(h)&&(h.length>1?(g={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,i=null,j=406,k="Not Acceptable"):h=1===h.length?h[0]:null)}else{let b=await a.text();try{g=JSON.parse(b),Array.isArray(g)&&404===a.status&&(h=[],g=null,j=200,k="OK")}catch(c){404===a.status&&""===b?(j=204,k="No Content"):g={message:b}}if(g&&c.isMaybeSingle&&(null==g||null==(f=g.details)?void 0:f.includes("0 rows"))&&(g=null,j=200,k="OK"),g&&c.shouldThrowOnError)throw new p8(g)}return{error:g,data:h,count:i,status:j,statusText:k}});return this.shouldThrowOnError||(d=d.catch(a=>{var b,c,d,e,f,g;let h="",i="",j="",k=null==a?void 0:a.cause;if(k){let b=null!=(c=null==k?void 0:k.message)?c:"",g=null!=(d=null==k?void 0:k.code)?d:"";h=`${null!=(e=null==a?void 0:a.name)?e:"FetchError"}: ${null==a?void 0:a.message}

Caused by: ${null!=(f=null==k?void 0:k.name)?f:"Error"}: ${b}`,g&&(h+=` (${g})`),(null==k?void 0:k.stack)&&(h+=`
${k.stack}`)}else h=null!=(g=null==a?void 0:a.stack)?g:"";let l=this.url.toString().length;return(null==a?void 0:a.name)==="AbortError"||(null==a?void 0:a.code)==="ABORT_ERR"?(j="",i="Request was aborted (timeout or manual cancellation)",l>this.urlLengthLimit&&(i+=`. Note: Your request URL is ${l} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((null==k?void 0:k.name)==="HeadersOverflowError"||(null==k?void 0:k.code)==="UND_ERR_HEADERS_OVERFLOW")&&(j="",i="HTTP headers exceeded server limits (typically 16KB)",l>this.urlLengthLimit&&(i+=`. Your request URL is ${l} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${null!=(b=null==a?void 0:a.name)?b:"FetchError"}: ${null==a?void 0:a.message}`,details:h,hint:i,code:j},data:null,count:null,status:0,statusText:""}})),d.then(a,b)}returns(){return this}overrideTypes(){return this}},qa=class extends p9{select(a){let b=!1,c=(null!=a?a:"*").split("").map(a=>/\s/.test(a)&&!b?"":('"'===a&&(b=!b),a)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:b=!0,nullsFirst:c,foreignTable:d,referencedTable:e=d}={}){let f=e?`${e}.order`:"order",g=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${g?`${g},`:""}${a}.${b?"asc":"desc"}${void 0===c?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:b,referencedTable:c=b}={}){let d=void 0===c?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${a}`),this}range(a,b,{foreignTable:c,referencedTable:d=c}={}){let e=void 0===d?"offset":`${d}.offset`,f=void 0===d?"limit":`${d}.limit`;return this.url.searchParams.set(e,`${a}`),this.url.searchParams.set(f,`${b-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:b=!1,settings:c=!1,buffers:d=!1,wal:e=!1,format:f="text"}={}){var g;let h=[a?"analyze":null,b?"verbose":null,c?"settings":null,d?"buffers":null,e?"wal":null].filter(Boolean).join("|"),i=null!=(g=this.headers.get("Accept"))?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${i}"; options=${h};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}};let qb=RegExp("[,()]");var qc=class extends qa{eq(a,b){return this.url.searchParams.append(a,`eq.${b}`),this}neq(a,b){return this.url.searchParams.append(a,`neq.${b}`),this}gt(a,b){return this.url.searchParams.append(a,`gt.${b}`),this}gte(a,b){return this.url.searchParams.append(a,`gte.${b}`),this}lt(a,b){return this.url.searchParams.append(a,`lt.${b}`),this}lte(a,b){return this.url.searchParams.append(a,`lte.${b}`),this}like(a,b){return this.url.searchParams.append(a,`like.${b}`),this}likeAllOf(a,b){return this.url.searchParams.append(a,`like(all).{${b.join(",")}}`),this}likeAnyOf(a,b){return this.url.searchParams.append(a,`like(any).{${b.join(",")}}`),this}ilike(a,b){return this.url.searchParams.append(a,`ilike.${b}`),this}ilikeAllOf(a,b){return this.url.searchParams.append(a,`ilike(all).{${b.join(",")}}`),this}ilikeAnyOf(a,b){return this.url.searchParams.append(a,`ilike(any).{${b.join(",")}}`),this}regexMatch(a,b){return this.url.searchParams.append(a,`match.${b}`),this}regexIMatch(a,b){return this.url.searchParams.append(a,`imatch.${b}`),this}is(a,b){return this.url.searchParams.append(a,`is.${b}`),this}isDistinct(a,b){return this.url.searchParams.append(a,`isdistinct.${b}`),this}in(a,b){let c=Array.from(new Set(b)).map(a=>"string"==typeof a&&qb.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}notIn(a,b){let c=Array.from(new Set(b)).map(a=>"string"==typeof a&&qb.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(a,`not.in.(${c})`),this}contains(a,b){return"string"==typeof b?this.url.searchParams.append(a,`cs.${b}`):Array.isArray(b)?this.url.searchParams.append(a,`cs.{${b.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(b)}`),this}containedBy(a,b){return"string"==typeof b?this.url.searchParams.append(a,`cd.${b}`):Array.isArray(b)?this.url.searchParams.append(a,`cd.{${b.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(b)}`),this}rangeGt(a,b){return this.url.searchParams.append(a,`sr.${b}`),this}rangeGte(a,b){return this.url.searchParams.append(a,`nxl.${b}`),this}rangeLt(a,b){return this.url.searchParams.append(a,`sl.${b}`),this}rangeLte(a,b){return this.url.searchParams.append(a,`nxr.${b}`),this}rangeAdjacent(a,b){return this.url.searchParams.append(a,`adj.${b}`),this}overlaps(a,b){return"string"==typeof b?this.url.searchParams.append(a,`ov.${b}`):this.url.searchParams.append(a,`ov.{${b.join(",")}}`),this}textSearch(a,b,{config:c,type:d}={}){let e="";"plain"===d?e="pl":"phrase"===d?e="ph":"websearch"===d&&(e="w");let f=void 0===c?"":`(${c})`;return this.url.searchParams.append(a,`${e}fts${f}.${b}`),this}match(a){return Object.entries(a).forEach(([a,b])=>{this.url.searchParams.append(a,`eq.${b}`)}),this}not(a,b,c){return this.url.searchParams.append(a,`not.${b}.${c}`),this}or(a,{foreignTable:b,referencedTable:c=b}={}){let d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${a})`),this}filter(a,b,c){return this.url.searchParams.append(a,`${b}.${c}`),this}},qd=class{constructor(a,{headers:b={},schema:c,fetch:d,urlLengthLimit:e=8e3}){this.url=a,this.headers=new Headers(b),this.schema=c,this.fetch=d,this.urlLengthLimit=e}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(a,b){let{head:c=!1,count:d}=null!=b?b:{},e=!1,f=(null!=a?a:"*").split("").map(a=>/\s/.test(a)&&!e?"":('"'===a&&(e=!e),a)).join(""),{url:g,headers:h}=this.cloneRequestState();return g.searchParams.set("select",f),d&&h.append("Prefer",`count=${d}`),new qc({method:c?"HEAD":"GET",url:g,headers:h,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(a,{count:b,defaultToNull:c=!0}={}){var d;let{url:e,headers:f}=this.cloneRequestState();if(b&&f.append("Prefer",`count=${b}`),c||f.append("Prefer","missing=default"),Array.isArray(a)){let b=a.reduce((a,b)=>a.concat(Object.keys(b)),[]);if(b.length>0){let a=[...new Set(b)].map(a=>`"${a}"`);e.searchParams.set("columns",a.join(","))}}return new qc({method:"POST",url:e,headers:f,schema:this.schema,body:a,fetch:null!=(d=this.fetch)?d:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(a,{onConflict:b,ignoreDuplicates:c=!1,count:d,defaultToNull:e=!0}={}){var f;let{url:g,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),void 0!==b&&g.searchParams.set("on_conflict",b),d&&h.append("Prefer",`count=${d}`),e||h.append("Prefer","missing=default"),Array.isArray(a)){let b=a.reduce((a,b)=>a.concat(Object.keys(b)),[]);if(b.length>0){let a=[...new Set(b)].map(a=>`"${a}"`);g.searchParams.set("columns",a.join(","))}}return new qc({method:"POST",url:g,headers:h,schema:this.schema,body:a,fetch:null!=(f=this.fetch)?f:fetch,urlLengthLimit:this.urlLengthLimit})}update(a,{count:b}={}){var c;let{url:d,headers:e}=this.cloneRequestState();return b&&e.append("Prefer",`count=${b}`),new qc({method:"PATCH",url:d,headers:e,schema:this.schema,body:a,fetch:null!=(c=this.fetch)?c:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:a}={}){var b;let{url:c,headers:d}=this.cloneRequestState();return a&&d.append("Prefer",`count=${a}`),new qc({method:"DELETE",url:c,headers:d,schema:this.schema,fetch:null!=(b=this.fetch)?b:fetch,urlLengthLimit:this.urlLengthLimit})}};function qe(a){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function qf(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function qg(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?qf(Object(c),!0).forEach(function(b){!function(a,b,c){var d;(d=function(a,b){if("object"!=qe(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=qe(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"),(b="symbol"==qe(d)?d:d+"")in a)?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c}(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):qf(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var qh=class a{constructor(a,{headers:b={},schema:c,fetch:d,timeout:e,urlLengthLimit:f=8e3}={}){this.url=a,this.headers=new Headers(b),this.schemaName=c,this.urlLengthLimit=f;let g=null!=d?d:globalThis.fetch;void 0!==e&&e>0?this.fetch=(a,b)=>{let c=new AbortController,d=setTimeout(()=>c.abort(),e),f=null==b?void 0:b.signal;if(f){if(f.aborted)return clearTimeout(d),g(a,b);let e=()=>{clearTimeout(d),c.abort()};return f.addEventListener("abort",e,{once:!0}),g(a,qg(qg({},b),{},{signal:c.signal})).finally(()=>{clearTimeout(d),f.removeEventListener("abort",e)})}return g(a,qg(qg({},b),{},{signal:c.signal})).finally(()=>clearTimeout(d))}:this.fetch=g}from(a){if(!a||"string"!=typeof a||""===a.trim())throw Error("Invalid relation name: relation must be a non-empty string.");return new qd(new URL(`${this.url}/${a}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(b){return new a(this.url,{headers:this.headers,schema:b,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(a,b={},{head:c=!1,get:d=!1,count:e}={}){var f;let g,h,i=new URL(`${this.url}/rpc/${a}`),j=a=>null!==a&&"object"==typeof a&&(!Array.isArray(a)||a.some(j)),k=c&&Object.values(b).some(j);k?(g="POST",h=b):c||d?(g=c?"HEAD":"GET",Object.entries(b).filter(([a,b])=>void 0!==b).map(([a,b])=>[a,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([a,b])=>{i.searchParams.append(a,b)})):(g="POST",h=b);let l=new Headers(this.headers);return k?l.set("Prefer",e?`count=${e},return=minimal`:"return=minimal"):e&&l.set("Prefer",`count=${e}`),new qc({method:g,url:i,headers:l,schema:this.schemaName,body:h,fetch:null!=(f=this.fetch)?f:fetch,urlLengthLimit:this.urlLengthLimit})}};class qi{constructor(){}static detectEnvironment(){var a;if("undefined"!=typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!=typeof global&&void 0!==global.WebSocket)return{type:"native",constructor:global.WebSocket};if("undefined"!=typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!=typeof globalThis&&globalThis.EdgeRuntime||"undefined"!=typeof navigator&&(null==(a=navigator.userAgent)?void 0:a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};let b=globalThis.process;if(b){let a=b.versions;if(a&&a.node){let b=parseInt(a.node.replace(/^v/,"").split(".")[0]);return b>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${b} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${b} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let a=this.detectEnvironment();if(a.constructor)return a.constructor;let b=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(b+=`

Suggested solution: ${a.workaround}`),Error(b)}static createWebSocket(a,b){return new(this.getWebSocketConstructor())(a,b)}static isWebSocketSupported(){try{let a=this.detectEnvironment();return"native"===a.type||"ws"===a.type}catch(a){return!1}}}let qj="2.0.0";!function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"}(f||(f={})),function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"}(g||(g={})),function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"}(h||(h={})),(i||(i={})).websocket="websocket",function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"}(j||(j={}));class qk{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!=a?a:[]}encode(a,b){return a.event!==this.BROADCAST_EVENT||a.payload instanceof ArrayBuffer||"string"!=typeof a.payload.event?b(JSON.stringify([a.join_ref,a.ref,a.topic,a.event,a.payload])):b(this._binaryEncodeUserBroadcastPush(a))}_binaryEncodeUserBroadcastPush(a){var b;return this._isArrayBuffer(null==(b=a.payload)?void 0:b.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var b,c;let d=null!=(c=null==(b=a.payload)?void 0:b.payload)?c:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,d)}_encodeJsonUserBroadcastPush(a){var b,c;let d=null!=(c=null==(b=a.payload)?void 0:b.payload)?c:{},e=new TextEncoder().encode(JSON.stringify(d)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,e)}_encodeUserBroadcastPush(a,b,c){let d=a.topic,e=null!=(n=a.ref)?n:"",f=null!=(o=a.join_ref)?o:"",g=a.payload.event,h=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},i=0===Object.keys(h).length?"":JSON.stringify(h);if(f.length>255)throw Error(`joinRef length ${f.length} exceeds maximum of 255`);if(e.length>255)throw Error(`ref length ${e.length} exceeds maximum of 255`);if(d.length>255)throw Error(`topic length ${d.length} exceeds maximum of 255`);if(g.length>255)throw Error(`userEvent length ${g.length} exceeds maximum of 255`);if(i.length>255)throw Error(`metadata length ${i.length} exceeds maximum of 255`);let j=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+e.length+d.length+g.length+i.length,k=new ArrayBuffer(this.HEADER_LENGTH+j),l=new DataView(k),m=0;l.setUint8(m++,this.KINDS.userBroadcastPush),l.setUint8(m++,f.length),l.setUint8(m++,e.length),l.setUint8(m++,d.length),l.setUint8(m++,g.length),l.setUint8(m++,i.length),l.setUint8(m++,b),Array.from(f,a=>l.setUint8(m++,a.charCodeAt(0))),Array.from(e,a=>l.setUint8(m++,a.charCodeAt(0))),Array.from(d,a=>l.setUint8(m++,a.charCodeAt(0))),Array.from(g,a=>l.setUint8(m++,a.charCodeAt(0))),Array.from(i,a=>l.setUint8(m++,a.charCodeAt(0)));var n,o,p=new Uint8Array(k.byteLength+c.byteLength);return p.set(new Uint8Array(k),0),p.set(new Uint8Array(c),k.byteLength),p.buffer}decode(a,b){if(this._isArrayBuffer(a))return b(this._binaryDecode(a));if("string"==typeof a){let[c,d,e,f,g]=JSON.parse(a);return b({join_ref:c,ref:d,topic:e,event:f,payload:g})}return b({})}_binaryDecode(a){let b=new DataView(a),c=b.getUint8(0),d=new TextDecoder;if(c===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,b,d)}_decodeUserBroadcast(a,b,c){let d=b.getUint8(1),e=b.getUint8(2),f=b.getUint8(3),g=b.getUint8(4),h=this.HEADER_LENGTH+4,i=c.decode(a.slice(h,h+d));h+=d;let j=c.decode(a.slice(h,h+e));h+=e;let k=c.decode(a.slice(h,h+f));h+=f;let l=a.slice(h,a.byteLength),m=g===this.JSON_ENCODING?JSON.parse(c.decode(l)):l,n={type:this.BROADCAST_EVENT,event:j,payload:m};return f>0&&(n.meta=JSON.parse(k)),{join_ref:null,ref:null,topic:i,event:this.BROADCAST_EVENT,payload:n}}_isArrayBuffer(a){var b;return a instanceof ArrayBuffer||(null==(b=null==a?void 0:a.constructor)?void 0:b.name)==="ArrayBuffer"}_pick(a,b){return a&&"object"==typeof a?Object.fromEntries(Object.entries(a).filter(([a])=>b.includes(a))):{}}}class ql{constructor(a,b){this.callback=a,this.timerCalc=b,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=b}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"}(k||(k={}));let qm=(a,b,c={})=>{var d;let e=null!=(d=c.skipTypes)?d:[];return b?Object.keys(b).reduce((c,d)=>(c[d]=qn(d,a,b,e),c),{}):{}},qn=(a,b,c,d)=>{let e=b.find(b=>b.name===a),f=null==e?void 0:e.type,g=c[a];return f&&!d.includes(f)?qo(f,g):qp(g)},qo=(a,b)=>{if("_"===a.charAt(0))return qt(b,a.slice(1,a.length));switch(a){case k.bool:return qq(b);case k.float4:case k.float8:case k.int2:case k.int4:case k.int8:case k.numeric:case k.oid:return qr(b);case k.json:case k.jsonb:return qs(b);case k.timestamp:return qu(b);case k.abstime:case k.date:case k.daterange:case k.int4range:case k.int8range:case k.money:case k.reltime:case k.text:case k.time:case k.timestamptz:case k.timetz:case k.tsrange:case k.tstzrange:default:return qp(b)}},qp=a=>a,qq=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},qr=a=>{if("string"==typeof a){let b=parseFloat(a);if(!Number.isNaN(b))return b}return a},qs=a=>{if("string"==typeof a)try{return JSON.parse(a)}catch(a){}return a},qt=(a,b)=>{if("string"!=typeof a)return a;let c=a.length-1,d=a[c];if("{"===a[0]&&"}"===d){let d,e=a.slice(1,c);try{d=JSON.parse("["+e+"]")}catch(a){d=e?e.split(","):[]}return d.map(a=>qo(b,a))}return a},qu=a=>"string"==typeof a?a.replace(" ","T"):a,qv=a=>{let b=new URL(a);return b.protocol=b.protocol.replace(/^ws/i,"http"),b.pathname=b.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===b.pathname||"/"===b.pathname?b.pathname="/api/broadcast":b.pathname=b.pathname+"/api/broadcast",b.href};class qw{constructor(a,b,c={},d=1e4){this.channel=a,this.event=b,this.payload=c,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,b){var c;return this._hasReceived(a)&&b(null==(c=this.receivedResp)?void 0:c.response),this.recHooks.push({status:a,callback:b}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let a=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,b){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:b})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:b}){this.recHooks.filter(b=>b.status===a).forEach(a=>a.callback(b))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}!function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"}(l||(l={}));class qx{constructor(a,b){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let c=(null==b?void 0:b.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(c.state,{},a=>{let{onJoin:b,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qx.syncState(this.state,a,b,c),this.pendingDiffs.forEach(a=>{this.state=qx.syncDiff(this.state,a,b,c)}),this.pendingDiffs=[],d()}),this.channel._on(c.diff,{},a=>{let{onJoin:b,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=qx.syncDiff(this.state,a,b,c),d())}),this.onJoin((a,b,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:b,newPresences:c})}),this.onLeave((a,b,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:b,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,b,c,d){let e=this.cloneDeep(a),f=this.transformState(b),g={},h={};return this.map(e,(a,b)=>{f[a]||(h[a]=b)}),this.map(f,(a,b)=>{let c=e[a];if(c){let d=b.map(a=>a.presence_ref),e=c.map(a=>a.presence_ref),f=b.filter(a=>0>e.indexOf(a.presence_ref)),i=c.filter(a=>0>d.indexOf(a.presence_ref));f.length>0&&(g[a]=f),i.length>0&&(h[a]=i)}else g[a]=b}),this.syncDiff(e,{joins:g,leaves:h},c,d)}static syncDiff(a,b,c,d){let{joins:e,leaves:f}={joins:this.transformState(b.joins),leaves:this.transformState(b.leaves)};return c||(c=()=>{}),d||(d=()=>{}),this.map(e,(b,d)=>{var e;let f=null!=(e=a[b])?e:[];if(a[b]=this.cloneDeep(d),f.length>0){let c=a[b].map(a=>a.presence_ref),d=f.filter(a=>0>c.indexOf(a.presence_ref));a[b].unshift(...d)}c(b,f,d)}),this.map(f,(b,c)=>{let e=a[b];if(!e)return;let f=c.map(a=>a.presence_ref);e=e.filter(a=>0>f.indexOf(a.presence_ref)),a[b]=e,d(b,e,c),0===e.length&&delete a[b]}),a}static map(a,b){return Object.getOwnPropertyNames(a).map(c=>b(c,a[c]))}static transformState(a){return Object.getOwnPropertyNames(a=this.cloneDeep(a)).reduce((b,c)=>{let d=a[c];return"metas"in d?b[c]=d.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):b[c]=d,b},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"}(m||(m={})),function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"}(n||(n={})),function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"}(o||(o={}));class qy{constructor(a,b={config:{}},c){var d,e;if(this.topic=a,this.params=b,this.socket=c,this.bindings={},this.state=g.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},b.config),this.timeout=this.socket.timeout,this.joinPush=new qw(this,h.join,this.params,this.timeout),this.rejoinTimer=new ql(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=g.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=g.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=g.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=g.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=g.errored,this.rejoinTimer.scheduleTimeout())}),this._on(h.reply,{},(a,b)=>{this._trigger(this._replyEventName(b),a)}),this.presence=new qx(this),this.broadcastEndpointURL=qv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null==(e=null==(d=this.params.config)?void 0:d.broadcast)?void 0:e.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,b=this.timeout){var c,d,e;if(this.socket.isConnected()||this.socket.connect(),this.state==g.closed){let{config:{broadcast:f,presence:h,private:i}}=this.params,j=null!=(d=null==(c=this.bindings.postgres_changes)?void 0:c.map(a=>a.filter))?d:[],k=!!this.bindings[n.PRESENCE]&&this.bindings[n.PRESENCE].length>0||(null==(e=this.params.config.presence)?void 0:e.enabled)===!0,l={},m={broadcast:f,presence:Object.assign(Object.assign({},h),{enabled:k}),postgres_changes:j,private:i};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this._onError(b=>null==a?void 0:a(o.CHANNEL_ERROR,b)),this._onClose(()=>null==a?void 0:a(o.CLOSED)),this.updateJoinPayload(Object.assign({config:m},l)),this.joinedOnce=!0,this._rejoin(b),this.joinPush.receive("ok",async({postgres_changes:b})=>{var c;if(this.socket._isManualToken()||this.socket.setAuth(),void 0===b){null==a||a(o.SUBSCRIBED);return}{let d=this.bindings.postgres_changes,e=null!=(c=null==d?void 0:d.length)?c:0,f=[];for(let c=0;c<e;c++){let e=d[c],{filter:{event:h,schema:i,table:j,filter:k}}=e,l=b&&b[c];if(l&&l.event===h&&qy.isFilterValueEqual(l.schema,i)&&qy.isFilterValueEqual(l.table,j)&&qy.isFilterValueEqual(l.filter,k))f.push(Object.assign(Object.assign({},e),{id:l.id}));else{this.unsubscribe(),this.state=g.errored,null==a||a(o.CHANNEL_ERROR,Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,a&&a(o.SUBSCRIBED);return}}).receive("error",b=>{this.state=g.errored,null==a||a(o.CHANNEL_ERROR,Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{null==a||a(o.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,b={}){return await this.send({type:"presence",event:"track",payload:a},b.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,b,c){return this.state===g.joined&&a===n.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(a,b,c)}async httpSend(a,b,c={}){var d;if(null==b)return Promise.reject("Payload is required for httpSend()");let e={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(e.Authorization=`Bearer ${this.socket.accessTokenValue}`);let f={method:"POST",headers:e,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:b,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,null!=(d=c.timeout)?d:this.timeout);if(202===g.status)return{success:!0};let h=g.statusText;try{let a=await g.json();h=a.error||a.message||h}catch(a){}return Promise.reject(Error(h))}async send(a,b={}){var c,d;if(this._canPush()||"broadcast"!==a.type)return new Promise(c=>{var d,e,f;let g=this._push(a.type,a,b.timeout||this.timeout);"broadcast"!==a.type||(null==(f=null==(e=null==(d=this.params)?void 0:d.config)?void 0:e.broadcast)?void 0:f.ack)||c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:e,payload:f}=a,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);let h={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:f,private:this.private}]})};try{let a=await this._fetchWithTimeout(this.broadcastEndpointURL,h,null!=(c=b.timeout)?c:this.timeout);return await (null==(d=a.body)?void 0:d.cancel()),a.ok?"ok":"error"}catch(a){if("AbortError"===a.name)return"timed out";return"error"}}}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=g.leaving;let b=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(h.close,"leave",this._joinRef())};this.joinPush.destroy();let c=null;return new Promise(d=>{(c=new qw(this,h.leave,{},a)).receive("ok",()=>{b(),d("ok")}).receive("timeout",()=>{b(),d("timed out")}).receive("error",()=>{d("error")}),c.send(),this._canPush()||c.trigger("ok",{})}).finally(()=>{null==c||c.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=g.closed,this.bindings={}}async _fetchWithTimeout(a,b,c){let d=new AbortController,e=setTimeout(()=>d.abort(),c),f=await this.socket.fetch(a,Object.assign(Object.assign({},b),{signal:d.signal}));return clearTimeout(e),f}_push(a,b,c=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new qw(this,a,b,c);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>100){let a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(a,b,c){return b}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,b,c){var d,e;let f=a.toLocaleLowerCase(),{close:g,error:i,leave:j,join:k}=h;if(c&&[g,i,j,k].indexOf(f)>=0&&c!==this._joinRef())return;let l=this._onMessage(f,b,c);if(b&&!l)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?null==(d=this.bindings.postgres_changes)||d.filter(a=>{var b,c,d;return(null==(b=a.filter)?void 0:b.event)==="*"||(null==(d=null==(c=a.filter)?void 0:c.event)?void 0:d.toLocaleLowerCase())===f}).map(a=>a.callback(l,c)):null==(e=this.bindings[f])||e.filter(a=>{var c,d,e,g,h,i;if(!["broadcast","presence","postgres_changes"].includes(f))return a.type.toLocaleLowerCase()===f;if("id"in a){let f=a.id,g=null==(c=a.filter)?void 0:c.event;return f&&(null==(d=b.ids)?void 0:d.includes(f))&&("*"===g||(null==g?void 0:g.toLocaleLowerCase())===(null==(e=b.data)?void 0:e.type.toLocaleLowerCase()))}{let c=null==(h=null==(g=null==a?void 0:a.filter)?void 0:g.event)?void 0:h.toLocaleLowerCase();return"*"===c||c===(null==(i=null==b?void 0:b.event)?void 0:i.toLocaleLowerCase())}}).map(a=>{if("object"==typeof l&&"ids"in l){let a=l.data,{schema:b,table:c,commit_timestamp:d,type:e,errors:f}=a;l=Object.assign(Object.assign({},{schema:b,table:c,commit_timestamp:d,eventType:e,new:{},old:{},errors:f}),this._getPayloadRecords(a))}a.callback(l,c)})}_isClosed(){return this.state===g.closed}_isJoined(){return this.state===g.joined}_isJoining(){return this.state===g.joining}_isLeaving(){return this.state===g.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,b,c){let d=a.toLocaleLowerCase(),e={type:d,filter:b,callback:c};return this.bindings[d]?this.bindings[d].push(e):this.bindings[d]=[e],this}_off(a,b){let c=a.toLocaleLowerCase();return this.bindings[c]&&(this.bindings[c]=this.bindings[c].filter(a=>{var d;return!((null==(d=a.type)?void 0:d.toLocaleLowerCase())===c&&qy.isEqual(a.filter,b))})),this}static isEqual(a,b){if(Object.keys(a).length!==Object.keys(b).length)return!1;for(let c in a)if(a[c]!==b[c])return!1;return!0}static isFilterValueEqual(a,b){return(null!=a?a:void 0)===(null!=b?b:void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(h.close,{},a)}_onError(a){this._on(h.error,{},b=>a(b))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=g.joining,this.joinPush.resend(a))}_getPayloadRecords(a){let b={new:{},old:{}};return("INSERT"===a.type||"UPDATE"===a.type)&&(b.new=qm(a.columns,a.record)),("UPDATE"===a.type||"DELETE"===a.type)&&(b.old=qm(a.columns,a.old_record)),b}}let qz=()=>{},qA={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qB=[1e3,2e3,5e3,1e4],qC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qD{constructor(a,b){var c;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=qA.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qz,this.ref=0,this.reconnectTimer=null,this.vsn=qj,this.logger=qz,this.conn=null,this.sendBuffer=[],this.serializer=new qk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...b)=>a(...b):(...a)=>fetch(...a),!(null==(c=null==b?void 0:b.params)?void 0:c.apikey))throw Error("API key is required to connect to Realtime");this.apiKey=b.params.apikey,this.endPoint=`${a}/${i.websocket}`,this.httpEndpoint=qv(a),this._initializeOptions(b),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==b?void 0:b.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qi.createWebSocket(this.endpointURL())}catch(b){this._setConnectionState("disconnected");let a=b.message;if(a.includes("Node.js"))throw Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`);throw Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,b){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let c=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(c),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(a?this.conn.close(a,null!=b?b:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){let b=await a.unsubscribe();return"ok"===b&&this._remove(a),0===this.channels.length&&this.disconnect(),b}async removeAllChannels(){let a=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,b,c){this.logger(a,b,c)}connectionState(){switch(this.conn&&this.conn.readyState){case f.connecting:return j.Connecting;case f.open:return j.Open;case f.closing:return j.Closing;default:return j.Closed}}isConnected(){return this.connectionState()===j.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(a,b={config:{}}){let c=`realtime:${a}`,d=this.getChannels().find(a=>a.topic===c);if(d)return d;{let c=new qy(`realtime:${a}`,b,this);return this.channels.push(c),c}}push(a){let{topic:b,event:c,payload:d,ref:e}=a,f=()=>{this.encode(a,a=>{var b;null==(b=this.conn)||b.send(a)})};this.log("push",`${b} ${c} (${e})`,d),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,null==(a=this.conn)||a.close(1e3,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||null==(a=this.reconnectTimer)||a.scheduleTimeout()},qA.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let b=this.channels.find(b=>b.topic===a&&(b._isJoined()||b._isJoining()));b&&(this.log("transport",`leaving duplicate topic "${a}"`),b.unsubscribe())}_remove(a){this.channels=this.channels.filter(b=>b.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,a=>{if("phoenix"===a.topic&&"phx_reply"===a.event&&a.ref&&a.ref===this.pendingHeartbeatRef){let b=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback("ok"===a.payload.status?"ok":"error",b)}catch(a){this.log("error","error in heartbeat callback",a)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}let{topic:b,event:c,payload:d,ref:e}=a,f=e?`(${e})`:"",g=d.status||"";this.log("receive",`${g} ${b} ${c} ${f}`.trim(),d),this.channels.filter(a=>a._isMember(b)).forEach(a=>a._trigger(c,d,e)),this._triggerStateCallbacks("message",a)})}_clearTimer(a){var b;"heartbeat"===a&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===a&&(null==(b=this.reconnectTimer)||b.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a),this.conn.readyState===f.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===f.open||this.conn.readyState===f.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this._terminateWorker()},this.workerRef.onmessage=a=>{"keepAlive"===a.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(a){var b;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null==(b=this.reconnectTimer)||b.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a);try{this.heartbeatCallback("error")}catch(a){this.log("error","error in heartbeat callback",a)}}_triggerChanError(){this.channels.forEach(a=>a._trigger(h.error))}_appendParams(a,b){if(0===Object.keys(b).length)return a;let c=a.match(/\?/)?"&":"?",d=new URLSearchParams(b);return`${a}${c}${d}`}_workerObjectUrl(a){let b;if(a)b=a;else{let a=new Blob([qC],{type:"application/javascript"});b=URL.createObjectURL(a)}return b}_setConnectionState(a,b=!1){this._connectionState=a,"connecting"===a?this._wasManualDisconnect=!1:"disconnecting"===a&&(this._wasManualDisconnect=b)}async _performAuth(a=null){let b,c=!1;if(a)b=a,c=!0;else if(this.accessToken)try{b=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),b=this.accessTokenValue}else b=this.accessTokenValue;c?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=b&&(this.accessTokenValue=b,this.channels.forEach(a=>{let c={access_token:b,version:"realtime-js/2.95.3"};b&&a.updateJoinPayload(c),a.joinedOnce&&a._isJoined()&&a._push(h.access_token,{access_token:b})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this._isManualToken()||this.setAuth().catch(b=>{this.log("error",`Error setting auth in ${a}`,b)})}_triggerStateCallbacks(a,b){try{this.stateChangeCallbacks[a].forEach(c=>{try{c(b)}catch(b){this.log("error",`error in ${a} callback`,b)}})}catch(b){this.log("error",`error triggering ${a} callbacks`,b)}}_setupReconnectionTimer(){this.reconnectTimer=new ql(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qA.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var b,c,d,e,f,g,h,i,j,k,l,m;switch(this.transport=null!=(b=null==a?void 0:a.transport)?b:null,this.timeout=null!=(c=null==a?void 0:a.timeout)?c:1e4,this.heartbeatIntervalMs=null!=(d=null==a?void 0:a.heartbeatIntervalMs)?d:qA.HEARTBEAT_INTERVAL,this.worker=null!=(e=null==a?void 0:a.worker)&&e,this.accessToken=null!=(f=null==a?void 0:a.accessToken)?f:null,this.heartbeatCallback=null!=(g=null==a?void 0:a.heartbeatCallback)?g:qz,this.vsn=null!=(h=null==a?void 0:a.vsn)?h:qj,(null==a?void 0:a.params)&&(this.params=a.params),(null==a?void 0:a.logger)&&(this.logger=a.logger),((null==a?void 0:a.logLevel)||(null==a?void 0:a.log_level))&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!=(i=null==a?void 0:a.reconnectAfterMs)?i:a=>qB[a-1]||1e4,this.vsn){case"1.0.0":this.encode=null!=(j=null==a?void 0:a.encode)?j:(a,b)=>b(JSON.stringify(a)),this.decode=null!=(k=null==a?void 0:a.decode)?k:(a,b)=>b(JSON.parse(a));break;case qj:this.encode=null!=(l=null==a?void 0:a.encode)?l:this.serializer.encode.bind(this.serializer),this.decode=null!=(m=null==a?void 0:a.decode)?m:this.serializer.decode.bind(this.serializer);break;default:throw Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if("undefined"!=typeof window&&!window.Worker)throw Error("Web Worker is not supported");this.workerUrl=null==a?void 0:a.workerUrl}}}var qE=class extends Error{constructor(a,b){super(a),this.name="IcebergError",this.status=b.status,this.icebergType=b.icebergType,this.icebergCode=b.icebergCode,this.details=b.details,this.isCommitStateUnknown="CommitStateUnknownException"===b.icebergType||[500,502,504].includes(b.status)&&b.icebergType?.includes("CommitState")===!0}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};async function qF(a){return a&&"none"!==a.type?"bearer"===a.type?{Authorization:`Bearer ${a.token}`}:"header"===a.type?{[a.name]:a.value}:"custom"===a.type?await a.getHeaders():{}:{}}function qG(a){return a.join("\x1f")}var qH=class{constructor(a,b=""){this.client=a,this.prefix=b}async listNamespaces(a){let b=a?{parent:qG(a.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:b})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(a,b){let c={namespace:a.namespace,properties:b?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:c})).data}async dropNamespace(a){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qG(a.namespace)}`})}async loadNamespaceMetadata(a){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qG(a.namespace)}`})).data.properties}}async namespaceExists(a){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qG(a.namespace)}`}),!0}catch(a){if(a instanceof qE&&404===a.status)return!1;throw a}}async createNamespaceIfNotExists(a,b){try{return await this.createNamespace(a,b)}catch(a){if(a instanceof qE&&409===a.status)return;throw a}}};function qI(a){return a.join("\x1f")}var qJ=class{constructor(a,b="",c){this.client=a,this.prefix=b,this.accessDelegation=c}async listTables(a){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qI(a.namespace)}/tables`})).data.identifiers}async createTable(a,b){let c={};return this.accessDelegation&&(c["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${qI(a.namespace)}/tables`,body:b,headers:c})).data.metadata}async updateTable(a,b){let c=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${qI(a.namespace)}/tables/${a.name}`,body:b});return{"metadata-location":c.data["metadata-location"],metadata:c.data.metadata}}async dropTable(a,b){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qI(a.namespace)}/tables/${a.name}`,query:{purgeRequested:String(b?.purge??!1)}})}async loadTable(a){let b={};return this.accessDelegation&&(b["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qI(a.namespace)}/tables/${a.name}`,headers:b})).data.metadata}async tableExists(a){let b={};this.accessDelegation&&(b["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qI(a.namespace)}/tables/${a.name}`,headers:b}),!0}catch(a){if(a instanceof qE&&404===a.status)return!1;throw a}}async createTableIfNotExists(a,b){try{return await this.createTable(a,b)}catch(c){if(c instanceof qE&&409===c.status)return await this.loadTable({namespace:a.namespace,name:b.name});throw c}}},qK=class{constructor(a){let b="v1";a.catalogName&&(b+=`/${a.catalogName}`);let c=a.baseUrl.endsWith("/")?a.baseUrl:`${a.baseUrl}/`;this.client=function(a){let b=a.fetchImpl??globalThis.fetch;return{async request({method:c,path:d,query:e,body:f,headers:g}){let h=function(a,b,c){let d=new URL(b,a);if(c)for(let[a,b]of Object.entries(c))void 0!==b&&d.searchParams.set(a,b);return d.toString()}(a.baseUrl,d,e),i=await qF(a.auth),j=await b(h,{method:c,headers:{...f?{"Content-Type":"application/json"}:{},...i,...g},body:f?JSON.stringify(f):void 0}),k=await j.text(),l=(j.headers.get("content-type")||"").includes("application/json"),m=l&&k?JSON.parse(k):k;if(!j.ok){let a=l?m:void 0,b=a?.error;throw new qE(b?.message??`Request failed with status ${j.status}`,{status:j.status,icebergType:b?.type,icebergCode:b?.code,details:a})}return{status:j.status,headers:j.headers,data:m}}}}({baseUrl:c,auth:a.auth,fetchImpl:a.fetch}),this.accessDelegation=a.accessDelegation?.join(","),this.namespaceOps=new qH(this.client,b),this.tableOps=new qJ(this.client,b,this.accessDelegation)}async listNamespaces(a){return this.namespaceOps.listNamespaces(a)}async createNamespace(a,b){return this.namespaceOps.createNamespace(a,b)}async dropNamespace(a){await this.namespaceOps.dropNamespace(a)}async loadNamespaceMetadata(a){return this.namespaceOps.loadNamespaceMetadata(a)}async listTables(a){return this.tableOps.listTables(a)}async createTable(a,b){return this.tableOps.createTable(a,b)}async updateTable(a,b){return this.tableOps.updateTable(a,b)}async dropTable(a,b){await this.tableOps.dropTable(a,b)}async loadTable(a){return this.tableOps.loadTable(a)}async namespaceExists(a){return this.namespaceOps.namespaceExists(a)}async tableExists(a){return this.tableOps.tableExists(a)}async createNamespaceIfNotExists(a,b){return this.namespaceOps.createNamespaceIfNotExists(a,b)}async createTableIfNotExists(a,b){return this.tableOps.createTableIfNotExists(a,b)}},qL=class extends Error{constructor(a,b="storage",c,d){super(a),this.__isStorageError=!0,this.namespace=b,this.name="vectors"===b?"StorageVectorsError":"StorageError",this.status=c,this.statusCode=d}};function qM(a){return"object"==typeof a&&null!==a&&"__isStorageError"in a}var qN=class extends qL{constructor(a,b,c,d="storage"){super(a,d,b,c),this.name="vectors"===d?"StorageVectorsApiError":"StorageApiError",this.status=b,this.statusCode=c}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qO=class extends qL{constructor(a,b,c="storage"){super(a,c),this.name="vectors"===c?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=b}};let qP=a=>{if(Array.isArray(a))return a.map(a=>qP(a));if("function"==typeof a||a!==Object(a))return a;let b={};return Object.entries(a).forEach(([a,c])=>{b[a.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""))]=qP(c)}),b};function qQ(a){return(qQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function qR(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function qS(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?qR(Object(c),!0).forEach(function(b){!function(a,b,c){var d;(d=function(a,b){if("object"!=qQ(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=qQ(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"),(b="symbol"==qQ(d)?d:d+"")in a)?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c}(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):qR(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}let qT=a=>{var b;return a.msg||a.message||a.error_description||("string"==typeof a.error?a.error:null==(b=a.error)?void 0:b.message)||JSON.stringify(a)},qU=async(a,b,c,d)=>{if(a&&"object"==typeof a&&"status"in a&&"ok"in a&&"number"==typeof a.status&&!(null==c?void 0:c.noResolveJson)){let c=a.status||500;"function"==typeof a.json?a.json().then(a=>{let e=(null==a?void 0:a.statusCode)||(null==a?void 0:a.code)||c+"";b(new qN(qT(a),c,e,d))}).catch(()=>{b(new qN(a.statusText||`HTTP ${c} error`,c,c+"",d))}):b(new qN(a.statusText||`HTTP ${c} error`,c,c+"",d))}else b(new qO(qT(a),a,d))};async function qV(a,b,c,d,e,f,g){return new Promise((h,i)=>{a(c,((a,b,c,d)=>{let e={method:a,headers:(null==b?void 0:b.headers)||{}};return"GET"!==a&&"HEAD"!==a&&d&&((a=>{if("object"!=typeof a||null===a)return!1;let b=Object.getPrototypeOf(a);return(null===b||b===Object.prototype||null===Object.getPrototypeOf(b))&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)})(d)?(e.headers=qS({"Content-Type":"application/json"},null==b?void 0:b.headers),e.body=JSON.stringify(d)):e.body=d,(null==b?void 0:b.duplex)&&(e.duplex=b.duplex)),qS(qS({},e),c)})(b,d,e,f)).then(a=>{if(!a.ok)throw a;if(null==d?void 0:d.noResolveJson)return a;if("vectors"===g){let b=a.headers.get("content-type");if("0"===a.headers.get("content-length")||204===a.status||!b||!b.includes("application/json"))return{}}return a.json()}).then(a=>h(a)).catch(a=>qU(a,i,d,g))})}function qW(a="storage"){return{get:async(b,c,d,e)=>qV(b,"GET",c,d,e,void 0,a),post:async(b,c,d,e,f)=>qV(b,"POST",c,e,f,d,a),put:async(b,c,d,e,f)=>qV(b,"PUT",c,e,f,d,a),head:async(b,c,d,e)=>qV(b,"HEAD",c,qS(qS({},d),{},{noResolveJson:!0}),e,void 0,a),remove:async(b,c,d,e,f)=>qV(b,"DELETE",c,e,f,d,a)}}let{get:qX,post:qY,put:qZ,head:q$,remove:q_}=qW("storage"),q0=qW("vectors");var q1=class{constructor(a,b={},c,d="storage"){this.shouldThrowOnError=!1,this.url=a,this.headers=b,this.fetch=(a=>a?(...b)=>a(...b):(...a)=>fetch(...a))(c),this.namespace=d}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(a){try{return{data:await a(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qM(a))return{data:null,error:a};throw a}}},q2=class{constructor(a,b){this.downloadFn=a,this.shouldThrowOnError=b}then(a,b){return this.execute().then(a,b)}async execute(){try{return{data:(await this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qM(a))return{data:null,error:a};throw a}}};d=Symbol.toStringTag;var q3=class{constructor(a,b){this.downloadFn=a,this.shouldThrowOnError=b,this[d]="BlobDownloadBuilder",this.promise=null}asStream(){return new q2(this.downloadFn,this.shouldThrowOnError)}then(a,b){return this.getPromise().then(a,b)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){try{return{data:await (await this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qM(a))return{data:null,error:a};throw a}}};let q4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},q5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var q6=class extends q1{constructor(a,b={},c,d){super(a,b,d,"storage"),this.bucketId=c}async uploadOrUpdate(a,b,c,d){var e=this;return e.handleOperation(async()=>{let f,g=qS(qS({},q5),d),h=qS(qS({},e.headers),"POST"===a&&{"x-upsert":String(g.upsert)}),i=g.metadata;"undefined"!=typeof Blob&&c instanceof Blob?((f=new FormData).append("cacheControl",g.cacheControl),i&&f.append("metadata",e.encodeMetadata(i)),f.append("",c)):"undefined"!=typeof FormData&&c instanceof FormData?((f=c).has("cacheControl")||f.append("cacheControl",g.cacheControl),i&&!f.has("metadata")&&f.append("metadata",e.encodeMetadata(i))):(f=c,h["cache-control"]=`max-age=${g.cacheControl}`,h["content-type"]=g.contentType,i&&(h["x-metadata"]=e.toBase64(e.encodeMetadata(i))),("undefined"!=typeof ReadableStream&&f instanceof ReadableStream||f&&"object"==typeof f&&"pipe"in f&&"function"==typeof f.pipe)&&!g.duplex&&(g.duplex="half")),(null==d?void 0:d.headers)&&(h=qS(qS({},h),d.headers));let j=e._removeEmptyFolders(b),k=e._getFinalPath(j),l=await ("PUT"==a?qZ:qY)(e.fetch,`${e.url}/object/${k}`,f,qS({headers:h},(null==g?void 0:g.duplex)?{duplex:g.duplex}:{}));return{path:j,id:l.Id,fullPath:l.Key}})}async upload(a,b,c){return this.uploadOrUpdate("POST",a,b,c)}async uploadToSignedUrl(a,b,c,d){var e=this;let f=e._removeEmptyFolders(a),g=e._getFinalPath(f),h=new URL(e.url+`/object/upload/sign/${g}`);return h.searchParams.set("token",b),e.handleOperation(async()=>{let a,b=qS({upsert:q5.upsert},d),g=qS(qS({},e.headers),{"x-upsert":String(b.upsert)});return"undefined"!=typeof Blob&&c instanceof Blob?((a=new FormData).append("cacheControl",b.cacheControl),a.append("",c)):"undefined"!=typeof FormData&&c instanceof FormData?(a=c).append("cacheControl",b.cacheControl):(a=c,g["cache-control"]=`max-age=${b.cacheControl}`,g["content-type"]=b.contentType),{path:f,fullPath:(await qZ(e.fetch,h.toString(),a,{headers:g})).Key}})}async createSignedUploadUrl(a,b){var c=this;return c.handleOperation(async()=>{let d=c._getFinalPath(a),e=qS({},c.headers);(null==b?void 0:b.upsert)&&(e["x-upsert"]="true");let f=await qY(c.fetch,`${c.url}/object/upload/sign/${d}`,{},{headers:e}),g=new URL(c.url+f.url),h=g.searchParams.get("token");if(!h)throw new qL("No token returned by API");return{signedUrl:g.toString(),path:a,token:h}})}async update(a,b,c){return this.uploadOrUpdate("PUT",a,b,c)}async move(a,b,c){var d=this;return d.handleOperation(async()=>await qY(d.fetch,`${d.url}/object/move`,{bucketId:d.bucketId,sourceKey:a,destinationKey:b,destinationBucket:null==c?void 0:c.destinationBucket},{headers:d.headers}))}async copy(a,b,c){var d=this;return d.handleOperation(async()=>({path:(await qY(d.fetch,`${d.url}/object/copy`,{bucketId:d.bucketId,sourceKey:a,destinationKey:b,destinationBucket:null==c?void 0:c.destinationBucket},{headers:d.headers})).Key}))}async createSignedUrl(a,b,c){var d=this;return d.handleOperation(async()=>{let e=d._getFinalPath(a),f=await qY(d.fetch,`${d.url}/object/sign/${e}`,qS({expiresIn:b},(null==c?void 0:c.transform)?{transform:c.transform}:{}),{headers:d.headers}),g=(null==c?void 0:c.download)?`&download=${!0===c.download?"":c.download}`:"";return{signedUrl:encodeURI(`${d.url}${f.signedURL}${g}`)}})}async createSignedUrls(a,b,c){var d=this;return d.handleOperation(async()=>{let e=await qY(d.fetch,`${d.url}/object/sign/${d.bucketId}`,{expiresIn:b,paths:a},{headers:d.headers}),f=(null==c?void 0:c.download)?`&download=${!0===c.download?"":c.download}`:"";return e.map(a=>qS(qS({},a),{},{signedUrl:a.signedURL?encodeURI(`${d.url}${a.signedURL}${f}`):null}))})}download(a,b,c){let d=void 0!==(null==b?void 0:b.transform)?"render/image/authenticated":"object",e=this.transformOptsToQueryString((null==b?void 0:b.transform)||{}),f=e?`?${e}`:"",g=this._getFinalPath(a);return new q3(()=>qX(this.fetch,`${this.url}/${d}/${g}${f}`,{headers:this.headers,noResolveJson:!0},c),this.shouldThrowOnError)}async info(a){var b=this;let c=b._getFinalPath(a);return b.handleOperation(async()=>qP(await qX(b.fetch,`${b.url}/object/info/${c}`,{headers:b.headers})))}async exists(a){let b=this._getFinalPath(a);try{return await q$(this.fetch,`${this.url}/object/${b}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qM(a)&&a instanceof qO){let b=a.originalError;if([400,404].includes(null==b?void 0:b.status))return{data:!1,error:a}}throw a}}getPublicUrl(a,b){let c=this._getFinalPath(a),d=[],e=(null==b?void 0:b.download)?`download=${!0===b.download?"":b.download}`:"";""!==e&&d.push(e);let f=void 0!==(null==b?void 0:b.transform)?"render/image":"object",g=this.transformOptsToQueryString((null==b?void 0:b.transform)||{});""!==g&&d.push(g);let h=d.join("&");return""!==h&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${c}${h}`)}}}async remove(a){var b=this;return b.handleOperation(async()=>await q_(b.fetch,`${b.url}/object/${b.bucketId}`,{prefixes:a},{headers:b.headers}))}async list(a,b,c){var d=this;return d.handleOperation(async()=>{let e=qS(qS(qS({},q4),b),{},{prefix:a||""});return await qY(d.fetch,`${d.url}/object/list/${d.bucketId}`,e,{headers:d.headers},c)})}async listV2(a,b){var c=this;return c.handleOperation(async()=>{let d=qS({},a);return await qY(c.fetch,`${c.url}/object/list-v2/${c.bucketId}`,d,{headers:c.headers},b)})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return"undefined"!=typeof Buffer?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){let b=[];return a.width&&b.push(`width=${a.width}`),a.height&&b.push(`height=${a.height}`),a.resize&&b.push(`resize=${a.resize}`),a.format&&b.push(`format=${a.format}`),a.quality&&b.push(`quality=${a.quality}`),b.join("&")}};let q7={"X-Client-Info":"storage-js/2.95.3"};var q8=class extends q1{constructor(a,b={},c,d){let e=new URL(a);(null==d?void 0:d.useNewHostname)&&/supabase\.(co|in|red)$/.test(e.hostname)&&!e.hostname.includes("storage.supabase.")&&(e.hostname=e.hostname.replace("supabase.","storage.supabase.")),super(e.href.replace(/\/$/,""),qS(qS({},q7),b),c,"storage")}async listBuckets(a){var b=this;return b.handleOperation(async()=>{let c=b.listBucketOptionsToQueryString(a);return await qX(b.fetch,`${b.url}/bucket${c}`,{headers:b.headers})})}async getBucket(a){var b=this;return b.handleOperation(async()=>await qX(b.fetch,`${b.url}/bucket/${a}`,{headers:b.headers}))}async createBucket(a,b={public:!1}){var c=this;return c.handleOperation(async()=>await qY(c.fetch,`${c.url}/bucket`,{id:a,name:a,type:b.type,public:b.public,file_size_limit:b.fileSizeLimit,allowed_mime_types:b.allowedMimeTypes},{headers:c.headers}))}async updateBucket(a,b){var c=this;return c.handleOperation(async()=>await qZ(c.fetch,`${c.url}/bucket/${a}`,{id:a,name:a,public:b.public,file_size_limit:b.fileSizeLimit,allowed_mime_types:b.allowedMimeTypes},{headers:c.headers}))}async emptyBucket(a){var b=this;return b.handleOperation(async()=>await qY(b.fetch,`${b.url}/bucket/${a}/empty`,{},{headers:b.headers}))}async deleteBucket(a){var b=this;return b.handleOperation(async()=>await q_(b.fetch,`${b.url}/bucket/${a}`,{},{headers:b.headers}))}listBucketOptionsToQueryString(a){let b={};return a&&("limit"in a&&(b.limit=String(a.limit)),"offset"in a&&(b.offset=String(a.offset)),a.search&&(b.search=a.search),a.sortColumn&&(b.sortColumn=a.sortColumn),a.sortOrder&&(b.sortOrder=a.sortOrder)),Object.keys(b).length>0?"?"+new URLSearchParams(b).toString():""}},q9=class extends q1{constructor(a,b={},c){super(a.replace(/\/$/,""),qS(qS({},q7),b),c,"storage")}async createBucket(a){var b=this;return b.handleOperation(async()=>await qY(b.fetch,`${b.url}/bucket`,{name:a},{headers:b.headers}))}async listBuckets(a){var b=this;return b.handleOperation(async()=>{let c=new URLSearchParams;(null==a?void 0:a.limit)!==void 0&&c.set("limit",a.limit.toString()),(null==a?void 0:a.offset)!==void 0&&c.set("offset",a.offset.toString()),(null==a?void 0:a.sortColumn)&&c.set("sortColumn",a.sortColumn),(null==a?void 0:a.sortOrder)&&c.set("sortOrder",a.sortOrder),(null==a?void 0:a.search)&&c.set("search",a.search);let d=c.toString(),e=d?`${b.url}/bucket?${d}`:`${b.url}/bucket`;return await qX(b.fetch,e,{headers:b.headers})})}async deleteBucket(a){var b=this;return b.handleOperation(async()=>await q_(b.fetch,`${b.url}/bucket/${a}`,{},{headers:b.headers}))}from(a){var b=this;if(!(!(!a||"string"!=typeof a||0===a.length||a.length>100||a.trim()!==a||a.includes("/")||a.includes("\\"))&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(a)))throw new qL("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let c=new qK({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:async()=>b.headers},fetch:this.fetch}),d=this.shouldThrowOnError;return new Proxy(c,{get(a,b){let c=a[b];return"function"!=typeof c?c:async(...b)=>{try{return{data:await c.apply(a,b),error:null}}catch(a){if(d)throw a;return{data:null,error:a}}}}})}},ra=class extends q1{constructor(a,b={},c){super(a.replace(/\/$/,""),qS(qS({},q7),{},{"Content-Type":"application/json"},b),c,"vectors")}async createIndex(a){var b=this;return b.handleOperation(async()=>await q0.post(b.fetch,`${b.url}/CreateIndex`,a,{headers:b.headers})||{})}async getIndex(a,b){var c=this;return c.handleOperation(async()=>await q0.post(c.fetch,`${c.url}/GetIndex`,{vectorBucketName:a,indexName:b},{headers:c.headers}))}async listIndexes(a){var b=this;return b.handleOperation(async()=>await q0.post(b.fetch,`${b.url}/ListIndexes`,a,{headers:b.headers}))}async deleteIndex(a,b){var c=this;return c.handleOperation(async()=>await q0.post(c.fetch,`${c.url}/DeleteIndex`,{vectorBucketName:a,indexName:b},{headers:c.headers})||{})}},rb=class extends q1{constructor(a,b={},c){super(a.replace(/\/$/,""),qS(qS({},q7),{},{"Content-Type":"application/json"},b),c,"vectors")}async putVectors(a){var b=this;if(a.vectors.length<1||a.vectors.length>500)throw Error("Vector batch size must be between 1 and 500 items");return b.handleOperation(async()=>await q0.post(b.fetch,`${b.url}/PutVectors`,a,{headers:b.headers})||{})}async getVectors(a){var b=this;return b.handleOperation(async()=>await q0.post(b.fetch,`${b.url}/GetVectors`,a,{headers:b.headers}))}async listVectors(a){var b=this;if(void 0!==a.segmentCount){if(a.segmentCount<1||a.segmentCount>16)throw Error("segmentCount must be between 1 and 16");if(void 0!==a.segmentIndex&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return b.handleOperation(async()=>await q0.post(b.fetch,`${b.url}/ListVectors`,a,{headers:b.headers}))}async queryVectors(a){var b=this;return b.handleOperation(async()=>await q0.post(b.fetch,`${b.url}/QueryVectors`,a,{headers:b.headers}))}async deleteVectors(a){var b=this;if(a.keys.length<1||a.keys.length>500)throw Error("Keys batch size must be between 1 and 500 items");return b.handleOperation(async()=>await q0.post(b.fetch,`${b.url}/DeleteVectors`,a,{headers:b.headers})||{})}},rc=class extends q1{constructor(a,b={},c){super(a.replace(/\/$/,""),qS(qS({},q7),{},{"Content-Type":"application/json"},b),c,"vectors")}async createBucket(a){var b=this;return b.handleOperation(async()=>await q0.post(b.fetch,`${b.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:b.headers})||{})}async getBucket(a){var b=this;return b.handleOperation(async()=>await q0.post(b.fetch,`${b.url}/GetVectorBucket`,{vectorBucketName:a},{headers:b.headers}))}async listBuckets(a={}){var b=this;return b.handleOperation(async()=>await q0.post(b.fetch,`${b.url}/ListVectorBuckets`,a,{headers:b.headers}))}async deleteBucket(a){var b=this;return b.handleOperation(async()=>await q0.post(b.fetch,`${b.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:b.headers})||{})}},rd=class extends rc{constructor(a,b={}){super(a,b.headers||{},b.fetch)}from(a){return new re(this.url,this.headers,a,this.fetch)}async createBucket(a){return super.createBucket.call(this,a)}async getBucket(a){return super.getBucket.call(this,a)}async listBuckets(a={}){return super.listBuckets.call(this,a)}async deleteBucket(a){return super.deleteBucket.call(this,a)}},re=class extends ra{constructor(a,b,c,d){super(a,b,d),this.vectorBucketName=c}async createIndex(a){return super.createIndex.call(this,qS(qS({},a),{},{vectorBucketName:this.vectorBucketName}))}async listIndexes(a={}){return super.listIndexes.call(this,qS(qS({},a),{},{vectorBucketName:this.vectorBucketName}))}async getIndex(a){return super.getIndex.call(this,this.vectorBucketName,a)}async deleteIndex(a){return super.deleteIndex.call(this,this.vectorBucketName,a)}index(a){return new rf(this.url,this.headers,this.vectorBucketName,a,this.fetch)}},rf=class extends rb{constructor(a,b,c,d,e){super(a,b,e),this.vectorBucketName=c,this.indexName=d}async putVectors(a){return super.putVectors.call(this,qS(qS({},a),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async getVectors(a){return super.getVectors.call(this,qS(qS({},a),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async listVectors(a={}){return super.listVectors.call(this,qS(qS({},a),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async queryVectors(a){return super.queryVectors.call(this,qS(qS({},a),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async deleteVectors(a){return super.deleteVectors.call(this,qS(qS({},a),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}},rg=class extends q8{constructor(a,b={},c,d){super(a,b,c,d)}from(a){return new q6(this.url,this.headers,a,this.fetch)}get vectors(){return new rd(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new q9(this.url+"/iceberg",this.headers,this.fetch)}};let rh="2.95.3",ri={"X-Client-Info":`gotrue-js/${rh}`},rj="X-Supabase-Api-Version",rk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rl=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class rm extends Error{constructor(a,b,c){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=b,this.code=c}}function rn(a){return"object"==typeof a&&null!==a&&"__isAuthError"in a}class ro extends rm{constructor(a,b,c){super(a,b,c),this.name="AuthApiError",this.status=b,this.code=c}}class rp extends rm{constructor(a,b){super(a),this.name="AuthUnknownError",this.originalError=b}}class rq extends rm{constructor(a,b,c,d){super(a,c,d),this.name=b,this.status=c}}class rr extends rq{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function rs(a){return rn(a)&&"AuthSessionMissingError"===a.name}class rt extends rq{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ru extends rq{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class rv extends rq{constructor(a,b=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=b}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rw extends rq{constructor(a,b=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=b}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rx extends rq{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ry extends rq{constructor(a,b){super(a,"AuthRetryableFetchError",b,void 0)}}function rz(a){return rn(a)&&"AuthRetryableFetchError"===a.name}class rA extends rq{constructor(a,b,c){super(a,"AuthWeakPasswordError",b,"weak_password"),this.reasons=c}}class rB extends rq{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}let rC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rD=" 	\n\r=".split(""),rE=(()=>{let a=Array(128);for(let b=0;b<a.length;b+=1)a[b]=-1;for(let b=0;b<rD.length;b+=1)a[rD[b].charCodeAt(0)]=-2;for(let b=0;b<rC.length;b+=1)a[rC[b].charCodeAt(0)]=b;return a})();function rF(a,b,c){if(null!==a)for(b.queue=b.queue<<8|a,b.queuedBits+=8;b.queuedBits>=6;)c(rC[b.queue>>b.queuedBits-6&63]),b.queuedBits-=6;else if(b.queuedBits>0)for(b.queue=b.queue<<6-b.queuedBits,b.queuedBits=6;b.queuedBits>=6;)c(rC[b.queue>>b.queuedBits-6&63]),b.queuedBits-=6}function rG(a,b,c){let d=rE[a];if(d>-1)for(b.queue=b.queue<<6|d,b.queuedBits+=6;b.queuedBits>=8;)c(b.queue>>b.queuedBits-8&255),b.queuedBits-=8;else if(-2===d)return;else throw Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}function rH(a){let b=[],c=a=>{b.push(String.fromCodePoint(a))},d={utf8seq:0,codepoint:0},e={queue:0,queuedBits:0},f=a=>{!function(a,b,c){if(0===b.utf8seq){if(a<=127)return c(a);for(let c=1;c<6;c+=1)if((a>>7-c&1)==0){b.utf8seq=c;break}if(2===b.utf8seq)b.codepoint=31&a;else if(3===b.utf8seq)b.codepoint=15&a;else if(4===b.utf8seq)b.codepoint=7&a;else throw Error("Invalid UTF-8 sequence");b.utf8seq-=1}else if(b.utf8seq>0){if(a<=127)throw Error("Invalid UTF-8 sequence");b.codepoint=b.codepoint<<6|63&a,b.utf8seq-=1,0===b.utf8seq&&c(b.codepoint)}}(a,d,c)};for(let b=0;b<a.length;b+=1)rG(a.charCodeAt(b),e,f);return b.join("")}function rI(a){let b=[],c={queue:0,queuedBits:0},d=a=>{b.push(a)};for(let b=0;b<a.length;b+=1)rG(a.charCodeAt(b),c,d);return new Uint8Array(b)}function rJ(a){let b=[],c={queue:0,queuedBits:0},d=a=>{b.push(a)};return a.forEach(a=>rF(a,c,d)),rF(null,c,d),b.join("")}let rK=()=>"undefined"!=typeof window&&"undefined"!=typeof document,rL={tested:!1,writable:!1},rM=()=>{if(!rK())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(a){return!1}if(rL.tested)return rL.writable;let a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),rL.tested=!0,rL.writable=!0}catch(a){rL.tested=!0,rL.writable=!1}return rL.writable},rN=a=>a?(...b)=>a(...b):(...a)=>fetch(...a),rO=async(a,b,c)=>{await a.setItem(b,JSON.stringify(c))},rP=async(a,b)=>{let c=await a.getItem(b);if(!c)return null;try{return JSON.parse(c)}catch(a){return c}},rQ=async(a,b)=>{await a.removeItem(b)};class rR{constructor(){this.promise=new rR.promiseConstructor((a,b)=>{this.resolve=a,this.reject=b})}}function rS(a){let b=a.split(".");if(3!==b.length)throw new rB("Invalid JWT structure");for(let a=0;a<b.length;a++)if(!rl.test(b[a]))throw new rB("JWT not in base64url format");return{header:JSON.parse(rH(b[0])),payload:JSON.parse(rH(b[1])),signature:rI(b[2]),raw:{header:b[0],payload:b[1]}}}async function rT(a){return await new Promise(b=>{setTimeout(()=>b(null),a)})}function rU(a){return("0"+a.toString(16)).substr(-2)}async function rV(a){let b=new TextEncoder().encode(a);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",b))).map(a=>String.fromCharCode(a)).join("")}async function rW(a){return"undefined"==typeof crypto||void 0===crypto.subtle||"undefined"==typeof TextEncoder?(console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a):btoa(await rV(a)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rX(a,b,c=!1){let d=function(){let a=new Uint32Array(56);if("undefined"==typeof crypto){let a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",b=a.length,c="";for(let d=0;d<56;d++)c+=a.charAt(Math.floor(Math.random()*b));return c}return crypto.getRandomValues(a),Array.from(a,rU).join("")}(),e=d;c&&(e+="/PASSWORD_RECOVERY"),await rO(a,`${b}-code-verifier`,e);let f=await rW(d),g=d===f?"plain":"s256";return[f,g]}rR.promiseConstructor=Promise;let rY=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,rZ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function r$(a){if(!rZ.test(a))throw Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function r_(){return new Proxy({},{get:(a,b)=>{if("__isUserNotAvailableProxy"===b)return!0;if("symbol"==typeof b){let a=b.toString();if("Symbol(Symbol.toPrimitive)"===a||"Symbol(Symbol.toStringTag)"===a||"Symbol(util.inspect.custom)"===a)return}throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${b}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,b)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${b}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,b)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${b}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function r0(a){return JSON.parse(JSON.stringify(a))}let r1=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),r2=[502,503,504];async function r3(a){var b;let c,d;if(!("object"==typeof a&&null!==a&&"status"in a&&"ok"in a&&"json"in a&&"function"==typeof a.json))throw new ry(r1(a),0);if(r2.includes(a.status))throw new ry(r1(a),a.status);try{c=await a.json()}catch(a){throw new rp(r1(a),a)}let e=function(a){let b=a.headers.get(rj);if(!b||!b.match(rY))return null;try{return new Date(`${b}T00:00:00.0Z`)}catch(a){return null}}(a);if(e&&e.getTime()>=rk["2024-01-01"].timestamp&&"object"==typeof c&&c&&"string"==typeof c.code?d=c.code:"object"==typeof c&&c&&"string"==typeof c.error_code&&(d=c.error_code),d){if("weak_password"===d)throw new rA(r1(c),a.status,(null==(b=c.weak_password)?void 0:b.reasons)||[]);else if("session_not_found"===d)throw new rr}else if("object"==typeof c&&c&&"object"==typeof c.weak_password&&c.weak_password&&Array.isArray(c.weak_password.reasons)&&c.weak_password.reasons.length&&c.weak_password.reasons.reduce((a,b)=>a&&"string"==typeof b,!0))throw new rA(r1(c),a.status,c.weak_password.reasons);throw new ro(r1(c),a.status||500,d)}async function r4(a,b,c,d){var e;let f=Object.assign({},null==d?void 0:d.headers);f[rj]||(f[rj]=rk["2024-01-01"].name),(null==d?void 0:d.jwt)&&(f.Authorization=`Bearer ${d.jwt}`);let g=null!=(e=null==d?void 0:d.query)?e:{};(null==d?void 0:d.redirectTo)&&(g.redirect_to=d.redirectTo);let h=Object.keys(g).length?"?"+new URLSearchParams(g).toString():"",i=await r5(a,b,c+h,{headers:f,noResolveJson:null==d?void 0:d.noResolveJson},{},null==d?void 0:d.body);return(null==d?void 0:d.xform)?null==d?void 0:d.xform(i):{data:Object.assign({},i),error:null}}async function r5(a,b,c,d,e,f){let g,h=((a,b,c,d)=>{let e={method:a,headers:(null==b?void 0:b.headers)||{}};return"GET"===a?e:(e.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==b?void 0:b.headers),e.body=JSON.stringify(d),Object.assign(Object.assign({},e),c))})(b,d,e,f);try{g=await a(c,Object.assign({},h))}catch(a){throw console.error(a),new ry(r1(a),0)}if(g.ok||await r3(g),null==d?void 0:d.noResolveJson)return g;try{return await g.json()}catch(a){await r3(a)}}function r6(a){var b,c,d;let e=null;(d=a).access_token&&d.refresh_token&&d.expires_in&&(e=Object.assign({},a),a.expires_at||(e.expires_at=(c=a.expires_in,Math.round(Date.now()/1e3)+c)));return{data:{session:e,user:null!=(b=a.user)?b:a},error:null}}function r7(a){let b=r6(a);return!b.error&&a.weak_password&&"object"==typeof a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&"string"==typeof a.weak_password.message&&a.weak_password.reasons.reduce((a,b)=>a&&"string"==typeof b,!0)&&(b.data.weak_password=a.weak_password),b}function r8(a){var b;return{data:{user:null!=(b=a.user)?b:a},error:null}}function r9(a){return{data:a,error:null}}function sa(a){let{action_link:b,email_otp:c,hashed_token:d,redirect_to:e,verification_type:f}=a;return{data:{properties:{action_link:b,email_otp:c,hashed_token:d,redirect_to:e,verification_type:f},user:Object.assign({},p2(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]))},error:null}}function sb(a){return a}let sc=["global","local","others"];class sd{constructor({url:a="",headers:b={},fetch:c}){this.url=a,this.headers=b,this.fetch=rN(c),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,b=sc[0]){if(0>sc.indexOf(b))throw Error(`@supabase/auth-js: Parameter scope must be one of ${sc.join(", ")}`);try{return await r4(this.fetch,"POST",`${this.url}/logout?scope=${b}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(a){if(rn(a))return{data:null,error:a};throw a}}async inviteUserByEmail(a,b={}){try{return await r4(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:b.data},headers:this.headers,redirectTo:b.redirectTo,xform:r8})}catch(a){if(rn(a))return{data:{user:null},error:a};throw a}}async generateLink(a){try{let{options:b}=a,c=p2(a,["options"]),d=Object.assign(Object.assign({},c),b);return"newEmail"in c&&(d.new_email=null==c?void 0:c.newEmail,delete d.newEmail),await r4(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:sa,redirectTo:null==b?void 0:b.redirectTo})}catch(a){if(rn(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(a){try{return await r4(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:r8})}catch(a){if(rn(a))return{data:{user:null},error:a};throw a}}async listUsers(a){var b,c,d,e,f,g,h;try{let i={nextPage:null,lastPage:0,total:0},j=await r4(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!=(c=null==(b=null==a?void 0:a.page)?void 0:b.toString())?c:"",per_page:null!=(e=null==(d=null==a?void 0:a.perPage)?void 0:d.toString())?e:""},xform:sb});if(j.error)throw j.error;let k=await j.json(),l=null!=(f=j.headers.get("x-total-count"))?f:0,m=null!=(h=null==(g=j.headers.get("link"))?void 0:g.split(","))?h:[];return m.length>0&&(m.forEach(a=>{let b=parseInt(a.split(";")[0].split("=")[1].substring(0,1)),c=JSON.parse(a.split(";")[1].split("=")[1]);i[`${c}Page`]=b}),i.total=parseInt(l)),{data:Object.assign(Object.assign({},k),i),error:null}}catch(a){if(rn(a))return{data:{users:[]},error:a};throw a}}async getUserById(a){r$(a);try{return await r4(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:r8})}catch(a){if(rn(a))return{data:{user:null},error:a};throw a}}async updateUserById(a,b){r$(a);try{return await r4(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:b,headers:this.headers,xform:r8})}catch(a){if(rn(a))return{data:{user:null},error:a};throw a}}async deleteUser(a,b=!1){r$(a);try{return await r4(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:b},xform:r8})}catch(a){if(rn(a))return{data:{user:null},error:a};throw a}}async _listFactors(a){r$(a.userId);try{let{data:b,error:c}=await r4(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:b,error:c}}catch(a){if(rn(a))return{data:null,error:a};throw a}}async _deleteFactor(a){r$(a.userId),r$(a.id);try{return{data:await r4(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(a){if(rn(a))return{data:null,error:a};throw a}}async _listOAuthClients(a){var b,c,d,e,f,g,h;try{let i={nextPage:null,lastPage:0,total:0},j=await r4(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!=(c=null==(b=null==a?void 0:a.page)?void 0:b.toString())?c:"",per_page:null!=(e=null==(d=null==a?void 0:a.perPage)?void 0:d.toString())?e:""},xform:sb});if(j.error)throw j.error;let k=await j.json(),l=null!=(f=j.headers.get("x-total-count"))?f:0,m=null!=(h=null==(g=j.headers.get("link"))?void 0:g.split(","))?h:[];return m.length>0&&(m.forEach(a=>{let b=parseInt(a.split(";")[0].split("=")[1].substring(0,1)),c=JSON.parse(a.split(";")[1].split("=")[1]);i[`${c}Page`]=b}),i.total=parseInt(l)),{data:Object.assign(Object.assign({},k),i),error:null}}catch(a){if(rn(a))return{data:{clients:[]},error:a};throw a}}async _createOAuthClient(a){try{return await r4(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(rn(a))return{data:null,error:a};throw a}}async _getOAuthClient(a){try{return await r4(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(rn(a))return{data:null,error:a};throw a}}async _updateOAuthClient(a,b){try{return await r4(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${a}`,{body:b,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(rn(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(a){try{return await r4(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(rn(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(a){try{return await r4(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(rn(a))return{data:null,error:a};throw a}}}function se(a={}){return{getItem:b=>a[b]||null,setItem:(b,c)=>{a[b]=c},removeItem:b=>{delete a[b]}}}let sf={debug:!!(globalThis&&rM()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class sg extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class sh extends sg{}async function si(a,b,c){sf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,b);let d=new globalThis.AbortController;return b>0&&setTimeout(()=>{d.abort(),sf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},b),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,0===b?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:d.signal},async d=>{if(d){sf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,d.name);try{return await c()}finally{sf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,d.name)}}if(0===b)throw sf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new sh(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(sf.debug)try{let a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await c()}))}function sj(a){if(!/^0x[a-fA-F0-9]{40}$/.test(a))throw Error(`@supabase/auth-js: Address "${a}" is invalid.`);return a.toLowerCase()}class sk extends Error{constructor({message:a,code:b,cause:c,name:d}){var e;super(a,{cause:c}),this.__isWebAuthnError=!0,this.name=null!=(e=null!=d?d:c instanceof Error?c.name:void 0)?e:"Unknown Error",this.code=b}}class sl extends sk{constructor(a,b){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:b,message:a}),this.name="WebAuthnUnknownError",this.originalError=b}}class sm{createNewAbortSignal(){if(this.controller){let a=Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}let a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){let a=Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}let sn=new sm;function so(a){return"localhost"===a||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(a)}function sp(){var a,b;return!!(rK()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null==(a=null==navigator?void 0:navigator.credentials)?void 0:a.create)&&"function"==typeof(null==(b=null==navigator?void 0:navigator.credentials)?void 0:b.get))}async function sq(a){try{let b=await navigator.credentials.create(a);if(!b)return{data:null,error:new sl("Empty credential response",b)};if(!(b instanceof PublicKeyCredential))return{data:null,error:new sl("Browser returned unexpected credential type",b)};return{data:b,error:null}}catch(b){return{data:null,error:function({error:a,options:b}){var c,d,e;let{publicKey:f}=b;if(!f)throw Error("options was missing required publicKey property");if("AbortError"===a.name){if(b.signal instanceof AbortSignal)return new sk({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if("ConstraintError"===a.name){if((null==(c=f.authenticatorSelection)?void 0:c.requireResidentKey)===!0)return new sk({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:a});else if("conditional"===b.mediation&&(null==(d=f.authenticatorSelection)?void 0:d.userVerification)==="required")return new sk({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:a});else if((null==(e=f.authenticatorSelection)?void 0:e.userVerification)==="required")return new sk({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:a})}else if("InvalidStateError"===a.name)return new sk({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:a});else if("NotAllowedError"===a.name)return new sk({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});else if("NotSupportedError"===a.name)return new sk(0===f.pubKeyCredParams.filter(a=>"public-key"===a.type).length?{message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:a}:{message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:a});else if("SecurityError"===a.name){let b=window.location.hostname;if(!so(b))return new sk({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a});if(f.rp.id!==b)return new sk({message:`The RP ID "${f.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else if("TypeError"===a.name){if(f.user.id.byteLength<1||f.user.id.byteLength>64)return new sk({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:a})}else if("UnknownError"===a.name)return new sk({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a});return new sk({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}({error:b,options:a})}}}async function sr(a){try{let b=await navigator.credentials.get(a);if(!b)return{data:null,error:new sl("Empty credential response",b)};if(!(b instanceof PublicKeyCredential))return{data:null,error:new sl("Browser returned unexpected credential type",b)};return{data:b,error:null}}catch(b){return{data:null,error:function({error:a,options:b}){let{publicKey:c}=b;if(!c)throw Error("options was missing required publicKey property");if("AbortError"===a.name){if(b.signal instanceof AbortSignal)return new sk({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:a})}else if("NotAllowedError"===a.name)return new sk({message:a.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a});else if("SecurityError"===a.name){let b=window.location.hostname;if(!so(b))return new sk({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:a});if(c.rpId!==b)return new sk({message:`The RP ID "${c.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:a})}else if("UnknownError"===a.name)return new sk({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:a});return new sk({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a})}({error:b,options:a})}}}let ss={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},st={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function su(...a){let b=a=>null!==a&&"object"==typeof a&&!Array.isArray(a),c=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),d={};for(let e of a)if(e)for(let a in e){let f=e[a];if(void 0!==f)if(Array.isArray(f))d[a]=f;else if(c(f))d[a]=f;else if(b(f)){let c=d[a];b(c)?d[a]=su(c,f):d[a]=su(f)}else d[a]=f}return d}class sv{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:b,friendlyName:c,signal:d},e){var f,g,h,i,j;try{let{data:k,error:l}=await this.client.mfa.challenge({factorId:a,webauthn:b});if(!k)return{data:null,error:l};let m=null!=d?d:sn.createNewAbortSignal();if("create"===k.webauthn.type){let{user:a}=k.webauthn.credential_options.publicKey;if(!a.name)if(c)a.name=`${a.id}:${c}`;else{let b=(await this.client.getUser()).data.user,c=(null==(f=null==b?void 0:b.user_metadata)?void 0:f.name)||(null==b?void 0:b.email)||(null==b?void 0:b.id)||"User";a.name=`${a.id}:${c}`}a.displayName||(a.displayName=a.name)}switch(k.webauthn.type){case"create":{let b=(g=k.webauthn.credential_options.publicKey,h=null==e?void 0:e.create,su(ss,g,h||{})),{data:c,error:d}=await sq({publicKey:b,signal:m});if(c)return{data:{factorId:a,challengeId:k.id,webauthn:{type:k.webauthn.type,credential_response:c}},error:null};return{data:null,error:d}}case"request":{let b=(i=k.webauthn.credential_options.publicKey,j=null==e?void 0:e.request,su(st,i,j||{})),{data:c,error:d}=await sr(Object.assign(Object.assign({},k.webauthn.credential_options),{publicKey:b,signal:m}));if(c)return{data:{factorId:a,challengeId:k.id,webauthn:{type:k.webauthn.type,credential_response:c}},error:null};return{data:null,error:d}}}}catch(a){if(rn(a))return{data:null,error:a};return{data:null,error:new rp("Unexpected error in challenge",a)}}}async _verify({challengeId:a,factorId:b,webauthn:c}){return this.client.mfa.verify({factorId:b,challengeId:a,webauthn:c})}async _authenticate({factorId:a,webauthn:{rpId:b="undefined"!=typeof window?window.location.hostname:void 0,rpOrigins:c="undefined"!=typeof window?[window.location.origin]:void 0,signal:d}={}},e){if(!b)return{data:null,error:new rm("rpId is required for WebAuthn authentication")};try{if(!sp())return{data:null,error:new rp("Browser does not support WebAuthn",null)};let{data:f,error:g}=await this.challenge({factorId:a,webauthn:{rpId:b,rpOrigins:c},signal:d},{request:e});if(!f)return{data:null,error:g};let{webauthn:h}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:h.type,rpId:b,rpOrigins:c,credential_response:h.credential_response}})}catch(a){if(rn(a))return{data:null,error:a};return{data:null,error:new rp("Unexpected error in authenticate",a)}}}async _register({friendlyName:a,webauthn:{rpId:b="undefined"!=typeof window?window.location.hostname:void 0,rpOrigins:c="undefined"!=typeof window?[window.location.origin]:void 0,signal:d}={}},e){if(!b)return{data:null,error:new rm("rpId is required for WebAuthn registration")};try{if(!sp())return{data:null,error:new rp("Browser does not support WebAuthn",null)};let{data:f,error:g}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(b=>{var c;return null==(c=b.data)?void 0:c.all.find(b=>"webauthn"===b.factor_type&&b.friendly_name===a&&"unverified"!==b.status)}).then(a=>a?this.client.mfa.unenroll({factorId:null==a?void 0:a.id}):void 0),{data:null,error:g};let{data:h,error:i}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:b,rpOrigins:c},signal:d},{create:e});if(!h)return{data:null,error:i};return this._verify({factorId:f.id,challengeId:h.challengeId,webauthn:{rpId:b,rpOrigins:c,type:h.webauthn.type,credential_response:h.webauthn.credential_response}})}catch(a){if(rn(a))return{data:null,error:a};return{data:null,error:new rp("Unexpected error in register",a)}}}}if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(a){"undefined"!=typeof self&&(self.globalThis=self)}let sw={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ri,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function sx(a,b,c){return await c()}let sy={};class sz{get jwks(){var a,b;return null!=(b=null==(a=sy[this.storageKey])?void 0:a.jwks)?b:{keys:[]}}set jwks(a){sy[this.storageKey]=Object.assign(Object.assign({},sy[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,b;return null!=(b=null==(a=sy[this.storageKey])?void 0:a.cachedAt)?b:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){sy[this.storageKey]=Object.assign(Object.assign({},sy[this.storageKey]),{cachedAt:a})}constructor(a){var b,c,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let e=Object.assign(Object.assign({},sw),a);if(this.storageKey=e.storageKey,this.instanceID=null!=(b=sz.nextInstanceID[this.storageKey])?b:0,sz.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!e.debug,"function"==typeof e.debug&&(this.logger=e.debug),this.instanceID>0&&rK()){let a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=e.persistSession,this.autoRefreshToken=e.autoRefreshToken,this.admin=new sd({url:e.url,headers:e.headers,fetch:e.fetch}),this.url=e.url,this.headers=e.headers,this.fetch=rN(e.fetch),this.lock=e.lock||sx,this.detectSessionInUrl=e.detectSessionInUrl,this.flowType=e.flowType,this.hasCustomAuthorizationHeader=e.hasCustomAuthorizationHeader,this.throwOnError=e.throwOnError,this.lockAcquireTimeout=e.lockAcquireTimeout,e.lock?this.lock=e.lock:this.persistSession&&rK()&&(null==(c=null==globalThis?void 0:globalThis.navigator)?void 0:c.locks)?this.lock=si:this.lock=sx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new sv(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(e.storage?this.storage=e.storage:rM()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=se(this.memoryStorage)),e.userStorage&&(this.userStorage=e.userStorage)):(this.memoryStorage={},this.storage=se(this.memoryStorage)),rK()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}null==(d=this.broadcastChannel)||d.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(a){if(this.throwOnError&&a&&a.error)throw a.error;return a}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${rh}) ${new Date().toISOString()}`}_debug(...a){return this.logDebugMessages&&this.logger(this._logPrefix(),...a),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var a;try{let b={},c="none";if(rK()&&(b=function(a){let b={},c=new URL(a);if(c.hash&&"#"===c.hash[0])try{new URLSearchParams(c.hash.substring(1)).forEach((a,c)=>{b[c]=a})}catch(a){}return c.searchParams.forEach((a,c)=>{b[c]=a}),b}(window.location.href),this._isImplicitGrantCallback(b)?c="implicit":await this._isPKCECallback(b)&&(c="pkce")),rK()&&this.detectSessionInUrl&&"none"!==c){let{data:d,error:e}=await this._getSessionFromURL(b,c);if(e){(this._debug("#_initialize()","error detecting session from URL",e),rn(e)&&"AuthImplicitGrantRedirectError"===e.name)&&(null==(a=e.details)||a.code);return{error:e}}let{session:f,redirectType:g}=d;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{"recovery"===g?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){if(rn(a))return this._returnResult({error:a});return this._returnResult({error:new rp("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var b,c,d;try{let{data:e,error:f}=await r4(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!=(c=null==(b=null==a?void 0:a.options)?void 0:b.data)?c:{},gotrue_meta_security:{captcha_token:null==(d=null==a?void 0:a.options)?void 0:d.captchaToken}},xform:r6});if(f||!e)return this._returnResult({data:{user:null,session:null},error:f});let g=e.session,h=e.user;return e.session&&(await this._saveSession(e.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:h,session:g},error:null})}catch(a){if(rn(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(a){var b,c,d;try{let e;if("email"in a){let{email:c,password:d,options:f}=a,g=null,h=null;"pkce"===this.flowType&&([g,h]=await rX(this.storage,this.storageKey)),e=await r4(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==f?void 0:f.emailRedirectTo,body:{email:c,password:d,data:null!=(b=null==f?void 0:f.data)?b:{},gotrue_meta_security:{captcha_token:null==f?void 0:f.captchaToken},code_challenge:g,code_challenge_method:h},xform:r6})}else if("phone"in a){let{phone:b,password:f,options:g}=a;e=await r4(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:f,data:null!=(c=null==g?void 0:g.data)?c:{},channel:null!=(d=null==g?void 0:g.channel)?d:"sms",gotrue_meta_security:{captcha_token:null==g?void 0:g.captchaToken}},xform:r6})}else throw new ru("You must provide either an email or phone number and a password");let{data:f,error:g}=e;if(g||!f)return await rQ(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});let h=f.session,i=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:i,session:h},error:null})}catch(a){if(await rQ(this.storage,`${this.storageKey}-code-verifier`),rn(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(a){try{let b;if("email"in a){let{email:c,password:d,options:e}=a;b=await r4(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}},xform:r7})}else if("phone"in a){let{phone:c,password:d,options:e}=a;b=await r4(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}},xform:r7})}else throw new ru("You must provide either an email or phone number and a password");let{data:c,error:d}=b;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c||!c.session||!c.user){let a=new rt;return this._returnResult({data:{user:null,session:null},error:a})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign({user:c.user,session:c.session},c.weak_password?{weakPassword:c.weak_password}:null),error:d})}catch(a){if(rn(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(a){var b,c,d,e;return await this._handleProviderSignIn(a.provider,{redirectTo:null==(b=a.options)?void 0:b.redirectTo,scopes:null==(c=a.options)?void 0:c.scopes,queryParams:null==(d=a.options)?void 0:d.queryParams,skipBrowserRedirect:null==(e=a.options)?void 0:e.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){let{chain:b}=a;switch(b){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw Error(`@supabase/auth-js: Unsupported chain "${b}"`)}}async signInWithEthereum(a){var b,c,d,e,f,g,h,i,j,k,l,m;let n,o;if("message"in a)n=a.message,o=a.signature;else{let k,{chain:l,wallet:p,statement:q,options:r}=a;if(rK())if("object"==typeof p)k=p;else{let a=window;if("ethereum"in a&&"object"==typeof a.ethereum&&"request"in a.ethereum&&"function"==typeof a.ethereum.request)k=a.ethereum;else throw Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if("object"!=typeof p||!(null==r?void 0:r.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=p}let s=new URL(null!=(b=null==r?void 0:r.url)?b:window.location.href),t=await k.request({method:"eth_requestAccounts"}).then(a=>a).catch(()=>{throw Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!t||0===t.length)throw Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let u=sj(t[0]),v=null==(c=null==r?void 0:r.signInWithEthereum)?void 0:c.chainId;v||(v=parseInt(await k.request({method:"eth_chainId"}),16)),n=function(a){var b;let{chainId:c,domain:d,expirationTime:e,issuedAt:f=new Date,nonce:g,notBefore:h,requestId:i,resources:j,scheme:k,uri:l,version:m}=a;if(!Number.isInteger(c))throw Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${c}`);if(!d)throw Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(g&&g.length<8)throw Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${g}`);if(!l)throw Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==m)throw Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(null==(b=a.statement)?void 0:b.includes("\n"))throw Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${a.statement}`);let n=sj(a.address),o=k?`${k}://${d}`:d,p=a.statement?`${a.statement}
`:"",q=`${o} wants you to sign in with your Ethereum account:
${n}

${p}`,r=`URI: ${l}
Version: ${m}
Chain ID: ${c}${g?`
Nonce: ${g}`:""}
Issued At: ${f.toISOString()}`;if(e&&(r+=`
Expiration Time: ${e.toISOString()}`),h&&(r+=`
Not Before: ${h.toISOString()}`),i&&(r+=`
Request ID: ${i}`),j){let a="\nResources:";for(let b of j){if(!b||"string"!=typeof b)throw Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);a+=`
- ${b}`}r+=a}return`${q}
${r}`}({domain:s.host,address:u,statement:q,uri:s.href,version:"1",chainId:v,nonce:null==(d=null==r?void 0:r.signInWithEthereum)?void 0:d.nonce,issuedAt:null!=(f=null==(e=null==r?void 0:r.signInWithEthereum)?void 0:e.issuedAt)?f:new Date,expirationTime:null==(g=null==r?void 0:r.signInWithEthereum)?void 0:g.expirationTime,notBefore:null==(h=null==r?void 0:r.signInWithEthereum)?void 0:h.notBefore,requestId:null==(i=null==r?void 0:r.signInWithEthereum)?void 0:i.requestId,resources:null==(j=null==r?void 0:r.signInWithEthereum)?void 0:j.resources}),o=await k.request({method:"personal_sign",params:[(m=n,"0x"+Array.from(new TextEncoder().encode(m),a=>a.toString(16).padStart(2,"0")).join("")),u]})}try{let{data:b,error:c}=await r4(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:n,signature:o},(null==(k=a.options)?void 0:k.captchaToken)?{gotrue_meta_security:{captcha_token:null==(l=a.options)?void 0:l.captchaToken}}:null),xform:r6});if(c)throw c;if(!b||!b.session||!b.user){let a=new rt;return this._returnResult({data:{user:null,session:null},error:a})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:c})}catch(a){if(rn(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSolana(a){var b,c,d,e,f,g,h,i,j,k,l,m;let n,o;if("message"in a)n=a.message,o=a.signature;else{let l,{chain:m,wallet:p,statement:q,options:r}=a;if(rK())if("object"==typeof p)l=p;else{let a=window;if("solana"in a&&"object"==typeof a.solana&&("signIn"in a.solana&&"function"==typeof a.solana.signIn||"signMessage"in a.solana&&"function"==typeof a.solana.signMessage))l=a.solana;else throw Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if("object"!=typeof p||!(null==r?void 0:r.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");l=p}let s=new URL(null!=(b=null==r?void 0:r.url)?b:window.location.href);if("signIn"in l&&l.signIn){let a,b=await l.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},null==r?void 0:r.signInWithSolana),{version:"1",domain:s.host,uri:s.href}),q?{statement:q}:null));if(Array.isArray(b)&&b[0]&&"object"==typeof b[0])a=b[0];else if(b&&"object"==typeof b&&"signedMessage"in b&&"signature"in b)a=b;else throw Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in a&&"signature"in a&&("string"==typeof a.signedMessage||a.signedMessage instanceof Uint8Array)&&a.signature instanceof Uint8Array)n="string"==typeof a.signedMessage?a.signedMessage:new TextDecoder().decode(a.signedMessage),o=a.signature;else throw Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in l)||"function"!=typeof l.signMessage||!("publicKey"in l)||"object"!=typeof l||!l.publicKey||!("toBase58"in l.publicKey)||"function"!=typeof l.publicKey.toBase58)throw Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");n=[`${s.host} wants you to sign in with your Solana account:`,l.publicKey.toBase58(),...q?["",q,""]:[""],"Version: 1",`URI: ${s.href}`,`Issued At: ${null!=(d=null==(c=null==r?void 0:r.signInWithSolana)?void 0:c.issuedAt)?d:new Date().toISOString()}`,...(null==(e=null==r?void 0:r.signInWithSolana)?void 0:e.notBefore)?[`Not Before: ${r.signInWithSolana.notBefore}`]:[],...(null==(f=null==r?void 0:r.signInWithSolana)?void 0:f.expirationTime)?[`Expiration Time: ${r.signInWithSolana.expirationTime}`]:[],...(null==(g=null==r?void 0:r.signInWithSolana)?void 0:g.chainId)?[`Chain ID: ${r.signInWithSolana.chainId}`]:[],...(null==(h=null==r?void 0:r.signInWithSolana)?void 0:h.nonce)?[`Nonce: ${r.signInWithSolana.nonce}`]:[],...(null==(i=null==r?void 0:r.signInWithSolana)?void 0:i.requestId)?[`Request ID: ${r.signInWithSolana.requestId}`]:[],...(null==(k=null==(j=null==r?void 0:r.signInWithSolana)?void 0:j.resources)?void 0:k.length)?["Resources",...r.signInWithSolana.resources.map(a=>`- ${a}`)]:[]].join("\n");let a=await l.signMessage(new TextEncoder().encode(n),"utf8");if(!a||!(a instanceof Uint8Array))throw Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");o=a}}try{let{data:b,error:c}=await r4(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:n,signature:rJ(o)},(null==(l=a.options)?void 0:l.captchaToken)?{gotrue_meta_security:{captcha_token:null==(m=a.options)?void 0:m.captchaToken}}:null),xform:r6});if(c)throw c;if(!b||!b.session||!b.user){let a=new rt;return this._returnResult({data:{user:null,session:null},error:a})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:c})}catch(a){if(rn(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _exchangeCodeForSession(a){let b=await rP(this.storage,`${this.storageKey}-code-verifier`),[c,d]=(null!=b?b:"").split("/");try{if(!c&&"pkce"===this.flowType)throw new rx;let{data:b,error:e}=await r4(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:c},xform:r6});if(await rQ(this.storage,`${this.storageKey}-code-verifier`),e)throw e;if(!b||!b.session||!b.user){let a=new rt;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign(Object.assign({},b),{redirectType:null!=d?d:null}),error:e})}catch(a){if(await rQ(this.storage,`${this.storageKey}-code-verifier`),rn(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(a){try{let{options:b,provider:c,token:d,access_token:e,nonce:f}=a,{data:g,error:h}=await r4(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:c,id_token:d,access_token:e,nonce:f,gotrue_meta_security:{captcha_token:null==b?void 0:b.captchaToken}},xform:r6});if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!g||!g.session||!g.user){let a=new rt;return this._returnResult({data:{user:null,session:null},error:a})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:h})}catch(a){if(rn(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(a){var b,c,d,e,f;try{if("email"in a){let{email:d,options:e}=a,f=null,g=null;"pkce"===this.flowType&&([f,g]=await rX(this.storage,this.storageKey));let{error:h}=await r4(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:null!=(b=null==e?void 0:e.data)?b:{},create_user:null==(c=null==e?void 0:e.shouldCreateUser)||c,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:null==e?void 0:e.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in a){let{phone:b,options:c}=a,{data:g,error:h}=await r4(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:b,data:null!=(d=null==c?void 0:c.data)?d:{},create_user:null==(e=null==c?void 0:c.shouldCreateUser)||e,gotrue_meta_security:{captcha_token:null==c?void 0:c.captchaToken},channel:null!=(f=null==c?void 0:c.channel)?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null==g?void 0:g.message_id},error:h})}throw new ru("You must provide either an email or phone number.")}catch(a){if(await rQ(this.storage,`${this.storageKey}-code-verifier`),rn(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(a){var b,c;try{let d,e;"options"in a&&(d=null==(b=a.options)?void 0:b.redirectTo,e=null==(c=a.options)?void 0:c.captchaToken);let{data:f,error:g}=await r4(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:e}}),redirectTo:d,xform:r6});if(g)throw g;if(!f)throw Error("An error occurred on token verification.");let h=f.session,i=f.user;return(null==h?void 0:h.access_token)&&(await this._saveSession(h),await this._notifyAllSubscribers("recovery"==a.type?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:i,session:h},error:null})}catch(a){if(rn(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(a){var b,c,d,e,f;try{let g=null,h=null;"pkce"===this.flowType&&([g,h]=await rX(this.storage,this.storageKey));let i=await r4(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:null!=(c=null==(b=a.options)?void 0:b.redirectTo)?c:void 0}),(null==(d=null==a?void 0:a.options)?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:h}),headers:this.headers,xform:r9});return(null==(e=i.data)?void 0:e.url)&&rK()&&!(null==(f=a.options)?void 0:f.skipBrowserRedirect)&&window.location.assign(i.data.url),this._returnResult(i)}catch(a){if(await rQ(this.storage,`${this.storageKey}-code-verifier`),rn(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{let{data:{session:b},error:c}=a;if(c)throw c;if(!b)throw new rr;let{error:d}=await r4(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:b.access_token});return this._returnResult({data:{user:null,session:null},error:d})})}catch(a){if(rn(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async resend(a){try{let b=`${this.url}/resend`;if("email"in a){let{email:c,type:d,options:e}=a,{error:f}=await r4(this.fetch,"POST",b,{headers:this.headers,body:{email:c,type:d,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}},redirectTo:null==e?void 0:e.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in a){let{phone:c,type:d,options:e}=a,{data:f,error:g}=await r4(this.fetch,"POST",b,{headers:this.headers,body:{phone:c,type:d,gotrue_meta_security:{captcha_token:null==e?void 0:e.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null==f?void 0:f.message_id},error:g})}throw new ru("You must provide either an email or phone number and a type")}catch(a){if(rn(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async a=>a))}async _acquireLock(a,b){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){let a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await a,await b()))();return this.pendingInLock.push((async()=>{try{await c}catch(a){}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let a=b();for(this.pendingInLock.push((async()=>{try{await a}catch(a){}})()),await a;this.pendingInLock.length;){let a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{let b=await this.__loadSession();return await a(b)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",Error().stack);try{let b=null,c=await rP(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",c),null!==c&&(this._isValidSession(c)?b=c:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!b)return{data:{session:null},error:null};let d=!!b.expires_at&&1e3*b.expires_at-Date.now()<9e4;if(this._debug("#__loadSession()",`session has${d?"":" not"} expired`,"expires_at",b.expires_at),!d){if(this.userStorage){let a=await rP(this.userStorage,this.storageKey+"-user");(null==a?void 0:a.user)?b.user=a.user:b.user=r_()}if(this.storage.isServer&&b.user&&!b.user.__isUserNotAvailableProxy){var a;let c={value:this.suppressGetSessionWarning};b.user=(a=b.user,new Proxy(a,{get:(a,b,d)=>{if("__isInsecureUserWarningProxy"===b)return!0;if("symbol"==typeof b){let c=b.toString();if("Symbol(Symbol.toPrimitive)"===c||"Symbol(Symbol.toStringTag)"===c||"Symbol(util.inspect.custom)"===c||"Symbol(nodejs.util.inspect.custom)"===c)return Reflect.get(a,b,d)}return c.value||"string"!=typeof b||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c.value=!0),Reflect.get(a,b,d)}})),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:b},error:null}}let{data:e,error:f}=await this._callRefreshToken(b.refresh_token);if(f)return this._returnResult({data:{session:null},error:f});return this._returnResult({data:{session:e},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(a){if(a)return await this._getUser(a);await this.initializePromise;let b=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return b.data.user&&(this.suppressGetSessionWarning=!0),b}async _getUser(a){try{if(a)return await r4(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:r8});return await this._useSession(async a=>{var b,c,d;let{data:e,error:f}=a;if(f)throw f;return(null==(b=e.session)?void 0:b.access_token)||this.hasCustomAuthorizationHeader?await r4(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!=(d=null==(c=e.session)?void 0:c.access_token)?d:void 0,xform:r8}):{data:{user:null},error:new rr}})}catch(a){if(rn(a))return rs(a)&&(await this._removeSession(),await rQ(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(a,b={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(a,b))}async _updateUser(a,b={}){try{return await this._useSession(async c=>{let{data:d,error:e}=c;if(e)throw e;if(!d.session)throw new rr;let f=d.session,g=null,h=null;"pkce"===this.flowType&&null!=a.email&&([g,h]=await rX(this.storage,this.storageKey));let{data:i,error:j}=await r4(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==b?void 0:b.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:g,code_challenge_method:h}),jwt:f.access_token,xform:r8});if(j)throw j;return f.user=i.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(a){if(await rQ(this.storage,`${this.storageKey}-code-verifier`),rn(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new rr;let b=Date.now()/1e3,c=b,d=!0,e=null,{payload:f}=rS(a.access_token);if(f.exp&&(d=(c=f.exp)<=b),d){let{data:b,error:c}=await this._callRefreshToken(a.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!b)return{data:{user:null,session:null},error:null};e=b}else{let{data:d,error:f}=await this._getUser(a.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});e={access_token:a.access_token,refresh_token:a.refresh_token,user:d.user,token_type:"bearer",expires_in:c-b,expires_at:c},await this._saveSession(e),await this._notifyAllSubscribers("SIGNED_IN",e)}return this._returnResult({data:{user:e.user,session:e},error:null})}catch(a){if(rn(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async b=>{var c;if(!a){let{data:d,error:e}=b;if(e)throw e;a=null!=(c=d.session)?c:void 0}if(!(null==a?void 0:a.refresh_token))throw new rr;let{data:d,error:e}=await this._callRefreshToken(a.refresh_token);return e?this._returnResult({data:{user:null,session:null},error:e}):d?this._returnResult({data:{user:d.user,session:d},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(rn(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(a,b){try{if(!rK())throw new rv("No browser detected.");if(a.error||a.error_description||a.error_code)throw new rv(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(b){case"implicit":if("pkce"===this.flowType)throw new rw("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new rv("Not a valid implicit grant flow url.")}if("pkce"===b){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new rw("No code detected.");let{data:b,error:c}=await this._exchangeCodeForSession(a.code);if(c)throw c;let d=new URL(window.location.href);return d.searchParams.delete("code"),window.history.replaceState(window.history.state,"",d.toString()),{data:{session:b.session,redirectType:null},error:null}}let{provider_token:c,provider_refresh_token:d,access_token:e,refresh_token:f,expires_in:g,expires_at:h,token_type:i}=a;if(!e||!g||!f||!i)throw new rv("No session defined in URL");let j=Math.round(Date.now()/1e3),k=parseInt(g),l=j+k;h&&(l=parseInt(h));let m=l-j;1e3*m<=3e4&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${k}s`);let n=l-k;j-n>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",n,l,j):j-n<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",n,l,j);let{data:o,error:p}=await this._getUser(e);if(p)throw p;let q={provider_token:c,provider_refresh_token:d,access_token:e,expires_in:k,expires_at:l,refresh_token:f,token_type:i,user:o.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:q,redirectType:a.type},error:null})}catch(a){if(rn(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(a){return"function"==typeof this.detectSessionInUrl?this.detectSessionInUrl(new URL(window.location.href),a):!!(a.access_token||a.error_description)}async _isPKCECallback(a){let b=await rP(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&b)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async b=>{var c;let{data:d,error:e}=b;if(e&&!rs(e))return this._returnResult({error:e});let f=null==(c=d.session)?void 0:c.access_token;if(f){let{error:b}=await this.admin.signOut(f,a);if(b&&!(rn(b)&&"AuthApiError"===b.name&&(404===b.status||401===b.status||403===b.status)||rs(b)))return this._returnResult({error:b})}return"others"!==a&&(await this._removeSession(),await rQ(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(a){let b=Symbol("auth-callback"),c={id:b,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",b),this.stateChangeEmitters.delete(b)}};return this._debug("#onAuthStateChange()","registered callback with id",b),this.stateChangeEmitters.set(b,c),(async()=>{await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(b)})})(),{data:{subscription:c}}}async _emitInitialSession(a){return await this._useSession(async b=>{var c,d;try{let{data:{session:d},error:e}=b;if(e)throw e;await (null==(c=this.stateChangeEmitters.get(a))?void 0:c.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",a,"session",d)}catch(b){await (null==(d=this.stateChangeEmitters.get(a))?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",b),console.error(b)}})}async resetPasswordForEmail(a,b={}){let c=null,d=null;"pkce"===this.flowType&&([c,d]=await rX(this.storage,this.storageKey,!0));try{return await r4(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:c,code_challenge_method:d,gotrue_meta_security:{captcha_token:b.captchaToken}},headers:this.headers,redirectTo:b.redirectTo})}catch(a){if(await rQ(this.storage,`${this.storageKey}-code-verifier`),rn(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var a;try{let{data:b,error:c}=await this.getUser();if(c)throw c;return this._returnResult({data:{identities:null!=(a=b.user.identities)?a:[]},error:null})}catch(a){if(rn(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var b;try{let{data:c,error:d}=await this._useSession(async b=>{var c,d,e,f,g;let{data:h,error:i}=b;if(i)throw i;let j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:null==(c=a.options)?void 0:c.redirectTo,scopes:null==(d=a.options)?void 0:d.scopes,queryParams:null==(e=a.options)?void 0:e.queryParams,skipBrowserRedirect:!0});return await r4(this.fetch,"GET",j,{headers:this.headers,jwt:null!=(g=null==(f=h.session)?void 0:f.access_token)?g:void 0})});if(d)throw d;return!rK()||(null==(b=a.options)?void 0:b.skipBrowserRedirect)||window.location.assign(null==c?void 0:c.url),this._returnResult({data:{provider:a.provider,url:null==c?void 0:c.url},error:null})}catch(b){if(rn(b))return this._returnResult({data:{provider:a.provider,url:null},error:b});throw b}}async linkIdentityIdToken(a){return await this._useSession(async b=>{var c;try{let{error:d,data:{session:e}}=b;if(d)throw d;let{options:f,provider:g,token:h,access_token:i,nonce:j}=a,{data:k,error:l}=await r4(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!=(c=null==e?void 0:e.access_token)?c:void 0,body:{provider:g,id_token:h,access_token:i,nonce:j,link_identity:!0,gotrue_meta_security:{captcha_token:null==f?void 0:f.captchaToken}},xform:r6});if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!k||!k.session||!k.user)return this._returnResult({data:{user:null,session:null},error:new rt});return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("USER_UPDATED",k.session)),this._returnResult({data:k,error:l})}catch(a){if(await rQ(this.storage,`${this.storageKey}-code-verifier`),rn(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(a){try{return await this._useSession(async b=>{var c,d;let{data:e,error:f}=b;if(f)throw f;return await r4(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:null!=(d=null==(c=e.session)?void 0:c.access_token)?d:void 0})})}catch(a){if(rn(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(a){let b=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(b,"begin");try{var c,d;let e=Date.now();return await (c=async c=>(c>0&&await rT(200*Math.pow(2,c-1)),this._debug(b,"refreshing attempt",c),await r4(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:r6})),d=(a,b)=>{let c=200*Math.pow(2,a);return b&&rz(b)&&Date.now()+c-e<3e4},new Promise((a,b)=>{(async()=>{for(let e=0;e<1/0;e++)try{let b=await c(e);if(!d(e,null,b))return void a(b)}catch(a){if(!d(e,a))return void b(a)}})()}))}catch(a){if(this._debug(b,"error",a),rn(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(b,"end")}}_isValidSession(a){return"object"==typeof a&&null!==a&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,b){let c=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:b.redirectTo,scopes:b.scopes,queryParams:b.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",b,"url",c),rK()&&!b.skipBrowserRedirect&&window.location.assign(c),{data:{provider:a,url:c},error:null}}async _recoverAndRefresh(){var a,b;let c="#_recoverAndRefresh()";this._debug(c,"begin");try{let d=await rP(this.storage,this.storageKey);if(d&&this.userStorage){let b=await rP(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!b&&(b={user:d.user},await rO(this.userStorage,this.storageKey+"-user",b)),d.user=null!=(a=null==b?void 0:b.user)?a:r_()}else if(d&&!d.user&&!d.user){let a=await rP(this.storage,this.storageKey+"-user");a&&(null==a?void 0:a.user)?(d.user=a.user,await rQ(this.storage,this.storageKey+"-user"),await rO(this.storage,this.storageKey,d)):d.user=r_()}if(this._debug(c,"session from storage",d),!this._isValidSession(d)){this._debug(c,"session is not valid"),null!==d&&await this._removeSession();return}let e=(null!=(b=d.expires_at)?b:1/0)*1e3-Date.now()<9e4;if(this._debug(c,`session has${e?"":" not"} expired with margin of 90000s`),e){if(this.autoRefreshToken&&d.refresh_token){let{error:a}=await this._callRefreshToken(d.refresh_token);a&&(console.error(a),rz(a)||(this._debug(c,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(d.user&&!0===d.user.__isUserNotAvailableProxy)try{let{data:a,error:b}=await this._getUser(d.access_token);!b&&(null==a?void 0:a.user)?(d.user=a.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(c,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(c,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(a){this._debug(c,"error",a),console.error(a);return}finally{this._debug(c,"end")}}async _callRefreshToken(a){var b,c;if(!a)throw new rr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let d=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new rR;let{data:b,error:c}=await this._refreshAccessToken(a);if(c)throw c;if(!b.session)throw new rr;await this._saveSession(b.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",b.session);let d={data:b.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(d,"error",a),rn(a)){let c={data:null,error:a};return rz(a)||await this._removeSession(),null==(b=this.refreshingDeferred)||b.resolve(c),c}throw null==(c=this.refreshingDeferred)||c.reject(a),a}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(a,b,c=!0){let d=`#_notifyAllSubscribers(${a})`;this._debug(d,"begin",b,`broadcast = ${c}`);try{this.broadcastChannel&&c&&this.broadcastChannel.postMessage({event:a,session:b});let d=[],e=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(a,b)}catch(a){d.push(a)}});if(await Promise.all(e),d.length>0){for(let a=0;a<d.length;a+=1)console.error(d[a]);throw d[0]}}finally{this._debug(d,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0,await rQ(this.storage,`${this.storageKey}-code-verifier`);let b=Object.assign({},a),c=b.user&&!0===b.user.__isUserNotAvailableProxy;if(this.userStorage){!c&&b.user&&await rO(this.userStorage,this.storageKey+"-user",{user:b.user});let a=Object.assign({},b);delete a.user;let d=r0(a);await rO(this.storage,this.storageKey,d)}else{let a=r0(b);await rO(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await rQ(this.storage,this.storageKey),await rQ(this.storage,this.storageKey+"-code-verifier"),await rQ(this.storage,this.storageKey+"-user"),this.userStorage&&await rQ(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&rK()&&(null==window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",a)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let a=setInterval(()=>this._autoRefreshTokenTick(),3e4);this.autoRefreshTicker=a,a&&"object"==typeof a&&"function"==typeof a.unref?a.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(a);let b=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=b,b&&"object"==typeof b&&"function"==typeof b.unref?b.unref():"undefined"!=typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(b)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a);let b=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,b&&clearTimeout(b)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let a=Date.now();try{return await this._useSession(async b=>{let{data:{session:c}}=b;if(!c||!c.refresh_token||!c.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");let d=Math.floor((1e3*c.expires_at-a)/3e4);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),d<=3&&await this._callRefreshToken(c.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof sg)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rK()||!(null==window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(a){this._debug("#visibilityChangedCallback","error",a)}},null==window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){let b=`#_onVisibilityChanged(${a})`;this._debug(b,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if("visible"!==document.visibilityState)return void this._debug(b,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");await this._recoverAndRefresh()}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,b,c){let d=[`provider=${encodeURIComponent(b)}`];if((null==c?void 0:c.redirectTo)&&d.push(`redirect_to=${encodeURIComponent(c.redirectTo)}`),(null==c?void 0:c.scopes)&&d.push(`scopes=${encodeURIComponent(c.scopes)}`),"pkce"===this.flowType){let[a,b]=await rX(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(b)}`});d.push(c.toString())}if(null==c?void 0:c.queryParams){let a=new URLSearchParams(c.queryParams);d.push(a.toString())}return(null==c?void 0:c.skipBrowserRedirect)&&d.push(`skip_http_redirect=${c.skipBrowserRedirect}`),`${a}?${d.join("&")}`}async _unenroll(a){try{return await this._useSession(async b=>{var c;let{data:d,error:e}=b;return e?this._returnResult({data:null,error:e}):await r4(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:null==(c=null==d?void 0:d.session)?void 0:c.access_token})})}catch(a){if(rn(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(a){try{return await this._useSession(async b=>{var c,d;let{data:e,error:f}=b;if(f)return this._returnResult({data:null,error:f});let g=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},"phone"===a.factorType?{phone:a.phone}:"totp"===a.factorType?{issuer:a.issuer}:{}),{data:h,error:i}=await r4(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:null==(c=null==e?void 0:e.session)?void 0:c.access_token});return i?this._returnResult({data:null,error:i}):("totp"===a.factorType&&"totp"===h.type&&(null==(d=null==h?void 0:h.totp)?void 0:d.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(a){if(rn(a))return this._returnResult({data:null,error:a});throw a}}async _verify(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async b=>{var c,d,e;let{data:f,error:g}=b;if(g)return this._returnResult({data:null,error:g});let h=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:"create"===a.webauthn.type?(d=a.webauthn.credential_response,"toJSON"in d&&"function"==typeof d.toJSON?d.toJSON():{id:d.id,rawId:d.id,response:{attestationObject:rJ(new Uint8Array(d.response.attestationObject)),clientDataJSON:rJ(new Uint8Array(d.response.clientDataJSON))},type:"public-key",clientExtensionResults:d.getClientExtensionResults(),authenticatorAttachment:null!=(e=d.authenticatorAttachment)?e:void 0}):function(a){var b;if("toJSON"in a&&"function"==typeof a.toJSON)return a.toJSON();let c=a.getClientExtensionResults(),d=a.response;return{id:a.id,rawId:a.id,response:{authenticatorData:rJ(new Uint8Array(d.authenticatorData)),clientDataJSON:rJ(new Uint8Array(d.clientDataJSON)),signature:rJ(new Uint8Array(d.signature)),userHandle:d.userHandle?rJ(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:c,authenticatorAttachment:null!=(b=a.authenticatorAttachment)?b:void 0}}(a.webauthn.credential_response)})}:{code:a.code}),{data:i,error:j}=await r4(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:h,headers:this.headers,jwt:null==(c=null==f?void 0:f.session)?void 0:c.access_token});return j?this._returnResult({data:null,error:j}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),this._returnResult({data:i,error:j}))})}catch(a){if(rn(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(a){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async b=>{var c;let{data:d,error:e}=b;if(e)return this._returnResult({data:null,error:e});let f=await r4(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:null==(c=null==d?void 0:d.session)?void 0:c.access_token});if(f.error)return f;let{data:g}=f;if("webauthn"!==g.type)return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:function(a){if(!a)throw Error("Credential creation options are required");if("undefined"!=typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(a);let{challenge:b,user:c,excludeCredentials:d}=a,e=p2(a,["challenge","user","excludeCredentials"]),f=rI(b).buffer,g=Object.assign(Object.assign({},c),{id:rI(c.id).buffer}),h=Object.assign(Object.assign({},e),{challenge:f,user:g});if(d&&d.length>0){h.excludeCredentials=Array(d.length);for(let a=0;a<d.length;a++){let b=d[a];h.excludeCredentials[a]=Object.assign(Object.assign({},b),{id:rI(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return h}(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:function(a){if(!a)throw Error("Credential request options are required");if("undefined"!=typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(a);let{challenge:b,allowCredentials:c}=a,d=p2(a,["challenge","allowCredentials"]),e=rI(b).buffer,f=Object.assign(Object.assign({},d),{challenge:e});if(c&&c.length>0){f.allowCredentials=Array(c.length);for(let a=0;a<c.length;a++){let b=c[a];f.allowCredentials[a]=Object.assign(Object.assign({},b),{id:rI(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return f}(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(rn(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(a){let{data:b,error:c}=await this._challenge({factorId:a.factorId});return c?this._returnResult({data:null,error:c}):await this._verify({factorId:a.factorId,challengeId:b.id,code:a.code})}async _listFactors(){var a;let{data:{user:b},error:c}=await this.getUser();if(c)return{data:null,error:c};let d={all:[],phone:[],totp:[],webauthn:[]};for(let c of null!=(a=null==b?void 0:b.factors)?a:[])d.all.push(c),"verified"===c.status&&d[c.factor_type].push(c);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(a){var b,c,d,e;if(a)try{let{payload:d}=rS(a),e=null;d.aal&&(e=d.aal);let f=e,{data:{user:g},error:h}=await this.getUser(a);if(h)return this._returnResult({data:null,error:h});(null!=(c=null==(b=null==g?void 0:g.factors)?void 0:b.filter(a=>"verified"===a.status))?c:[]).length>0&&(f="aal2");let i=d.amr||[];return{data:{currentLevel:e,nextLevel:f,currentAuthenticationMethods:i},error:null}}catch(a){if(rn(a))return this._returnResult({data:null,error:a});throw a}let{data:{session:f},error:g}=await this.getSession();if(g)return this._returnResult({data:null,error:g});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:h}=rS(f.access_token),i=null;h.aal&&(i=h.aal);let j=i;return(null!=(e=null==(d=f.user.factors)?void 0:d.filter(a=>"verified"===a.status))?e:[]).length>0&&(j="aal2"),{data:{currentLevel:i,nextLevel:j,currentAuthenticationMethods:h.amr||[]},error:null}}async _getAuthorizationDetails(a){try{return await this._useSession(async b=>{let{data:{session:c},error:d}=b;return d?this._returnResult({data:null,error:d}):c?await r4(this.fetch,"GET",`${this.url}/oauth/authorizations/${a}`,{headers:this.headers,jwt:c.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new rr})})}catch(a){if(rn(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(a,b){try{return await this._useSession(async c=>{let{data:{session:d},error:e}=c;if(e)return this._returnResult({data:null,error:e});if(!d)return this._returnResult({data:null,error:new rr});let f=await r4(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return f.data&&f.data.redirect_url&&rK()&&!(null==b?void 0:b.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(a){if(rn(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(a,b){try{return await this._useSession(async c=>{let{data:{session:d},error:e}=c;if(e)return this._returnResult({data:null,error:e});if(!d)return this._returnResult({data:null,error:new rr});let f=await r4(this.fetch,"POST",`${this.url}/oauth/authorizations/${a}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return f.data&&f.data.redirect_url&&rK()&&!(null==b?void 0:b.skipBrowserRedirect)&&window.location.assign(f.data.redirect_url),f})}catch(a){if(rn(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async a=>{let{data:{session:b},error:c}=a;return c?this._returnResult({data:null,error:c}):b?await r4(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:b.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new rr})})}catch(a){if(rn(a))return this._returnResult({data:null,error:a});throw a}}async _revokeOAuthGrant(a){try{return await this._useSession(async b=>{let{data:{session:c},error:d}=b;return d?this._returnResult({data:null,error:d}):c?(await r4(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:c.access_token,query:{client_id:a.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new rr})})}catch(a){if(rn(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(a,b={keys:[]}){let c=b.keys.find(b=>b.kid===a);if(c)return c;let d=Date.now();if((c=this.jwks.keys.find(b=>b.kid===a))&&this.jwks_cached_at+6e5>d)return c;let{data:e,error:f}=await r4(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return e.keys&&0!==e.keys.length&&(this.jwks=e,this.jwks_cached_at=d,c=e.keys.find(b=>b.kid===a))?c:null}async getClaims(a,b={}){try{let c=a;if(!c){let{data:a,error:b}=await this.getSession();if(b||!a.session)return this._returnResult({data:null,error:b});c=a.session.access_token}let{header:d,payload:e,signature:f,raw:{header:g,payload:h}}=rS(c);(null==b?void 0:b.allowExpired)||function(a){if(!a)throw Error("Missing exp claim");if(a<=Math.floor(Date.now()/1e3))throw Error("JWT has expired")}(e.exp);let i=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,(null==b?void 0:b.keys)?{keys:b.keys}:null==b?void 0:b.jwks);if(!i){let{error:a}=await this.getUser(c);if(a)throw a;return{data:{claims:e,header:d,signature:f},error:null}}let j=function(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw Error("Invalid alg claim")}}(d.alg),k=await crypto.subtle.importKey("jwk",i,j,!0,["verify"]);if(!await crypto.subtle.verify(j,k,f,function(a){let b=[];return!function(a,b){for(let c=0;c<a.length;c+=1){let d=a.charCodeAt(c);if(d>55295&&d<=56319){let b=(d-55296)*1024&65535;d=(a.charCodeAt(c+1)-56320&65535|b)+65536,c+=1}!function(a,b){if(a<=127)return b(a);if(a<=2047){b(192|a>>6),b(128|63&a);return}if(a<=65535){b(224|a>>12),b(128|a>>6&63),b(128|63&a);return}if(a<=1114111){b(240|a>>18),b(128|a>>12&63),b(128|a>>6&63),b(128|63&a);return}throw Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}(d,b)}}(a,a=>b.push(a)),new Uint8Array(b)}(`${g}.${h}`)))throw new rB("Invalid JWT signature");return{data:{claims:e,header:d,signature:f},error:null}}catch(a){if(rn(a))return this._returnResult({data:null,error:a});throw a}}}sz.nextInstanceID={};let sA=sz,sB="";sB="undefined"!=typeof Deno?"deno":"undefined"!=typeof document?"web":"undefined"!=typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";let sC={headers:{"X-Client-Info":`supabase-js-${sB}/2.95.3`}},sD={schema:"public"},sE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sF={};function sG(a){return(sG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function sH(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function sI(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?sH(Object(c),!0).forEach(function(b){!function(a,b,c){var d;(d=function(a,b){if("object"!=sG(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=sG(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(b,"string"),(b="symbol"==sG(d)?d:d+"")in a)?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c}(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):sH(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var sJ=class extends sA{constructor(a){super(a)}},sK=class{constructor(a,b,c){var d,e,f;this.supabaseUrl=a,this.supabaseKey=b;let g=function(a){let b=null==a?void 0:a.trim();if(!b)throw Error("supabaseUrl is required.");if(!b.match(/^https?:\/\//i))throw Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(b.endsWith("/")?b:b+"/")}catch(a){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(a);if(!b)throw Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);let h=`sb-${g.hostname.split(".")[0]}-auth-token`,i=function(a,b){var c,d;let{db:e,auth:f,realtime:g,global:h}=a,{db:i,auth:j,realtime:k,global:l}=b,m={db:sI(sI({},i),e),auth:sI(sI({},j),f),realtime:sI(sI({},k),g),storage:{},global:sI(sI(sI({},l),h),{},{headers:sI(sI({},null!=(c=null==l?void 0:l.headers)?c:{}),null!=(d=null==h?void 0:h.headers)?d:{})}),accessToken:async()=>""};return a.accessToken?m.accessToken=a.accessToken:delete m.accessToken,m}(null!=c?c:{},{db:sD,realtime:sF,auth:sI(sI({},sE),{},{storageKey:h}),global:sC});this.storageKey=null!=(d=i.auth.storageKey)?d:"",this.headers=null!=(e=i.global.headers)?e:{},i.accessToken?(this.accessToken=i.accessToken,this.auth=new Proxy({},{get:(a,b)=>{throw Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!=(f=i.auth)?f:{},this.headers,i.global.fetch),this.fetch=((a,b,c)=>{let d=(a=>a?(...b)=>a(...b):(...a)=>fetch(...a))(c),e=Headers;return async(c,f)=>{var g;let h=null!=(g=await b())?g:a,i=new e(null==f?void 0:f.headers);return i.has("apikey")||i.set("apikey",a),i.has("Authorization")||i.set("Authorization",`Bearer ${h}`),d(c,sI(sI({},f),{},{headers:i}))}})(b,this._getAccessToken.bind(this),i.global.fetch),this.realtime=this._initRealtimeClient(sI({headers:this.headers,accessToken:this._getAccessToken.bind(this)},i.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(a=>this.realtime.setAuth(a)).catch(a=>console.warn("Failed to set initial Realtime auth token:",a)),this.rest=new qh(new URL("rest/v1",g).href,{headers:this.headers,schema:i.db.schema,fetch:this.fetch,timeout:i.db.timeout,urlLengthLimit:i.db.urlLengthLimit}),this.storage=new rg(this.storageUrl.href,this.headers,this.fetch,null==c?void 0:c.storage),i.accessToken||this._listenForAuthEvents()}get functions(){return new p7(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,b={},c={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,b,c)}channel(a,b={config:{}}){return this.realtime.channel(a,b)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a,b;if(this.accessToken)return await this.accessToken();let{data:c}=await this.auth.getSession();return null!=(a=null==(b=c.session)?void 0:b.access_token)?a:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:b,detectSessionInUrl:c,storage:d,userStorage:e,storageKey:f,flowType:g,lock:h,debug:i,throwOnError:j},k,l){let m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sJ({url:this.authUrl.href,headers:sI(sI({},m),k),storageKey:f,autoRefreshToken:a,persistSession:b,detectSessionInUrl:c,storage:d,userStorage:e,flowType:g,lock:h,debug:i,throwOnError:j,fetch:l,hasCustomAuthorizationHeader:Object.keys(this.headers).some(a=>"authorization"===a.toLowerCase())})}_initRealtimeClient(a){return new qD(this.realtimeUrl.href,sI(sI({},a),{},{params:sI(sI({},{apikey:this.supabaseKey}),null==a?void 0:a.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,b)=>{this._handleTokenChanged(a,"CLIENT",null==b?void 0:b.access_token)})}_handleTokenChanged(a,b,c){("TOKEN_REFRESHED"===a||"SIGNED_IN"===a)&&this.changedAccessToken!==c?(this.changedAccessToken=c,this.realtime.setAuth(c)):"SIGNED_OUT"===a&&(this.realtime.setAuth(),"STORAGE"==b&&this.auth.signOut(),this.changedAccessToken=void 0)}};(function(){if("undefined"!=typeof window)return!1;let a=globalThis.process;if(!a)return!1;let b=a.version;if(null==b)return!1;let c=b.match(/^v(\d+)\./);return!!c&&18>=parseInt(c[1],10)})()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let sL=process.env.NEXT_PUBLIC_SUPABASE_URL,sM=process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,sN=()=>!!(sL&&sM&&sL.startsWith("http")),sO=new sK(sL||"https://placeholder.supabase.co",sM||"placeholder-key",void 0);sN()||console.warn(" Supabase n\xe3o configurado. Verifique o arquivo .env ou as vari\xe1veis de ambiente.");let sP=()=>"undefined"!=typeof crypto&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2,10),sQ={users:{},profiles:{},barbershops:[],services:[],appointments:[],inventory:[],orders:[]};function sR(){}let sS={async createUser(a,b){if(sQ.users[a])throw Error("User already exists");let c=sP();return sQ.users[a]={id:c,email:a,password:b,createdAt:Date.now()},await this.createProfile({id:c,name:"",role:"customer",email:a}),sR(),{id:c,email:a}},async signIn(a,b){let c=sQ.users[a];if(!c||c.password!==b)throw Error("Invalid credentials");return{id:c.id,email:c.email}},getProfile:async a=>sQ.profiles[a]||null,async createProfile(a){let b=a.id||sP(),c={id:b,name:a.name||"",role:a.role||"customer",avatar:a.avatar||"",points:a.points||0,email:a.email||""};return sQ.profiles[b]=c,sR(),c},updateProfile:async(a,b)=>sQ.profiles[a]?(sQ.profiles[a]={...sQ.profiles[a],...b},sR(),sQ.profiles[a]):null,async createBarbershop(a){let b=a.id||sP(),c={...a,id:b,staff:a.staff||[]};return sQ.barbershops.push(c),sR(),c},getBarbershopByOwner:async a=>sQ.barbershops.find(b=>b.owner_id===a)||null,getBarbershopById:async a=>sQ.barbershops.find(b=>b.id===a)||null,async addStaffToBarbershop(a,b,c){let d=sQ.barbershops.find(b=>b.id===a);if(!d)throw Error("Barbershop not found");return d.staff=d.staff||[],d.staff.includes(b)||d.staff.push(b),sR(),d},getServices:async a=>sQ.services.filter(b=>b.barbershop_id===a),async saveService(a){if(!a.id){let b={...a,id:sP()};return sQ.services.push(b),sR(),b}let b=sQ.services.findIndex(b=>b.id===a.id);if(b>=0)return sQ.services[b]={...sQ.services[b],...a},sR(),sQ.services[b];let c={...a,id:a.id};return sQ.services.push(c),sR(),c},async deleteService(a){sQ.services=sQ.services.filter(b=>b.id!==a),sR()},getAppointments:async a=>(function(a,b){return b?a.filter(a=>a.barbershop_id===b):a})(sQ.appointments,a).map(a=>({...a,startTime:new Date(a.startTime)})),async createAppointment(a){let b={...a,id:sP(),status:"scheduled",createdAt:Date.now()};return sQ.appointments.push(b),sR(),b},async updateAppointmentStatus(a,b,c){let d=sQ.appointments.findIndex(b=>b.id===a);d>=0&&(sQ.appointments[d].status=b,c&&(sQ.appointments[d].customerRating=c),sR())},getInventory:async a=>sQ.inventory.filter(b=>b.barbershop_id===a),async upsertInventoryItem(a){if(!a.id){let b={...a,id:sP()};return sQ.inventory.push(b),sR(),b}let b=sQ.inventory.findIndex(b=>b.id===a.id);if(b>=0)return sQ.inventory[b]={...sQ.inventory[b],...a},sR(),sQ.inventory[b];let c={...a,id:a.id};return sQ.inventory.push(c),sR(),c},getOrders:async a=>sQ.orders.filter(b=>b.barbershop_id===a).sort((a,b)=>{let c="number"==typeof a.createdAt?a.createdAt:parseInt(a.createdAt)||0;return("number"==typeof b.createdAt?b.createdAt:parseInt(b.createdAt)||0)-c}),async createOrder(a){let b=[];for(let c of a.items||[]){let d=sQ.inventory.find(b=>b.id===c.productId&&b.barbershop_id===a.barbershop_id);if(!d){b.push({productId:c.productId,reason:"not found"});continue}(d.quantity??0)<c.qty&&b.push({productId:c.productId,reason:"insufficient",avail:d.quantity})}if(b.length)throw Error("Insufficient inventory: "+JSON.stringify(b));for(let b of a.items||[]){let c=sQ.inventory.find(c=>c.id===b.productId&&c.barbershop_id===a.barbershop_id);c&&(c.quantity=(c.quantity||0)-b.qty)}let c={...a,id:sP(),createdAt:Date.now(),status:"created"};return sQ.orders.push(c),sR(),c},async updateOrderStatus(a,b,c){let d=sQ.orders.findIndex(b=>b.id===a);d>=0&&(sQ.orders[d].status=b,c&&(sQ.orders[d].trackingCode=c),sR())}},sT={async signUp({email:a,password:b,options:c}){try{let d=await sS.createUser(a,b);return await sS.updateProfile(d.id,{name:c?.data?.full_name||"",role:c?.data?.role||"customer",email:a}),{data:{user:{id:d.id,email:a}},error:null}}catch(a){return{data:null,error:a}}},async signInWithPassword({email:a,password:b}){try{let c=await sS.signIn(a,b);return{data:{user:{id:c.id,email:c.email}},error:null}}catch(a){return{data:null,error:a}}}},sU={signUp:async a=>sN()?sO.auth.signUp(a):sT.signUp(a),signInWithPassword:async a=>sN()?sO.auth.signInWithPassword(a):sT.signInWithPassword(a)},sV="true"===process.env.NEXT_PUBLIC_DEMO_DB||!sN();sV&&console.info(" Usando demo DB em mem\xf3ria (NEXT_PUBLIC_DEMO_DB=true ou Supabase n\xe3o configurado)");let sW=sV?sS:{async getProfile(a){try{let{data:b,error:c}=await sO.from("profiles").select("*").eq("id",a).single();if(c)throw c;return b}catch(a){return console.error("Erro ao buscar perfil:",a),null}},async createProfile(a){let{data:b,error:c}=await sO.from("profiles").insert([a]).select().single();if(c)throw c;return b},async getBarbershopByOwner(a){let{data:b,error:c}=await sO.from("barbershops").select("*").eq("owner_id",a).single();return c?null:b},async createBarbershop(a){let{data:b,error:c}=await sO.from("barbershops").insert([a]).select().single();if(c)throw c;return b},async getBarbershopById(a){let{data:b,error:c}=await sO.from("barbershops").select("*").eq("id",a).single();return c?null:b},async getServices(a){let{data:b,error:c}=await sO.from("services").select("*").eq("barbershop_id",a).order("name");if(c)throw c;return b},async saveService(a){let{data:b,error:c}=await sO.from("services").upsert([a]).select().single();if(c)throw c;return b},async deleteService(a){let{error:b}=await sO.from("services").delete().eq("id",a);if(b)throw b},async getAppointments(a){let{data:b,error:c}=await sO.from("appointments").select("*").eq("barbershop_id",a).order("startTime",{ascending:!0});if(c)throw c;return b.map(a=>({...a,startTime:new Date(a.startTime)}))},async createAppointment(a){let{data:b,error:c}=await sO.from("appointments").insert([a]).select().single();if(c)throw c;return b},async updateAppointmentStatus(a,b,c){let d={status:b};c&&(d.customerRating=c);let{error:e}=await sO.from("appointments").update(d).eq("id",a);if(e)throw e},async getInventory(a){let{data:b,error:c}=await sO.from("inventory").select("*").eq("barbershop_id",a);if(c)throw c;return b},async upsertInventoryItem(a){let{data:b,error:c}=await sO.from("inventory").upsert([a]).select().single();if(c)throw c;return b},async getOrders(a){let{data:b,error:c}=await sO.from("orders").select("*").eq("barbershop_id",a).order("createdAt",{ascending:!1});if(c)throw c;return b},async createOrder(a){let{data:b,error:c}=await sO.from("orders").insert([a]).select().single();if(c)throw c;return b},async updateOrderStatus(a,b,c){let d={status:b};c&&(d.trackingCode=c);let{error:e}=await sO.from("orders").update(d).eq("id",a);if(e)throw e}},sX=x("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),sY=x("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),sZ=x("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),s$=x("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),s_=x("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]),s0=({onLogin:a,onGuestContinue:b})=>{let[c,d]=(0,r.useState)("login"),[e,f]=(0,r.useState)(!1),[g,h]=(0,r.useState)(null),[i,j]=(0,r.useState)(!1),[k,l]=(0,r.useState)(!1),[m,n]=(0,r.useState)({email:"",password:"",name:"",shopName:"",role:v.CUSTOMER}),o=async b=>{b.preventDefault(),f(!0),h(null);try{if("login"===c){let{data:b,error:c}=await sU.signInWithPassword({email:m.email,password:m.password});if(c)throw c;let d=await sW.getProfile(b.user.id);a({...d,email:b.user.email})}else{let{data:b,error:c}=await sU.signUp({email:m.email,password:m.password,options:{data:{full_name:m.name,role:m.role}}});if(c)throw c;if(!b||!b.user)throw Error("Erro ao criar usu\xe1rio.");let d={id:b.user.id,name:m.name,role:m.role,avatar:`https://api.dicebear.com/7.x/avataaars/svg?seed=${b.user.id}`,points:0},e=await sW.createProfile(d);m.role===v.OWNER&&await sW.createBarbershop({owner_id:b.user.id,name:m.shopName,slug:m.shopName.toLowerCase().replace(/ /g,"-"),opening_hours:{start:"09:00",end:"19:00"},working_days:["Seg","Ter","Qua","Qui","Sex","Sab"]}),a({...e,email:m.email})}}catch(a){h(a.message||"Ocorreu um erro na autentica\xe7\xe3o.")}finally{f(!1)}};return(0,q.jsx)("div",{className:"min-h-screen bg-brand-gray flex items-center justify-center p-4 sm:p-6 overflow-hidden",children:(0,q.jsxs)("div",{className:"w-full max-w-4xl bg-white rounded-2xl shadow-2xl overflow-hidden flex flex-col lg:flex-row",children:[(0,q.jsxs)("div",{className:"hidden lg:block lg:w-1/2 relative h-96 bg-brand-dark",children:[(0,q.jsx)(u(),{src:"/hero_barber.jpg",alt:"Barvo",fill:!0,className:"object-cover",priority:!0,sizes:"(max-width: 1024px) 0px, 50vw"}),(0,q.jsx)("div",{className:"absolute inset-0 bg-brand-dark/50"}),(0,q.jsxs)("div",{className:"absolute top-6 left-6 z-10 flex items-center gap-2 text-white",children:[(0,q.jsx)(u(),{src:"/logo-branco.png",alt:"Barvo",width:36,height:36,className:"object-contain"}),(0,q.jsx)("span",{className:"font-bold text-xl tracking-tight",children:"Barvo"})]}),(0,q.jsxs)("div",{className:"absolute bottom-8 left-8 z-10 text-white max-w-sm",children:[(0,q.jsx)("p",{className:"text-2xl font-extrabold leading-tight mb-4",children:'"Tudo que meu time e eu precisamos."'}),(0,q.jsx)("p",{className:"text-sm opacity-90",children:"Gerente de Barbearia"}),(0,q.jsx)("p",{className:"text-xs opacity-80",children:"Sistema completo de gest\xe3o"})]})]}),(0,q.jsx)("div",{className:"w-full lg:w-1/2 p-4 sm:p-6 lg:p-8 flex flex-col items-center justify-center min-h-screen lg:min-h-auto overflow-y-auto lg:overflow-y-visible",children:(0,q.jsxs)("div",{className:"w-full max-w-xs",children:[(0,q.jsxs)("div",{className:"mb-4 sm:mb-6",children:[(0,q.jsxs)("div",{className:"flex lg:hidden items-center gap-2 mb-4",children:[(0,q.jsx)(u(),{src:"/logo-preto.png",alt:"Barvo",width:32,height:32,className:"object-contain"}),(0,q.jsx)("span",{className:"font-bold text-lg text-brand-dark",children:"Barvo"})]}),(0,q.jsx)("h2",{className:"text-xl sm:text-2xl font-extrabold text-brand-dark mb-1",children:"Bem-vindo ao Barvo"}),(0,q.jsx)("p",{className:"text-[11px] sm:text-xs text-brand-midGray",children:"Gerencie sua barbearia com intelig\xeancia e efici\xeancia."})]}),(0,q.jsxs)("div",{className:"flex gap-5 mb-4 border-b border-brand-light",children:[(0,q.jsx)("button",{onClick:()=>{d("login"),h(null)},className:`pb-3 text-sm font-bold transition-colors ${"login"===c?"text-brand-accent border-b-2 border-brand-accent -mb-px":"text-brand-midGray hover:text-brand-dark"}`,children:"Entrar"}),(0,q.jsx)("button",{onClick:()=>{d("register"),h(null)},className:`pb-3 text-sm font-bold transition-colors ${"register"===c?"text-brand-accent border-b-2 border-brand-accent -mb-px":"text-brand-midGray hover:text-brand-dark"}`,children:"Cadastro"})]}),g&&(0,q.jsxs)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2 text-red-600 text-xs font-medium",children:[(0,q.jsx)(pd,{size:16,className:"flex-shrink-0 mt-0.5"}),(0,q.jsx)("span",{children:g})]}),(0,q.jsxs)("form",{onSubmit:o,className:"space-y-3",children:["register"===c&&(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"text-[11px] font-bold text-brand-dark uppercase tracking-wider mb-1.5 block",children:"Nome Completo"}),(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)(y,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-brand-midGray",size:18}),(0,q.jsx)("input",{required:!0,placeholder:"Jo\xe3o Silva",value:m.name,onChange:a=>n({...m,name:a.target.value}),className:"w-full pl-12 pr-4 py-2.5 bg-white border border-brand-light rounded-lg outline-none focus:ring-2 focus:ring-brand-accent focus:border-brand-accent font-medium text-xs transition-all placeholder:text-brand-midGray/50"})]})]}),"register"===c&&(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"text-[11px] font-bold text-brand-dark uppercase tracking-wider mb-1.5 block",children:"Tipo de Conta"}),(0,q.jsxs)("select",{value:m.role,onChange:a=>n({...m,role:a.target.value}),className:"w-full px-4 py-2.5 bg-white border border-brand-light rounded-lg outline-none focus:ring-2 focus:ring-brand-accent focus:border-brand-accent font-medium text-xs appearance-none transition-all cursor-pointer text-brand-dark",children:[(0,q.jsx)("option",{value:v.CUSTOMER,children:"Cliente"}),(0,q.jsx)("option",{value:v.BARBER,children:"Barbeiro (Equipe)"}),(0,q.jsx)("option",{value:v.OWNER,children:"Dono (Criar Barbearia)"})]})]}),"register"===c&&m.role===v.OWNER&&(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"text-[11px] font-bold text-brand-dark uppercase tracking-wider mb-1.5 block",children:"Nome da Barbearia"}),(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)(I,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-brand-midGray",size:18}),(0,q.jsx)("input",{required:!0,placeholder:"Minha Barbearia",value:m.shopName,onChange:a=>n({...m,shopName:a.target.value}),className:"w-full pl-12 pr-4 py-2.5 bg-white border border-brand-light rounded-lg outline-none focus:ring-2 focus:ring-brand-accent focus:border-brand-accent font-medium text-xs text-brand-dark transition-all placeholder:text-brand-midGray/50"})]})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"text-[11px] font-bold text-brand-dark uppercase tracking-wider mb-1.5 block",children:"Email"}),(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)(sX,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-brand-midGray",size:18}),(0,q.jsx)("input",{required:!0,type:"email",placeholder:"seu@email.com",value:m.email,onChange:a=>{var b;n({...m,email:a.target.value}),l((b=a.target.value,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b)))},className:"w-full pl-12 pr-12 py-2.5 bg-white border border-brand-light rounded-lg outline-none focus:ring-2 focus:ring-brand-accent focus:bg-white font-medium text-xs transition-all placeholder:text-brand-midGray/50"}),k&&(0,q.jsx)(pM,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-emerald-500",size:20,strokeWidth:3})]})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"text-[11px] font-bold text-brand-dark uppercase tracking-wider mb-1.5 block",children:"Senha"}),(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)(sY,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-brand-midGray",size:18}),(0,q.jsx)("input",{required:!0,type:i?"text":"password",placeholder:"",value:m.password,onChange:a=>n({...m,password:a.target.value}),className:"w-full pl-12 pr-12 py-2.5 bg-white border border-brand-light rounded-lg outline-none focus:ring-2 focus:ring-brand-accent focus:bg-white font-medium text-xs transition-all placeholder:text-brand-midGray/50"}),(0,q.jsx)("button",{type:"button",onClick:()=>j(!i),className:"absolute right-4 top-1/2 -translate-y-1/2 text-brand-midGray hover:text-brand-dark transition-colors",children:i?(0,q.jsx)(sZ,{size:16}):(0,q.jsx)(s$,{size:16})})]})]}),(0,q.jsxs)("button",{disabled:e||"register"===c&&!k,type:"submit",className:"w-full bg-brand-accent hover:bg-blue-600 disabled:bg-brand-light text-white font-bold py-2.5 rounded-lg shadow-lg hover:shadow-xl transition-all active:scale-95 flex items-center justify-center gap-2 text-sm disabled:cursor-not-allowed mt-1",children:[e?(0,q.jsx)(pN,{className:"animate-spin",size:18}):null,"login"===c?"Entrar":"Criar Conta"]})]}),(0,q.jsxs)("div",{className:"flex items-center gap-3 my-3",children:[(0,q.jsx)("div",{className:"flex-1 h-px bg-brand-light"}),(0,q.jsx)("span",{className:"text-[11px] text-brand-midGray font-medium",children:"OU"}),(0,q.jsx)("div",{className:"flex-1 h-px bg-brand-light"})]}),(0,q.jsx)("div",{className:"grid grid-cols-1 gap-2",children:(0,q.jsxs)("button",{className:"flex items-center justify-center gap-2 py-2 px-4 border-2 border-brand-light rounded-lg hover:border-brand-accent hover:bg-brand-gray transition-all font-medium text-xs text-brand-dark",children:[(0,q.jsx)(s_,{size:16}),(0,q.jsx)("span",{children:"Continuar com Google"})]})}),(0,q.jsx)("div",{className:"mt-3 text-center",children:(0,q.jsxs)("span",{className:"text-xs text-brand-midGray",children:["login"===c?"N\xe3o tem uma conta? ":"J\xe1 tem uma conta? ",(0,q.jsx)("button",{onClick:()=>{d("login"===c?"register":"login"),h(null)},className:"font-bold text-brand-accent hover:text-blue-600 transition-colors",children:"login"===c?"Cadastre-se":"Entre"})]})}),(0,q.jsx)("button",{onClick:b,className:"mt-3 w-full py-2 border-2 border-dashed border-brand-light text-brand-midGray font-bold rounded-lg hover:border-brand-accent hover:text-brand-accent transition-all text-xs",children:"Continuar como Convidado"}),(0,q.jsxs)("div",{className:"text-center text-[10px] text-brand-midGray space-y-0.5 mt-3",children:[(0,q.jsx)("p",{children:"Ao fazer login, voc\xea concorda com nossos"}),(0,q.jsxs)("div",{className:"flex justify-center gap-3",children:[(0,q.jsx)("a",{href:"#",className:"hover:text-brand-accent transition-colors",children:"Termos de Servi\xe7o"}),(0,q.jsx)("span",{children:""}),(0,q.jsx)("a",{href:"#",className:"hover:text-brand-accent transition-colors",children:"Pol\xedtica de Privacidade"})]})]})]})})]})})},s1=x("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),s2=x("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),s3=x("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),s4=async(a,b)=>{try{await new Promise(a=>setTimeout(a,800));let c=a[a.length-1]?.text?.toLowerCase()||"";if(b?.role===v.OWNER){if(c.includes("faturamento")||c.includes("receita")||c.includes("lucro"))return"Analisando seus dados: o faturamento mensal esta em R$ 15.450, com ticket medio de R$ 66. Recomendo focar em upsell de combos para aumentar o ticket medio em pelo menos 15%.";if(c.includes("equipe")||c.includes("barbeiro"))return"Sua equipe tem 2 barbeiros ativos. Para otimizar a agenda, considere definir horarios de pico e distribuir os agendamentos de forma equilibrada.";return"Como consultor de negocios da Barvo, posso ajudar com analise de faturamento, gestao de equipe, estrategias de crescimento e otimizacao de servicos. O que gostaria de explorar?"}if(b?.role===v.BARBER){if(c.includes("venda")||c.includes("produto"))return"Dica de venda: apos o corte, mostre o resultado usando a pomada matte. Clientes que experimentam tem 3x mais chance de comprar. Ofereca com naturalidade!";return"Estou aqui para ajudar com tecnicas de atendimento, dicas de venda e fidelizacao de clientes. Manda sua duvida!"}if(c.includes("horario")||c.includes("agendar")||c.includes("marcar"))return"Voce pode agendar diretamente pela aba 'Reservar' no menu. Temos horarios disponiveis todos os dias uteis das 09:00 as 20:00!";if(c.includes("preco")||c.includes("valor")||c.includes("quanto"))return"Nossos precos: Corte R$ 50, Barba R$ 40, Combo (Corte + Barba) R$ 80 e Pezinho R$ 20. Confira todos os servicos na aba Reservar!";return"Ola! Sou o assistente da Barvo. Posso ajudar com informacoes sobre servicos, precos e agendamentos. Como posso te ajudar?"}catch(a){return console.error("Chat Service Error:",a),"Estou com dificuldades no momento. Tente novamente em instantes."}},s5=({currentUser:a})=>{let[b,c]=(0,r.useState)(!1),[d,e]=(0,r.useState)([]),[f,g]=(0,r.useState)(""),[h,i]=(0,r.useState)(!1),j=(0,r.useRef)(null);(0,r.useEffect)(()=>{let b="Fala, parceiro! \uD83D\uDC4A Sou o assistente da Barvo. Como posso te ajudar hoje? \uD83D\uDC88\uD83D\uDD25";a?.role===v.OWNER?b=`Ol\xe1, Comandante ${a.name.split(" ")[0]}!  Estou pronto para te ajudar com insights de gest\xe3o, an\xe1lise de lucros e estrat\xe9gias para a Barvo crescer. O que vamos analisar hoje?`:a?.role===v.BARBER&&(b=`E a\xed, fera!  Bora turbinar sua agenda? Posso criar legendas pro seu Insta, te ajudar a vender mais produtos ou sugerir como abordar aquele cliente dif\xedcil. Manda a braba!`),e(a=>0===a.length?[{role:"assistant",text:b}]:a)},[a]),(0,r.useEffect)(()=>{j.current&&(j.current.scrollTop=j.current.scrollHeight)},[d,b]);let k=async()=>{if(!f.trim()||h)return;g("");let b=[...d,{role:"user",text:f}];e(b),i(!0);try{let c=await s4(b,a);e(a=>[...a,{role:"assistant",text:c}])}catch(a){e(a=>[...a,{role:"assistant",text:"Desculpe, tive um problema de conex\xe3o. Tente novamente."}])}finally{i(!1)}};return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)("button",{onClick:()=>c(!b),className:`fixed bottom-6 right-6 p-4 rounded-full shadow-lg z-50 transition-all transform hover:scale-110 flex items-center justify-center ${b?"bg-red-500 rotate-90":"bg-brand-dark hover:bg-brand-dark/90"}`,children:b?(0,q.jsx)(R,{color:"white"}):(0,q.jsx)(s1,{color:"white"})}),b&&(0,q.jsxs)("div",{className:"fixed bottom-24 right-6 w-80 md:w-96 bg-white rounded-2xl shadow-2xl border border-slate-200 z-50 flex flex-col overflow-hidden animate-fade-in h-[500px]",children:[(0,q.jsxs)("div",{className:"bg-brand-dark p-4 flex items-center gap-3",children:[(0,q.jsx)("div",{className:"p-2 bg-brand-light rounded-full",children:(0,q.jsx)(s2,{size:20,className:"text-brand-dark"})}),(0,q.jsxs)("div",{children:[(0,q.jsx)("h3",{className:"text-white font-bold",children:a?.role===v.OWNER?"Barvo Business AI":a?.role===v.BARBER?"Barvo Sales Mentor":"Suporte Barvo"}),(0,q.jsxs)("p",{className:"text-brand-gray/50 text-xs flex items-center gap-1",children:[(0,q.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full block"}),"Intelig\xeancia Artificial Ativa"]})]})]}),(0,q.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50",ref:j,children:[d.map((a,b)=>(0,q.jsxs)("div",{className:`flex gap-2 ${"user"===a.role?"flex-row-reverse":""}`,children:[(0,q.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${"user"===a.role?"bg-brand-light/30 text-brand-dark":"bg-brand-gray/10 text-brand-midGray"}`,children:"user"===a.role?(0,q.jsx)(y,{size:14}):(0,q.jsx)(s2,{size:14})}),(0,q.jsx)("div",{className:`p-3 rounded-2xl text-sm max-w-[80%] ${"user"===a.role?"bg-brand-dark text-white rounded-tr-none":"bg-white text-slate-700 shadow-sm border border-slate-100 rounded-tl-none"}`,children:a.text})]},b)),h&&(0,q.jsxs)("div",{className:"flex gap-2",children:[(0,q.jsx)("div",{className:"w-8 h-8 rounded-full bg-brand-gray/10 flex items-center justify-center text-brand-midGray",children:(0,q.jsx)(s2,{size:14})}),(0,q.jsxs)("div",{className:"bg-white p-3 rounded-2xl rounded-tl-none border border-slate-100 shadow-sm flex gap-1 items-center",children:[(0,q.jsx)("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce"}),(0,q.jsx)("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce delay-75"}),(0,q.jsx)("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce delay-150"})]})]})]}),(0,q.jsxs)("div",{className:"p-3 bg-white border-t border-slate-100 flex gap-2",children:[(0,q.jsx)("input",{type:"text",className:"flex-1 bg-slate-100 border-none rounded-full px-4 text-sm focus:ring-2 focus:ring-brand-light outline-none",placeholder:"Pergunte qualquer coisa...",value:f,onChange:a=>g(a.target.value),onKeyDown:a=>{"Enter"===a.key&&k()}}),(0,q.jsx)("button",{onClick:k,disabled:!f.trim()||h,className:"p-3 bg-brand-dark rounded-full text-white hover:bg-brand-dark/90 disabled:opacity-50 transition-colors",children:(0,q.jsx)(s3,{size:18})})]})]})]})},s6=x("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),s7=x("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),s8=x("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),s9=({currentUser:a,appointments:b,commissionRate:c,onCompleteAppointment:d,onNoShow:e,services:f,exceptions:g,onBlockTime:h})=>{let[i,j]=(0,r.useState)(!1),k=new Date().toISOString().split("T")[0],l=b.filter(b=>b.barberId===a.id).filter(a=>new Date(a.startTime).toISOString().split("T")[0]===k&&"CANCELLED"!==a.status).sort((a,b)=>new Date(a.startTime).getTime()-new Date(b.startTime).getTime()),m=l.filter(a=>"COMPLETED"===a.status).reduce((a,b)=>{if("CANCELLED"===b.status)return a;let d=f.find(a=>a.id===b.serviceId);return a+(d?.price||0)*(c/100)},0);return(0,q.jsxs)("div",{className:"space-y-6 pb-6",children:[(0,q.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-3 border-b border-slate-100 pb-4",children:[(0,q.jsxs)("div",{children:[(0,q.jsxs)("div",{className:"flex items-center gap-2 mb-0.5",children:[(0,q.jsxs)("h2",{className:"text-xl md:text-2xl font-black text-brand-black tracking-tight",children:["Ol\xe1, ",a.name.split(" ")[0],"!"]}),(0,q.jsxs)("div",{className:"bg-amber-100 text-amber-700 px-2 py-0.5 rounded-md text-[9px] font-black uppercase tracking-widest flex items-center gap-1",children:[(0,q.jsx)(s6,{size:10})," Pro"]})]}),(0,q.jsx)("p",{className:"text-brand-midGray text-xs font-medium",children:"Bora dar aquele talento nos clientes de hoje? "})]}),(0,q.jsxs)("button",{onClick:()=>j(!i),className:`w-full md:w-auto flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-bold text-xs transition-all active:scale-95 ${i?"bg-brand-dark text-white":"bg-white text-slate-700 border border-slate-200"}`,children:[(0,q.jsx)(s7,{size:16})," ",i?"Ver Agenda":"Bloquear Hor\xe1rio"]})]}),(0,q.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,q.jsxs)("div",{className:"bg-brand-dark p-5 rounded-2xl shadow-md relative overflow-hidden",children:[(0,q.jsx)("p",{className:"text-brand-light/60 text-[9px] font-bold uppercase tracking-widest mb-1",children:"Comiss\xe3o Hoje"}),(0,q.jsxs)("div",{className:"flex items-baseline gap-1 text-white",children:[(0,q.jsx)("span",{className:"font-bold text-sm opacity-40",children:"R$"}),(0,q.jsx)("h3",{className:"text-2xl md:text-3xl font-black tracking-tighter",children:m.toFixed(2)})]})]}),(0,q.jsxs)("div",{className:"bg-white p-5 rounded-2xl border border-slate-100 shadow-sm",children:[(0,q.jsx)("p",{className:"text-slate-400 text-[9px] font-bold uppercase tracking-widest mb-1",children:"Cortes Hoje"}),(0,q.jsx)("h3",{className:"text-xl md:text-2xl font-black text-brand-black tracking-tighter",children:l.length})]}),(0,q.jsxs)("div",{className:"hidden md:block bg-white p-5 rounded-2xl border border-slate-100 shadow-sm",children:[(0,q.jsx)("p",{className:"text-slate-400 text-[9px] font-bold uppercase tracking-widest mb-1",children:"Meta Batida"}),(0,q.jsx)("div",{className:"h-1.5 w-full bg-slate-100 rounded-full mt-2",children:(0,q.jsx)("div",{className:"h-full bg-emerald-500 rounded-full w-[65%]"})})]})]}),i?(0,q.jsxs)("div",{className:"bg-white p-5 md:p-6 rounded-2xl border border-slate-100 shadow-sm animate-fade-in",children:[(0,q.jsxs)("h3",{className:"text-sm font-bold text-brand-black uppercase tracking-wider mb-4 flex items-center gap-2",children:[(0,q.jsx)(s7,{size:18,className:"text-red-500"})," Bloquear Hor\xe1rios"]}),(0,q.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2",children:["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00"].map(b=>{let c=g.some(c=>c.barberId===a.id&&c.startTime===b&&c.date===k);return(0,q.jsx)("button",{disabled:c,onClick:()=>h(a.id,k,b),className:`p-3 border rounded-lg font-bold text-xs active:scale-95 transition-all ${c?"bg-red-50 text-red-200 border-red-50 cursor-not-allowed":"bg-slate-50 text-slate-600 border-transparent hover:border-brand-dark"}`,children:b},b)})})]}):(0,q.jsxs)("div",{className:"space-y-4",children:[(0,q.jsxs)("h3",{className:"text-sm font-bold text-brand-black uppercase tracking-wider flex items-center gap-2 px-1",children:[(0,q.jsx)(B,{size:18,className:"text-brand-dark"})," Pr\xf3ximos Atendimentos"]}),(0,q.jsx)("div",{className:"grid gap-3",children:l.length>0?l.map(a=>{let b=f.find(b=>b.id===a.serviceId),c="COMPLETED"===a.status,e=new Date(a.startTime).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});return(0,q.jsx)("div",{className:`bg-white p-3 md:p-4 rounded-xl border transition-all ${c?"opacity-50 grayscale bg-slate-50":"hover:shadow-md border-slate-100"}`,children:(0,q.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-3",children:[(0,q.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,q.jsxs)("div",{className:`w-12 h-12 rounded-lg flex flex-col items-center justify-center font-bold text-sm shadow-inner ${c?"bg-slate-200 text-slate-400":"bg-brand-dark text-brand-light"}`,children:[(0,q.jsx)("span",{className:"text-[7px] uppercase opacity-50 tracking-tighter",children:"Hora"}),e]}),(0,q.jsxs)("div",{className:"space-y-0.5",children:[(0,q.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,q.jsx)("h4",{className:"font-bold text-brand-black text-sm md:text-base tracking-tight",children:a.customerName}),a.customerId.startsWith("c")&&(0,q.jsx)(s8,{size:12,className:"text-amber-500 fill-amber-500"})]}),(0,q.jsxs)("div",{className:"flex items-center gap-2 text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:[(0,q.jsx)("span",{children:b?.name}),(0,q.jsx)("span",{className:"w-1 h-1 bg-slate-300 rounded-full"}),(0,q.jsxs)("span",{children:[b?.durationMinutes," min"]})]})]})]}),(0,q.jsx)("div",{className:"w-full md:w-auto flex gap-2",children:c?(0,q.jsxs)("div",{className:"flex-1 md:flex-none flex items-center justify-center gap-1.5 text-emerald-600 font-bold bg-emerald-50 px-3 py-2 rounded-lg text-[10px] uppercase border border-emerald-100",children:[(0,q.jsx)(pp,{size:14})," Feito"]}):(0,q.jsx)("button",{onClick:()=>d(a.id),className:"flex-1 md:flex-none bg-brand-dark text-white px-5 py-2 rounded-lg font-bold text-[10px] uppercase tracking-widest active:scale-95 transition-all shadow-md",children:"Concluir"})})]})},a.id)}):(0,q.jsx)("div",{className:"text-center py-10 bg-white rounded-2xl border border-dashed border-slate-200",children:(0,q.jsx)("p",{className:"text-slate-400 text-sm font-medium",children:"Sem agendamentos para agora."})})})]})]})},ta=x("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),tb=x("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),tc=({currentUser:a,appointments:b,onNavigate:c,membershipPlans:d})=>{let e=a.points||0,f=[{id:"r1",name:"50% de Desconto na Barba",pts:150,icon:(0,q.jsx)(ta,{className:"text-amber-500"})},{id:"r2",name:"Pomada Barvo Matte",pts:200,icon:(0,q.jsx)(N,{className:"text-blue-500"})},{id:"r3",name:"Corte de Cabelo Gr\xe1tis",pts:350,icon:(0,q.jsx)(pb,{className:"text-emerald-500"})}],g=f.find(a=>a.pts>e)||f[f.length-1],h=Math.min(e/g.pts*100,100),i=b.filter(b=>b.customerId===a.id&&"CONFIRMED"===b.status&&new Date(b.startTime)>new Date).sort((a,b)=>new Date(a.startTime).getTime()-new Date(b.startTime).getTime())[0],j=e/pr.DISCOUNT_CONVERSION_RATE;return(0,q.jsxs)("div",{className:"space-y-8 animate-fade-in pb-10",children:[(0,q.jsx)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:(0,q.jsxs)("div",{children:[(0,q.jsxs)("h2",{className:"text-3xl font-bold text-brand-dark tracking-tight",children:["Ol\xe1, ",a.name.split(" ")[0],"! \uD83D\uDC4B"]}),(0,q.jsx)("p",{className:"text-brand-midGray mt-1 font-medium",children:"Bem-vindo de volta \xe0 sua barbearia favorita."})]})}),(0,q.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,q.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,q.jsxs)("div",{className:"bg-brand-dark text-white p-8 rounded-[2.5rem] shadow-2xl relative overflow-hidden group",children:[(0,q.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-brand-light/10 rounded-full blur-[80px] -mr-20 -mt-20 transition-transform group-hover:scale-110"}),(0,q.jsxs)("div",{className:"relative z-10",children:[(0,q.jsxs)("div",{className:"flex justify-between items-start mb-10",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("p",{className:"text-brand-light/60 text-xs font-bold uppercase tracking-widest mb-2",children:"Seu Saldo Fidelidade"}),(0,q.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,q.jsx)("h3",{className:"text-6xl font-black tracking-tighter",children:e}),(0,q.jsx)("span",{className:"text-xl font-bold text-brand-light",children:"pts"})]})]}),(0,q.jsx)("div",{className:"bg-white/10 p-4 rounded-3xl backdrop-blur-md border border-white/10",children:(0,q.jsx)(pS,{size:32,className:"text-brand-light"})})]}),(0,q.jsxs)("div",{className:"space-y-3",children:[(0,q.jsxs)("div",{className:"flex justify-between items-end text-sm",children:[(0,q.jsxs)("span",{className:"font-bold text-brand-light/80",children:["Progresso para: ",(0,q.jsx)("span",{className:"text-white",children:g.name})]}),(0,q.jsxs)("span",{className:"font-black",children:[e,"/",g.pts]})]}),(0,q.jsx)("div",{className:"h-4 bg-white/10 rounded-full p-1 border border-white/5",children:(0,q.jsx)("div",{className:"h-full bg-gradient-to-r from-brand-light to-white rounded-full transition-all duration-1000 ease-out shadow-[0_0_15px_rgba(184,208,217,0.5)]",style:{width:`${h}%`}})})]})]})]}),(0,q.jsxs)("div",{className:"space-y-6",children:[(0,q.jsxs)("div",{className:"flex justify-between items-center px-2",children:[(0,q.jsxs)("h4",{className:"text-xl font-bold text-brand-dark flex items-center gap-2",children:[(0,q.jsx)(s8,{size:22,className:"text-amber-500 fill-amber-500"})," Barvo Club"]}),(0,q.jsx)("span",{className:"text-[10px] font-black bg-amber-100 text-amber-700 px-3 py-1 rounded-full uppercase tracking-widest",children:"Premium"})]}),(0,q.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.map(a=>(0,q.jsxs)("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-md transition-all relative overflow-hidden group",children:[(0,q.jsx)("div",{className:"absolute top-0 right-0 w-20 h-20 bg-brand-light/10 rounded-full blur-2xl -mr-8 -mt-8"}),(0,q.jsxs)("div",{className:"relative z-10",children:[(0,q.jsx)("h5",{className:"font-black text-brand-dark text-lg leading-tight mb-1",children:a.name}),(0,q.jsx)("p",{className:"text-xs text-slate-400 font-bold mb-4 uppercase",children:0===a.servicesPerMonth?"Ilimitado":`${a.servicesPerMonth}x servi\xe7os /m\xeas`}),(0,q.jsxs)("div",{className:"flex items-baseline gap-1 mb-6",children:[(0,q.jsx)("span",{className:"text-xs font-bold text-slate-400",children:"R$"}),(0,q.jsx)("span",{className:"text-3xl font-black text-brand-dark",children:a.price.toFixed(2)})]}),(0,q.jsx)("button",{className:"w-full py-3 bg-brand-dark text-white rounded-xl text-xs font-bold hover:bg-black transition-all",children:"Assinar Clube"})]})]},a.id))})]})]}),(0,q.jsxs)("div",{className:"space-y-6",children:[(0,q.jsxs)("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:[(0,q.jsxs)("h4",{className:"font-bold text-brand-dark mb-4 flex items-center gap-2",children:[(0,q.jsx)(B,{size:18,className:"text-blue-500"})," Pr\xf3ximo Corte"]}),i?(0,q.jsxs)("div",{className:"space-y-4",children:[(0,q.jsxs)("div",{className:"flex gap-4",children:[(0,q.jsx)("div",{className:"w-12 h-12 bg-slate-100 rounded-2xl flex items-center justify-center flex-shrink-0",children:(0,q.jsx)(G,{size:20,className:"text-slate-500"})}),(0,q.jsxs)("div",{children:[(0,q.jsx)("p",{className:"font-bold text-brand-dark text-sm leading-tight",children:pw.find(a=>a.id===i.serviceId)?.name}),(0,q.jsxs)("p",{className:"text-xs text-brand-midGray font-medium mt-1",children:[new Date(i.startTime).toLocaleDateString("pt-BR",{weekday:"long",day:"2-digit",month:"long"})," \xe0s ",new Date(i.startTime).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]})]}),(0,q.jsx)("button",{onClick:()=>c("appointments"),className:"w-full py-3 bg-slate-100 text-slate-600 rounded-2xl text-xs font-bold hover:bg-slate-200 transition-all",children:"Ver detalhes"})]}):(0,q.jsxs)("div",{className:"text-center py-4",children:[(0,q.jsx)("p",{className:"text-xs text-slate-400 font-medium mb-4",children:"Voc\xea n\xe3o tem agendamentos futuros."}),(0,q.jsx)("button",{onClick:()=>c("booking"),className:"w-full py-3 bg-brand-dark text-white rounded-2xl text-xs font-bold hover:bg-black transition-all shadow-lg shadow-brand-dark/20",children:"Agendar Agora"})]})]}),(0,q.jsxs)("div",{className:"bg-gradient-to-br from-emerald-500 to-emerald-700 p-6 rounded-[2rem] text-white shadow-xl relative overflow-hidden",children:[(0,q.jsx)(tb,{size:80,className:"absolute -bottom-6 -right-6 text-white/10 transform -rotate-12"}),(0,q.jsx)("p",{className:"text-[10px] font-bold uppercase tracking-widest opacity-80 mb-1",children:"Desconto Acumulado"}),(0,q.jsxs)("h4",{className:"text-3xl font-black mb-4",children:["R$ ",j.toFixed(2)]}),(0,q.jsx)("p",{className:"text-xs font-medium leading-relaxed opacity-90 mb-6",children:"Voc\xea pode usar esse valor como desconto em qualquer servi\xe7o ou produto da nossa loja."}),(0,q.jsxs)("button",{onClick:()=>c("shop"),className:"w-full py-3 bg-white text-emerald-700 rounded-2xl text-xs font-bold hover:bg-emerald-50 transition-all flex items-center justify-center gap-2",children:["Ir para a Loja ",(0,q.jsx)(N,{size:14})]})]})]})]})]})},td=x("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),te=x("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),tf=x("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),tg=x("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),th=x("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ti=x("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),tj=({currentUser:a,appointments:b,onRebook:c,onCancel:d,onNavigate:e,services:f})=>{let[g,h]=(0,r.useState)("upcoming"),[i,j]=(0,r.useState)(null),[k,l]=(0,r.useState)(null),[m,n]=(0,r.useState)(null),[o,p]=(0,r.useState)(null),[s,t]=(0,r.useState)(null);(0,r.useEffect)(()=>{let a=()=>t(null);return s&&document.addEventListener("click",a),()=>document.removeEventListener("click",a)},[s]);let u=new Date,v=b.filter(b=>b.customerId===a.id),w=v.filter(a=>new Date(a.startTime)>u&&"CANCELLED"!==a.status&&"COMPLETED"!==a.status).sort((a,b)=>new Date(a.startTime).getTime()-new Date(b.startTime).getTime()),x=v.filter(a=>new Date(a.startTime)<=u||"COMPLETED"===a.status||"CANCELLED"===a.status).sort((a,b)=>new Date(b.startTime).getTime()-new Date(a.startTime).getTime()),y=(a,b)=>"CANCELLED"===a.status?{label:"Cancelado",classes:"bg-red-100 text-red-700"}:"COMPLETED"===a.status?{label:"Conclu\xeddo",classes:"bg-emerald-100 text-emerald-700"}:b?{label:"Ausente / Pendente",classes:"bg-amber-100 text-amber-700"}:{label:"Confirmado",classes:"bg-blue-100 text-blue-700"},A=(a,b)=>{let d=f.find(b=>b.id===a.serviceId),e=pv.find(b=>b.id===a.barberId),g=new Date(a.startTime);g.toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"});let h=g.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),i=y(a,b);return(0,q.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm p-6 flex flex-col md:flex-row items-center gap-6 transition-all hover:shadow-md group relative",children:[(0,q.jsx)("div",{className:`absolute left-0 top-0 bottom-0 w-1 rounded-l-2xl ${"CANCELLED"===a.status?"bg-red-400":"COMPLETED"===a.status?"bg-emerald-400":"bg-blue-400"}`}),(0,q.jsxs)("div",{className:"absolute top-4 right-4 z-20",children:[(0,q.jsx)("button",{onClick:b=>((a,b)=>{a.stopPropagation(),t(s===b?null:b)})(b,a.id),className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-full transition-colors",children:(0,q.jsx)(td,{size:20})}),s===a.id&&(0,q.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden animate-fade-in origin-top-right",children:(0,q.jsxs)("div",{className:"py-1",children:[(0,q.jsxs)("button",{onClick:()=>n(a),className:"w-full text-left px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 flex items-center gap-2",children:[(0,q.jsx)(te,{size:16,className:"text-slate-400"})," Ver Detalhes"]}),b?(0,q.jsxs)("button",{onClick:()=>c(a),className:"w-full text-left px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 flex items-center gap-2",children:[(0,q.jsx)(tf,{size:16,className:"text-blue-500"})," Agendar Novamente"]}):(0,q.jsxs)("button",{onClick:()=>l(a),className:"w-full text-left px-4 py-3 text-sm text-slate-700 hover:bg-slate-50 flex items-center gap-2",children:[(0,q.jsx)(pl,{size:16,className:"text-blue-500"})," Remarcar"]}),!b&&"CANCELLED"!==a.status&&(0,q.jsxs)("button",{onClick:()=>j(a.id),className:"w-full text-left px-4 py-3 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2 border-t border-slate-50",children:[(0,q.jsx)(tg,{size:16})," Cancelar"]})]})})]}),(0,q.jsxs)("div",{className:`
                flex-shrink-0 w-full md:w-24 h-24 rounded-2xl flex flex-col items-center justify-center border transition-colors
                ${b?"bg-slate-50 border-slate-200 text-slate-400":"bg-blue-50 border-blue-100 text-blue-600 group-hover:bg-blue-100"}
            `,children:[(0,q.jsx)("span",{className:"text-2xl font-bold",children:g.getDate()}),(0,q.jsx)("span",{className:"text-xs uppercase font-bold",children:g.toLocaleDateString("pt-BR",{month:"short"})}),(0,q.jsx)("span",{className:"text-sm mt-1",children:h})]}),(0,q.jsxs)("div",{className:"flex-1 w-full text-center md:text-left",children:[(0,q.jsxs)("div",{className:"flex items-center justify-center md:justify-start gap-3 mb-2",children:[(0,q.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:d?.name}),(0,q.jsx)("span",{className:`text-[10px] font-bold px-2 py-1 rounded uppercase tracking-wide ${i.classes}`,children:i.label})]}),(0,q.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-center md:justify-start gap-2 md:gap-6 text-sm text-slate-500 mb-4",children:[(0,q.jsxs)("div",{className:"flex items-center gap-2 bg-slate-50 px-3 py-1 rounded-full border border-slate-100",children:[(0,q.jsx)(z,{url:e?.avatar,name:e?.name,size:"sm",className:"-m-2 w-5 h-5 rounded-full"}),(0,q.jsx)("span",{className:"font-medium",children:e?.name})]}),(0,q.jsxs)("div",{className:"flex items-center gap-1",children:[(0,q.jsx)(C,{size:14})," ",(0,q.jsxs)("span",{children:[d?.durationMinutes," min"]})]})]}),b?(0,q.jsx)("div",{className:"flex gap-3 justify-center md:justify-start",children:(0,q.jsxs)("button",{onClick:()=>c(a),className:"px-4 py-2 text-sm font-bold text-blue-600 bg-blue-50 border border-blue-100 rounded-lg hover:bg-blue-100 transition-colors flex items-center gap-2",children:[(0,q.jsx)(tf,{size:16})," Agendar Novamente"]})}):(0,q.jsx)("div",{className:"flex gap-3 justify-center md:justify-start",children:(0,q.jsxs)("button",{onClick:()=>l(a),className:"px-4 py-2 text-sm font-bold text-white bg-slate-900 rounded-lg hover:bg-slate-800 transition-colors flex items-center gap-2 shadow-lg shadow-slate-900/10",children:[(0,q.jsx)(pl,{size:16})," Remarcar"]})})]}),(0,q.jsxs)("div",{className:"text-right hidden md:block mr-8",children:[(0,q.jsxs)("p",{className:"text-xl font-bold text-slate-900",children:["R$ ",Number(d?.price||0).toFixed(2)]}),b&&"COMPLETED"===a.status&&(0,q.jsx)("div",{className:"text-xs text-emerald-600 font-bold mt-1 bg-emerald-50 px-2 py-1 rounded-full inline-block",children:"+10 pts"})]})]},a.id)};return(0,q.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8 animate-fade-in pb-10 relative",children:[o&&(0,q.jsxs)("div",{className:"fixed top-6 left-1/2 -translate-x-1/2 bg-slate-900 text-white px-6 py-3 rounded-xl shadow-2xl z-50 flex items-center gap-2 animate-fade-in",children:[(0,q.jsx)("div",{className:"w-5 h-5 bg-emerald-500 rounded-full flex items-center justify-center",children:(0,q.jsx)(pM,{size:12,strokeWidth:4})}),o]}),i&&(0,q.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm p-4 animate-fade-in",children:(0,q.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full p-6 transform scale-100",children:[(0,q.jsx)("div",{className:"w-12 h-12 bg-red-100 text-red-600 rounded-full flex items-center justify-center mb-4 mx-auto",children:(0,q.jsx)(th,{size:24})}),(0,q.jsx)("h3",{className:"text-xl font-bold text-slate-800 text-center mb-2",children:"Cancelar Agendamento?"}),(0,q.jsx)("p",{className:"text-slate-500 text-center text-sm mb-6",children:"Tem certeza? O hor\xe1rio ser\xe1 liberado para outros clientes. Essa a\xe7\xe3o n\xe3o pode ser desfeita."}),(0,q.jsxs)("div",{className:"flex gap-3",children:[(0,q.jsx)("button",{onClick:()=>j(null),className:"flex-1 py-3 bg-slate-100 text-slate-700 font-bold rounded-xl hover:bg-slate-200 transition-colors",children:"N\xe3o, Voltar"}),(0,q.jsx)("button",{onClick:()=>{i&&(d(i),j(null),p("Agendamento cancelado com sucesso."),setTimeout(()=>p(null),3e3))},className:"flex-1 py-3 bg-red-600 text-white font-bold rounded-xl hover:bg-red-700 transition-colors shadow-lg shadow-red-500/20",children:"Sim, Cancelar"})]})]})}),k&&(0,q.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm p-4 animate-fade-in",children:(0,q.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-sm w-full p-6 transform scale-100",children:[(0,q.jsx)("div",{className:"w-12 h-12 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mb-4 mx-auto",children:(0,q.jsx)(pl,{size:24})}),(0,q.jsx)("h3",{className:"text-xl font-bold text-slate-800 text-center mb-2",children:"Remarcar Hor\xe1rio"}),(0,q.jsxs)("p",{className:"text-slate-500 text-center text-sm mb-6",children:["Para mudar o hor\xe1rio, precisamos ",(0,q.jsx)("b",{children:"cancelar o agendamento atual"})," e iniciar um novo. Deseja continuar?"]}),(0,q.jsxs)("div",{className:"flex gap-3",children:[(0,q.jsx)("button",{onClick:()=>l(null),className:"flex-1 py-3 bg-slate-100 text-slate-700 font-bold rounded-xl hover:bg-slate-200 transition-colors",children:"Voltar"}),(0,q.jsx)("button",{onClick:()=>{k&&(d(k.id),c(k),l(null))},className:"flex-1 py-3 bg-slate-900 text-white font-bold rounded-xl hover:bg-slate-800 transition-colors shadow-lg",children:"Continuar"})]})]})}),m&&(0,q.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm p-4 animate-fade-in",children:(0,q.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl max-w-sm w-full overflow-hidden transform scale-100",children:[(0,q.jsxs)("div",{className:"bg-slate-900 p-6 text-white relative",children:[(0,q.jsx)("button",{onClick:()=>n(null),className:"absolute top-4 right-4 p-1 hover:bg-white/10 rounded-full transition-colors",children:(0,q.jsx)(ti,{size:24})}),(0,q.jsx)("h3",{className:"text-xl font-bold",children:"Detalhes do Agendamento"}),(0,q.jsxs)("p",{className:"text-slate-400 text-sm opacity-80",children:["ID: #",m.id.toUpperCase()]})]}),(0,q.jsx)("div",{className:"p-6 space-y-6",children:(()=>{let a=f.find(a=>a.id===m.serviceId),b=pv.find(a=>a.id===m.barberId),d=new Date(m.startTime),e=y(m,!0);return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)("div",{className:"flex items-center gap-4",children:[(0,q.jsx)("div",{className:"w-12 h-12 bg-blue-50 text-blue-600 rounded-xl flex items-center justify-center",children:(0,q.jsx)(G,{size:24})}),(0,q.jsxs)("div",{children:[(0,q.jsx)("p",{className:"text-xs text-slate-400 font-bold uppercase",children:"Servi\xe7o"}),(0,q.jsx)("p",{className:"font-bold text-slate-800 text-lg",children:a?.name})]})]}),(0,q.jsxs)("div",{className:"flex items-center gap-4",children:[(0,q.jsx)(z,{url:b?.avatar,name:b?.name,size:"md"}),(0,q.jsxs)("div",{children:[(0,q.jsx)("p",{className:"text-xs text-slate-400 font-bold uppercase",children:"Profissional"}),(0,q.jsx)("p",{className:"font-bold text-slate-800 text-lg",children:b?.name})]})]}),(0,q.jsxs)("div",{className:"flex items-center gap-4",children:[(0,q.jsx)("div",{className:"w-12 h-12 bg-amber-50 text-amber-600 rounded-xl flex items-center justify-center",children:(0,q.jsx)(B,{size:24})}),(0,q.jsxs)("div",{children:[(0,q.jsx)("p",{className:"text-xs text-slate-400 font-bold uppercase",children:"Data e Hora"}),(0,q.jsxs)("p",{className:"font-bold text-slate-800 text-lg",children:[d.toLocaleDateString("pt-BR")," \xe0s ",d.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]})]}),(0,q.jsxs)("div",{className:"bg-slate-50 p-4 rounded-xl flex justify-between items-center border border-slate-100",children:[(0,q.jsx)("span",{className:"text-sm font-medium text-slate-500",children:"Status"}),(0,q.jsx)("span",{className:`text-xs font-bold px-2 py-1 rounded uppercase ${e.classes}`,children:e.label})]}),(0,q.jsxs)("div",{className:"pt-4 border-t border-slate-100 flex justify-between items-center",children:[(0,q.jsx)("p",{className:"font-bold text-slate-500",children:"Total"}),(0,q.jsxs)("p",{className:"font-bold text-2xl text-slate-900",children:["R$ ",Number(a?.price||0).toFixed(2)]})]}),(0,q.jsxs)("button",{onClick:()=>{n(null),c(m)},className:"w-full py-3 bg-slate-900 text-white font-bold rounded-xl hover:bg-slate-800 transition-colors flex items-center justify-center gap-2",children:[(0,q.jsx)(tf,{size:18})," Agendar Novamente"]})]})})()})]})}),(0,q.jsxs)("div",{className:"flex items-center justify-between",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("h2",{className:"text-3xl font-bold text-slate-800 tracking-tight",children:"Meus Agendamentos"}),(0,q.jsx)("p",{className:"text-slate-500 mt-1",children:"Gerencie suas visitas futuras e veja seu hist\xf3rico."})]}),(0,q.jsxs)("button",{onClick:()=>e("booking"),className:"hidden md:flex bg-slate-900 text-white px-5 py-2.5 rounded-xl font-bold hover:bg-slate-800 transition-colors items-center gap-2 shadow-lg hover:-translate-y-1",children:[(0,q.jsx)(pi,{size:18})," Novo Agendamento"]})]}),(0,q.jsxs)("div",{className:"flex gap-2 border-b border-slate-200",children:[(0,q.jsxs)("button",{onClick:()=>h("upcoming"),className:`pb-3 px-4 text-sm font-bold transition-all relative ${"upcoming"===g?"text-blue-600":"text-slate-500 hover:text-slate-700"}`,children:["Pr\xf3ximos (",w.length,")","upcoming"===g&&(0,q.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600 rounded-t-full"})]}),(0,q.jsxs)("button",{onClick:()=>h("history"),className:`pb-3 px-4 text-sm font-bold transition-all relative ${"history"===g?"text-blue-600":"text-slate-500 hover:text-slate-700"}`,children:["Hist\xf3rico (",x.length,")","history"===g&&(0,q.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600 rounded-t-full"})]})]}),(0,q.jsx)("div",{className:"space-y-4 min-h-[400px]",children:"upcoming"===g?w.length>0?w.map(a=>A(a,!1)):(0,q.jsxs)("div",{className:"text-center py-20 bg-white rounded-2xl border border-dashed border-slate-200",children:[(0,q.jsx)(B,{size:48,className:"mx-auto text-slate-300 mb-4"}),(0,q.jsx)("p",{className:"text-slate-500 font-medium mb-4",children:"Voc\xea n\xe3o tem agendamentos futuros."}),(0,q.jsxs)("button",{onClick:()=>e("booking"),className:"bg-slate-900 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-slate-800 transition-colors inline-flex items-center gap-2 shadow-lg hover:-translate-y-1",children:[(0,q.jsx)(pi,{size:18})," Agendar Agora"]})]}):x.length>0?x.map(a=>A(a,!0)):(0,q.jsxs)("div",{className:"text-center py-20 bg-white rounded-2xl border border-dashed border-slate-200",children:[(0,q.jsx)(C,{size:48,className:"mx-auto text-slate-300 mb-4"}),(0,q.jsx)("p",{className:"text-slate-500 font-medium",children:"Seu hist\xf3rico est\xe1 vazio."})]})})]})},tk=x("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),tl=x("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),tm=({services:a,onUpdateServices:b})=>{let[c,d]=(0,r.useState)(!1),[e,f]=(0,r.useState)(null),[g,h]=(0,r.useState)(""),[i,j]=(0,r.useState)({name:"",durationMinutes:30,price:0,cost:0,margin:0,description:""}),k=(a,b)=>{let c={...i,[a]:b};("price"===a||"cost"===a)&&(c.margin=((a,b)=>a&&0!==a?Math.round((a-b)/a*100):0)(Number(c.price),Number(c.cost))),j(c)},l=()=>{d(!1),f(null),j({name:"",durationMinutes:30,price:0,cost:0,margin:0,description:""})},m=a.filter(a=>a.name.toLowerCase().includes(g.toLowerCase())),n=a=>a<30?{text:"text-red-600",bg:"bg-red-50",border:"border-red-200"}:a<=50?{text:"text-amber-600",bg:"bg-amber-50",border:"border-amber-200"}:{text:"text-emerald-600",bg:"bg-emerald-50",border:"border-emerald-200"};return(0,q.jsxs)("div",{className:"space-y-6 animate-fade-in pb-10",children:[(0,q.jsxs)("div",{className:"flex justify-between items-center",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("h2",{className:"text-3xl font-bold text-brand-dark tracking-tight",children:"Servi\xe7os"}),(0,q.jsx)("p",{className:"text-brand-midGray mt-1 font-medium",children:"Configure seu cat\xe1logo e margens de lucro."})]}),(0,q.jsxs)("button",{onClick:()=>d(!0),className:"bg-brand-dark text-white px-5 py-2.5 rounded-xl font-bold hover:bg-black transition-all shadow-lg flex items-center gap-2",children:[(0,q.jsx)(pi,{size:18})," Novo Servi\xe7o"]})]}),(0,q.jsxs)("div",{className:"bg-white rounded-[2rem] border border-slate-100 shadow-sm overflow-hidden",children:[(0,q.jsxs)("div",{className:"p-4 border-b border-slate-100 flex items-center gap-2",children:[(0,q.jsx)(tk,{size:18,className:"text-slate-400 ml-2"}),(0,q.jsx)("input",{type:"text",placeholder:"Buscar servi\xe7o...",className:"flex-1 border-none focus:ring-0 text-sm outline-none",value:g,onChange:a=>h(a.target.value)})]}),(0,q.jsx)("div",{className:"overflow-x-auto",children:(0,q.jsxs)("table",{className:"w-full text-left",children:[(0,q.jsx)("thead",{className:"bg-slate-50 text-slate-500 text-[10px] font-bold uppercase tracking-widest",children:(0,q.jsxs)("tr",{children:[(0,q.jsx)("th",{className:"px-6 py-4",children:"Nome / Descri\xe7\xe3o"}),(0,q.jsx)("th",{className:"px-6 py-4",children:"Dura\xe7\xe3o"}),(0,q.jsx)("th",{className:"px-6 py-4",children:"Pre\xe7o (R$)"}),(0,q.jsx)("th",{className:"px-6 py-4",children:"Margem"}),(0,q.jsx)("th",{className:"px-6 py-4 text-right",children:"A\xe7\xf5es"})]})}),(0,q.jsx)("tbody",{className:"divide-y divide-slate-100",children:m.map(c=>{let e=n(c.margin);return(0,q.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors group",children:[(0,q.jsxs)("td",{className:"px-6 py-4",children:[(0,q.jsx)("p",{className:"font-bold text-brand-dark text-sm",children:c.name}),(0,q.jsx)("p",{className:"text-xs text-slate-400 line-clamp-1",children:c.description})]}),(0,q.jsx)("td",{className:"px-6 py-4 text-slate-500 text-sm",children:(0,q.jsxs)("span",{className:"flex items-center gap-1",children:[(0,q.jsx)(C,{size:14})," ",c.durationMinutes," min"]})}),(0,q.jsxs)("td",{className:"px-6 py-4",children:[(0,q.jsxs)("p",{className:"font-bold text-brand-dark",children:["R$ ",Number(c.price).toFixed(2)]}),(0,q.jsxs)("p",{className:"text-[10px] text-slate-400",children:["Custo: R$ ",Number(c.cost).toFixed(2)]})]}),(0,q.jsx)("td",{className:"px-6 py-4",children:(0,q.jsxs)("span",{className:`px-2 py-1 rounded-lg text-xs font-bold ${e.bg} ${e.text}`,children:[c.margin,"%"]})}),(0,q.jsx)("td",{className:"px-6 py-4 text-right",children:(0,q.jsxs)("div",{className:"flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,q.jsx)("button",{onClick:()=>(a=>{f(a.id),j(a),d(!0)})(c),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg",children:(0,q.jsx)(tl,{size:16})}),(0,q.jsx)("button",{onClick:()=>{var d;return d=c.id,void(window.confirm("Excluir este servi\xe7o? Isso afetar\xe1 novos agendamentos.")&&b(a.filter(a=>a.id!==d)))},className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg",children:(0,q.jsx)(tg,{size:16})})]})})]},c.id)})})]})})]}),c&&(0,q.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-brand-dark/60 backdrop-blur-sm p-4 animate-fade-in",children:(0,q.jsxs)("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-lg overflow-hidden border border-slate-100",children:[(0,q.jsxs)("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:[(0,q.jsx)("h3",{className:"text-2xl font-black text-brand-dark tracking-tighter",children:e?"Editar Servi\xe7o":"Novo Servi\xe7o"}),(0,q.jsx)("button",{onClick:l,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:(0,q.jsx)(R,{})})]}),(0,q.jsxs)("form",{onSubmit:c=>{c.preventDefault();let d={...i,price:Number(i.price||0),cost:Number(i.cost||0),durationMinutes:Number(i.durationMinutes||0),margin:Number(i.margin||0)};e?b(a.map(a=>a.id===e?{...a,...d}:a)):b([...a,{...d,id:`s_${Date.now()}`}]),l()},className:"p-8 space-y-6",children:[(0,q.jsxs)("div",{className:"space-y-4",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Nome do Servi\xe7o"}),(0,q.jsx)("input",{required:!0,type:"text",className:"w-full px-5 py-3.5 bg-slate-50 border border-slate-100 rounded-2xl outline-none focus:border-brand-dark font-bold text-lg",value:i.name,onChange:a=>k("name",a.target.value)})]}),(0,q.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Pre\xe7o Venda (R$)"}),(0,q.jsx)("input",{required:!0,type:"number",step:"0.01",className:"w-full px-5 py-3.5 bg-slate-50 border border-slate-100 rounded-2xl outline-none focus:border-brand-dark font-bold",value:i.price,onChange:a=>k("price",a.target.value)})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Custo Insumo (R$)"}),(0,q.jsx)("input",{required:!0,type:"number",step:"0.01",className:"w-full px-5 py-3.5 bg-slate-50 border border-slate-100 rounded-2xl outline-none focus:border-brand-dark font-bold",value:i.cost,onChange:a=>k("cost",a.target.value)})]})]}),(0,q.jsxs)("div",{className:`p-4 rounded-2xl border transition-all flex justify-between items-center ${void 0!==i.margin&&i.margin<30?"bg-red-50 border-red-200":"bg-brand-light/10 border-brand-light/20"}`,children:[(0,q.jsxs)("div",{className:"flex items-center gap-2 text-brand-dark",children:[(0,q.jsx)(E,{size:18}),(0,q.jsxs)("div",{className:"flex flex-col",children:[(0,q.jsx)("span",{className:"text-[10px] font-bold uppercase",children:"Margem Calculada"}),void 0!==i.margin&&i.margin<30&&(0,q.jsx)("span",{className:"text-[9px] font-bold text-red-600 uppercase",children:"Rentabilidade Baixa"})]})]}),(0,q.jsxs)("div",{className:"flex items-center gap-2",children:[void 0!==i.margin&&i.margin<30&&(0,q.jsx)(pd,{size:20,className:"text-red-600 animate-pulse"}),(0,q.jsxs)("span",{className:`text-xl font-black ${void 0!==i.margin?n(i.margin).text:""}`,children:[i.margin,"%"]})]})]}),(0,q.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Dura\xe7\xe3o (Min)"}),(0,q.jsx)("input",{required:!0,type:"number",className:"w-full px-5 py-3.5 bg-slate-50 border border-slate-100 rounded-2xl outline-none focus:border-brand-dark font-bold",value:i.durationMinutes,onChange:a=>k("durationMinutes",a.target.value)})]})}),(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Descri\xe7\xe3o Curta"}),(0,q.jsx)("textarea",{rows:2,className:"w-full px-5 py-3.5 bg-slate-50 border border-slate-100 rounded-2xl outline-none focus:border-brand-dark font-medium text-sm resize-none",value:i.description,onChange:a=>k("description",a.target.value)})]})]}),(0,q.jsx)("button",{type:"submit",className:"w-full py-4 bg-brand-dark text-white font-bold rounded-2xl shadow-xl hover:bg-black transition-all",children:e?"Salvar Altera\xe7\xf5es":"Criar Servi\xe7o"})]})]})})]})},tn=x("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),to=x("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),tp=x("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var tq=["points","className","baseLinePoints","connectNulls"];function tr(){return(tr=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function ts(a){return function(a){if(Array.isArray(a))return tt(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function(a,b){if(a){if("string"==typeof a)return tt(a,void 0);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return tt(a,b)}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var tu=function(a){return a&&a.x===+a.x&&a.y===+a.y},tv=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],b=[[]];return a.forEach(function(a){tu(a)?b[b.length-1].push(a):b[b.length-1].length>0&&b.push([])}),tu(a[0])&&b[b.length-1].push(a[0]),b[b.length-1].length<=0&&(b=b.slice(0,-1)),b},tw=function(a,b){var c=tv(a);b&&(c=[c.reduce(function(a,b){return[].concat(ts(a),ts(b))},[])]);var d=c.map(function(a){return a.reduce(function(a,b,c){return"".concat(a).concat(0===c?"M":"L").concat(b.x,",").concat(b.y)},"")}).join("");return 1===c.length?"".concat(d,"Z"):d},tx=function(a,b,c){var d=tw(a,c);return"".concat("Z"===d.slice(-1)?d.slice(0,-1):d,"L").concat(tw(b.reverse(),c).slice(1))},ty=function(a){var b=a.points,c=a.className,d=a.baseLinePoints,e=a.connectNulls,f=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,tq);if(!b||!b.length)return null;var g=Z("recharts-polygon",c);if(d&&d.length){var h=f.stroke&&"none"!==f.stroke,i=tx(b,d,e);return s().createElement("g",{className:g},s().createElement("path",tr({},aY(f,!0),{fill:"Z"===i.slice(-1)?f.fill:"none",stroke:"none",d:i})),h?s().createElement("path",tr({},aY(f,!0),{fill:"none",d:tw(b,e)})):null,h?s().createElement("path",tr({},aY(f,!0),{fill:"none",d:tw(d,e)})):null)}var j=tw(b,e);return s().createElement("path",tr({},aY(f,!0),{fill:"Z"===j.slice(-1)?f.fill:"none",className:g,d:j}))};function tz(a){return(tz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function tA(){return(tA=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function tB(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function tC(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?tB(Object(c),!0).forEach(function(b){tH(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):tB(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function tD(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,tI(d.key),d)}}function tE(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(tE=function(){return!!a})()}function tF(a){return(tF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function tG(a,b){return(tG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function tH(a,b,c){return(b=tI(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function tI(a){var b=function(a,b){if("object"!=tz(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=tz(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==tz(b)?b:b+""}var tJ=Math.PI/180,tK=function(a){var b,c;function d(){var a,b;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");return a=d,b=arguments,a=tF(a),function(a,b){if(b&&("object"===tz(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,tE()?Reflect.construct(a,b||[],tF(this).constructor):a.apply(this,b))}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),a&&tG(d,a),b=[{key:"getTickLineCoord",value:function(a){var b=this.props,c=b.cx,d=b.cy,e=b.radius,f=b.orientation,g=b.tickSize,h=kv(c,d,e,a.coordinate),i=kv(c,d,e+("inner"===f?-1:1)*(g||8),a.coordinate);return{x1:h.x,y1:h.y,x2:i.x,y2:i.y}}},{key:"getTickTextAnchor",value:function(a){var b=this.props.orientation,c=Math.cos(-a.coordinate*tJ);return c>1e-5?"outer"===b?"start":"end":c<-1e-5?"outer"===b?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var a=this.props,b=a.cx,c=a.cy,d=a.radius,e=a.axisLine,f=a.axisLineType,g=tC(tC({},aY(this.props,!1)),{},{fill:"none"},aY(e,!1));if("circle"===f)return s().createElement(cH,tA({className:"recharts-polar-angle-axis-line"},g,{cx:b,cy:c,r:d}));var h=this.props.ticks.map(function(a){return kv(b,c,d,a.coordinate)});return s().createElement(ty,tA({className:"recharts-polar-angle-axis-line"},g,{points:h}))}},{key:"renderTicks",value:function(){var a=this,b=this.props,c=b.ticks,e=b.tick,f=b.tickLine,g=b.tickFormatter,h=b.stroke,i=aY(this.props,!1),j=aY(e,!1),k=tC(tC({},i),{},{fill:"none"},aY(f,!1)),l=c.map(function(b,c){var l=a.getTickLineCoord(b),m=tC(tC(tC({textAnchor:a.getTickTextAnchor(b)},i),{},{stroke:"none",fill:h},j),{},{index:c,payload:b,x:l.x2,y:l.y2});return s().createElement(bg,tA({className:Z("recharts-polar-angle-axis-tick",kB(e)),key:"tick-".concat(b.coordinate)},aJ(a.props,b,c)),f&&s().createElement("line",tA({className:"recharts-polar-angle-axis-tick-line"},k,l)),e&&d.renderTickItem(e,m,g?g(b.value,c):b.value))});return s().createElement(bg,{className:"recharts-polar-angle-axis-ticks"},l)}},{key:"render",value:function(){var a=this.props,b=a.ticks,c=a.radius,d=a.axisLine;return!(c<=0)&&b&&b.length?s().createElement(bg,{className:Z("recharts-polar-angle-axis",this.props.className)},d&&this.renderAxisLine(),this.renderTicks()):null}}],c=[{key:"renderTickItem",value:function(a,b,c){return s().isValidElement(a)?s().cloneElement(a,b):ay()(a)?a(b):s().createElement(eG,tA({},b,{className:"recharts-polar-angle-axis-tick-value"}),c)}}],b&&tD(d.prototype,b),c&&tD(d,c),Object.defineProperty(d,"prototype",{writable:!1}),d}(r.PureComponent);tH(tK,"displayName","PolarAngleAxis"),tH(tK,"axisType","angleAxis"),tH(tK,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var tL=c(13595),tM=c.n(tL),tN=c(25301),tO=c.n(tN),tP=["cx","cy","angle","ticks","axisLine"],tQ=["ticks","tick","angle","tickFormatter","stroke"];function tR(a){return(tR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function tS(){return(tS=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function tT(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function tU(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?tT(Object(c),!0).forEach(function(b){t$(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):tT(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function tV(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function tW(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,t_(d.key),d)}}function tX(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(tX=function(){return!!a})()}function tY(a){return(tY=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function tZ(a,b){return(tZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function t$(a,b,c){return(b=t_(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function t_(a){var b=function(a,b){if("object"!=tR(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=tR(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==tR(b)?b:b+""}var t0=function(a){var b,c;function d(){var a,b;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");return a=d,b=arguments,a=tY(a),function(a,b){if(b&&("object"===tR(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,tX()?Reflect.construct(a,b||[],tY(this).constructor):a.apply(this,b))}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),a&&tZ(d,a),b=[{key:"getTickValueCoord",value:function(a){var b=a.coordinate,c=this.props,d=c.angle;return kv(c.cx,c.cy,b,d)}},{key:"getTickTextAnchor",value:function(){var a;switch(this.props.orientation){case"left":a="end";break;case"right":a="start";break;default:a="middle"}return a}},{key:"getViewBox",value:function(){var a=this.props,b=a.cx,c=a.cy,d=a.angle,e=a.ticks,f=tM()(e,function(a){return a.coordinate||0});return{cx:b,cy:c,startAngle:d,endAngle:d,innerRadius:tO()(e,function(a){return a.coordinate||0}).coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,b=a.cx,c=a.cy,d=a.angle,e=a.ticks,f=a.axisLine,g=tV(a,tP),h=e.reduce(function(a,b){return[Math.min(a[0],b.coordinate),Math.max(a[1],b.coordinate)]},[1/0,-1/0]),i=kv(b,c,h[0],d),j=kv(b,c,h[1],d),k=tU(tU(tU({},aY(g,!1)),{},{fill:"none"},aY(f,!1)),{},{x1:i.x,y1:i.y,x2:j.x,y2:j.y});return s().createElement("line",tS({className:"recharts-polar-radius-axis-line"},k))}},{key:"renderTicks",value:function(){var a=this,b=this.props,c=b.ticks,e=b.tick,f=b.angle,g=b.tickFormatter,h=b.stroke,i=tV(b,tQ),j=this.getTickTextAnchor(),k=aY(i,!1),l=aY(e,!1),m=c.map(function(b,c){var i=a.getTickValueCoord(b),m=tU(tU(tU(tU({textAnchor:j,transform:"rotate(".concat(90-f,", ").concat(i.x,", ").concat(i.y,")")},k),{},{stroke:"none",fill:h},l),{},{index:c},i),{},{payload:b});return s().createElement(bg,tS({className:Z("recharts-polar-radius-axis-tick",kB(e)),key:"tick-".concat(b.coordinate)},aJ(a.props,b,c)),d.renderTickItem(e,m,g?g(b.value,c):b.value))});return s().createElement(bg,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var a=this.props,b=a.ticks,c=a.axisLine,d=a.tick;return b&&b.length?s().createElement(bg,{className:Z("recharts-polar-radius-axis",this.props.className)},c&&this.renderAxisLine(),d&&this.renderTicks(),kM.renderCallByParent(this.props,this.getViewBox())):null}}],c=[{key:"renderTickItem",value:function(a,b,c){return s().isValidElement(a)?s().cloneElement(a,b):ay()(a)?a(b):s().createElement(eG,tS({},b,{className:"recharts-polar-radius-axis-tick-value"}),c)}}],b&&tW(d.prototype,b),c&&tW(d,c),Object.defineProperty(d,"prototype",{writable:!1}),d}(r.PureComponent);function t1(a){return(t1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function t2(){return(t2=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function t3(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function t4(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?t3(Object(c),!0).forEach(function(b){t9(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):t3(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function t5(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,ua(d.key),d)}}function t6(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(t6=function(){return!!a})()}function t7(a){return(t7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function t8(a,b){return(t8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function t9(a,b,c){return(b=ua(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function ua(a){var b=function(a,b){if("object"!=t1(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=t1(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==t1(b)?b:b+""}t$(t0,"displayName","PolarRadiusAxis"),t$(t0,"axisType","radiusAxis"),t$(t0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var ub=function(a){var b,c;function d(a){var b,c,e;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");return c=d,e=[a],c=t7(c),t9(b=function(a,b){if(b&&("object"===t1(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,t6()?Reflect.construct(c,e||[],t7(this).constructor):c.apply(this,e)),"pieRef",null),t9(b,"sectorRefs",[]),t9(b,"id",ap("recharts-pie-")),t9(b,"handleAnimationEnd",function(){var a=b.props.onAnimationEnd;b.setState({isAnimationFinished:!0}),ay()(a)&&a()}),t9(b,"handleAnimationStart",function(){var a=b.props.onAnimationStart;b.setState({isAnimationFinished:!1}),ay()(a)&&a()}),b.state={isAnimationFinished:!a.isAnimationActive,prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,sectorToFocus:0},b}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),a&&t8(d,a),b=[{key:"isActiveIndex",value:function(a){var b=this.props.activeIndex;return Array.isArray(b)?-1!==b.indexOf(a):a===b}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?0!==a.length:a||0===a}},{key:"renderLabels",value:function(a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var b=this.props,c=b.label,e=b.labelLine,f=b.dataKey,g=b.valueKey,h=aY(this.props,!1),i=aY(c,!1),j=aY(e,!1),k=c&&c.offsetRadius||20,l=a.map(function(a,b){var l=(a.startAngle+a.endAngle)/2,m=kv(a.cx,a.cy,a.outerRadius+k,l),n=t4(t4(t4(t4({},h),a),{},{stroke:"none"},i),{},{index:b,textAnchor:d.getTextAnchor(m.x,a.cx)},m),o=t4(t4(t4(t4({},h),a),{},{fill:"none",stroke:a.fill},j),{},{index:b,points:[kv(a.cx,a.cy,a.outerRadius,l),m]}),p=f;return aj()(f)&&aj()(g)?p="value":aj()(f)&&(p=g),s().createElement(bg,{key:"label-".concat(a.startAngle,"-").concat(a.endAngle,"-").concat(a.midAngle,"-").concat(b)},e&&d.renderLabelLineItem(e,o,"line"),d.renderLabelItem(c,n,jA(a,p)))});return s().createElement(bg,{className:"recharts-pie-labels"},l)}},{key:"renderSectorsStatically",value:function(a){var b=this,c=this.props,d=c.activeShape,e=c.blendStroke,f=c.inactiveShape;return a.map(function(c,g){if((null==c?void 0:c.startAngle)===0&&(null==c?void 0:c.endAngle)===0&&1!==a.length)return null;var h=b.isActiveIndex(g),i=f&&b.hasActiveIndex()?f:null,j=t4(t4({},c),{},{stroke:e?c.fill:c.stroke,tabIndex:-1});return s().createElement(bg,t2({ref:function(a){a&&!b.sectorRefs.includes(a)&&b.sectorRefs.push(a)},tabIndex:-1,className:"recharts-pie-sector"},aJ(b.props,c,g),{key:"sector-".concat(null==c?void 0:c.startAngle,"-").concat(null==c?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(g)}),s().createElement(lu,t2({option:h?d:i,isActive:h,shapeType:"sector"},j)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,b=this.props,c=b.sectors,d=b.isAnimationActive,e=b.animationBegin,f=b.animationDuration,g=b.animationEasing,h=b.animationId,i=this.state,j=i.prevSectors,k=i.prevIsAnimationActive;return s().createElement(dS,{begin:e,duration:f,isActive:d,easing:g,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(k),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var d=b.t,e=[],f=(c&&c[0]).startAngle;return c.forEach(function(a,b){var c=j&&j[b],g=b>0?af()(a,"paddingAngle",0):0;if(c){var h=at(c.endAngle-c.startAngle,a.endAngle-a.startAngle),i=t4(t4({},a),{},{startAngle:f+g,endAngle:f+h(d)+g});e.push(i),f=i.endAngle}else{var k=at(0,a.endAngle-a.startAngle)(d),l=t4(t4({},a),{},{startAngle:f+g,endAngle:f+k+g});e.push(l),f=l.endAngle}}),s().createElement(bg,null,a.renderSectorsStatically(e))})}},{key:"attachKeyboardHandlers",value:function(a){var b=this;a.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":var c=++b.state.sectorToFocus%b.sectorRefs.length;b.sectorRefs[c].focus(),b.setState({sectorToFocus:c});break;case"ArrowRight":var d=--b.state.sectorToFocus<0?b.sectorRefs.length-1:b.state.sectorToFocus%b.sectorRefs.length;b.sectorRefs[d].focus(),b.setState({sectorToFocus:d});break;case"Escape":b.sectorRefs[b.state.sectorToFocus].blur(),b.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var a=this.props,b=a.sectors,c=a.isAnimationActive,d=this.state.prevSectors;return c&&b&&b.length&&(!d||!ix()(d,b))?this.renderSectorsWithAnimation():this.renderSectorsStatically(b)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,b=this.props,c=b.hide,d=b.sectors,e=b.className,f=b.label,g=b.cx,h=b.cy,i=b.innerRadius,j=b.outerRadius,k=b.isAnimationActive,l=this.state.isAnimationFinished;if(c||!d||!d.length||!am(g)||!am(h)||!am(i)||!am(j))return null;var m=Z("recharts-pie",e);return s().createElement(bg,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){a.pieRef=b}},this.renderSectors(),f&&this.renderLabels(d),kM.renderCallByParent(this.props,null,!1),(!k||l)&&k3.renderCallByParent(this.props,d,!1))}}],c=[{key:"getDerivedStateFromProps",value:function(a,b){return b.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==b.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:b.curSectors,isAnimationFinished:!0}:a.sectors!==b.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,b){return a>b?"start":a<b?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,b,c){if(s().isValidElement(a))return s().cloneElement(a,b);if(ay()(a))return a(b);var d=Z("recharts-pie-label-line","boolean"!=typeof a?a.className:"");return s().createElement(nB,t2({},b,{key:c,type:"linear",className:d}))}},{key:"renderLabelItem",value:function(a,b,c){if(s().isValidElement(a))return s().cloneElement(a,b);var d=c;if(ay()(a)&&(d=a(b),s().isValidElement(d)))return d;var e=Z("recharts-pie-label-text","boolean"==typeof a||ay()(a)?"":a.className);return s().createElement(eG,t2({},b,{alignmentBaseline:"middle",className:e}),d)}}],b&&t5(d.prototype,b),c&&t5(d,c),Object.defineProperty(d,"prototype",{writable:!1}),d}(r.PureComponent);t9(ub,"displayName","Pie"),t9(ub,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!bC.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),t9(ub,"parseDeltaAngle",function(a,b){return ak(b-a)*Math.min(Math.abs(b-a),360)}),t9(ub,"getRealPieData",function(a){var b=a.data,c=a.children,d=aY(a,!1),e=aT(c,kT);return b&&b.length?b.map(function(a,b){return t4(t4(t4({payload:a},d),a),e&&e[b]&&e[b].props)}):e&&e.length?e.map(function(a){return t4(t4({},d),a.props)}):[]}),t9(ub,"parseCoordinateOfPie",function(a,b){var c=b.top,d=b.left,e=b.width,f=b.height,g=kw(e,f);return{cx:d+aq(a.cx,e,e/2),cy:c+aq(a.cy,f,f/2),innerRadius:aq(a.innerRadius,g,0),outerRadius:aq(a.outerRadius,g,.8*g),maxRadius:a.maxRadius||Math.sqrt(e*e+f*f)/2}}),t9(ub,"getComposedData",function(a){var b,c,d=a.item,e=a.offset,f=void 0!==d.type.defaultProps?t4(t4({},d.type.defaultProps),d.props):d.props,g=ub.getRealPieData(f);if(!g||!g.length)return null;var h=f.cornerRadius,i=f.startAngle,j=f.endAngle,k=f.paddingAngle,l=f.dataKey,m=f.nameKey,n=f.valueKey,o=f.tooltipType,p=Math.abs(f.minAngle),q=ub.parseCoordinateOfPie(f,e),r=ub.parseDeltaAngle(i,j),s=Math.abs(r),t=l;aj()(l)&&aj()(n)?(aw(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),t="value"):aj()(l)&&(aw(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),t=n);var u=g.filter(function(a){return 0!==jA(a,t,0)}).length,v=s-u*p-(s>=360?u:u-1)*k,w=g.reduce(function(a,b){var c=jA(b,t,0);return a+(am(c)?c:0)},0);return w>0&&(b=g.map(function(a,b){var d,e=jA(a,t,0),f=jA(a,m,b),g=(am(e)?e:0)/w,j=(d=b?c.endAngle+ak(r)*k*(0!==e):i)+ak(r)*((0!==e?p:0)+g*v),l=(d+j)/2,n=(q.innerRadius+q.outerRadius)/2,s=[{name:f,value:e,payload:a,dataKey:t,type:o}],u=kv(q.cx,q.cy,n,l);return c=t4(t4(t4({percent:g,cornerRadius:h,name:f,tooltipPayload:s,midAngle:l,middleRadius:n,tooltipPosition:u},a),q),{},{value:jA(a,t),startAngle:d,endAngle:j,payload:a,paddingAngle:ak(r)*k})})),t4(t4({},q),{},{sectors:b,data:g})});var uc=og({chartName:"PieChart",GraphicalChild:ub,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:tK},{axisType:"radiusAxis",AxisComp:t0}],formatAxisMap:function(a,b,c,d,e){var f=a.width,g=a.height,h=a.startAngle,i=a.endAngle,j=aq(a.cx,f,f/2),k=aq(a.cy,g,g/2),l=kw(f,g,c),m=aq(a.innerRadius,l,0),n=aq(a.outerRadius,l,.8*l);return Object.keys(b).reduce(function(a,c){var f,g=b[c],l=g.domain,o=g.reversed;if(aj()(g.range))"angleAxis"===d?f=[h,i]:"radiusAxis"===d&&(f=[m,n]),o&&(f=[f[1],f[0]]);else{var p,q=function(a){if(Array.isArray(a))return a}(p=f=g.range)||function(a,b){var c=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=c){var d,e,f,g,h=[],i=!0,j=!1;try{f=(c=c.call(a)).next,!1;for(;!(i=(d=f.call(c)).done)&&(h.push(d.value),h.length!==b);i=!0);}catch(a){j=!0,e=a}finally{try{if(!i&&null!=c.return&&(g=c.return(),Object(g)!==g))return}finally{if(j)throw e}}return h}}(p,2)||function(a,b){if(a){if("string"==typeof a)return kt(a,2);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return kt(a,b)}}(p,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();h=q[0],i=q[1]}var r=jP(g,e),s=r.realScaleType,t=r.scale;t.domain(l).range(f),jQ(t);var u=jW(t,kr(kr({},g),{},{realScaleType:s})),v=kr(kr(kr({},g),u),{},{range:f,radius:n,realScaleType:s,scale:t,cx:j,cy:k,innerRadius:m,outerRadius:n,startAngle:h,endAngle:i});return kr(kr({},a),{},ks({},c,v))},{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});let ud=({transactions:a})=>{let[b,c]=(0,r.useState)("report"),[d,e]=(0,r.useState)(!1),[f,g]=(0,r.useState)(a.slice(0,10)),h=(0,r.useMemo)(()=>{let b={CREDIT_CARD:{count:0,total:0},DEBIT_CARD:{count:0,total:0},PIX:{count:0,total:0},PRESENTIAL:{count:0,total:0}};return a.forEach(a=>{b[a.paymentMethod]&&(b[a.paymentMethod].count+=1,b[a.paymentMethod].total+=a.amount)}),b},[a]),i=[{name:"Cr\xe9dito",value:h.CREDIT_CARD.total,color:"#081E26"},{name:"D\xe9bito",value:h.DEBIT_CARD.total,color:"#3B82F6"},{name:"Pix",value:h.PIX.total,color:"#10B981"},{name:"Presencial",value:h.PRESENTIAL.total,color:"#F59E0B"}].filter(a=>a.value>0),j=()=>{let b=encodeURI("data:text/csv;charset=utf-8,ID,Data,Descricao,Tipo,Metodo,Valor,Barbeiro\n"+a.map(a=>[a.id,a.date,a.description,a.type,a.paymentMethod,a.amount.toString(),a.barberId||"-"]).map(a=>a.join(",")).join("\n")),c=document.createElement("a");c.setAttribute("href",b),c.setAttribute("download",`financeiro_barvo_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(c),c.click(),document.body.removeChild(c)},k=({label:a,value:b,count:c,icon:d,color:e})=>(0,q.jsxs)("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex flex-col justify-between group hover:shadow-md transition-all",children:[(0,q.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,q.jsx)("div",{className:`p-3 rounded-xl ${e}`,children:d}),(0,q.jsxs)("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[c," transa\xe7\xf5es"]})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-1",children:a}),(0,q.jsxs)("h4",{className:"text-2xl font-black text-slate-900 tracking-tight",children:["R$ ",b.toLocaleString("pt-BR")]})]})]});return(0,q.jsxs)("div",{className:"space-y-6 animate-fade-in pb-10",children:[(0,q.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("h2",{className:"text-3xl font-bold text-slate-800 tracking-tight",children:"Financeiro & Receb\xedveis"}),(0,q.jsx)("p",{className:"text-slate-500 mt-1",children:"Vis\xe3o estrat\xe9gica de faturamento por modalidade."})]}),(0,q.jsxs)("div",{className:"flex bg-white p-1 rounded-xl border border-slate-100 shadow-sm",children:[(0,q.jsxs)("button",{onClick:()=>c("report"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all flex items-center gap-2 ${"report"===b?"bg-slate-900 text-white shadow-md":"text-slate-500 hover:text-slate-800"}`,children:[(0,q.jsx)(tn,{size:14})," Relat\xf3rio de Pagamentos"]}),(0,q.jsxs)("button",{onClick:()=>c("history"),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all flex items-center gap-2 ${"history"===b?"bg-slate-900 text-white shadow-md":"text-slate-500 hover:text-slate-800"}`,children:[(0,q.jsx)(H,{size:14})," Hist\xf3rico Geral"]})]})]}),"report"===b&&(0,q.jsxs)("div",{className:"space-y-8 animate-fade-in",children:[(0,q.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,q.jsx)(k,{label:"Cart\xe3o de Cr\xe9dito",value:h.CREDIT_CARD.total,count:h.CREDIT_CARD.count,icon:(0,q.jsx)(pP,{size:20}),color:"bg-slate-900 text-white"}),(0,q.jsx)(k,{label:"Cart\xe3o de D\xe9bito",value:h.DEBIT_CARD.total,count:h.DEBIT_CARD.count,icon:(0,q.jsx)(to,{size:20}),color:"bg-blue-50 text-blue-600"}),(0,q.jsx)(k,{label:"Pagamento via Pix",value:h.PIX.total,count:h.PIX.count,icon:(0,q.jsx)(pQ,{size:20}),color:"bg-emerald-50 text-emerald-600"}),(0,q.jsx)(k,{label:"Feito Presencial",value:h.PRESENTIAL.total,count:h.PRESENTIAL.count,icon:(0,q.jsx)(pR,{size:20}),color:"bg-amber-50 text-amber-600"})]}),(0,q.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,q.jsxs)("div",{className:"lg:col-span-1 bg-white p-8 rounded-[2rem] border border-slate-100 shadow-sm",children:[(0,q.jsxs)("h3",{className:"text-lg font-bold text-slate-800 mb-8 flex items-center gap-2",children:[(0,q.jsx)(tn,{size:20,className:"text-blue-500"})," Mix de Pagamento"]}),(0,q.jsx)("div",{className:"h-64",children:(0,q.jsx)(a5,{width:"100%",height:"100%",children:(0,q.jsxs)(uc,{children:[(0,q.jsx)(ub,{data:i,innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:i.map((a,b)=>(0,q.jsx)(kT,{fill:a.color},`cell-${b}`))}),(0,q.jsx)(bP,{})]})})}),(0,q.jsx)("div",{className:"mt-6 space-y-3",children:i.map(a=>(0,q.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,q.jsxs)("div",{className:"flex items-center gap-2",children:[(0,q.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:a.color}}),(0,q.jsx)("span",{className:"font-medium text-slate-600",children:a.name})]}),(0,q.jsxs)("span",{className:"font-bold text-slate-900",children:["R$ ",a.value.toFixed(2)]})]},a.name))})]}),(0,q.jsxs)("div",{className:"lg:col-span-2 bg-white p-8 rounded-[2rem] border border-slate-100 shadow-sm flex flex-col",children:[(0,q.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,q.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:"Volume por Modalidade"}),(0,q.jsxs)("button",{onClick:j,className:"text-xs font-bold text-blue-600 flex items-center gap-1 hover:underline",children:[(0,q.jsx)(tp,{size:14})," Exportar Detalhado"]})]}),(0,q.jsx)("div",{className:"flex-1 h-64",children:(0,q.jsx)(a5,{width:"100%",height:"100%",children:(0,q.jsxs)(oU,{data:i,children:[(0,q.jsx)(o9,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),(0,q.jsx)(oK,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fontWeight:"bold"}}),(0,q.jsx)(oT,{axisLine:!1,tickLine:!1,tick:{fontSize:12}}),(0,q.jsx)(bP,{cursor:{fill:"#f8fafc"}}),(0,q.jsx)(lU,{dataKey:"value",radius:[6,6,0,0],children:i.map((a,b)=>(0,q.jsx)(kT,{fill:a.color},`cell-${b}`))})]})})})]})]})]}),"history"===b&&(0,q.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden animate-fade-in",children:[(0,q.jsxs)("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[(0,q.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:"Todas as Transa\xe7\xf5es"}),(0,q.jsxs)("div",{className:"flex gap-2",children:[(0,q.jsxs)("select",{className:"bg-slate-50 border-none text-xs font-bold text-slate-600 rounded-lg px-3 py-2 focus:ring-0 cursor-pointer uppercase tracking-widest",children:[(0,q.jsx)("option",{children:"Filtrar por Per\xedodo"}),(0,q.jsx)("option",{children:"Hoje"}),(0,q.jsx)("option",{children:"\xdaltimos 7 dias"}),(0,q.jsx)("option",{children:"Este M\xeas"})]}),(0,q.jsx)("button",{onClick:j,className:"p-2 bg-slate-50 text-slate-400 hover:text-slate-900 rounded-lg transition-colors",children:(0,q.jsx)(tp,{size:18})})]})]}),(0,q.jsx)("div",{className:"overflow-x-auto",children:(0,q.jsxs)("table",{className:"w-full text-left",children:[(0,q.jsx)("thead",{className:"bg-slate-50 text-slate-500 text-[10px] font-bold uppercase tracking-widest",children:(0,q.jsxs)("tr",{children:[(0,q.jsx)("th",{className:"px-6 py-4",children:"Data"}),(0,q.jsx)("th",{className:"px-6 py-4",children:"Descri\xe7\xe3o"}),(0,q.jsx)("th",{className:"px-6 py-4",children:"M\xe9todo"}),(0,q.jsx)("th",{className:"px-6 py-4",children:"Respons\xe1vel"}),(0,q.jsx)("th",{className:"px-6 py-4 text-right",children:"Valor"}),(0,q.jsx)("th",{className:"px-6 py-4 text-right",children:"Status"})]})}),(0,q.jsx)("tbody",{className:"divide-y divide-slate-100",children:f.map(a=>(0,q.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors",children:[(0,q.jsx)("td",{className:"px-6 py-4 text-slate-600 text-sm font-medium",children:a.date}),(0,q.jsx)("td",{className:"px-6 py-4 font-bold text-slate-800 text-sm",children:a.description}),(0,q.jsx)("td",{className:"px-6 py-4",children:(0,q.jsxs)("span",{className:`flex items-center gap-1.5 text-[10px] font-black uppercase tracking-tighter ${"CREDIT_CARD"===a.paymentMethod?"text-slate-900":"PIX"===a.paymentMethod?"text-emerald-600":"DEBIT_CARD"===a.paymentMethod?"text-blue-600":"text-amber-600"}`,children:["CREDIT_CARD"===a.paymentMethod&&(0,q.jsx)(pP,{size:10}),"PIX"===a.paymentMethod&&(0,q.jsx)(pQ,{size:10}),"DEBIT_CARD"===a.paymentMethod&&(0,q.jsx)(to,{size:10}),"PRESENTIAL"===a.paymentMethod&&(0,q.jsx)(pn,{size:10}),a.paymentMethod.replace("_CARD","").replace("CREDIT","CR\xc9DITO").replace("DEBIT","D\xc9BITO")]})}),(0,q.jsx)("td",{className:"px-6 py-4 text-slate-500 text-xs font-bold",children:a.barberId?"Barbeiro "+a.barberId.replace("u",""):"-"}),(0,q.jsxs)("td",{className:"px-6 py-4 text-right font-black text-slate-900 text-sm",children:["R$ ",a.amount.toFixed(2)]}),(0,q.jsx)("td",{className:"px-6 py-4 text-right",children:(0,q.jsx)("span",{className:"text-[10px] font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg border border-emerald-100 uppercase",children:"Aprovado"})})]},a.id))})]})}),f.length<a.length&&(0,q.jsx)("div",{className:"p-4 border-t border-slate-100 bg-slate-50 text-center",children:(0,q.jsx)("button",{onClick:()=>{e(!0),setTimeout(()=>{g(a),e(!1)},1e3)},disabled:d,className:"text-xs font-black text-blue-600 uppercase tracking-widest hover:text-blue-800 transition-colors flex items-center gap-2 mx-auto disabled:opacity-50",children:d?(0,q.jsx)(pN,{size:16,className:"animate-spin"}):"Ver mais registros"})})]})]})},ue=x("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),uf=({barbers:a,setUsers:b})=>{let[c,d]=(0,r.useState)(!1),[e,f]=(0,r.useState)({name:"",email:"",phone:""}),[g,h]=(0,r.useState)(null);return(0,q.jsxs)("div",{className:"space-y-6 animate-fade-in relative pb-10",children:[(0,q.jsxs)("div",{className:"flex justify-between items-center",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("h2",{className:"text-3xl font-bold text-slate-800 tracking-tight",children:"Equipe"}),(0,q.jsx)("p",{className:"text-slate-500 mt-1",children:"Gerencie seus barbeiros e visualize o desempenho individual."})]}),(0,q.jsxs)("button",{onClick:()=>d(!0),className:"bg-slate-900 text-white px-5 py-2.5 rounded-xl font-medium hover:bg-slate-800 transition-colors shadow-lg flex items-center gap-2",children:[(0,q.jsx)(pi,{size:18})," Novo Barbeiro"]})]}),(0,q.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((a,c)=>(0,q.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-visible group hover:shadow-md transition-all duration-300 hover:-translate-y-1 relative",children:[(0,q.jsx)("div",{className:"h-24 bg-brand-dark relative rounded-t-2xl",children:(0,q.jsxs)("div",{className:"absolute top-4 right-4 z-10",children:[(0,q.jsx)("button",{onClick:()=>h(g===a.id?null:a.id),className:"text-white/70 hover:text-white transition-colors p-1",children:(0,q.jsx)(X,{size:20})}),g===a.id&&(0,q.jsx)("div",{className:"absolute right-0 mt-2 w-32 bg-white rounded-lg shadow-xl border border-slate-100 py-1 z-20",children:(0,q.jsxs)("button",{onClick:()=>{var c;return c=a.id,void(window.confirm("Remover este barbeiro da equipe?")&&b(a=>a.filter(a=>a.id!==c)),h(null))},className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[(0,q.jsx)(tg,{size:14})," Remover"]})})]})}),(0,q.jsxs)("div",{className:"px-6 pb-6 relative",children:[(0,q.jsxs)("div",{className:"flex justify-between items-end -mt-10 mb-4",children:[(0,q.jsx)(z,{url:a.avatar,name:a.name,size:"lg",className:"!w-20 !h-20 border-4 border-white shadow-md"}),(0,q.jsx)("div",{className:"text-right",children:(0,q.jsxs)("div",{className:"flex items-center justify-end gap-1 text-amber-500 font-bold text-sm mb-1",children:["4.9 ",(0,q.jsx)(ta,{size:14,fill:"currentColor"})]})})]}),(0,q.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:a.name}),(0,q.jsx)("p",{className:"text-sm text-slate-500 mb-6",children:"Barbeiro Especialista"}),(0,q.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[(0,q.jsxs)("div",{className:"p-3 bg-blue-50 rounded-xl border border-blue-100",children:[(0,q.jsx)("p",{className:"text-[10px] text-blue-500 font-bold uppercase mb-1",children:"Cortes"}),(0,q.jsx)("p",{className:"text-lg font-bold text-slate-800",children:45+2*c})]}),(0,q.jsxs)("div",{className:"p-3 bg-emerald-50 rounded-xl border border-emerald-100",children:[(0,q.jsx)("p",{className:"text-[10px] text-emerald-600 font-bold uppercase mb-1",children:"Score"}),(0,q.jsx)("p",{className:"text-lg font-bold text-slate-800",children:"98%"})]})]}),(0,q.jsxs)("div",{className:"space-y-2",children:[(0,q.jsxs)("div",{className:"w-full py-2 flex items-center gap-2 text-sm font-medium text-slate-600",children:[(0,q.jsx)(ue,{size:14,className:"text-slate-400"})," ",a.phone||"(11) 99999-0000"]}),(0,q.jsxs)("div",{className:"w-full py-2 flex items-center gap-2 text-sm font-medium text-slate-600",children:[(0,q.jsx)(sX,{size:14,className:"text-slate-400"})," ",a.email]})]})]})]},a.id))}),c&&(0,q.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4 animate-fade-in",children:(0,q.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[(0,q.jsxs)("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[(0,q.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:"Novo Barbeiro"}),(0,q.jsx)("button",{onClick:()=>d(!1),className:"text-slate-400",children:(0,q.jsx)(R,{size:20})})]}),(0,q.jsxs)("form",{onSubmit:a=>{a.preventDefault();let c={id:`u${Date.now()}`,name:e.name,email:e.email,phone:e.phone,role:v.BARBER,avatar:`https://picsum.photos/seed/${Date.now()}/100/100`};b(a=>[...a,c]),d(!1),f({name:"",email:"",phone:""})},className:"p-6 space-y-4",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nome"}),(0,q.jsx)("input",{required:!0,type:"text",className:"w-full p-2.5 border border-slate-200 rounded-lg outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Lucas Mendes",value:e.name,onChange:a=>f({...e,name:a.target.value})})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"E-mail"}),(0,q.jsx)("input",{required:!0,type:"email",className:"w-full p-2.5 border border-slate-200 rounded-lg outline-none",placeholder:"barbeiro@email.com",value:e.email,onChange:a=>f({...e,email:a.target.value})})]}),(0,q.jsx)("button",{type:"submit",className:"w-full bg-slate-900 text-white font-bold py-3 rounded-xl hover:bg-slate-800 transition-colors shadow-lg mt-2",children:"Contratar Barbeiro"})]})]})})]})},ug=x("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),uh=x("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),ui=x("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),uj=x("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),uk=({items:a,onUpdateItem:b})=>{let[c,d]=(0,r.useState)(""),[e,f]=(0,r.useState)(!1),[g,h]=(0,r.useState)(null),[i,j]=(0,r.useState)({}),[k,l]=(0,r.useState)(!1),[m,n]=(0,r.useState)({name:"",category:"Cabelo",quantity:0,price:0,minLevel:5}),o=a.reduce((a,b)=>a+b.price*b.quantity,0),p=a.filter(a=>a.quantity<=a.minLevel),s=a.filter(a=>{let b=a.name.toLowerCase().includes(c.toLowerCase())||a.category.toLowerCase().includes(c.toLowerCase()),d=!e||a.quantity<=a.minLevel;return b&&d}),t=()=>{h(null),j({})},u=()=>{if(!g)return;let c=a.find(a=>a.id===g);c&&(b({...c,...i},"UPSERT"),h(null),j({}))};return(0,q.jsxs)("div",{className:"space-y-6 animate-fade-in pb-10 relative",children:[(0,q.jsxs)("div",{className:"flex justify-between items-center",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("h2",{className:"text-3xl font-bold text-slate-800 tracking-tight",children:"Gest\xe3o de Estoque"}),(0,q.jsx)("p",{className:"text-slate-500 mt-1",children:"Controle produtos de venda e consumo interno."})]}),(0,q.jsxs)("button",{onClick:()=>l(!0),className:"bg-slate-900 text-white px-5 py-2.5 rounded-xl font-medium hover:bg-slate-800 transition-colors shadow-lg shadow-slate-900/10 flex items-center gap-2",children:[(0,q.jsx)(pi,{size:18})," Novo Produto"]})]}),(0,q.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,q.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4 group hover:shadow-md transition-all",children:[(0,q.jsx)("div",{className:"w-12 h-12 bg-blue-100 text-blue-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,q.jsx)(J,{size:24})}),(0,q.jsxs)("div",{children:[(0,q.jsx)("p",{className:"text-sm font-medium text-slate-500",children:"Total de Itens"}),(0,q.jsx)("h3",{className:"text-2xl font-bold text-slate-800",children:a.length})]})]}),(0,q.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4 group hover:shadow-md transition-all",children:[(0,q.jsx)("div",{className:"w-12 h-12 bg-emerald-100 text-emerald-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,q.jsx)(L,{size:24})}),(0,q.jsxs)("div",{children:[(0,q.jsx)("p",{className:"text-sm font-medium text-slate-500",children:"Valor em Estoque"}),(0,q.jsxs)("h3",{className:"text-2xl font-bold text-slate-800",children:["R$ ",o.toFixed(2)]})]})]}),(0,q.jsxs)("div",{className:`p-6 rounded-2xl shadow-sm border flex items-center gap-4 group hover:shadow-md transition-all cursor-pointer ${p.length>0?"bg-amber-50 border-amber-100":"bg-white border-slate-100"}`,onClick:()=>f(!e),children:[(0,q.jsx)("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform ${p.length>0?"bg-amber-200 text-amber-700":"bg-slate-100 text-slate-400"}`,children:(0,q.jsx)(th,{size:24})}),(0,q.jsxs)("div",{children:[(0,q.jsx)("p",{className:`text-sm font-medium ${p.length>0?"text-amber-800":"text-slate-500"}`,children:"Estoque Baixo"}),(0,q.jsxs)("h3",{className:`text-2xl font-bold ${p.length>0?"text-amber-900":"text-slate-800"}`,children:[p.length," itens"]})]})]})]}),p.length>0&&!e&&(0,q.jsxs)("div",{className:"bg-amber-50 border border-amber-100 rounded-2xl p-6 animate-fade-in relative overflow-hidden",children:[(0,q.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-amber-100 rounded-full blur-2xl -mr-10 -mt-10 opacity-50"}),(0,q.jsxs)("div",{className:"flex justify-between items-center mb-4 relative z-10",children:[(0,q.jsxs)("h3",{className:"text-lg font-bold text-amber-900 flex items-center gap-2",children:[(0,q.jsx)(th,{size:20,className:"text-amber-600"})," Alerta de Reposi\xe7\xe3o"]}),(0,q.jsxs)("button",{onClick:()=>f(!0),className:"text-xs font-bold text-amber-700 hover:text-amber-900 flex items-center gap-1 hover:underline",children:["Ver todos na lista ",(0,q.jsx)(pa,{size:12})]})]}),(0,q.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 relative z-10",children:p.slice(0,4).map(a=>(0,q.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-amber-100 shadow-sm flex flex-col justify-between",children:[(0,q.jsxs)("div",{children:[(0,q.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,q.jsx)("span",{className:"text-xs font-bold text-slate-400 uppercase bg-slate-50 px-2 py-0.5 rounded",children:a.category}),(0,q.jsx)("span",{className:"text-xs font-bold text-red-500",children:"Cr\xedtico"})]}),(0,q.jsx)("h4",{className:"font-bold text-slate-800 text-sm truncate",title:a.name,children:a.name})]}),(0,q.jsxs)("div",{className:"mt-3",children:[(0,q.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,q.jsxs)("span",{className:"text-slate-500",children:["Restam: ",(0,q.jsx)("b",{className:"text-slate-800",children:a.quantity})]}),(0,q.jsxs)("span",{className:"text-slate-400",children:["Min: ",a.minLevel]})]}),(0,q.jsx)("div",{className:"w-full bg-slate-100 h-1.5 rounded-full overflow-hidden",children:(0,q.jsx)("div",{className:"bg-red-500 h-full rounded-full",style:{width:`${a.quantity/a.minLevel*50}%`}})})]})]},a.id))})]}),(0,q.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[(0,q.jsxs)("div",{className:"p-4 border-b border-slate-100 flex flex-col md:flex-row gap-4 items-center bg-white sticky top-0 z-20",children:[(0,q.jsxs)("div",{className:"relative flex-1 w-full",children:[(0,q.jsx)(tk,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),(0,q.jsx)("input",{type:"text",placeholder:"Buscar produtos...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-200 text-sm",value:c,onChange:a=>d(a.target.value)})]}),(0,q.jsxs)("button",{onClick:()=>f(!e),className:`px-4 py-2 text-sm font-medium border rounded-lg flex items-center gap-2 transition-colors ${e?"bg-amber-50 text-amber-700 border-amber-200":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"}`,children:[(0,q.jsx)(ug,{size:16,className:e?"fill-amber-700":""}),e?"Vendo Estoque Baixo":"Filtrar"]})]}),(0,q.jsx)("div",{className:"overflow-x-auto",children:(0,q.jsxs)("table",{className:"w-full text-left",children:[(0,q.jsx)("thead",{className:"bg-slate-50 text-slate-500 text-xs font-bold uppercase tracking-wider",children:(0,q.jsxs)("tr",{children:[(0,q.jsx)("th",{className:"px-6 py-4",children:"Produto"}),(0,q.jsx)("th",{className:"px-6 py-4",children:"Categoria"}),(0,q.jsx)("th",{className:"px-6 py-4",children:"Quantidade"}),(0,q.jsx)("th",{className:"px-6 py-4",children:"Pre\xe7o Unit."}),(0,q.jsx)("th",{className:"px-6 py-4",children:g?"N\xedvel M\xednimo":"Status"}),(0,q.jsx)("th",{className:"px-6 py-4 text-right",children:"A\xe7\xf5es"})]})}),(0,q.jsxs)("tbody",{className:"divide-y divide-slate-100",children:[s.map(c=>(0,q.jsx)("tr",{className:`hover:bg-slate-50 transition-colors group ${g===c.id?"bg-blue-50/30":""}`,children:g===c.id?(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)("td",{className:"px-6 py-4 font-medium text-slate-800",children:c.name}),(0,q.jsx)("td",{className:"px-6 py-4 text-sm text-slate-500",children:c.category}),(0,q.jsx)("td",{className:"px-6 py-4",children:(0,q.jsx)("input",{type:"number",className:"w-20 p-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:i.quantity,onChange:a=>j({...i,quantity:Number(a.target.value)})})}),(0,q.jsx)("td",{className:"px-6 py-4",children:(0,q.jsx)("input",{type:"number",step:"0.01",className:"w-24 p-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:i.price,onChange:a=>j({...i,price:Number(a.target.value)})})}),(0,q.jsx)("td",{className:"px-6 py-4",children:(0,q.jsxs)("div",{className:"flex items-center gap-2",children:[(0,q.jsx)("span",{className:"text-xs text-slate-500",children:"M\xedn:"}),(0,q.jsx)("input",{type:"number",className:"w-20 p-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:i.minLevel,onChange:a=>j({...i,minLevel:Number(a.target.value)})})]})}),(0,q.jsx)("td",{className:"px-6 py-4 text-right",children:(0,q.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,q.jsx)("button",{onClick:u,className:"p-2 text-emerald-600 hover:bg-emerald-100 rounded-lg transition-colors",children:(0,q.jsx)(pM,{size:18})}),(0,q.jsx)("button",{onClick:t,className:"p-2 text-slate-400 hover:bg-slate-100 hover:text-slate-600 rounded-lg transition-colors",children:(0,q.jsx)(R,{size:18})})]})})]}):(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)("td",{className:"px-6 py-4 font-medium text-slate-800",children:c.name}),(0,q.jsx)("td",{className:"px-6 py-4 text-slate-500 text-sm",children:(0,q.jsx)("span",{className:"bg-slate-100 px-2 py-1 rounded text-xs font-semibold",children:c.category})}),(0,q.jsx)("td",{className:"px-6 py-4",children:(0,q.jsxs)("div",{className:"flex items-center gap-2",children:[(0,q.jsxs)("span",{className:"font-bold text-slate-700",children:[c.quantity," un"]}),c.quantity<=c.minLevel&&(0,q.jsx)("div",{className:"w-16 h-1.5 bg-slate-200 rounded-full overflow-hidden hidden sm:block",children:(0,q.jsx)("div",{className:"h-full bg-red-500",style:{width:`${Math.min(c.quantity/c.minLevel*100,100)}%`}})})]})}),(0,q.jsxs)("td",{className:"px-6 py-4 text-slate-600",children:["R$ ",c.price.toFixed(2)]}),(0,q.jsx)("td",{className:"px-6 py-4",children:c.quantity<=c.minLevel?(0,q.jsxs)("span",{className:"inline-flex items-center gap-1 text-xs font-bold text-amber-600 bg-amber-50 px-2 py-1 rounded-full border border-amber-100",children:[(0,q.jsx)(th,{size:10})," Repor (",c.quantity,"/",c.minLevel,")"]}):(0,q.jsx)("span",{className:"text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full border border-emerald-100",children:"Em dia"})}),(0,q.jsx)("td",{className:"px-6 py-4 text-right",children:(0,q.jsxs)("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,q.jsx)("button",{onClick:()=>(a=>{h(a.id),j({...a})})(c),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:(0,q.jsx)(tl,{size:16})}),(0,q.jsx)("button",{onClick:()=>(c=>{if(window.confirm("Tem certeza que deseja excluir este item do estoque?")){let d=a.find(a=>a.id===c);d&&b(d,"DELETE")}})(c.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,q.jsx)(tg,{size:16})})]})})]})},c.id)),0===s.length&&(0,q.jsx)("tr",{children:(0,q.jsx)("td",{colSpan:6,className:"px-6 py-10 text-center text-slate-400",children:e?"Tudo certo! Nenhum produto com estoque baixo.":"Nenhum produto encontrado."})})]})]})})]}),k&&(0,q.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/50 backdrop-blur-sm p-4 animate-fade-in",children:(0,q.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden transform scale-100",children:[(0,q.jsxs)("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-100 flex justify-between items-center",children:[(0,q.jsxs)("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[(0,q.jsx)(J,{size:20,className:"text-blue-500"})," Novo Produto"]}),(0,q.jsx)("button",{onClick:()=>l(!1),className:"text-slate-400 hover:text-slate-600 hover:bg-slate-200 p-1 rounded-full transition-colors",children:(0,q.jsx)(R,{size:20})})]}),(0,q.jsxs)("form",{onSubmit:a=>{a.preventDefault(),m.name&&m.price&&(b({id:`new_${Date.now()}`,name:m.name,category:m.category||"Cabelo",quantity:Number(m.quantity),price:Number(m.price),minLevel:Number(m.minLevel)},"UPSERT"),l(!1),n({name:"",category:"Cabelo",quantity:0,price:0,minLevel:5}))},className:"p-6 space-y-4",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 ml-1",children:"Nome do Produto"}),(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)(uh,{size:18,className:"absolute left-3 top-3 text-slate-400"}),(0,q.jsx)("input",{required:!0,type:"text",className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-sm text-slate-900 placeholder:text-slate-400",placeholder:"Ex: Pomada Matte 150g",value:m.name,onChange:a=>n({...m,name:a.target.value})})]})]}),(0,q.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 ml-1",children:"Categoria"}),(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)(ui,{size:18,className:"absolute left-3 top-3 text-slate-400"}),(0,q.jsxs)("select",{className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-sm appearance-none text-slate-900",value:m.category,onChange:a=>n({...m,category:a.target.value}),children:[(0,q.jsx)("option",{value:"Cabelo",children:"Cabelo"}),(0,q.jsx)("option",{value:"Barba",children:"Barba"}),(0,q.jsx)("option",{value:"Acess\xf3rios",children:"Acess\xf3rios"}),(0,q.jsx)("option",{value:"Higiene",children:"Higiene"}),(0,q.jsx)("option",{value:"Consumo Interno",children:"Consumo Interno"})]})]})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 ml-1",children:"Pre\xe7o (R$)"}),(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)(L,{size:18,className:"absolute left-3 top-3 text-slate-400"}),(0,q.jsx)("input",{required:!0,type:"number",step:"0.01",min:"0",className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-sm text-slate-900",value:m.price,onChange:a=>n({...m,price:Number(a.target.value)})})]})]})]}),(0,q.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 ml-1",children:"Quantidade"}),(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)(uj,{size:18,className:"absolute left-3 top-3 text-slate-400"}),(0,q.jsx)("input",{required:!0,type:"number",min:"0",className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-sm text-slate-900",value:m.quantity,onChange:a=>n({...m,quantity:Number(a.target.value)})})]})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5 ml-1",children:"M\xednimo (Alerta)"}),(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)(th,{size:18,className:"absolute left-3 top-3 text-slate-400"}),(0,q.jsx)("input",{required:!0,type:"number",min:"0",className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all text-sm text-slate-900",value:m.minLevel,onChange:a=>n({...m,minLevel:Number(a.target.value)})})]})]})]}),(0,q.jsxs)("div",{className:"pt-4 flex gap-3",children:[(0,q.jsx)("button",{type:"button",onClick:()=>l(!1),className:"flex-1 py-3 bg-slate-100 text-slate-600 font-bold rounded-xl hover:bg-slate-200 transition-colors",children:"Cancelar"}),(0,q.jsx)("button",{type:"submit",className:"flex-1 py-3 bg-slate-900 text-white font-bold rounded-xl hover:bg-slate-800 shadow-lg transition-all",children:"Salvar Produto"})]})]})]})})]})},ul=x("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),um=({services:a,notes:b,onSaveNote:c,customers:d,appointments:e,onScheduleReturn:f})=>{let[g,h]=(0,r.useState)(null),[i,j]=(0,r.useState)(""),[k,l]=(0,r.useState)(""),m=d.filter(a=>a.name.toLowerCase().includes(i.toLowerCase())||a.phone?.includes(i)).map(b=>({...b,...(b=>{let c=e.filter(a=>a.customerId===b),d=c.filter(a=>"COMPLETED"===a.status),f=[...c].sort((a,b)=>new Date(b.startTime).getTime()-new Date(a.startTime).getTime()),g=d.reduce((b,c)=>{let d=a.find(a=>a.id===c.serviceId);return b+(d?.price||0)},0),h=d.length>=5||g>=500;return{totalVisits:d.length,ltv:g,history:f,isVIP:h}})(b.id)})),n=g?m.find(a=>a.id===g):null,o=g?b.filter(a=>a.customerId===g):[];return(0,q.jsx)("div",{className:"space-y-4 md:space-y-6 animate-fade-in pb-10 h-[calc(100vh-140px)] flex flex-col",children:(0,q.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 flex-1 overflow-hidden",children:[(0,q.jsxs)("div",{className:`lg:col-span-1 bg-white rounded-2xl shadow-sm border border-slate-100 flex flex-col overflow-hidden ${g?"hidden lg:flex":"flex"}`,children:[(0,q.jsx)("div",{className:"p-4 border-b border-slate-100 bg-white",children:(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)(tk,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),(0,q.jsx)("input",{type:"text",placeholder:"Buscar cliente...",className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-blue-500 text-sm",value:i,onChange:a=>j(a.target.value)})]})}),(0,q.jsx)("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:m.map(a=>(0,q.jsxs)("div",{onClick:()=>h(a.id),className:`p-4 border-b border-slate-50 cursor-pointer transition-all hover:bg-slate-50 flex items-center gap-3 ${g===a.id?"bg-blue-50 border-blue-100":""}`,children:[(0,q.jsx)(z,{url:a.avatar,name:a.name,size:"md",className:"!w-12 !h-12 rounded-full border"}),(0,q.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,q.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,q.jsx)("h4",{className:"font-bold text-sm truncate",children:a.name}),a.isVIP&&(0,q.jsx)(ta,{size:14,className:"text-amber-500 fill-amber-500 flex-shrink-0"})]}),(0,q.jsxs)("div",{className:"flex gap-1 mt-1",children:[a.membershipId&&(0,q.jsx)(s8,{size:12,className:"text-amber-500"}),(0,q.jsx)("p",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-tighter",children:a.membershipId?"Assinante":"Avulso"})]})]})]},a.id))})]}),(0,q.jsx)("div",{className:`lg:col-span-2 bg-white rounded-2xl shadow-sm border border-slate-100 flex-col overflow-hidden ${g?"flex":"hidden lg:flex"}`,children:n?(0,q.jsxs)("div",{className:"flex flex-col h-full overflow-hidden",children:[(0,q.jsxs)("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,q.jsxs)("div",{className:"flex items-center gap-4",children:[(0,q.jsx)("button",{onClick:()=>h(null),className:"lg:hidden p-2 text-slate-500 hover:bg-slate-200 rounded-full mr-1",children:(0,q.jsx)(pj,{size:24})}),(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)(z,{url:n.avatar,name:n.name,size:"lg",className:"!w-16 !h-16 shadow-md border-4 border-white"}),n.isVIP&&(0,q.jsx)("div",{className:"absolute -top-2 -right-2 bg-amber-500 text-white p-1 rounded-full border-2 border-white shadow-sm",children:(0,q.jsx)(ta,{size:12,fill:"currentColor"})})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)("h2",{className:"text-xl md:text-2xl font-bold text-slate-800",children:n.name}),(0,q.jsxs)("div",{className:"flex flex-wrap gap-2 mt-1",children:[n.membershipId&&(0,q.jsxs)("span",{className:"bg-amber-100 text-amber-700 text-[9px] font-black px-2 py-0.5 rounded-full border border-amber-200 uppercase tracking-tighter flex items-center gap-1",children:[(0,q.jsx)(s8,{size:10})," Barvo Club Premium"]}),n.isVIP&&(0,q.jsx)("span",{className:"bg-amber-500 text-white text-[9px] font-black px-2 py-0.5 rounded-full uppercase tracking-tighter",children:"Cliente VIP"})]})]})]}),(0,q.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,q.jsxs)("div",{className:"flex gap-4 bg-white p-3 rounded-xl border shadow-sm",children:[(0,q.jsxs)("div",{className:"text-center px-2",children:[(0,q.jsx)("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"LTV"}),(0,q.jsxs)("p",{className:"text-lg font-bold text-slate-800",children:["R$ ",n.ltv.toFixed(2)]})]}),(0,q.jsxs)("div",{className:"text-center px-2",children:[(0,q.jsx)("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Visitas"}),(0,q.jsx)("p",{className:"text-lg font-bold text-slate-800",children:n.totalVisits})]})]}),(0,q.jsxs)("button",{onClick:()=>f(n.id,n.name),className:"bg-brand-dark text-white px-5 py-3 rounded-xl font-bold hover:bg-black transition-all flex items-center gap-2 shadow-lg shadow-brand-dark/20 text-sm",children:[(0,q.jsx)(B,{size:18})," Agendar Retorno"]})]})]}),(0,q.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar",children:[(0,q.jsxs)("div",{className:"space-y-4",children:[(0,q.jsxs)("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[(0,q.jsx)(te,{size:18,className:"text-blue-500"})," Notas T\xe9cnicas"]}),(0,q.jsxs)("div",{className:"bg-amber-50 border border-amber-100 rounded-xl p-4",children:[(0,q.jsx)("textarea",{className:"w-full bg-transparent border-none focus:ring-0 text-sm text-slate-700 placeholder:text-slate-400 resize-none",rows:2,placeholder:"Prefer\xeancias do cliente (ex: Pente 2 baixo)...",value:k,onChange:a=>l(a.target.value)}),(0,q.jsx)("div",{className:"flex justify-end mt-2",children:(0,q.jsx)("button",{onClick:()=>{k.trim()&&g&&(c({customerId:g,note:k,tags:["Manual"]}),l(""))},disabled:!k.trim(),className:"bg-amber-500 text-white px-4 py-1.5 rounded-lg text-xs font-bold hover:bg-amber-600 disabled:opacity-50 transition-colors",children:"Salvar Nota"})})]}),(0,q.jsx)("div",{className:"space-y-3",children:o.map(a=>(0,q.jsxs)("div",{className:"bg-white border border-slate-100 rounded-xl p-4 shadow-sm",children:[(0,q.jsx)("p",{className:"text-sm text-slate-700 mb-2",children:a.note}),(0,q.jsx)("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:new Date(a.date).toLocaleDateString("pt-BR")})]},a.id))})]}),(0,q.jsxs)("div",{className:"pt-6 border-t border-slate-100",children:[(0,q.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,q.jsxs)("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[(0,q.jsx)(ul,{size:18,className:"text-purple-500"})," Hist\xf3rico de Visitas"]})}),(0,q.jsx)("div",{className:"space-y-3",children:n.history.map(b=>(0,q.jsxs)("div",{className:"flex justify-between items-center p-4 bg-slate-50 rounded-xl border border-slate-100",children:[(0,q.jsxs)("div",{children:[(0,q.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,q.jsx)("p",{className:"text-sm font-bold text-slate-800",children:a.find(a=>a.id===b.serviceId)?.name}),void 0!==b.paymentMethod&&"PRESENTIAL"!==b.paymentMethod?(0,q.jsx)(pn,{size:12,className:"text-emerald-500"}):(0,q.jsx)(pP,{size:12,className:"text-blue-500"})]}),(0,q.jsxs)("p",{className:"text-[10px] text-slate-400",children:[new Date(b.startTime).toLocaleDateString("pt-BR")," \xe0s ",new Date(b.startTime).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]}),(0,q.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,q.jsx)("span",{className:`text-[9px] font-black px-2 py-0.5 rounded uppercase ${"COMPLETED"===b.status?"bg-emerald-100 text-emerald-700":"bg-slate-200 text-slate-500"}`,children:b.status}),void 0!==b.paymentMethod&&"PRESENTIAL"!==b.paymentMethod&&(0,q.jsx)("span",{className:"text-[8px] font-bold text-emerald-600 uppercase",children:"Pago via App"})]})]},b.id))})]})]})]}):(0,q.jsx)("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:(0,q.jsx)("p",{children:"Selecione um cliente para ver os detalhes."})})})]})})},un=x("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),uo=({automations:a=[],setAutomations:b})=>{let[c,d]=(0,r.useState)("campaigns"),[e,f]=(0,r.useState)(pH),[g,h]=(0,r.useState)(!1),[i,j]=(0,r.useState)(!1),[k,l]=(0,r.useState)({title:"",content:"",type:"WHATSAPP"}),[m,n]=(0,r.useState)({title:"",triggerType:"APPOINTMENT_COUNT",triggerValue:5,message:"",active:!0,channel:"WHATSAPP"});return(0,q.jsxs)("div",{className:"space-y-8 animate-fade-in pb-10 relative",children:[(0,q.jsx)("div",{className:"flex justify-between items-center",children:(0,q.jsxs)("div",{children:[(0,q.jsx)("h2",{className:"text-3xl font-bold text-slate-800 tracking-tight",children:"Marketing & Fidelidade"}),(0,q.jsx)("p",{className:"text-slate-500 mt-1",children:"Engaje seus clientes e aumente a recorr\xeancia."})]})}),(0,q.jsxs)("div",{className:"flex gap-2 border-b border-slate-200",children:[(0,q.jsxs)("button",{onClick:()=>d("campaigns"),className:`pb-3 px-4 text-sm font-bold transition-all relative ${"campaigns"===c?"text-blue-600":"text-slate-500 hover:text-slate-700"}`,children:["Campanhas","campaigns"===c&&(0,q.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600 rounded-t-full"})]}),(0,q.jsxs)("button",{onClick:()=>d("automation"),className:`pb-3 px-4 text-sm font-bold transition-all relative ${"automation"===c?"text-blue-600":"text-slate-500 hover:text-slate-700"}`,children:["Automa\xe7\xe3o","automation"===c&&(0,q.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600 rounded-t-full"})]})]}),"automation"===c?(0,q.jsxs)("div",{className:"animate-fade-in",children:[(0,q.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,q.jsxs)("h3",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[(0,q.jsx)(pQ,{className:"text-amber-500"})," Regras de Automa\xe7\xe3o"]}),(0,q.jsxs)("button",{onClick:()=>j(!0),className:"bg-slate-900 text-white px-4 py-2 rounded-lg font-bold text-sm hover:bg-slate-800 transition-colors flex items-center gap-2",children:[(0,q.jsx)(pi,{size:16})," Nova Regra"]})]}),(0,q.jsx)("div",{className:"grid gap-4",children:a.map(c=>(0,q.jsx)("div",{className:`bg-white p-6 rounded-xl border shadow-sm transition-all ${c.active?"border-l-4 border-l-emerald-500 border-slate-100":"border-slate-200 opacity-70"}`,children:(0,q.jsxs)("div",{className:"flex justify-between items-start",children:[(0,q.jsxs)("div",{className:"flex gap-4",children:[(0,q.jsx)("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${c.active?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-400"}`,children:(0,q.jsx)(pQ,{size:20})}),(0,q.jsxs)("div",{children:[(0,q.jsxs)("div",{className:"flex items-center gap-2",children:[(0,q.jsx)("h4",{className:"font-bold text-slate-800",children:c.title}),(0,q.jsx)("span",{className:`text-[10px] px-2 py-0.5 rounded font-bold uppercase ${c.active?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-500"}`,children:c.active?"Ativo":"Pausado"})]}),(0,q.jsxs)("p",{className:"text-sm text-slate-500 mt-1",children:["Gatilho: ","APPOINTMENT_COUNT"===c.triggerType?`${c.triggerValue}\xba Agendamento`:"Anivers\xe1rio"]}),(0,q.jsxs)("div",{className:"mt-3 bg-slate-50 p-3 rounded-lg border border-slate-100",children:[(0,q.jsxs)("p",{className:"text-xs text-slate-400 font-bold uppercase mb-1 flex items-center gap-1",children:[(0,q.jsx)(pT,{size:10})," Mensagem Autom\xe1tica:"]}),(0,q.jsxs)("p",{className:"text-sm text-slate-600 italic",children:['"',c.message,'"']})]})]})]}),(0,q.jsx)("button",{onClick:()=>{var d;return d=c.id,void(b&&b(a.map(a=>a.id===d?{...a,active:!a.active}:a)))},className:`p-2 rounded-lg transition-colors ${c.active?"text-emerald-600 hover:bg-emerald-50":"text-slate-400 hover:bg-slate-100"}`,title:c.active?"Pausar":"Ativar",children:c.active?(0,q.jsx)(un,{size:20}):(0,q.jsx)(po,{size:20})})]})},c.id))})]}):(0,q.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-fade-in",children:[(0,q.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-slate-100 relative overflow-hidden",children:[(0,q.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-amber-50 rounded-bl-full -mr-10 -mt-10 z-0"}),(0,q.jsxs)("div",{className:"relative z-10",children:[(0,q.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,q.jsx)("div",{className:"p-3 bg-amber-100 text-amber-600 rounded-xl",children:(0,q.jsx)(pS,{size:24})}),(0,q.jsxs)("div",{children:[(0,q.jsx)("h3",{className:"text-xl font-bold text-slate-800",children:"Programa de Fidelidade"}),(0,q.jsx)("p",{className:"text-sm text-slate-500",children:"Configura\xe7\xe3o de pontos e resgates"})]})]}),(0,q.jsxs)("div",{className:"space-y-6",children:[(0,q.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl border border-slate-100",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("p",{className:"font-bold text-slate-700",children:"Regra de Ac\xfamulo"}),(0,q.jsx)("p",{className:"text-xs text-slate-500",children:"Quantos pontos o cliente ganha por Real gasto."})]}),(0,q.jsxs)("div",{className:"flex items-center gap-2",children:[(0,q.jsx)("span",{className:"font-bold text-2xl text-slate-900",children:"1"}),(0,q.jsx)("span",{className:"text-xs font-bold text-slate-400 uppercase",children:"Ponto / R$"})]})]}),(0,q.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl border border-slate-100",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("p",{className:"font-bold text-slate-700",children:"Resgate M\xednimo"}),(0,q.jsx)("p",{className:"text-xs text-slate-500",children:"Pontos necess\xe1rios para trocar por pr\xeamios."})]}),(0,q.jsxs)("div",{className:"flex items-center gap-2",children:[(0,q.jsx)("span",{className:"font-bold text-2xl text-slate-900",children:"100"}),(0,q.jsx)("span",{className:"text-xs font-bold text-slate-400 uppercase",children:"Pontos"})]})]}),(0,q.jsxs)("div",{className:"pt-4 border-t border-slate-100",children:[(0,q.jsx)("p",{className:"font-bold text-slate-700 mb-3",children:"Recompensas Ativas"}),(0,q.jsxs)("div",{className:"space-y-2",children:[(0,q.jsxs)("div",{className:"flex justify-between items-center text-sm p-2 hover:bg-slate-50 rounded-lg transition-colors",children:[(0,q.jsx)("span",{className:"text-slate-600",children:"Corte de Cabelo Gr\xe1tis"}),(0,q.jsx)("span",{className:"font-bold text-amber-600",children:"350 pts"})]}),(0,q.jsxs)("div",{className:"flex justify-between items-center text-sm p-2 hover:bg-slate-50 rounded-lg transition-colors",children:[(0,q.jsx)("span",{className:"text-slate-600",children:"50% na Barba"}),(0,q.jsx)("span",{className:"font-bold text-amber-600",children:"150 pts"})]}),(0,q.jsxs)("div",{className:"flex justify-between items-center text-sm p-2 hover:bg-slate-50 rounded-lg transition-colors",children:[(0,q.jsx)("span",{className:"text-slate-600",children:"Pomada Modeladora"}),(0,q.jsx)("span",{className:"font-bold text-amber-600",children:"200 pts"})]})]}),(0,q.jsx)("button",{className:"w-full mt-4 py-2 border border-slate-200 text-slate-600 font-bold rounded-lg hover:bg-slate-50 transition-colors text-sm",children:"Gerenciar Recompensas"})]})]})]})]}),(0,q.jsxs)("div",{className:"space-y-6",children:[(0,q.jsxs)("div",{className:"bg-slate-900 text-white p-8 rounded-2xl shadow-lg relative overflow-hidden group",children:[(0,q.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-600/20 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),(0,q.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,q.jsx)("div",{className:"p-3 bg-white/10 rounded-xl backdrop-blur-sm",children:(0,q.jsx)(P,{size:24,className:"text-white"})}),(0,q.jsxs)("button",{onClick:()=>h(!0),className:"bg-white text-slate-900 px-4 py-2 rounded-lg font-bold text-sm hover:bg-slate-100 transition-colors flex items-center gap-2",children:[(0,q.jsx)(pi,{size:16})," Criar Campanha"]})]}),(0,q.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"Disparos Autom\xe1ticos"}),(0,q.jsx)("p",{className:"text-slate-300 text-sm mb-6",children:"Envie promo\xe7\xf5es via WhatsApp ou E-mail para sua base de clientes."}),(0,q.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,q.jsxs)("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10",children:[(0,q.jsx)("p",{className:"text-xs text-slate-400 font-bold uppercase mb-1",children:"Taxa de Abertura"}),(0,q.jsx)("p",{className:"text-2xl font-bold text-emerald-400",children:"85%"})]}),(0,q.jsxs)("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10",children:[(0,q.jsx)("p",{className:"text-xs text-slate-400 font-bold uppercase mb-1",children:"ROI (Retorno)"}),(0,q.jsx)("p",{className:"text-2xl font-bold text-blue-400",children:"12x"})]})]})]}),(0,q.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[(0,q.jsx)("div",{className:"p-4 bg-slate-50 border-b border-slate-100 font-bold text-slate-700 text-sm",children:"\xdaltimas Campanhas"}),(0,q.jsx)("div",{className:"divide-y divide-slate-100",children:e.map(a=>(0,q.jsxs)("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[(0,q.jsxs)("div",{className:"flex items-center gap-3",children:[(0,q.jsx)("div",{className:`p-2 rounded-lg ${"WHATSAPP"===a.type?"bg-emerald-100 text-emerald-600":"bg-blue-100 text-blue-600"}`,children:"WHATSAPP"===a.type?(0,q.jsx)(pT,{size:18}):(0,q.jsx)(sX,{size:18})}),(0,q.jsxs)("div",{children:[(0,q.jsx)("p",{className:"font-bold text-slate-800 text-sm",children:a.title}),(0,q.jsx)("p",{className:"text-xs text-slate-500",children:new Date(a.date).toLocaleDateString("pt-BR")})]})]}),(0,q.jsxs)("div",{className:"text-right",children:[(0,q.jsx)("span",{className:`text-[10px] font-bold px-2 py-1 rounded uppercase ${"SENT"===a.status?"bg-green-100 text-green-700":"DRAFT"===a.status?"bg-slate-100 text-slate-600":"bg-amber-100 text-amber-700"}`,children:"SENT"===a.status?"Enviado":"DRAFT"===a.status?"Rascunho":"Agendado"}),a.sentCount>0&&(0,q.jsxs)("p",{className:"text-xs text-slate-400 mt-1 flex items-center justify-end gap-1",children:[(0,q.jsx)(s3,{size:10})," ",a.sentCount]})]})]},a.id))})]})]})]}),g&&(0,q.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4 animate-fade-in",children:(0,q.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[(0,q.jsxs)("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[(0,q.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:"Nova Campanha"}),(0,q.jsx)("button",{onClick:()=>h(!1),className:"text-slate-400 hover:text-slate-600 p-1",children:(0,q.jsx)(R,{size:20})})]}),(0,q.jsxs)("form",{onSubmit:a=>{a.preventDefault(),f([{id:`c${Date.now()}`,title:k.title,content:k.content,type:k.type,status:"SCHEDULED",sentCount:0,date:new Date().toISOString()},...e]),h(!1),l({title:"",content:"",type:"WHATSAPP"}),alert("Campanha agendada com sucesso!")},className:"p-6 space-y-4",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"T\xedtulo da Campanha"}),(0,q.jsx)("input",{required:!0,type:"text",className:"w-full p-2.5 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-slate-900 placeholder:text-slate-400",placeholder:"Ex: Promo\xe7\xe3o Rel\xe2mpago",value:k.title,onChange:a=>l({...k,title:a.target.value})})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Canal de Envio"}),(0,q.jsxs)("select",{className:"w-full p-2.5 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-slate-900",value:k.type,onChange:a=>l({...k,type:a.target.value}),children:[(0,q.jsx)("option",{value:"WHATSAPP",children:"WhatsApp"}),(0,q.jsx)("option",{value:"EMAIL",children:"E-mail Marketing"})]})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Mensagem"}),(0,q.jsx)("textarea",{required:!0,rows:4,className:"w-full p-2.5 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-slate-900 placeholder:text-slate-400 resize-none",placeholder:"Ol\xe1 {nome}, aproveite 20% off...",value:k.content,onChange:a=>l({...k,content:a.target.value})})]}),(0,q.jsxs)("button",{type:"submit",className:"w-full bg-slate-900 text-white font-bold py-3 rounded-xl hover:bg-slate-800 transition-colors shadow-lg mt-2 flex items-center justify-center gap-2",children:[(0,q.jsx)(s3,{size:18})," Agendar Disparo"]})]})]})}),i&&(0,q.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4 animate-fade-in",children:(0,q.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[(0,q.jsxs)("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[(0,q.jsx)("h3",{className:"text-lg font-bold text-slate-800",children:"Nova Regra de Fidelidade"}),(0,q.jsx)("button",{onClick:()=>j(!1),className:"text-slate-400 hover:text-slate-600 p-1",children:(0,q.jsx)(R,{size:20})})]}),(0,q.jsxs)("form",{onSubmit:c=>{c.preventDefault(),b&&(b([...a,{id:`auto_${Date.now()}`,title:m.title||"Nova Automa\xe7\xe3o",triggerType:m.triggerType||"APPOINTMENT_COUNT",triggerValue:Number(m.triggerValue),message:m.message||"",active:!0,channel:"WHATSAPP"}]),j(!1),alert("Automa\xe7\xe3o ativada!"))},className:"p-6 space-y-4",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"T\xedtulo da Regra"}),(0,q.jsx)("input",{required:!0,type:"text",className:"w-full p-2.5 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-slate-900",placeholder:"Ex: Cupom 10\xba Corte",value:m.title,onChange:a=>n({...m,title:a.target.value})})]}),(0,q.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Gatilho"}),(0,q.jsxs)("select",{className:"w-full p-2.5 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-slate-900",value:m.triggerType,onChange:a=>n({...m,triggerType:a.target.value}),children:[(0,q.jsx)("option",{value:"APPOINTMENT_COUNT",children:"N\xba de Agendamentos"}),(0,q.jsx)("option",{value:"BIRTHDAY",children:"Anivers\xe1rio"})]})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Valor"}),(0,q.jsx)("input",{required:!0,type:"number",min:"1",className:"w-full p-2.5 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-slate-900",placeholder:"Ex: 5",value:m.triggerValue,onChange:a=>n({...m,triggerValue:Number(a.target.value)})})]})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Mensagem Autom\xe1tica"}),(0,q.jsx)("textarea",{required:!0,rows:3,className:"w-full p-2.5 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-slate-900 resize-none",placeholder:"Escreva a mensagem que ser\xe1 enviada...",value:m.message,onChange:a=>n({...m,message:a.target.value})})]}),(0,q.jsxs)("button",{type:"submit",className:"w-full bg-slate-900 text-white font-bold py-3 rounded-xl hover:bg-slate-800 transition-colors shadow-lg mt-2 flex items-center justify-center gap-2",children:[(0,q.jsx)(pM,{size:18})," Ativar Regra"]})]})]})})]})},up=x("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),uq=x("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),ur=x("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),us=x("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ut=x("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),uu=x("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),uv=({currentUser:a,settings:b,onUpdateSettings:c,onUpdateUser:d})=>{let[e,f]=(0,r.useState)(b),[g,h]=(0,r.useState)({...a}),[i,j]=(0,r.useState)("profile"),[k,l]=(0,r.useState)(!1),[m,n]=(0,r.useState)({number:"",expiry:"",cvc:"",name:""});return(0,q.jsxs)("div",{className:"space-y-6 animate-fade-in pb-10 max-w-4xl mx-auto",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("h2",{className:"text-3xl font-bold text-brand-dark tracking-tight",children:"Ajustes"}),(0,q.jsx)("p",{className:"text-brand-midGray mt-1",children:"Configure sua conta e as regras do seu neg\xf3cio."})]}),(0,q.jsxs)("div",{className:"flex gap-2 border-b border-slate-200 mb-6",children:[(0,q.jsxs)("button",{onClick:()=>j("profile"),className:`pb-3 px-4 text-sm font-bold transition-all relative ${"profile"===i?"text-brand-dark":"text-slate-400 hover:text-slate-700"}`,children:["Meu Perfil","profile"===i&&(0,q.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-brand-dark rounded-t-full"})]}),a.role===v.CUSTOMER&&(0,q.jsxs)("button",{onClick:()=>j("payments"),className:`pb-3 px-4 text-sm font-bold transition-all relative ${"payments"===i?"text-brand-dark":"text-slate-400 hover:text-slate-700"}`,children:["Pagamentos","payments"===i&&(0,q.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-brand-dark rounded-t-full"})]}),a.role===v.OWNER&&(0,q.jsxs)("button",{onClick:()=>j("shop"),className:`pb-3 px-4 text-sm font-bold transition-all relative ${"shop"===i?"text-brand-dark":"text-slate-400 hover:text-slate-700"}`,children:["Perfil da Barbearia","shop"===i&&(0,q.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-brand-dark rounded-t-full"})]})]}),"profile"===i&&(0,q.jsx)("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-100 p-8",children:(0,q.jsxs)("form",{onSubmit:a=>{a.preventDefault(),alert("Perfil atualizado com sucesso!")},className:"space-y-6",children:[(0,q.jsxs)("div",{className:"flex items-center gap-6 mb-8",children:[(0,q.jsxs)("div",{className:"relative group cursor-pointer w-24 h-24",children:[(0,q.jsx)(z,{url:g.avatar,name:g.name,size:"lg",className:"!w-full !h-full rounded-3xl border-4 border-white shadow-xl"}),(0,q.jsx)("div",{className:"absolute inset-0 bg-black/40 rounded-3xl flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,q.jsx)(up,{className:"text-white",size:24})})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)("h3",{className:"text-xl font-bold text-brand-dark",children:g.name}),(0,q.jsx)("p",{className:"text-xs text-brand-midGray font-bold uppercase tracking-widest",children:g.role})]})]}),(0,q.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,q.jsxs)("div",{className:"space-y-2",children:[(0,q.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Nome Completo"}),(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)(y,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),(0,q.jsx)("input",{type:"text",className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-brand-light outline-none text-brand-dark font-medium",value:g.name,onChange:a=>h({...g,name:a.target.value})})]})]}),(0,q.jsxs)("div",{className:"space-y-2",children:[(0,q.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest ml-1",children:"E-mail"}),(0,q.jsx)("input",{type:"email",disabled:!0,className:"w-full px-4 py-3.5 bg-slate-100 border border-slate-200 rounded-2xl text-slate-400 cursor-not-allowed font-medium",value:g.email})]})]}),(0,q.jsx)("div",{className:"pt-6 flex justify-end",children:(0,q.jsxs)("button",{type:"submit",className:"bg-brand-dark text-white px-8 py-4 rounded-2xl font-bold hover:bg-black transition-all shadow-xl shadow-brand-dark/20 flex items-center gap-2 active:scale-95",children:[(0,q.jsx)(uq,{size:18})," Salvar Altera\xe7\xf5es"]})})]})}),"payments"===i&&(0,q.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,q.jsxs)("div",{className:"bg-white rounded-[2.5rem] p-8 border border-slate-100 shadow-sm",children:[(0,q.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,q.jsxs)("h3",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[(0,q.jsx)(pP,{className:"text-blue-500"})," M\xe9todos de Pagamento"]}),(0,q.jsxs)("button",{onClick:()=>l(!0),className:"bg-brand-dark text-white px-4 py-2 rounded-xl text-xs font-bold hover:bg-black transition-all flex items-center gap-2",children:[(0,q.jsx)(pi,{size:16})," Adicionar Cart\xe3o"]})]}),(0,q.jsx)("div",{className:"space-y-4",children:g.paymentMethods?.length?g.paymentMethods.map(a=>(0,q.jsxs)("div",{className:"flex items-center justify-between p-6 bg-slate-50 border border-slate-100 rounded-3xl hover:bg-white hover:shadow-md transition-all group",children:[(0,q.jsxs)("div",{className:"flex items-center gap-6",children:[(0,q.jsx)("div",{className:"bg-white p-3 rounded-xl border border-slate-100 shadow-sm",children:(0,q.jsx)("img",{src:`https://img.icons8.com/color/48/${a.brand}.png`,className:"h-8",alt:a.brand})}),(0,q.jsxs)("div",{children:[(0,q.jsxs)("p",{className:"font-bold text-slate-800",children:["   ",a.last4]}),(0,q.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,q.jsxs)("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:["Expira em ",a.expiry]}),a.isDefault&&(0,q.jsx)("span",{className:"bg-emerald-100 text-emerald-700 text-[8px] font-black px-2 py-0.5 rounded-full uppercase",children:"Padr\xe3o"})]})]})]}),(0,q.jsxs)("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[!a.isDefault&&(0,q.jsx)("button",{className:"text-[10px] font-black text-blue-600 hover:underline uppercase tracking-widest px-3",children:"Tornar Padr\xe3o"}),(0,q.jsx)("button",{onClick:()=>(a=>{if(confirm("Tem certeza que deseja remover este cart\xe3o?")){let b=g.paymentMethods?.filter(b=>b.id!==a),c={...g,paymentMethods:b};h(c),d&&d(c)}})(a.id),className:"p-2 text-slate-300 hover:text-red-500 transition-colors",children:(0,q.jsx)(tg,{size:18})})]})]},a.id)):(0,q.jsxs)("div",{className:"text-center py-16 border-2 border-dashed border-slate-100 rounded-3xl",children:[(0,q.jsx)(pP,{size:48,className:"mx-auto text-slate-200 mb-4"}),(0,q.jsx)("p",{className:"text-slate-400 font-bold",children:"Nenhum cart\xe3o cadastrado."}),(0,q.jsx)("button",{onClick:()=>l(!0),className:"mt-4 text-blue-600 font-bold text-sm hover:underline",children:"Clique para adicionar o primeiro"})]})})]}),(0,q.jsxs)("div",{className:"bg-blue-50 border border-blue-100 rounded-3xl p-6 flex gap-4",children:[(0,q.jsx)(ur,{size:32,className:"text-blue-600 flex-shrink-0"}),(0,q.jsxs)("div",{children:[(0,q.jsx)("h4",{className:"font-bold text-blue-900 mb-1",children:"Pagamentos Seguros"}),(0,q.jsx)("p",{className:"text-sm text-blue-700/80 leading-relaxed",children:"A Barvo utiliza tecnologia de criptografia de ponta para garantir que seus dados de pagamento nunca sejam armazenados em nossos servidores de forma leg\xedvel. Tudo \xe9 processado via Checkout Seguro."})]})]})]}),"shop"===i&&(0,q.jsx)("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-100 p-8",children:(0,q.jsxs)("form",{onSubmit:a=>{a.preventDefault(),c(e),alert("Configura\xe7\xf5es da barbearia salvas com sucesso!")},className:"space-y-8",children:[(0,q.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,q.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,q.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Nome da Unidade"}),(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)(I,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),(0,q.jsx)("input",{type:"text",className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-brand-light outline-none text-brand-dark font-bold text-lg",value:e.shopName,onChange:a=>f({...e,shopName:a.target.value})})]})]}),(0,q.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,q.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Endere\xe7o de Localiza\xe7\xe3o"}),(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)(us,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),(0,q.jsx)("input",{type:"text",className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-brand-light outline-none text-brand-dark font-medium",value:e.address,onChange:a=>f({...e,address:a.target.value})})]})]}),(0,q.jsxs)("div",{className:"space-y-2",children:[(0,q.jsx)("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest ml-1",children:"Comiss\xe3o Padr\xe3o (%)"}),(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)(ut,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),(0,q.jsx)("input",{type:"number",className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-brand-light outline-none text-brand-dark font-bold",value:e.defaultCommissionRate,onChange:a=>f({...e,defaultCommissionRate:Number(a.target.value)})})]})]})]}),(0,q.jsxs)("div",{className:"pt-6 flex justify-between items-center border-t border-slate-100",children:[(0,q.jsxs)("div",{className:"flex items-center gap-2 text-slate-400 text-sm font-medium",children:[(0,q.jsx)(uu,{size:16})," Suas altera\xe7\xf5es s\xe3o aplicadas em tempo real."]}),(0,q.jsxs)("button",{type:"submit",className:"bg-brand-dark text-white px-8 py-4 rounded-2xl font-bold hover:bg-black transition-all shadow-xl shadow-brand-dark/20 flex items-center gap-2 active:scale-95",children:[(0,q.jsx)(uq,{size:18})," Atualizar Barbearia"]})]})]})}),k&&(0,q.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4 animate-fade-in",children:(0,q.jsxs)("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-md overflow-hidden relative border border-slate-100",children:[(0,q.jsx)("button",{onClick:()=>l(!1),className:"absolute top-6 right-6 p-2 text-slate-300 hover:text-slate-800 transition-colors",children:(0,q.jsx)(R,{})}),(0,q.jsxs)("div",{className:"p-10",children:[(0,q.jsxs)("div",{className:"flex items-center gap-2 mb-8 text-brand-dark/40 font-bold text-xs uppercase tracking-widest",children:[(0,q.jsx)(ur,{size:18})," ",(0,q.jsx)("span",{children:"Checkout Seguro"})]}),(0,q.jsx)("h3",{className:"text-2xl font-bold text-slate-800 mb-8 tracking-tight",children:"Adicionar Novo Cart\xe3o"}),(0,q.jsxs)("form",{onSubmit:a=>{a.preventDefault();let b=m.number.slice(-4),c=m.number.startsWith("4")?"visa":"mastercard",e={id:`pm_${Date.now()}`,type:"CARD",brand:c,last4:b,expiry:m.expiry,isDefault:!g.paymentMethods?.length},f={...g,paymentMethods:[...g.paymentMethods||[],e]};h(f),d&&d(f),l(!1),n({number:"",expiry:"",cvc:"",name:""}),alert("Cart\xe3o adicionado com sucesso!")},className:"space-y-6",children:[(0,q.jsxs)("div",{className:"space-y-4",children:[(0,q.jsxs)("div",{className:"bg-slate-50 border border-slate-200 rounded-2xl overflow-hidden focus-within:ring-2 focus-within:ring-blue-500 transition-all",children:[(0,q.jsxs)("div",{className:"p-4 border-b border-slate-200 flex items-center gap-3",children:[(0,q.jsx)(pP,{className:"text-slate-400",size:20}),(0,q.jsx)("input",{required:!0,type:"text",placeholder:"N\xfamero do cart\xe3o",className:"w-full bg-transparent outline-none text-slate-800 font-medium",value:m.number,onChange:a=>n({...m,number:a.target.value})}),(0,q.jsxs)("div",{className:"flex gap-1",children:[(0,q.jsx)("img",{src:"https://img.icons8.com/color/48/visa.png",className:"h-5"}),(0,q.jsx)("img",{src:"https://img.icons8.com/color/48/mastercard.png",className:"h-5"})]})]}),(0,q.jsxs)("div",{className:"flex divide-x divide-slate-200",children:[(0,q.jsx)("input",{required:!0,type:"text",placeholder:"MM / AA",className:"w-1/2 p-4 bg-transparent outline-none text-slate-800 text-sm",value:m.expiry,onChange:a=>n({...m,expiry:a.target.value})}),(0,q.jsx)("input",{required:!0,type:"text",placeholder:"CVC",className:"w-1/2 p-4 bg-transparent outline-none text-slate-800 text-sm",value:m.cvc,onChange:a=>n({...m,cvc:a.target.value})})]})]}),(0,q.jsxs)("div",{className:"space-y-1",children:[(0,q.jsx)("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nome no Cart\xe3o"}),(0,q.jsx)("input",{required:!0,type:"text",placeholder:"Ex: JO\xc3O A SILVA",className:"w-full px-5 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-blue-500 transition-all font-bold uppercase text-slate-800",value:m.name,onChange:a=>n({...m,name:a.target.value})})]})]}),(0,q.jsx)("button",{type:"submit",className:"w-full bg-brand-dark text-white py-5 rounded-[1.5rem] font-black text-lg shadow-xl hover:bg-black transition-all active:scale-95",children:"Salvar Cart\xe3o"})]})]})]})})]})},uw=x("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),ux=x("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),uy=x("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),uz=({currentUser:a,inventory:b,onPurchase:c})=>{let d=`barberpro_cart_${a.id}`,[e,f]=(0,r.useState)(()=>{try{let a=localStorage.getItem(d);return a?JSON.parse(a):[]}catch(a){return[]}});(0,r.useEffect)(()=>{localStorage.setItem(d,JSON.stringify(e))},[e,d]);let[g,h]=(0,r.useState)(!1),[i,j]=(0,r.useState)(!1),[k,l]=(0,r.useState)(!1),[m,n]=(0,r.useState)(!1),[o,p]=(0,r.useState)(null),[s,t]=(0,r.useState)("Todos"),[u,v]=(0,r.useState)(!1),[w,x]=(0,r.useState)("SAVED_CARD"),[y,z]=(0,r.useState)(a.paymentMethods?.find(a=>a.isDefault)?.id||a.paymentMethods?.[0]?.id||""),[A,B]=(0,r.useState)({number:"",expiry:"",cvc:"",name:""}),[C,D]=(0,r.useState)(300);(0,r.useEffect)(()=>{if("PIX_DISPLAY"===w&&C>0){let a=setInterval(()=>D(a=>a-1),1e3);return()=>clearInterval(a)}},[w,C]);let E=(0,r.useMemo)(()=>{let a=["Lavat\xf3rio","Bar"];return[...pL,...b.filter(b=>!a.includes(b.category)).map(a=>({id:`inv_${a.id}`,name:a.name,description:`Produto premium dispon\xedvel para retirada imediata na Barvo.`,price:a.price,category:a.category,images:["https://images.unsplash.com/photo-1585232561307-3f8d407c95b4?auto=format&fit=crop&q=80&w=600"],rating:5,reviewsCount:0,inStock:a.quantity>0,variations:["Padr\xe3o"]}))]},[b]),F=["Todos",...Array.from(new Set(E.map(a=>a.category)))],G="Todos"===s?E:E.filter(a=>a.category===s),H=e.reduce((a,b)=>a+b.price*b.quantity,0),I=a.points||0,J=I>=pr.MIN_POINTS_TO_REDEEM,K=I/pr.DISCOUNT_CONVERSION_RATE,L=u&&J?Math.min(K,.5*H):0;u&&pr.DISCOUNT_CONVERSION_RATE;let M=H-L,O=(a,b)=>{f(c=>c.map(c=>{if(c.cartId===a){let a=Math.max(1,c.quantity+b);return{...c,quantity:a}}return c}))},P=async()=>{l(!0);let a=u?L:0;try{if(!await Promise.resolve(c(e,M,u,a)))return void l(!1);let b=u?0:p_(M);setTimeout(()=>{l(!1),j(!1),p({total:M,pointsEarned:b}),n(!0),f([]),v(!1),x("SAVED_CARD")},2e3)}catch(a){console.error("Purchase failed",a),l(!1)}};return(0,q.jsxs)("div",{className:"relative h-full pb-20",children:[(0,q.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6 animate-fade-in",children:[(0,q.jsxs)("div",{className:"px-1",children:[(0,q.jsxs)("h2",{className:"text-2xl md:text-3xl font-black text-slate-800 tracking-tight flex items-center gap-2",children:[(0,q.jsx)(N,{className:"text-brand-dark",size:26})," Loja Barvo"]}),(0,q.jsx)("p",{className:"text-slate-500 text-xs font-bold uppercase tracking-widest mt-1 opacity-60",children:"Cuidados Premium"})]}),(0,q.jsxs)("button",{onClick:()=>h(!0),className:"w-full md:w-auto flex bg-brand-dark text-white px-6 py-4 rounded-2xl hover:bg-black transition-all shadow-xl items-center justify-center gap-3 relative active:scale-95 group",children:[(0,q.jsx)("div",{className:"bg-white/10 p-1.5 rounded-lg group-hover:scale-110 transition-transform",children:(0,q.jsx)(uw,{size:18})}),(0,q.jsx)("span",{className:"font-black text-xs uppercase tracking-[0.15em]",children:"Meu Carrinho"}),e.length>0&&(0,q.jsx)("span",{className:"absolute -top-1.5 -right-1.5 bg-brand-accent text-white text-[10px] font-black w-6 h-6 flex items-center justify-center rounded-full border-2 border-white shadow-lg animate-pulse-soft",children:e.reduce((a,b)=>a+b.quantity,0)})]})]}),(0,q.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-2 no-scrollbar scroll-smooth",children:F.map(a=>(0,q.jsx)("button",{onClick:()=>t(a),className:`px-6 py-2.5 rounded-full text-[10px] font-black uppercase tracking-widest whitespace-nowrap transition-all border-2 ${s===a?"bg-brand-dark text-white border-brand-dark shadow-lg":"bg-white border-slate-100 text-slate-400"}`,children:a},a))}),(0,q.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-6 animate-fade-in",children:G.map(a=>(0,q.jsxs)("div",{className:"bg-white rounded-2xl md:rounded-[2rem] border border-slate-100 shadow-sm overflow-hidden hover:shadow-xl transition-all group flex flex-col active:scale-[0.98]",children:[(0,q.jsxs)("div",{className:"relative aspect-square overflow-hidden bg-slate-50",children:[(0,q.jsx)("img",{src:a.images[0],alt:a.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),!a.inStock&&(0,q.jsx)("div",{className:"absolute inset-0 bg-white/70 backdrop-blur-[1px] flex items-center justify-center",children:(0,q.jsx)("span",{className:"bg-slate-800 text-white px-2 py-1 rounded text-[9px] font-black uppercase tracking-widest",children:"Esgotado"})}),(0,q.jsxs)("div",{className:"absolute top-2 left-2 bg-white/90 backdrop-blur-md px-2 py-0.5 rounded-lg flex items-center gap-1 shadow-sm",children:[(0,q.jsx)(ta,{size:10,className:"text-amber-500 fill-amber-500"}),(0,q.jsx)("span",{className:"text-[9px] font-black text-slate-800",children:a.rating})]})]}),(0,q.jsxs)("div",{className:"p-3 md:p-5 flex flex-col flex-1",children:[(0,q.jsx)("h3",{className:"font-bold text-slate-800 text-xs md:text-base mb-2 leading-tight line-clamp-2 min-h-[2rem]",children:a.name}),(0,q.jsxs)("div",{className:"flex items-center justify-between mt-auto",children:[(0,q.jsxs)("span",{className:"text-sm md:text-lg font-black text-brand-dark leading-none",children:["R$ ",a.price.toFixed(2)]}),(0,q.jsx)("button",{onClick:()=>(a=>{let b=e.findIndex(b=>b.id===a.id);if(b>-1){let a=[...e];a[b].quantity+=1,f(a)}else f([...e,{...a,cartId:`${a.id}-${Date.now()}`,selectedVariation:"Padr\xe3o",quantity:1}])})(a),disabled:!a.inStock,className:"bg-slate-100 text-brand-dark p-2 md:p-3 rounded-xl active:bg-brand-dark active:text-white transition-all disabled:opacity-30 hover:shadow-lg",children:(0,q.jsx)(pi,{size:18})})]})]})]},a.id))}),g&&(0,q.jsxs)("div",{className:"fixed inset-0 z-50 flex justify-end",children:[(0,q.jsx)("div",{className:"absolute inset-0 bg-brand-dark/40 backdrop-blur-sm animate-fade-in",onClick:()=>h(!1)}),(0,q.jsxs)("div",{className:"relative w-full md:max-w-md bg-white h-full shadow-2xl flex flex-col animate-slide-in",children:[(0,q.jsxs)("div",{className:"px-6 pt-8 pb-6 border-b border-slate-100 flex justify-between items-center bg-white",children:[(0,q.jsxs)("div",{className:"flex items-center gap-4",children:[(0,q.jsx)("div",{className:"w-12 h-12 bg-slate-100 rounded-2xl flex items-center justify-center text-brand-dark",children:(0,q.jsx)(uw,{size:22})}),(0,q.jsxs)("div",{children:[(0,q.jsx)("h3",{className:"text-xl font-black text-slate-900 tracking-tighter",children:"Carrinho"}),(0,q.jsxs)("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest",children:[e.length," ",1===e.length?"item selecionado":"itens selecionados"]})]})]}),(0,q.jsx)("button",{onClick:()=>h(!1),className:"p-2.5 bg-slate-50 hover:bg-slate-100 rounded-full text-slate-400 transition-all active:scale-90",children:(0,q.jsx)(R,{size:20,strokeWidth:3})})]}),(0,q.jsxs)("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4 custom-scrollbar bg-slate-50/20",children:[0===e.length?(0,q.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-center opacity-60 space-y-4",children:[(0,q.jsx)("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center text-slate-300",children:(0,q.jsx)(N,{size:40})}),(0,q.jsxs)("div",{children:[(0,q.jsx)("p",{className:"text-sm font-black text-slate-800 uppercase tracking-widest",children:"Saco vazio"}),(0,q.jsxs)("p",{className:"text-xs font-medium text-slate-400 mt-1",children:["Que tal adicionar alguns",(0,q.jsx)("br",{}),"produtos premium?"]})]}),(0,q.jsx)("button",{onClick:()=>h(!1),className:"text-xs font-black text-brand-accent uppercase tracking-widest py-2 px-4 border-2 border-brand-accent/20 rounded-xl hover:bg-brand-accent hover:text-white transition-all",children:"Voltar para a loja"})]}):e.map(a=>(0,q.jsxs)("div",{className:"bg-white p-4 rounded-[1.5rem] border border-slate-100 shadow-sm flex gap-4 items-center group animate-fade-in",children:[(0,q.jsx)("div",{className:"relative w-16 h-16 rounded-xl overflow-hidden flex-shrink-0 border border-slate-50 shadow-inner",children:(0,q.jsx)("img",{src:a.images[0],className:"w-full h-full object-cover",alt:a.name})}),(0,q.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,q.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,q.jsx)("h4",{className:"font-bold text-slate-800 text-xs leading-tight line-clamp-1 pr-2",children:a.name}),(0,q.jsx)("button",{onClick:()=>f(e.filter(b=>b.cartId!==a.cartId)),className:"text-slate-300 hover:text-red-500 transition-colors p-1",children:(0,q.jsx)(tg,{size:14})})]}),(0,q.jsxs)("p",{className:"text-sm font-black text-brand-dark mb-3",children:["R$ ",a.price.toFixed(2)]}),(0,q.jsxs)("div",{className:"flex items-center justify-between",children:[(0,q.jsxs)("div",{className:"flex items-center bg-slate-100 rounded-xl p-0.5 border border-slate-200",children:[(0,q.jsx)("button",{onClick:()=>O(a.cartId,-1),className:"w-7 h-7 flex items-center justify-center bg-white rounded-lg shadow-sm active:scale-75 text-slate-400 hover:text-brand-dark transition-all",children:(0,q.jsx)(ux,{size:12,strokeWidth:3})}),(0,q.jsx)("span",{className:"w-9 text-center text-xs font-black text-slate-800",children:a.quantity}),(0,q.jsx)("button",{onClick:()=>O(a.cartId,1),className:"w-7 h-7 flex items-center justify-center bg-white rounded-lg shadow-sm active:scale-75 text-slate-400 hover:text-brand-dark transition-all",children:(0,q.jsx)(pi,{size:12,strokeWidth:3})})]}),(0,q.jsxs)("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["R$ ",(a.price*a.quantity).toFixed(2)]})]})]})]},a.cartId)),e.length>0&&I>=pr.MIN_POINTS_TO_REDEEM&&(0,q.jsx)("div",{className:"pt-4 pb-2",children:(0,q.jsxs)("button",{onClick:()=>v(!u),className:`w-full p-4 rounded-2xl flex items-center gap-3 border transition-all ${u?"bg-blue-50 border-blue-200":"bg-slate-50 border-slate-100"}`,children:[(0,q.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${u?"bg-blue-600 text-white":"bg-blue-100 text-blue-600"}`,children:(0,q.jsx)(pS,{size:16})}),(0,q.jsxs)("div",{className:"text-left flex-1",children:[(0,q.jsxs)("p",{className:"text-[10px] font-black text-blue-800 uppercase leading-tight",children:["Usar meus ",I," pontos"]}),(0,q.jsxs)("p",{className:"text-[9px] text-slate-400 font-bold",children:["Desconto de R$ ",K.toFixed(2)," dispon\xedvel"]})]}),(0,q.jsx)("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${u?"bg-blue-600 border-blue-600":"border-slate-200"}`,children:u&&(0,q.jsx)(pM,{size:12,className:"text-white",strokeWidth:4})})]})}),e.length>0&&!u&&(0,q.jsx)("div",{className:"pt-2",children:(0,q.jsxs)("div",{className:"bg-emerald-50 border border-emerald-100 p-4 rounded-2xl flex items-center gap-3",children:[(0,q.jsx)("div",{className:"w-8 h-8 bg-emerald-100 rounded-full flex items-center justify-center text-emerald-600",children:(0,q.jsx)(pQ,{size:16})}),(0,q.jsxs)("p",{className:"text-[10px] font-bold text-emerald-800 uppercase leading-tight",children:["Voc\xea ganhar\xe1 ",(0,q.jsxs)("span",{className:"font-black underline",children:[p_(M)," pontos"]})," com esta compra!"]})]})})]}),e.length>0&&(0,q.jsxs)("div",{className:"p-6 bg-white border-t border-slate-100 shadow-[0_-15px_40px_rgba(0,0,0,0.04)] space-y-5",children:[(0,q.jsxs)("div",{className:"space-y-3",children:[(0,q.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,q.jsxs)("span",{className:"text-slate-400 font-bold uppercase tracking-widest flex items-center gap-2",children:[(0,q.jsx)(uy,{size:14})," Subtotal"]}),(0,q.jsxs)("span",{className:"font-black text-slate-800",children:["R$ ",H.toFixed(2)]})]}),u&&(0,q.jsxs)("div",{className:"flex justify-between items-center text-xs animate-fade-in",children:[(0,q.jsxs)("span",{className:"text-slate-400 font-bold uppercase tracking-widest flex items-center gap-2",children:[(0,q.jsx)(uh,{size:14})," Pontos Fidelidade"]}),(0,q.jsxs)("span",{className:"font-black text-emerald-600",children:["- R$ ",L.toFixed(2)]})]}),(0,q.jsxs)("div",{className:"pt-3 border-t border-slate-50 flex justify-between items-center",children:[(0,q.jsx)("span",{className:"text-sm font-black text-slate-900 uppercase tracking-[0.2em]",children:"Total"}),(0,q.jsx)("div",{className:"text-right",children:(0,q.jsxs)("span",{className:"text-2xl font-black text-brand-dark tracking-tighter",children:["R$ ",M.toFixed(2)]})})]})]}),(0,q.jsxs)("button",{onClick:()=>{h(!1),j(!0)},className:"w-full bg-brand-dark text-white font-black py-5 rounded-[2rem] shadow-2xl active:scale-[0.97] hover:bg-black transition-all text-xs uppercase tracking-[0.2em] flex items-center justify-center gap-4 group",children:["Ir para o Pagamento",(0,q.jsx)("div",{className:"bg-white/10 p-1 rounded-lg group-hover:translate-x-1 transition-transform",children:(0,q.jsx)(pa,{size:16,strokeWidth:3})})]}),(0,q.jsx)("p",{className:"text-center text-[9px] font-black text-slate-300 uppercase tracking-widest",children:"Retirada gr\xe1tis na unidade selecionada"})]})]})]}),i&&(0,q.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-slate-900/60 backdrop-blur-md animate-fade-in overflow-y-auto p-2",children:(0,q.jsxs)("div",{className:"w-full max-w-5xl h-auto md:min-h-0 flex flex-col md:flex-row relative bg-white rounded-[2.5rem] md:rounded-[3rem] shadow-2xl overflow-hidden",children:[(0,q.jsx)("button",{onClick:()=>j(!1),className:"absolute top-5 right-5 z-50 p-2.5 text-slate-400 hover:text-slate-800 bg-slate-100 rounded-full transition-colors",children:(0,q.jsx)(R,{size:20})}),(0,q.jsx)("div",{className:"w-full md:w-1/2 p-6 md:p-16 bg-white flex flex-col justify-center border-r border-slate-50",children:(0,q.jsxs)("div",{className:"max-w-md w-full mx-auto",children:[(0,q.jsxs)("div",{className:"flex items-center gap-2 mb-4 text-brand-dark/40 font-bold text-[10px] uppercase tracking-widest",children:[(0,q.jsx)(ur,{size:18})," ",(0,q.jsx)("span",{children:"Checkout 100% Seguro"})]}),(0,q.jsx)("h2",{className:"text-2xl md:text-3xl font-black text-slate-800 mb-6 md:mb-8 tracking-tighter",children:"Pagamento"}),(0,q.jsx)("div",{className:"flex gap-1 mb-6 bg-slate-50 p-1 rounded-xl",children:["SAVED_CARD","NEW_CARD","PIX"].map(a=>(0,q.jsx)("button",{onClick:()=>x(a),className:`flex-1 py-2.5 text-[9px] md:text-[10px] font-black uppercase rounded-lg transition-all ${w===a?"bg-white text-slate-900 shadow-md":"text-slate-400"}`,children:"SAVED_CARD"===a?"Cart\xe3o":"NEW_CARD"===a?"Novo":"Pix"},a))}),"GENERATING_PIX"===w?(0,q.jsxs)("div",{className:"text-center py-10 animate-pulse",children:[(0,q.jsx)(pN,{className:"animate-spin mx-auto text-emerald-500 mb-4",size:40}),(0,q.jsx)("p",{className:"text-xs font-black text-slate-600 uppercase tracking-widest",children:"Gerando Pix..."})]}):"PIX_DISPLAY"===w?(0,q.jsxs)("div",{className:"space-y-4 animate-fade-in",children:[(0,q.jsxs)("div",{className:"bg-slate-50 p-6 md:p-8 rounded-[2rem] border-2 border-emerald-100 flex flex-col items-center",children:[(0,q.jsx)("div",{className:"bg-white p-3 rounded-[1.5rem] shadow-xl mb-4",children:(0,q.jsx)("img",{src:"https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=BARVO_PIX_MOCK",className:"w-32 h-32 md:w-40 md:h-40",alt:"QR Pix"})}),(0,q.jsxs)("div",{className:"flex items-center gap-2 text-emerald-600 font-black",children:[(0,q.jsx)(pO,{size:18})," ",(0,q.jsx)("span",{className:"text-lg",children:(a=>{let b=Math.floor(a/60);return`${b}:${(a%60).toString().padStart(2,"0")}`})(C)})]})]}),(0,q.jsx)("button",{onClick:P,className:"w-full bg-emerald-600 text-white py-4 rounded-xl font-black text-xs uppercase tracking-widest shadow-xl active:scale-95 transition-all",children:"J\xe1 paguei via Pix"})]}):(0,q.jsxs)("form",{className:"space-y-5",onSubmit:a=>{a.preventDefault(),"PIX"===w?(x("GENERATING_PIX"),setTimeout(()=>x("PIX_DISPLAY"),1500)):P()},children:["SAVED_CARD"===w&&(0,q.jsx)("div",{className:"space-y-2",children:a.paymentMethods?.map(a=>(0,q.jsxs)("button",{type:"button",onClick:()=>z(a.id),className:`w-full flex items-center justify-between p-4 rounded-xl border-2 transition-all ${y===a.id?"border-brand-dark bg-slate-50":"border-slate-100 bg-white"}`,children:[(0,q.jsxs)("div",{className:"flex items-center gap-3",children:[(0,q.jsx)("img",{src:`https://img.icons8.com/color/48/${a.brand}.png`,className:"h-5"}),(0,q.jsxs)("span",{className:"text-xs font-black text-slate-800",children:[" ",a.last4]})]}),(0,q.jsx)("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${y===a.id?"border-brand-dark bg-brand-dark":"border-slate-200"}`,children:y===a.id&&(0,q.jsx)("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})]},a.id))}),"NEW_CARD"===w&&(0,q.jsx)("div",{className:"space-y-3 animate-fade-in",children:(0,q.jsxs)("div",{className:"bg-slate-50 border border-slate-200 rounded-xl overflow-hidden",children:[(0,q.jsxs)("div",{className:"p-4 border-b border-slate-200 flex items-center gap-3",children:[(0,q.jsx)(pP,{size:18,className:"text-slate-400"}),(0,q.jsx)("input",{required:!0,placeholder:"N\xfamero do cart\xe3o",className:"bg-transparent outline-none text-xs w-full font-bold",value:A.number,onChange:a=>B({...A,number:a.target.value})})]}),(0,q.jsxs)("div",{className:"flex divide-x divide-slate-200",children:[(0,q.jsx)("input",{required:!0,placeholder:"MM/AA",className:"bg-transparent outline-none p-4 text-xs w-1/2 font-bold",value:A.expiry,onChange:a=>B({...A,expiry:a.target.value})}),(0,q.jsx)("input",{required:!0,placeholder:"CVC",className:"bg-transparent outline-none p-4 text-xs w-1/2 font-bold",value:A.cvc,onChange:a=>B({...A,cvc:a.target.value})})]})]})}),(0,q.jsx)("div",{className:"pt-2",children:(0,q.jsxs)("button",{type:"button",onClick:()=>v(!u),className:`w-full flex items-center justify-between p-3 rounded-xl border-2 transition-all ${u?"bg-blue-50 border-blue-200":"bg-slate-50 border-slate-100"}`,children:[(0,q.jsxs)("div",{className:"flex items-center gap-3",children:[(0,q.jsx)(pS,{size:18,className:u?"text-blue-600":"text-slate-400"}),(0,q.jsxs)("div",{className:"text-left",children:[(0,q.jsx)("span",{className:"block font-black text-[10px] text-slate-800 uppercase tracking-widest",children:"Usar Fidelidade"}),(0,q.jsxs)("span",{className:"text-[9px] text-slate-400 font-bold",children:["Saldo: ",I," pts"]})]})]}),(0,q.jsx)("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${u?"bg-blue-600 border-blue-600":"border-slate-300"}`,children:u&&(0,q.jsx)(pM,{size:12,className:"text-white",strokeWidth:4})})]})}),(0,q.jsx)("button",{type:"submit",disabled:k||"SAVED_CARD"===w&&!y&&!!a.paymentMethods?.length,className:`w-full ${"PIX"===w?"bg-emerald-600":"bg-brand-dark"} text-white py-4 rounded-xl font-black text-xs uppercase tracking-widest shadow-2xl transition-all disabled:opacity-50 active:scale-95`,children:k?(0,q.jsx)(pN,{className:"animate-spin mx-auto",size:20}):"PIX"===w?"Gerar Qr Code Pix":`Pagar R$ ${M.toFixed(2)}`})]})]})}),(0,q.jsx)("div",{className:"hidden md:flex w-1/2 p-16 bg-slate-50 flex-col justify-center",children:(0,q.jsxs)("div",{className:"max-w-sm w-full mx-auto",children:[(0,q.jsx)("h3",{className:"text-slate-400 font-black uppercase text-[10px] tracking-widest mb-10",children:"Resumo da Compra"}),(0,q.jsx)("div",{className:"space-y-6 max-h-[30vh] overflow-y-auto pr-4 custom-scrollbar mb-10",children:e.map(a=>(0,q.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)("img",{src:a.images[0],className:"w-14 h-14 rounded-xl object-cover shadow-lg border-2 border-white"}),(0,q.jsx)("span",{className:"absolute -top-1.5 -right-1.5 bg-slate-900 text-white text-[9px] font-black w-5 h-5 flex items-center justify-center rounded-full border-2 border-white",children:a.quantity})]}),(0,q.jsx)("div",{className:"flex-1 min-w-0",children:(0,q.jsx)("h4",{className:"font-bold text-slate-800 text-xs truncate",children:a.name})}),(0,q.jsxs)("span",{className:"font-black text-slate-900 text-xs",children:["R$ ",(a.price*a.quantity).toFixed(2)]})]},a.cartId))}),(0,q.jsxs)("div",{className:"space-y-2 pt-6 border-t-2 border-slate-200/50",children:[(0,q.jsxs)("div",{className:"flex justify-between text-xs text-slate-400 font-black uppercase tracking-widest",children:[(0,q.jsx)("span",{children:"Subtotal"}),(0,q.jsxs)("span",{children:["R$ ",H.toFixed(2)]})]}),u&&(0,q.jsxs)("div",{className:"flex justify-between text-xs text-emerald-600 font-black uppercase tracking-widest",children:[(0,q.jsx)("span",{children:"Desconto"}),(0,q.jsxs)("span",{children:["- R$ ",L.toFixed(2)]})]}),(0,q.jsxs)("div",{className:"flex justify-between items-center pt-4 text-slate-900",children:[(0,q.jsx)("span",{className:"font-black text-sm uppercase tracking-widest",children:"Total"}),(0,q.jsxs)("span",{className:"text-3xl font-black tracking-tighter",children:["R$ ",M.toFixed(2)]})]})]})]})})]})}),m&&o&&(0,q.jsx)("div",{className:"fixed inset-0 z-[70] flex items-center justify-center bg-slate-900/90 backdrop-blur-md p-4 animate-fade-in",children:(0,q.jsxs)("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-sm overflow-hidden text-center p-8 md:p-12 border border-white/20",children:[(0,q.jsx)("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-6 text-emerald-600",children:(0,q.jsx)(pp,{size:32,className:"animate-bounce"})}),(0,q.jsx)("h3",{className:"text-2xl font-black text-slate-900 mb-2 tracking-tighter",children:"Tudo pronto!"}),(0,q.jsx)("p",{className:"text-slate-500 text-xs font-medium mb-8",children:"Pedido confirmado. Retire seus itens no balc\xe3o da barbearia."}),(0,q.jsxs)("div",{className:"bg-slate-50 rounded-2xl p-4 mb-8 flex items-center justify-between border border-slate-100",children:[(0,q.jsxs)("div",{className:"text-left",children:[(0,q.jsx)("span",{className:"text-[9px] text-slate-400 font-black uppercase block",children:"Pago"}),(0,q.jsxs)("span",{className:"text-xl font-black text-slate-900",children:["R$ ",o.total.toFixed(2)]})]}),o.pointsEarned>0&&(0,q.jsxs)("div",{className:"text-right",children:[(0,q.jsx)("span",{className:"text-[9px] text-amber-600 font-black uppercase block",children:"Ganhou"}),(0,q.jsxs)("span",{className:"text-sm font-black text-amber-700",children:["+",o.pointsEarned," pts"]})]})]}),(0,q.jsx)("button",{onClick:()=>{n(!1)},className:"w-full bg-brand-dark text-white py-4 rounded-xl font-black text-xs uppercase tracking-widest shadow-xl active:scale-95 transition-all",children:"Continuar Navegando"})]})})]})},uA=x("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),uB=x("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),uC=({orders:a,users:b,onUpdateStatus:c,onNavigate:d})=>{let[e,f]=(0,r.useState)("ALL"),[g,h]=(0,r.useState)(""),[i,j]=(0,r.useState)(null),[k,l]=(0,r.useState)(""),m=a.filter(a=>{let b="ALL"===e||a.status===e,c=a.customerName.toLowerCase().includes(g.toLowerCase())||a.id.includes(g);return b&&c}),n=(a,b)=>{switch(a){case"PAID":return(0,q.jsx)("span",{className:"bg-emerald-100 text-emerald-700 text-[9px] font-black px-2 py-0.5 rounded uppercase",children:"Pago"});case"PREPARING":return(0,q.jsx)("span",{className:"bg-blue-100 text-blue-700 text-[9px] font-black px-2 py-0.5 rounded uppercase",children:"Preparando"});case"READY_FOR_PICKUP":return(0,q.jsx)("span",{className:"bg-indigo-100 text-indigo-700 text-[9px] font-black px-2 py-0.5 rounded uppercase",children:"Pronto p/ Retirada"});case"SHIPPED":return(0,q.jsx)("span",{className:"bg-purple-100 text-purple-700 text-[9px] font-black px-2 py-0.5 rounded uppercase",children:"DELIVERY"===b?"Saiu p/ Entrega":"Despachado"});case"DELIVERED":return(0,q.jsx)("span",{className:"bg-slate-100 text-slate-500 text-[9px] font-black px-2 py-0.5 rounded uppercase",children:"Conclu\xeddo"});case"CANCELLED":return(0,q.jsx)("span",{className:"bg-red-100 text-red-700 text-[9px] font-black px-2 py-0.5 rounded uppercase",children:"Cancelado"});default:return(0,q.jsx)("span",{className:"bg-slate-100 text-slate-400 text-[9px] font-black px-2 py-0.5 rounded uppercase",children:"Pendente"})}},o=a=>{i&&(c(i.id,a,k||void 0),j(null),l(""))};return(0,q.jsxs)("div",{className:"space-y-6 animate-fade-in pb-10",children:[(0,q.jsx)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-4 border-b border-slate-100 pb-4",children:(0,q.jsxs)("div",{children:[(0,q.jsxs)("h2",{className:"text-2xl font-bold text-slate-800 tracking-tight flex items-center gap-2",children:[(0,q.jsx)(J,{className:"text-blue-500"})," Gest\xe3o de Pedidos"]}),(0,q.jsx)("p",{className:"text-xs text-slate-500 font-medium",children:"Controle de faturamento e log\xedstica da loja."})]})}),(0,q.jsxs)("div",{className:"flex flex-col md:flex-row gap-3",children:[(0,q.jsxs)("div",{className:"relative flex-1",children:[(0,q.jsx)(tk,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),(0,q.jsx)("input",{type:"text",placeholder:"Buscar por cliente ou ID...",className:"w-full pl-10 pr-4 py-2 bg-white border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-blue-500 text-sm font-medium",value:g,onChange:a=>h(a.target.value)})]}),(0,q.jsxs)("select",{className:"bg-white border border-slate-200 rounded-xl px-4 py-2 text-xs font-bold text-slate-600 outline-none cursor-pointer",value:e,onChange:a=>f(a.target.value),children:[(0,q.jsx)("option",{value:"ALL",children:"Todos Status"}),(0,q.jsx)("option",{value:"PAID",children:"Pagos (Novos)"}),(0,q.jsx)("option",{value:"PREPARING",children:"Em Preparo"}),(0,q.jsx)("option",{value:"SHIPPED",children:"Em Rota / Enviados"}),(0,q.jsx)("option",{value:"DELIVERED",children:"Entregues"})]})]}),(0,q.jsx)("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:(0,q.jsx)("div",{className:"overflow-x-auto",children:(0,q.jsxs)("table",{className:"w-full text-left",children:[(0,q.jsx)("thead",{className:"bg-slate-50 text-slate-500 text-[10px] font-black uppercase tracking-widest border-b border-slate-100",children:(0,q.jsxs)("tr",{children:[(0,q.jsx)("th",{className:"px-6 py-4 text-center w-20",children:"ID"}),(0,q.jsx)("th",{className:"px-6 py-4",children:"Cliente"}),(0,q.jsx)("th",{className:"px-6 py-4",children:"Itens"}),(0,q.jsx)("th",{className:"px-6 py-4",children:"Tipo"}),(0,q.jsx)("th",{className:"px-6 py-4",children:"Status"}),(0,q.jsx)("th",{className:"px-6 py-4 text-right",children:"Valor"}),(0,q.jsx)("th",{className:"px-6 py-4 text-center",children:"A\xe7\xf5es"})]})}),(0,q.jsx)("tbody",{className:"divide-y divide-slate-100",children:0===m.length?(0,q.jsx)("tr",{children:(0,q.jsx)("td",{colSpan:7,className:"px-6 py-10 text-center text-slate-400 text-sm font-medium italic",children:"Nenhum pedido encontrado no momento."})}):m.map(a=>(0,q.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors group cursor-pointer",onClick:()=>j(a),children:[(0,q.jsxs)("td",{className:"px-6 py-4 text-center font-mono text-[10px] text-slate-400",children:["#",a.id.slice(-6).toUpperCase()]}),(0,q.jsxs)("td",{className:"px-6 py-4",children:[(0,q.jsx)("p",{className:"font-bold text-slate-800 text-sm",children:a.customerName}),(0,q.jsx)("p",{className:"text-[10px] text-slate-400",children:new Date(a.createdAt).toLocaleDateString("pt-BR")})]}),(0,q.jsx)("td",{className:"px-6 py-4",children:(0,q.jsxs)("div",{className:"flex -space-x-2",children:[a.items.slice(0,3).map((a,b)=>(0,q.jsx)("img",{src:a.images[0],className:"w-7 h-7 rounded-lg border-2 border-white object-cover shadow-sm",title:a.name},b)),a.items.length>3&&(0,q.jsxs)("div",{className:"w-7 h-7 rounded-lg bg-slate-100 border-2 border-white flex items-center justify-center text-[10px] font-black text-slate-500",children:["+",a.items.length-3]})]})}),(0,q.jsx)("td",{className:"px-6 py-4",children:(0,q.jsxs)("span",{className:`text-[10px] font-bold uppercase tracking-tighter flex items-center gap-1 ${"DELIVERY"===a.deliveryMethod?"text-amber-600":"text-slate-500"}`,children:["PICKUP"===a.deliveryMethod?(0,q.jsx)(N,{size:12}):(0,q.jsx)(uA,{size:12}),"PICKUP"===a.deliveryMethod?"Retirada":"Entrega"]})}),(0,q.jsx)("td",{className:"px-6 py-4",children:n(a.status,a.deliveryMethod)}),(0,q.jsxs)("td",{className:"px-6 py-4 text-right font-black text-slate-900 text-sm",children:["R$ ",a.totalAmount.toFixed(2)]}),(0,q.jsx)("td",{className:"px-6 py-4 text-center",children:(0,q.jsx)("button",{onClick:b=>{b.stopPropagation(),j(a)},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all active:scale-90",children:(0,q.jsx)(td,{size:16})})})]},a.id))})]})})}),i&&(0,q.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4 animate-fade-in",children:(0,q.jsxs)("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-4xl overflow-hidden border border-slate-100 animate-slide-in flex flex-col md:flex-row h-full md:h-auto max-h-[90vh]",children:[(0,q.jsxs)("div",{className:"w-full md:w-72 bg-slate-50 border-r border-slate-100 p-6 flex flex-col",children:[(0,q.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,q.jsx)("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Informa\xe7\xf5es do Cliente"}),(0,q.jsx)("button",{onClick:()=>j(null),className:"md:hidden p-2",children:(0,q.jsx)(R,{size:20})})]}),(()=>{let c,d,e=(c=i.customerId,b.find(a=>a.id===c)),f=(d=i.customerId,a.filter(a=>a.customerId===d).length);return(0,q.jsxs)("div",{className:"space-y-6",children:[(0,q.jsxs)("div",{className:"flex items-center gap-4",children:[(0,q.jsx)(z,{url:e?.avatar,name:e?.name,size:"md",className:"!w-14 !h-14 border-2 border-white shadow-sm"}),(0,q.jsxs)("div",{children:[(0,q.jsx)("p",{className:"font-bold text-slate-800 text-sm leading-tight",children:i.customerName}),(0,q.jsx)("p",{className:"text-[10px] text-slate-400 mt-1 font-bold uppercase",children:e?.membershipId?"Clube Barvo":"Cliente Avulso"})]})]}),(0,q.jsxs)("div",{className:"space-y-3",children:[(0,q.jsxs)("div",{className:"flex items-center gap-3 text-xs text-slate-600",children:[(0,q.jsx)(ue,{size:14,className:"text-slate-400"}),(0,q.jsx)("span",{className:"font-medium",children:e?.phone||"(11) 99999-0000"})]}),(0,q.jsxs)("div",{className:"flex items-center gap-3 text-xs text-slate-600",children:[(0,q.jsx)(sX,{size:14,className:"text-slate-400"}),(0,q.jsx)("span",{className:"truncate font-medium",children:e?.email||"cliente@email.com"})]})]}),(0,q.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,q.jsxs)("div",{className:"bg-white p-3 rounded-xl border border-slate-200 shadow-sm",children:[(0,q.jsx)("p",{className:"text-[8px] font-black text-slate-400 uppercase mb-1",children:"Pontos"}),(0,q.jsxs)("p",{className:"text-sm font-black text-amber-600 flex items-center gap-1",children:[(0,q.jsx)(uB,{size:12})," ",e?.points||0]})]}),(0,q.jsxs)("div",{className:"bg-white p-3 rounded-xl border border-slate-200 shadow-sm",children:[(0,q.jsx)("p",{className:"text-[8px] font-black text-slate-400 uppercase mb-1",children:"Pedidos"}),(0,q.jsxs)("p",{className:"text-sm font-black text-slate-800 flex items-center gap-1",children:[(0,q.jsx)(ul,{size:12})," ",f]})]})]}),"DELIVERY"===i.deliveryMethod&&(0,q.jsxs)("div",{className:"p-4 bg-amber-50 border border-amber-100 rounded-xl",children:[(0,q.jsxs)("p",{className:"text-[9px] font-black text-amber-700 uppercase mb-2 flex items-center gap-1",children:[(0,q.jsx)(us,{size:10})," Endere\xe7o p/ Entrega"]}),(0,q.jsxs)("p",{className:"text-[10px] text-amber-900 leading-relaxed font-bold",children:["Rua das Flores, 123 - Ap 42",(0,q.jsx)("br",{}),"Jardim Paulista, S\xe3o Paulo - SP"]})]})]})})(),(0,q.jsx)("div",{className:"mt-auto pt-6 border-t border-slate-200 hidden md:block",children:(0,q.jsxs)("button",{onClick:()=>{d("crm"),j(null)},className:"w-full py-3 bg-brand-dark text-white rounded-xl text-[10px] font-black uppercase hover:bg-black transition-all flex items-center justify-center gap-2 active:scale-95 shadow-lg",children:[(0,q.jsx)(O,{size:14})," Ver CRM Completo"]})})]}),(0,q.jsxs)("div",{className:"flex-1 flex flex-col bg-white",children:[(0,q.jsxs)("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/30",children:[(0,q.jsxs)("div",{children:[(0,q.jsxs)("h3",{className:"text-lg font-bold text-slate-800",children:["Pedido #",i.id.slice(-6).toUpperCase()]}),(0,q.jsx)("p",{className:"text-xs text-slate-500 font-medium",children:"Log\xedstica e Controle Financeiro"})]}),(0,q.jsx)("button",{onClick:()=>j(null),className:"p-2 text-slate-400 hover:text-slate-800 transition-colors hidden md:block",children:(0,q.jsx)(R,{})})]}),(0,q.jsxs)("div",{className:"p-6 flex-1 overflow-y-auto space-y-8 custom-scrollbar",children:[(0,q.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[(0,q.jsx)("div",{className:"p-3 bg-brand-dark text-white rounded-xl",children:(0,q.jsx)(J,{size:20})}),(0,q.jsxs)("div",{className:"flex-1",children:[(0,q.jsx)("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Estado Atual"}),(0,q.jsx)("div",{className:"mt-1",children:n(i.status,i.deliveryMethod)})]}),(0,q.jsxs)("div",{className:"text-right",children:[(0,q.jsx)("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Pagamento"}),(0,q.jsx)("p",{className:"text-xs font-black text-slate-800 uppercase",children:"PIX"===i.paymentMethod?"Instant\xe2neo":"Cr\xe9dito"})]})]}),(0,q.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,q.jsxs)("div",{className:"space-y-4",children:[(0,q.jsx)("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Processamento"}),(0,q.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,q.jsxs)("button",{onClick:()=>o("PREPARING"),className:"w-full py-3.5 bg-white border border-slate-200 rounded-xl text-[11px] font-black uppercase text-slate-700 hover:border-blue-500 hover:text-blue-600 transition-all flex items-center justify-center gap-2",children:[(0,q.jsx)(C,{size:14})," Iniciar Preparo"]}),"PICKUP"===i.deliveryMethod?(0,q.jsxs)("button",{onClick:()=>o("READY_FOR_PICKUP"),className:"w-full py-3.5 bg-indigo-600 text-white rounded-xl text-[11px] font-black uppercase hover:bg-indigo-700 transition-all flex items-center justify-center gap-2 shadow-xl shadow-indigo-500/10",children:[(0,q.jsx)(N,{size:14})," Pronto p/ Retirada"]}):(0,q.jsxs)("button",{onClick:()=>o("SHIPPED"),className:"w-full py-3.5 bg-purple-600 text-white rounded-xl text-[11px] font-black uppercase hover:bg-purple-700 transition-all flex items-center justify-center gap-2 shadow-xl shadow-purple-500/10",children:[(0,q.jsx)(uA,{size:14})," Saiu para Entrega"]}),(0,q.jsxs)("button",{onClick:()=>o("DELIVERED"),className:"w-full py-3.5 bg-emerald-600 text-white rounded-xl text-[11px] font-black uppercase hover:bg-emerald-700 transition-all flex items-center justify-center gap-2",children:[(0,q.jsx)(pp,{size:14})," Confirmar Conclus\xe3o"]}),(0,q.jsxs)("button",{onClick:()=>o("CANCELLED"),className:"w-full py-3 bg-white border border-red-100 text-red-500 rounded-xl text-[11px] font-black uppercase hover:bg-red-50 transition-all flex items-center justify-center gap-2",children:[(0,q.jsx)(th,{size:14})," Cancelar Pedido"]})]}),"DELIVERY"===i.deliveryMethod&&(0,q.jsxs)("div",{className:"pt-4 space-y-2",children:[(0,q.jsx)("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"C\xf3digo de Rastreio"}),(0,q.jsxs)("div",{className:"flex gap-2",children:[(0,q.jsx)("input",{type:"text",placeholder:"Ex: BR123...",className:"flex-1 p-3 bg-slate-50 border border-slate-200 rounded-xl text-xs font-bold uppercase outline-none focus:ring-2 focus:ring-blue-500",value:k,onChange:a=>l(a.target.value)}),(0,q.jsx)("button",{onClick:()=>o(i.status),className:"p-3 bg-slate-900 text-white rounded-xl hover:bg-black transition-all",children:(0,q.jsx)(pQ,{size:16})})]})]})]}),(0,q.jsxs)("div",{className:"space-y-6",children:[(0,q.jsxs)("div",{className:"bg-slate-50 rounded-2xl p-5 border border-slate-100",children:[(0,q.jsx)("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"An\xe1lise Financeira"}),(0,q.jsxs)("div",{className:"space-y-2",children:[(0,q.jsxs)("div",{className:"flex justify-between text-xs font-bold text-slate-500",children:[(0,q.jsx)("span",{children:"Venda Bruta"}),(0,q.jsxs)("span",{children:["R$ ",i.totalAmount.toFixed(2)]})]}),(0,q.jsxs)("div",{className:"flex justify-between text-xs font-bold text-slate-500",children:[(0,q.jsx)("span",{children:"Taxa Adquirente"}),(0,q.jsxs)("span",{children:["- R$ ",(.05*i.totalAmount).toFixed(2)]})]}),(0,q.jsxs)("div",{className:"pt-3 border-t border-slate-200 flex justify-between items-center text-slate-900",children:[(0,q.jsx)("span",{className:"font-black text-[10px] uppercase",children:"L\xedquido Estimado"}),(0,q.jsxs)("span",{className:"text-xl font-black",children:["R$ ",(.95*i.totalAmount).toFixed(2)]})]})]})]}),(0,q.jsxs)("div",{className:"space-y-3",children:[(0,q.jsxs)("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Carrinho (",i.items.length,")"]}),(0,q.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2 custom-scrollbar",children:i.items.map(a=>(0,q.jsxs)("div",{className:"flex justify-between items-center p-2.5 hover:bg-slate-50 rounded-xl transition-all border border-transparent hover:border-slate-100",children:[(0,q.jsxs)("div",{className:"flex items-center gap-3",children:[(0,q.jsx)("img",{src:a.images[0],className:"w-10 h-10 rounded-lg object-cover shadow-sm"}),(0,q.jsxs)("div",{children:[(0,q.jsxs)("p",{className:"text-xs font-black text-slate-800",children:[a.quantity,"x ",a.name]}),(0,q.jsx)("p",{className:"text-[9px] text-slate-400 uppercase font-bold",children:a.category})]})]}),(0,q.jsxs)("span",{className:"font-black text-slate-900 text-xs",children:["R$ ",(a.price*a.quantity).toFixed(2)]})]},a.cartId))})]})]})]})]})]})]})})]})},uD={PENDING_PAYMENT:{label:"Aguardando Pagamento",color:"text-amber-500",step:0},PAID:{label:"Pagamento Confirmado",color:"text-blue-500",step:1},PREPARING:{label:"Em Prepara\xe7\xe3o",color:"text-indigo-500",step:2},READY_FOR_PICKUP:{label:"Pronto para Retirada",color:"text-emerald-500",step:3},SHIPPED:{label:"Em Transporte",color:"text-purple-500",step:3},DELIVERED:{label:"Entregue",color:"text-emerald-600",step:4},CANCELLED:{label:"Cancelado",color:"text-red-500",step:-1}},uE=({orders:a,onNavigate:b,onRepeatOrder:c})=>{let[d,e]=(0,r.useState)(null);return(0,q.jsxs)("div",{className:"space-y-6 animate-fade-in pb-10",children:[(0,q.jsxs)("div",{className:"flex justify-between items-center",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("h2",{className:"text-2xl font-bold text-slate-800",children:"Meus Pedidos"}),(0,q.jsx)("p",{className:"text-xs text-slate-500 font-medium",children:"Acompanhe suas compras na loja Barvo."})]}),(0,q.jsxs)("button",{onClick:()=>b("shop"),className:"text-xs font-bold text-blue-600 flex items-center gap-1 hover:underline",children:[(0,q.jsx)(N,{size:14})," Ir para a loja"]})]}),(0,q.jsx)("div",{className:"grid gap-4",children:0===a.length?(0,q.jsxs)("div",{className:"text-center py-20 bg-white rounded-2xl border border-dashed border-slate-200",children:[(0,q.jsx)(J,{size:48,className:"mx-auto text-slate-200 mb-4"}),(0,q.jsx)("p",{className:"text-slate-400 font-medium text-sm",children:"Voc\xea ainda n\xe3o fez nenhum pedido."})]}):a.map(a=>{let b=uD[a.status],f=d===a.id;return(0,q.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden transition-all hover:shadow-md",children:[(0,q.jsxs)("div",{className:"p-5 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 cursor-pointer",onClick:()=>e(f?null:a.id),children:[(0,q.jsxs)("div",{className:"flex items-center gap-4",children:[(0,q.jsx)("div",{className:`p-3 rounded-xl ${4===b.step?"bg-emerald-50 text-emerald-600":"bg-slate-50 text-brand-dark"}`,children:(0,q.jsx)(J,{size:24})}),(0,q.jsxs)("div",{children:[(0,q.jsxs)("div",{className:"flex items-center gap-2",children:[(0,q.jsxs)("h3",{className:"font-bold text-slate-800 text-sm",children:["Pedido #",a.id.slice(-6).toUpperCase()]}),(0,q.jsx)("span",{className:`text-[9px] font-black uppercase px-2 py-0.5 rounded-full ${b.color.replace("text","bg")}/10 ${b.color}`,children:b.label})]}),(0,q.jsxs)("p",{className:"text-[10px] text-slate-400 mt-1",children:["Realizado em ",new Date(a.createdAt).toLocaleDateString("pt-BR"),"  ",a.items.reduce((a,b)=>a+b.quantity,0)," itens"]})]})]}),(0,q.jsxs)("div",{className:"flex items-center gap-6 w-full md:w-auto justify-between md:justify-end",children:[(0,q.jsxs)("div",{className:"text-right",children:[(0,q.jsx)("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Total"}),(0,q.jsxs)("p",{className:"text-sm font-black text-slate-900",children:["R$ ",a.totalAmount.toFixed(2)]})]}),(0,q.jsx)(pk,{size:20,className:`text-slate-300 transition-transform ${f?"rotate-90":""}`})]})]}),f&&(0,q.jsxs)("div",{className:"px-5 pb-6 pt-2 border-t border-slate-50 bg-slate-50/30 animate-fade-in",children:[(0,q.jsxs)("div",{className:"py-8 px-4 flex justify-between relative max-w-lg mx-auto",children:[(0,q.jsx)("div",{className:"absolute top-1/2 left-0 right-0 h-0.5 bg-slate-100 -translate-y-1/2 z-0"}),[{icon:C,label:"Pagamento"},{icon:N,label:"Preparo"},{icon:uA,label:"PICKUP"===a.deliveryMethod?"Retirada":"Transporte"},{icon:pp,label:"Conclu\xeddo"}].map((a,c)=>(0,q.jsxs)("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[(0,q.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center border-4 border-white shadow-sm transition-all ${b.step>=c+1?"bg-brand-dark text-white":"bg-slate-100 text-slate-400"}`,children:(0,q.jsx)(a.icon,{size:14})}),(0,q.jsx)("span",{className:`text-[8px] font-black uppercase tracking-tighter ${b.step>=c+1?"text-brand-dark":"text-slate-400"}`,children:a.label})]},c))]}),(0,q.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-6",children:[(0,q.jsxs)("div",{className:"space-y-4",children:[(0,q.jsx)("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Resumo dos Itens"}),(0,q.jsx)("div",{className:"space-y-3",children:a.items.map(a=>(0,q.jsxs)("div",{className:"flex justify-between items-center bg-white p-3 rounded-xl border border-slate-100",children:[(0,q.jsxs)("div",{className:"flex items-center gap-3",children:[(0,q.jsx)("img",{src:a.images[0],className:"w-10 h-10 rounded-lg object-cover"}),(0,q.jsxs)("div",{children:[(0,q.jsx)("p",{className:"text-xs font-bold text-slate-800",children:a.name}),(0,q.jsxs)("p",{className:"text-[10px] text-slate-400",children:[a.quantity,"x R$ ",a.price.toFixed(2)]})]})]}),(0,q.jsxs)("span",{className:"text-xs font-bold text-slate-900",children:["R$ ",(a.price*a.quantity).toFixed(2)]})]},a.cartId))})]}),(0,q.jsxs)("div",{className:"space-y-4",children:[(0,q.jsx)("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Log\xedstica & Rastreio"}),(0,q.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-slate-100 space-y-4",children:[(0,q.jsxs)("div",{className:"flex items-start gap-3",children:[(0,q.jsx)(us,{size:16,className:"text-slate-400 mt-0.5"}),(0,q.jsxs)("div",{children:[(0,q.jsx)("p",{className:"text-xs font-bold text-slate-800",children:"PICKUP"===a.deliveryMethod?"Retirada na Loja Augusta":"Entrega no Endere\xe7o"}),(0,q.jsx)("p",{className:"text-[10px] text-slate-400 leading-relaxed",children:"Rua Augusta, 1500 - Consola\xe7\xe3o, S\xe3o Paulo - SP"})]})]}),a.trackingCode&&(0,q.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-100 rounded-xl",children:[(0,q.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,q.jsx)("span",{className:"text-[9px] font-black text-blue-700 uppercase",children:"C\xf3digo de Rastreio"}),(0,q.jsx)("span",{className:"text-[10px] font-bold text-blue-900",children:a.trackingCode})]}),(0,q.jsx)("button",{className:"w-full py-2 bg-blue-600 text-white text-[10px] font-bold rounded-lg hover:bg-blue-700 transition-colors uppercase tracking-widest",children:"Ver Mapa de Entrega"})]}),(0,q.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,q.jsxs)("button",{onClick:()=>c(a),className:"flex-1 py-3 bg-slate-900 text-white text-[10px] font-black uppercase rounded-lg shadow-md flex items-center justify-center gap-2 active:scale-95 transition-all",children:[(0,q.jsx)(tf,{size:14})," Repetir Pedido"]}),(0,q.jsxs)("button",{className:"flex-1 py-3 bg-white border border-slate-200 text-slate-700 text-[10px] font-black uppercase rounded-lg flex items-center justify-center gap-2 hover:bg-slate-50 transition-all",children:[(0,q.jsx)(s1,{size:14})," Suporte"]})]})]})]})]})]})]},a.id)})})]})},uF=x("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),uG=x("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),uH=x("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),uI=({services:a,plans:b,setPlans:c,currentUser:d})=>{let[e,f]=(0,r.useState)("membership"),[g,h]=(0,r.useState)(null),[i,j]=(0,r.useState)(!1),[k,l]=(0,r.useState)(!1),[m,n]=(0,r.useState)(null),[o,p]=(0,r.useState)(""),[s,t]=(0,r.useState)(0),[u,v]=(0,r.useState)({}),[w,x]=(0,r.useState)({name:"",price:0,servicesPerMonth:2,includedServiceIds:[],includesBeard:!1,cac:25});b.find(a=>a.id===g),(0,r.useEffect)(()=>{t(pX()),v({})},[]);let y=pv.filter(a=>a.membershipId||pV(a.id)),A=(()=>{let b=a.filter(a=>w.includedServiceIds.includes(a.id)),c=b.length?b.reduce((a,b)=>a+b.price,0)/b.length:0,d=b.length?b.reduce((a,b)=>a+b.cost,0)/b.length:0,e=d*w.servicesPerMonth,f=function(a,b,c=.2){return a<=0?0:(a-(b+a*c+.025*a))/a*100}(w.price,e),g=function(a,b=24){return a*b}(w.price-e,12);return{avgServicePrice:c,avgServiceCost:d,monthlyServicesCost:e,margin:Math.max(0,f),ltv:Math.max(0,g),break_even_months:e>0?Math.ceil(w.price/e):0}})(),B=({title:a,value:b,trend:c,icon:d,color:e})=>(0,q.jsxs)("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex flex-col justify-between group hover:shadow-md transition-all",children:[(0,q.jsxs)("div",{className:"flex justify-between items-start",children:[(0,q.jsx)("div",{className:`p-3 rounded-2xl ${e}`,children:d}),(0,q.jsx)("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-full text-emerald-600 bg-emerald-50",children:c})]}),(0,q.jsxs)("div",{className:"mt-4",children:[(0,q.jsx)("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:a}),(0,q.jsx)("h3",{className:"text-3xl font-black text-brand-dark tracking-tighter",children:b})]})]});return(0,q.jsxs)("div",{className:"space-y-8 animate-fade-in pb-10",children:[(0,q.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("h2",{className:"text-3xl font-bold text-brand-dark tracking-tight",children:"Estrat\xe9gia & Crescimento"}),(0,q.jsx)("p",{className:"text-brand-midGray mt-1 font-medium",children:"Gest\xe3o inteligente de planos e reten\xe7\xe3o."})]}),(0,q.jsxs)("div",{className:"flex bg-white p-1 rounded-2xl border border-slate-100 shadow-sm",children:[(0,q.jsx)("button",{onClick:()=>f("membership"),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${"membership"===e?"bg-brand-dark text-white":"text-slate-400"}`,children:"Clubes"}),(0,q.jsx)("button",{onClick:()=>f("subscribers"),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${"subscribers"===e?"bg-brand-dark text-white":"text-slate-400"}`,children:"Relat\xf3rio Assinantes"}),(0,q.jsx)("button",{onClick:()=>f("analysis"),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${"analysis"===e?"bg-brand-dark text-white":"text-slate-400"}`,children:"An\xe1lise"})]})]}),(0,q.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,q.jsx)(B,{title:"Receita Recorrente (MRR)",value:`R$ ${pJ.mrr.toFixed(2)}`,trend:"+15%",icon:(0,q.jsx)(tf,{size:20}),color:"bg-blue-50 text-blue-600"}),(0,q.jsx)(B,{title:"Churn Rate",value:`${pJ.churnRate}%`,trend:"-2%",icon:(0,q.jsx)(uF,{size:20}),color:"bg-red-50 text-red-600"}),(0,q.jsx)(B,{title:"Membros Ativos",value:s.toString(),trend:`+${s>0?s:0}`,icon:(0,q.jsx)(M,{size:20}),color:"bg-emerald-50 text-emerald-600"}),(0,q.jsx)(B,{title:"LTV M\xe9dio",value:`R$ ${pJ.clv.toFixed(0)}`,trend:"+R$ 20",icon:(0,q.jsx)(uG,{size:20}),color:"bg-amber-50 text-amber-600"})]}),"membership"===e&&(0,q.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[b.map(a=>(0,q.jsxs)("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm relative overflow-hidden group",children:[(0,q.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-brand-light/5 rounded-full blur-3xl -mr-16 -mt-16"}),(0,q.jsxs)("div",{className:"relative z-10 flex justify-between items-start",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("h3",{className:"text-2xl font-black text-brand-dark tracking-tighter",children:a.name}),(0,q.jsxs)("p",{className:"text-sm font-bold text-slate-400 mb-4 uppercase tracking-widest",children:[a.servicesPerMonth," servi\xe7os p/ m\xeas"]}),(0,q.jsxs)("div",{className:"text-3xl font-black text-brand-dark mb-6",children:["R$ ",a.price.toFixed(2)," ",(0,q.jsx)("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"/ mensal"})]})]}),(0,q.jsxs)("div",{className:"bg-emerald-50 text-emerald-600 px-4 py-2 rounded-2xl font-bold text-xs uppercase border border-emerald-100",children:[a.activeMembers," Ativos"]})]}),(0,q.jsxs)("div",{className:"pt-6 border-t border-slate-50 flex gap-2",children:[(0,q.jsxs)("button",{onClick:()=>{n(a.id),l(!0)},className:"flex-1 py-3 bg-brand-dark text-white rounded-xl text-xs font-bold hover:bg-black transition-all flex items-center justify-center gap-2",children:[(0,q.jsx)(uw,{size:16})," Assinar Plano"]}),(0,q.jsx)("button",{className:"p-3 bg-slate-100 text-slate-400 rounded-xl hover:text-brand-dark transition-all",children:(0,q.jsx)(F,{size:18})})]})]},a.id)),(0,q.jsxs)("button",{onClick:()=>j(!0),className:"bg-slate-50 border-2 border-dashed border-slate-200 rounded-[2.5rem] p-8 flex flex-col items-center justify-center gap-3 text-slate-400 hover:border-brand-dark hover:text-brand-dark transition-all group",children:[(0,q.jsx)(pi,{size:40,className:"group-hover:scale-110 transition-transform"}),(0,q.jsx)("span",{className:"font-bold",children:"Criar Novo Clube Barvo"})]})]}),"subscribers"===e&&(0,q.jsxs)("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-fade-in",children:[(0,q.jsxs)("div",{className:"p-6 border-b border-slate-100 flex flex-col md:flex-row gap-4 justify-between items-center",children:[(0,q.jsxs)("h3",{className:"text-xl font-bold text-brand-dark flex items-center gap-2",children:[(0,q.jsx)(M,{size:20,className:"text-blue-500"})," Relat\xf3rio de Assinantes"]}),(0,q.jsxs)("div",{className:"relative w-full md:w-64",children:[(0,q.jsx)(tk,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),(0,q.jsx)("input",{type:"text",placeholder:"Filtrar por nome...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-blue-500 text-sm",value:o,onChange:a=>p(a.target.value)})]})]}),(0,q.jsx)("div",{className:"overflow-x-auto",children:(0,q.jsxs)("table",{className:"w-full text-left",children:[(0,q.jsx)("thead",{className:"bg-slate-50 text-slate-500 text-[10px] font-bold uppercase tracking-widest",children:(0,q.jsxs)("tr",{children:[(0,q.jsx)("th",{className:"px-6 py-4",children:"Assinante"}),(0,q.jsx)("th",{className:"px-6 py-4",children:"Plano"}),(0,q.jsx)("th",{className:"px-6 py-4",children:"Ativo desde"}),(0,q.jsx)("th",{className:"px-6 py-4",children:"Status"}),(0,q.jsx)("th",{className:"px-6 py-4 text-right",children:"Hist\xf3rico / Migra\xe7\xe3o"})]})}),(0,q.jsx)("tbody",{className:"divide-y divide-slate-100",children:y.filter(a=>a.name.toLowerCase().includes(o.toLowerCase())).map(a=>{let c=b.find(b=>b.id===a.membershipId);return(0,q.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors",children:[(0,q.jsx)("td",{className:"px-6 py-4",children:(0,q.jsxs)("div",{className:"flex items-center gap-3",children:[(0,q.jsx)(z,{url:a.avatar,name:a.name,size:"sm",className:"!w-10 !h-10"}),(0,q.jsxs)("div",{children:[(0,q.jsx)("p",{className:"font-bold text-brand-dark text-sm",children:a.name}),(0,q.jsx)("p",{className:"text-[10px] text-slate-400",children:a.email})]})]})}),(0,q.jsx)("td",{className:"px-6 py-4",children:(0,q.jsx)("span",{className:"font-bold text-slate-700 text-sm",children:c?.name})}),(0,q.jsx)("td",{className:"px-6 py-4 text-sm text-slate-500",children:a.membershipStartDate||"12/10/2023"}),(0,q.jsx)("td",{className:"px-6 py-4",children:(0,q.jsx)("span",{className:"bg-emerald-100 text-emerald-700 text-[10px] font-black px-2 py-1 rounded uppercase",children:"Ativo"})}),(0,q.jsx)("td",{className:"px-6 py-4 text-right",children:(0,q.jsx)("button",{className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors group",title:"Ver Migra\xe7\xf5es",children:(0,q.jsx)(ul,{size:18})})})]},a.id)})})]})})]}),k&&m&&(0,q.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/60 backdrop-blur-md p-4 transition-all duration-300",children:(0,q.jsxs)("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-md overflow-hidden border border-slate-100 animate-fade-in relative",children:[(0,q.jsx)("button",{onClick:()=>{l(!1),n(null)},className:"absolute top-6 right-6 p-3 bg-slate-100 text-slate-400 hover:text-brand-dark hover:bg-slate-200 rounded-full transition-all z-20",children:(0,q.jsx)(R,{size:20,strokeWidth:3})}),(0,q.jsxs)("div",{className:"p-8 bg-gradient-to-r from-brand-dark to-black text-white text-center",children:[(0,q.jsx)(s8,{size:40,className:"mx-auto mb-4 text-amber-400 fill-amber-400"}),(0,q.jsx)("h3",{className:"text-2xl font-black tracking-tighter mb-2",children:"Ativar Assinatura"}),(0,q.jsx)("p",{className:"text-slate-300 text-sm",children:"Desfrute de benef\xedcios exclusivos do plano"})]}),(0,q.jsx)("div",{className:"p-8 space-y-6",children:b.find(a=>a.id===m)&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)("div",{className:"bg-slate-50 rounded-2xl p-6 text-center border border-slate-100",children:[(0,q.jsx)("h4",{className:"text-2xl font-black text-brand-dark mb-2",children:b.find(a=>a.id===m)?.name}),(0,q.jsxs)("div",{className:"text-4xl font-black text-brand-dark mb-2",children:["R$ ",b.find(a=>a.id===m)?.price.toFixed(2)]}),(0,q.jsx)("p",{className:"text-sm text-slate-500",children:"por m\xeas"})]}),(0,q.jsxs)("div",{className:"space-y-3",children:[(0,q.jsx)("h5",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Benef\xedcios Inclusos:"}),(0,q.jsxs)("div",{className:"space-y-2",children:[(0,q.jsxs)("div",{className:"flex items-start gap-3",children:[(0,q.jsx)(pp,{size:18,className:"text-emerald-500 mt-0.5 flex-shrink-0",fill:"currentColor"}),(0,q.jsxs)("span",{className:"text-sm text-slate-700",children:[b.find(a=>a.id===m)?.servicesPerMonth,"x Servi\xe7os por m\xeas"]})]}),(0,q.jsxs)("div",{className:"flex items-start gap-3",children:[(0,q.jsx)(pp,{size:18,className:"text-emerald-500 mt-0.5 flex-shrink-0",fill:"currentColor"}),(0,q.jsx)("span",{className:"text-sm text-slate-700",children:"15% de desconto em cada servi\xe7o"})]}),(0,q.jsxs)("div",{className:"flex items-start gap-3",children:[(0,q.jsx)(pp,{size:18,className:"text-emerald-500 mt-0.5 flex-shrink-0",fill:"currentColor"}),(0,q.jsx)("span",{className:"text-sm text-slate-700",children:"Prioridade no agendamento"})]}),(0,q.jsxs)("div",{className:"flex items-start gap-3",children:[(0,q.jsx)(pp,{size:18,className:"text-emerald-500 mt-0.5 flex-shrink-0",fill:"currentColor"}),(0,q.jsx)("span",{className:"text-sm text-slate-700",children:"Suporte priorit\xe1rio"})]})]})]}),(0,q.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex gap-3",children:[(0,q.jsx)(pc,{size:18,className:"text-blue-600 flex-shrink-0"}),(0,q.jsxs)("p",{className:"text-xs text-blue-700",children:[(0,q.jsx)("span",{className:"font-bold",children:"Simula\xe7\xe3o:"})," Este \xe9 um checkout mockado para demonstra\xe7\xe3o. O plano ser\xe1 ativado imediatamente."]})]}),(0,q.jsxs)("button",{onClick:()=>(a=>{if(!d)return void alert("Fa\xe7a login para assinar um plano");let b=function(a,b){let c={};return c[a]?{success:!1,message:"Cliente j\xe1 possui assinatura ativa"}:(c[a]={planId:b,startDate:new Date().toISOString()},localStorage.setItem("pro_barber_memberships",JSON.stringify(c)),pZ(a),{success:!0,message:"Assinatura ativada com sucesso"})}(d.id,a);b.success?(t(pX()),v({}),l(!1),n(null),alert(` ${b.message}

Voc\xea agora est\xe1 inscrito no plano e pode aproveitar os benef\xedcios!`)):alert(` ${b.message}`)})(m),className:"w-full py-4 bg-brand-dark text-white font-black text-lg rounded-2xl shadow-xl hover:bg-black transition-all flex items-center justify-center gap-2",children:[(0,q.jsx)(uw,{size:20})," Confirmar Assinatura"]}),(0,q.jsx)("p",{className:"text-[10px] text-slate-400 text-center",children:"Voc\xea pode cancelar ou alterar seu plano a qualquer momento."})]})})]})}),i&&(0,q.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/60 backdrop-blur-md p-4 transition-all duration-300",children:(0,q.jsxs)("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-2xl overflow-hidden border border-slate-100 max-h-[90vh] flex flex-col animate-fade-in relative",children:[(0,q.jsx)("button",{onClick:()=>j(!1),className:"absolute top-6 right-6 p-3 bg-slate-100 text-slate-400 hover:text-brand-dark hover:bg-slate-200 rounded-full transition-all z-20 shadow-sm",children:(0,q.jsx)(R,{size:20,strokeWidth:3})}),(0,q.jsxs)("div",{className:"p-8 md:p-10 border-b border-slate-50 bg-slate-50/50",children:[(0,q.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,q.jsx)(s8,{size:24,className:"text-amber-500 fill-amber-500"}),(0,q.jsx)("h3",{className:"text-2xl font-black text-brand-dark tracking-tighter",children:"Criador de Clubes Barvo"})]}),(0,q.jsx)("p",{className:"text-slate-500 text-sm font-medium",children:"Configure a recorr\xeancia e benef\xedcios exclusivos para seus clientes."})]}),(0,q.jsxs)("div",{className:"p-8 md:p-10 overflow-y-auto space-y-8 custom-scrollbar",children:[(0,q.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,q.jsxs)("div",{className:"space-y-6",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1 mb-2 block",children:"Nome do Plano"}),(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)(uh,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),(0,q.jsx)("input",{type:"text",placeholder:"Ex: Premium Mensal",className:"w-full pl-12 pr-5 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-brand-dark focus:bg-white text-slate-900 font-bold text-lg placeholder:text-slate-300 transition-all shadow-sm",value:w.name,onChange:a=>x({...w,name:a.target.value})})]})]}),(0,q.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1 mb-2 block",children:"Mensalidade (R$)"}),(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)(uH,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),(0,q.jsx)("input",{type:"number",className:"w-full pl-12 pr-5 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-brand-dark focus:bg-white text-slate-900 font-bold text-lg shadow-sm",value:w.price||99,onChange:a=>x({...w,price:Number(a.target.value)})})]})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1 mb-2 block",children:"Frequ\xeancia / M\xeas"}),(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)(uj,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),(0,q.jsx)("input",{type:"number",className:"w-full pl-12 pr-5 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:border-brand-dark focus:bg-white text-slate-900 font-bold text-lg shadow-sm",value:w.servicesPerMonth,onChange:a=>x({...w,servicesPerMonth:Number(a.target.value)})})]})]})]})]}),(0,q.jsxs)("div",{className:"space-y-4",children:[(0,q.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,q.jsx)(G,{size:14,className:"text-slate-400"}),(0,q.jsx)("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Incluso no Plano"})]}),(0,q.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2 custom-scrollbar bg-slate-50/50 p-2 rounded-2xl border border-slate-100",children:a.map(a=>(0,q.jsxs)("button",{onClick:()=>(a=>{x(b=>({...b,includedServiceIds:b.includedServiceIds.includes(a)?b.includedServiceIds.filter(b=>b!==a):[...b.includedServiceIds,a]}))})(a.id),className:`w-full flex justify-between items-center p-3.5 rounded-xl border transition-all ${w.includedServiceIds.includes(a.id)?"bg-brand-dark text-white border-brand-dark":"bg-white text-slate-600 border-slate-200"}`,children:[(0,q.jsxs)("div",{className:"text-left",children:[(0,q.jsx)("p",{className:"text-xs font-bold mb-1",children:a.name}),(0,q.jsxs)("p",{className:`text-[10px] ${w.includedServiceIds.includes(a.id)?"text-brand-light/60":"text-slate-400"}`,children:["Valor avulso: R$ ",a.price]})]}),w.includedServiceIds.includes(a.id)&&(0,q.jsx)(pp,{size:18,className:"text-brand-light",fill:"currentColor"})]},a.id))})]})]}),(0,q.jsxs)("div",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden",children:[(0,q.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-brand-light/10 rounded-full blur-3xl -mr-16 -mt-16"}),(0,q.jsxs)("div",{className:"flex items-center gap-2 mb-6 border-b border-white/10 pb-4",children:[(0,q.jsx)(E,{size:18,className:"text-brand-light"}),(0,q.jsx)("h4",{className:"font-black text-brand-light uppercase tracking-widest text-xs",children:"An\xe1lise de Lucratividade"})]}),(0,q.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-8",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("span",{className:"text-[10px] text-slate-400 font-bold uppercase block mb-1",children:"Margem"}),(0,q.jsxs)("span",{className:`text-2xl font-black ${A.margin>=50?"text-emerald-400":A.margin>=30?"text-amber-400":"text-red-400"}`,children:[A.margin.toFixed(1),"%"]})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)("span",{className:"text-[10px] text-slate-400 font-bold uppercase block mb-1",children:"Custo Mensal"}),(0,q.jsxs)("span",{className:"text-2xl font-black text-slate-300",children:["R$ ",A.monthlyServicesCost.toFixed(2)]})]}),(0,q.jsxs)("div",{children:[(0,q.jsx)("span",{className:"text-[10px] text-slate-400 font-bold uppercase block mb-1",children:"LTV Anual"}),(0,q.jsxs)("span",{className:"text-2xl font-black text-blue-400",children:["R$ ",A.ltv.toFixed(0)]})]})]})]}),(0,q.jsx)("button",{onClick:()=>{c([{id:`plan_${Date.now()}`,name:w.name||"Novo Plano",price:w.price||99,servicesPerMonth:w.servicesPerMonth,includedServiceIds:w.includedServiceIds,includesBeard:w.includesBeard,benefits:[`${w.servicesPerMonth}x Servi\xe7os/m\xeas`],activeMembers:0,utilizationRate:0,revenueGenerated:0},...b]),j(!1)},disabled:0===w.includedServiceIds.length||!w.name,className:"w-full py-5 bg-brand-dark text-white font-black text-lg rounded-2xl shadow-2xl hover:bg-black transition-all disabled:opacity-30 disabled:cursor-not-allowed",children:"Ativar Clube de Assinatura"})]})]})})]})},uJ=x("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),uK=x("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),uL=x("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);var uM=["type","layout","connectNulls","ref"],uN=["key"];function uO(a){return(uO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function uP(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function uQ(){return(uQ=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function uR(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function uS(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?uR(Object(c),!0).forEach(function(b){uZ(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):uR(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function uT(a){return function(a){if(Array.isArray(a))return uU(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function(a,b){if(a){if("string"==typeof a)return uU(a,void 0);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return uU(a,b)}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uU(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function uV(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,u$(d.key),d)}}function uW(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(uW=function(){return!!a})()}function uX(a){return(uX=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function uY(a,b){return(uY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function uZ(a,b,c){return(b=u$(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function u$(a){var b=function(a,b){if("object"!=uO(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=uO(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==uO(b)?b:b+""}var u_=function(a){var b,c;function d(){var a,b,c;if(!(this instanceof d))throw TypeError("Cannot call a class as a function");for(var e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];return b=d,c=[].concat(f),b=uX(b),uZ(a=function(a,b){if(b&&("object"===uO(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,uW()?Reflect.construct(b,c||[],uX(this).constructor):b.apply(this,c)),"state",{isAnimationFinished:!0,totalLength:0}),uZ(a,"generateSimpleStrokeDasharray",function(a,b){return"".concat(b,"px ").concat(a-b,"px")}),uZ(a,"getStrokeDasharray",function(b,c,e){var f=e.reduce(function(a,b){return a+b});if(!f)return a.generateSimpleStrokeDasharray(c,b);for(var g=Math.floor(b/f),h=b%f,i=c-b,j=[],k=0,l=0;k<e.length;l+=e[k],++k)if(l+e[k]>h){j=[].concat(uT(e.slice(0,k)),[h-l]);break}var m=j.length%2==0?[0,i]:[i];return[].concat(uT(d.repeat(e,g)),uT(j),m).map(function(a){return"".concat(a,"px")}).join(", ")}),uZ(a,"id",ap("recharts-line-")),uZ(a,"pathRef",function(b){a.mainCurve=b}),uZ(a,"handleAnimationEnd",function(){a.setState({isAnimationFinished:!0}),a.props.onAnimationEnd&&a.props.onAnimationEnd()}),uZ(a,"handleAnimationStart",function(){a.setState({isAnimationFinished:!1}),a.props.onAnimationStart&&a.props.onAnimationStart()}),a}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return d.prototype=Object.create(a&&a.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),a&&uY(d,a),b=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch(a){return 0}}},{key:"renderErrorBar",value:function(a,b){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var c=this.props,d=c.points,e=c.xAxis,f=c.yAxis,g=c.layout,h=aT(c.children,jp);if(!h)return null;var i=function(a,b){return{x:a.x,y:a.y,value:a.value,errorVal:jA(a.payload,b)}};return s().createElement(bg,{clipPath:a?"url(#clipPath-".concat(b,")"):null},h.map(function(a){return s().cloneElement(a,{key:"bar-".concat(a.props.dataKey),data:d,xAxis:e,yAxis:f,layout:g,dataPointFormatter:i})}))}},{key:"renderDots",value:function(a,b,c){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,f=e.dot,g=e.points,h=e.dataKey,i=aY(this.props,!1),j=aY(f,!0),k=g.map(function(a,b){var c=uS(uS(uS({key:"dot-".concat(b),r:3},i),j),{},{index:b,cx:a.x,cy:a.y,value:a.value,dataKey:h,payload:a.payload,points:g});return d.renderDotItem(f,c)}),l={clipPath:a?"url(#clipPath-".concat(b?"":"dots-").concat(c,")"):null};return s().createElement(bg,uQ({className:"recharts-line-dots",key:"dots"},l),k)}},{key:"renderCurveStatically",value:function(a,b,c,d){var e=this.props,f=e.type,g=e.layout,h=e.connectNulls,i=uS(uS(uS({},aY((e.ref,uP(e,uM)),!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:b?"url(#clipPath-".concat(c,")"):null,points:a},d),{},{type:f,layout:g,connectNulls:h});return s().createElement(nB,uQ({},i,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,b){var c=this,d=this.props,e=d.points,f=d.strokeDasharray,g=d.isAnimationActive,h=d.animationBegin,i=d.animationDuration,j=d.animationEasing,k=d.animationId,l=d.animateNewValues,m=d.width,n=d.height,o=this.state,p=o.prevPoints,q=o.totalLength;return s().createElement(dS,{begin:h,duration:i,isActive:g,easing:j,from:{t:0},to:{t:1},key:"line-".concat(k),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var g,h=d.t;if(p){var i=p.length/e.length,j=e.map(function(a,b){var c=Math.floor(b*i);if(p[c]){var d=p[c],e=at(d.x,a.x),f=at(d.y,a.y);return uS(uS({},a),{},{x:e(h),y:f(h)})}if(l){var g=at(2*m,a.x),j=at(n/2,a.y);return uS(uS({},a),{},{x:g(h),y:j(h)})}return uS(uS({},a),{},{x:a.x,y:a.y})});return c.renderCurveStatically(j,a,b)}var k=at(0,q)(h);if(f){var o="".concat(f).split(/[,\s]+/gim).map(function(a){return parseFloat(a)});g=c.getStrokeDasharray(k,q,o)}else g=c.generateSimpleStrokeDasharray(q,k);return c.renderCurveStatically(e,a,b,{strokeDasharray:g})})}},{key:"renderCurve",value:function(a,b){var c=this.props,d=c.points,e=c.isAnimationActive,f=this.state,g=f.prevPoints,h=f.totalLength;return e&&d&&d.length&&(!g&&h>0||!ix()(g,d))?this.renderCurveWithAnimation(a,b):this.renderCurveStatically(d,a,b)}},{key:"render",value:function(){var a,b=this.props,c=b.hide,d=b.dot,e=b.points,f=b.className,g=b.xAxis,h=b.yAxis,i=b.top,j=b.left,k=b.width,l=b.height,m=b.isAnimationActive,n=b.id;if(c||!e||!e.length)return null;var o=this.state.isAnimationFinished,p=1===e.length,q=Z("recharts-line",f),r=g&&g.allowDataOverflow,t=h&&h.allowDataOverflow,u=r||t,v=aj()(n)?this.id:n,w=null!=(a=aY(d,!1))?a:{r:3,strokeWidth:2},x=w.r,y=w.strokeWidth,z=(d&&"object"===aN(d)&&"clipDot"in d?d:{}).clipDot,A=void 0===z||z,B=2*(void 0===x?3:x)+(void 0===y?2:y);return s().createElement(bg,{className:q},r||t?s().createElement("defs",null,s().createElement("clipPath",{id:"clipPath-".concat(v)},s().createElement("rect",{x:r?j:j-k/2,y:t?i:i-l/2,width:r?k:2*k,height:t?l:2*l})),!A&&s().createElement("clipPath",{id:"clipPath-dots-".concat(v)},s().createElement("rect",{x:j-B/2,y:i-B/2,width:k+B,height:l+B}))):null,!p&&this.renderCurve(u,v),this.renderErrorBar(u,v),(p||d)&&this.renderDots(u,A,v),(!m||o)&&k3.renderCallByParent(this.props,e))}}],c=[{key:"getDerivedStateFromProps",value:function(a,b){return a.animationId!==b.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:b.curPoints}:a.points!==b.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,b){for(var c=a.length%2!=0?[].concat(uT(a),[0]):a,d=[],e=0;e<b;++e)d=[].concat(uT(d),uT(c));return d}},{key:"renderDotItem",value:function(a,b){var c;if(s().isValidElement(a))c=s().cloneElement(a,b);else if(ay()(a))c=a(b);else{var d=b.key,e=uP(b,uN),f=Z("recharts-line-dot","boolean"!=typeof a?a.className:"");c=s().createElement(cH,uQ({key:d},e,{className:f}))}return c}}],b&&uV(d.prototype,b),c&&uV(d,c),Object.defineProperty(d,"prototype",{writable:!1}),d}(r.PureComponent);uZ(u_,"displayName","Line"),uZ(u_,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!bC.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),uZ(u_,"getComposedData",function(a){var b=a.props,c=a.xAxis,d=a.yAxis,e=a.xAxisTicks,f=a.yAxisTicks,g=a.dataKey,h=a.bandSize,i=a.displayedData,j=a.offset,k=b.layout;return uS({points:i.map(function(a,b){var i=jA(a,g);return"horizontal"===k?{x:jX({axis:c,ticks:e,bandSize:h,entry:a,index:b}),y:aj()(i)?null:d.scale(i),value:i,payload:a}:{x:aj()(i)?null:c.scale(i),y:jX({axis:d,ticks:f,bandSize:h,entry:a,index:b}),value:i,payload:a}}),layout:k},j)});var u0=og({chartName:"LineChart",GraphicalChild:u_,axisComponents:[{axisType:"xAxis",AxisComp:oK},{axisType:"yAxis",AxisComp:oT}],formatAxisMap:l_});let u1=({appointments:a,membershipPlans:b,services:c,users:d})=>{let[e,f]=(0,r.useState)("3m"),[g,h]=(0,r.useState)("revenue"),i=pX();pX();let j=b.reduce((a,b)=>a+b.price*b.activeMembers,0),k=12*j,l=b.length>0?b.reduce((a,b)=>a+12*b.price,0)/b.length:0,m=new Date,n=a.filter(a=>{let b=new Date(a.startTime);return b.getMonth()===m.getMonth()&&b.getFullYear()===m.getFullYear()}).length,o=a.reduce((a,b)=>{let d=c.find(a=>a.id===b.serviceId);return a+(d?.price||0)},0),p=j+o,s=function(a,b=.1,c=12){let d=[a];for(let a=1;a<c;a++){let c=d[a-1]*(1+b);d.push(c)}return d}(j,.12,12),t=s.map((a,b)=>({month:`M${b+1}`,MRR:Math.round(a),forecast:!0})),u=[{name:"Assinaturas",value:j,color:"#3b82f6"},{name:"Avulso",value:o,color:"#10b981"}],v=d.filter(a=>"CUSTOMER"===a.role).length,w=v-i,x=[{name:"Assinantes",value:i,color:"#8b5cf6"},{name:"Ocasionais",value:w,color:"#f59e0b"}],y=({title:a,value:b,trend:c,icon:d,color:e,suffix:f=""})=>(0,q.jsxs)("div",{className:"bg-white rounded-[2rem] border border-slate-100 p-6 shadow-sm hover:shadow-md transition-all",children:[(0,q.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,q.jsx)("div",{className:`p-3 rounded-xl ${e}`,children:d}),(0,q.jsxs)("div",{className:`flex items-center gap-1 text-xs font-bold px-2 py-1 rounded-full ${c>=0?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:[c>=0?(0,q.jsx)(uJ,{size:14}):(0,q.jsx)(uK,{size:14}),(0,q.jsxs)("span",{children:[Math.abs(c),"%"]})]})]}),(0,q.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:a}),(0,q.jsxs)("p",{className:"text-2xl font-black text-slate-900",children:[b,f]})]});return(0,q.jsxs)("div",{className:"space-y-8 pb-10",children:[(0,q.jsxs)("div",{children:[(0,q.jsx)("h2",{className:"text-3xl font-black text-brand-dark tracking-tight",children:"Vis\xe3o do Investidor"}),(0,q.jsx)("p",{className:"text-brand-midGray mt-1 font-medium",children:"M\xe9tricas e Proje\xe7\xf5es de Crescimento"})]}),(0,q.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,q.jsx)(y,{title:"MRR (Receita Recorrente)",value:`R$ ${j.toFixed(0)}`,trend:15,icon:(0,q.jsx)(L,{size:20,className:"text-blue-600"}),color:"bg-blue-50"}),(0,q.jsx)(y,{title:"ARR (Receita Anual)",value:`R$ ${k.toFixed(0)}`,trend:15,icon:(0,q.jsx)(E,{size:20,className:"text-green-600"}),color:"bg-green-50"}),(0,q.jsx)(y,{title:"Membros Ativos",value:i,trend:8,icon:(0,q.jsx)(M,{size:20,className:"text-purple-600"}),color:"bg-purple-50"}),(0,q.jsx)(y,{title:"LTV M\xe9dio",value:`R$ ${l.toFixed(0)}`,trend:12,icon:(0,q.jsx)(uG,{size:20,className:"text-amber-600"}),color:"bg-amber-50"})]}),(0,q.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,q.jsx)(y,{title:"Churn Rate",value:2,trend:-2,icon:(0,q.jsx)(uF,{size:20,className:"text-red-600"}),color:"bg-red-50",suffix:"%"}),(0,q.jsx)(y,{title:"Agendamentos (m\xeas)",value:n,trend:20,icon:(0,q.jsx)(C,{size:20,className:"text-cyan-600"}),color:"bg-cyan-50"}),(0,q.jsx)(y,{title:"Receita Total (m\xeas)",value:`R$ ${p.toFixed(0)}`,trend:18,icon:(0,q.jsx)(pQ,{size:20,className:"text-yellow-600"}),color:"bg-yellow-50"})]}),(0,q.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,q.jsxs)("div",{className:"bg-white rounded-[2rem] border border-slate-100 p-8 shadow-sm",children:[(0,q.jsxs)("h3",{className:"text-lg font-black text-slate-900 mb-6 flex items-center gap-2",children:[(0,q.jsx)(uL,{size:20,className:"text-blue-600"}),"Proje\xe7\xe3o de MRR (12 meses)"]}),(0,q.jsx)(a5,{width:"100%",height:300,children:(0,q.jsxs)(u0,{data:t,children:[(0,q.jsx)(o9,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,q.jsx)(oK,{dataKey:"month",stroke:"#9ca3af"}),(0,q.jsx)(oT,{stroke:"#9ca3af"}),(0,q.jsx)(bP,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"0.75rem"},formatter:a=>`R$ ${a}`}),(0,q.jsx)(u_,{type:"monotone",dataKey:"MRR",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6"}})]})}),(0,q.jsxs)("div",{className:"mt-6 pt-6 border-t border-slate-100",children:[(0,q.jsx)("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:"Proje\xe7\xe3o:"}),(0,q.jsxs)("p",{className:"text-2xl font-black text-brand-dark",children:["R$ ",s[11].toFixed(0)]}),(0,q.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Estimado para m\xeas 12 com crescimento de 12%/m\xeas"})]})]}),(0,q.jsxs)("div",{className:"bg-white rounded-[2rem] border border-slate-100 p-8 shadow-sm",children:[(0,q.jsxs)("h3",{className:"text-lg font-black text-slate-900 mb-6 flex items-center gap-2",children:[(0,q.jsx)(tn,{size:20,className:"text-purple-600"}),"Mix de Receita"]}),(0,q.jsx)(a5,{width:"100%",height:300,children:(0,q.jsxs)(uc,{children:[(0,q.jsx)(ub,{data:u,cx:"50%",cy:"50%",innerRadius:80,outerRadius:120,paddingAngle:2,dataKey:"value",children:u.map((a,b)=>(0,q.jsx)(kT,{fill:a.color},`cell-${b}`))}),(0,q.jsx)(bP,{formatter:a=>`R$ ${a}`}),(0,q.jsx)(cF,{})]})}),(0,q.jsx)("div",{className:"mt-6 space-y-3 pt-6 border-t border-slate-100",children:u.map((a,b)=>(0,q.jsxs)("div",{className:"flex justify-between items-center",children:[(0,q.jsx)("span",{className:"text-sm font-bold text-slate-600",children:a.name}),(0,q.jsxs)("span",{className:"font-black text-slate-900",children:["R$ ",a.value.toFixed(0)]})]},b))})]}),(0,q.jsxs)("div",{className:"bg-white rounded-[2rem] border border-slate-100 p-8 shadow-sm",children:[(0,q.jsxs)("h3",{className:"text-lg font-black text-slate-900 mb-6 flex items-center gap-2",children:[(0,q.jsx)(F,{size:20,className:"text-green-600"}),"Segmenta\xe7\xe3o de Clientes"]}),(0,q.jsx)(a5,{width:"100%",height:300,children:(0,q.jsxs)(oU,{data:x,children:[(0,q.jsx)(o9,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,q.jsx)(oK,{dataKey:"name",stroke:"#9ca3af"}),(0,q.jsx)(oT,{stroke:"#9ca3af"}),(0,q.jsx)(bP,{}),(0,q.jsx)(lU,{dataKey:"value",fill:"#8b5cf6",children:x.map((a,b)=>(0,q.jsx)(kT,{fill:a.color},`cell-${b}`))})]})}),(0,q.jsxs)("div",{className:"mt-6 pt-6 border-t border-slate-100 space-y-2",children:[(0,q.jsxs)("div",{className:"flex justify-between",children:[(0,q.jsx)("span",{className:"text-sm font-bold text-slate-600",children:"Total de Clientes"}),(0,q.jsx)("span",{className:"font-black text-slate-900",children:v})]}),(0,q.jsxs)("div",{className:"flex justify-between",children:[(0,q.jsx)("span",{className:"text-sm font-bold text-slate-600",children:"Taxa de Convers\xe3o"}),(0,q.jsxs)("span",{className:"font-black text-emerald-600",children:[(i/v*100).toFixed(1),"%"]})]})]})]}),(0,q.jsxs)("div",{className:"bg-white rounded-[2rem] border border-slate-100 p-8 shadow-sm",children:[(0,q.jsxs)("h3",{className:"text-lg font-black text-slate-900 mb-6 flex items-center gap-2",children:[(0,q.jsx)(ut,{size:20,className:"text-amber-600"}),"Proje\xe7\xf5es Financeiras"]}),(0,q.jsxs)("div",{className:"space-y-6",children:[(0,q.jsxs)("div",{children:[(0,q.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,q.jsx)("span",{className:"text-sm font-bold text-slate-600",children:"Break-even"}),(0,q.jsx)("span",{className:"font-black text-amber-600",children:"3-4 meses"})]}),(0,q.jsx)("div",{className:"w-full bg-slate-100 rounded-full h-2",children:(0,q.jsx)("div",{className:"bg-amber-600 h-2 rounded-full",style:{width:"65%"}})})]}),(0,q.jsxs)("div",{children:[(0,q.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,q.jsx)("span",{className:"text-sm font-bold text-slate-600",children:"ROI 12 meses"}),(0,q.jsx)("span",{className:"font-black text-emerald-600",children:"+240%"})]}),(0,q.jsx)("div",{className:"w-full bg-slate-100 rounded-full h-2",children:(0,q.jsx)("div",{className:"bg-emerald-600 h-2 rounded-full",style:{width:"95%"}})})]}),(0,q.jsx)("div",{className:"pt-4 border-t border-slate-100",children:(0,q.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[(0,q.jsx)("p",{className:"text-[10px] font-bold text-blue-700 uppercase tracking-widest mb-2",children:"Impacto do Investimento"}),(0,q.jsxs)("p",{className:"text-sm font-black text-blue-900",children:["Crescimento de MRR: R$ ",j.toFixed(0),"  R$ ",s[11].toFixed(0)," em 12 meses"]})]})})]})]})]}),(0,q.jsxs)("div",{className:"bg-gradient-to-r from-brand-dark to-black rounded-[2.5rem] p-8 md:p-12 text-white text-center",children:[(0,q.jsx)("h3",{className:"text-2xl font-black mb-3 tracking-tighter",children:"Pronto para Escalar?"}),(0,q.jsx)("p",{className:"text-slate-300 mb-6 max-w-2xl mx-auto",children:"Com a plataforma Pro Barber, voc\xea tem um SaaS totalmente funcional pronto para crescimento exponencial. Todas as m\xe9tricas acima s\xe3o conservadoras e baseadas em dados reais de mercado."}),(0,q.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:[(0,q.jsx)("button",{className:"bg-white text-brand-dark font-black py-4 px-8 rounded-2xl uppercase tracking-widest text-sm shadow-xl hover:scale-105 transition-transform",children:"Agendar Demo"}),(0,q.jsx)("button",{className:"border-2 border-white text-white font-black py-4 px-8 rounded-2xl uppercase tracking-widest text-sm hover:bg-white/10 transition-colors",children:"Baixar Pitch Deck"})]})]})]})},u2=x("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),u3=x("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);function u4(){let[a,b]=(0,r.useState)(null),[c,d]=(0,r.useState)(!1),[e,f]=(0,r.useState)("dashboard"),[g,h]=(0,r.useState)(!0),[i,j]=(0,r.useState)(pC),[k,l]=(0,r.useState)(pw),[m,n]=(0,r.useState)(pG),[o,p]=(0,r.useState)([]),[s,t]=(0,r.useState)(ps),[u,w]=(0,r.useState)(pI),[x,y]=(0,r.useState)(pt),[z,A]=(0,r.useState)(pv),[B,C]=(0,r.useState)(pu),[D,E]=(0,r.useState)(pK),[F,H]=(0,r.useState)("offline"),[I,J]=(0,r.useState)(null),K=z.filter(a=>a.role===v.BARBER),L=z.filter(a=>a.role===v.CUSTOMER),M=(0,r.useCallback)(async a=>{if(!sN())return void H("offline");try{h(!0);let b=a.role===v.OWNER?(await sW.getBarbershopByOwner(a.id))?.id:a.barbershopId;if(b){let[a,c,d,e,f]=await Promise.all([sW.getServices(b),sW.getAppointments(b),sW.getInventory(b),sW.getOrders(b),sW.getBarbershopById(b)]);l(a),j(c),n(d),p(e),f&&t({shopName:f.name,address:f.address,phone:f.phone,openingHours:f.opening_hours,workingDays:f.working_days,defaultCommissionRate:f.default_commission_rate}),H("connected")}}catch(a){console.error("Erro na sincronizacao:",a),J("Falha ao sincronizar dados com o servidor.")}finally{h(!1)}},[]),N=async a=>{b(a),d(!1),await M(a),f("dashboard")},O=async()=>{sN()&&await sO.auth.signOut(),b(null),d(!1),f("dashboard")},P=async b=>{try{if(sN()&&a){let c=a.role===v.OWNER?(await sW.getBarbershopByOwner(a.id))?.id:a.barbershopId,d=await sW.createAppointment({...b,barbershop_id:c,status:"CONFIRMED",startTime:b.startTime?.toISOString()});j(a=>[...a,{...d,startTime:new Date(d.startTime)}])}else{let c={id:`local-${Date.now()}`,barberId:b.barberId||K[0]?.id||"u2",customerId:a?.id||"guest",customerName:a?.name||"Visitante",serviceId:b.serviceId||k[0]?.id||"s1",startTime:b.startTime||new Date,status:"CONFIRMED"};j(a=>[...a,c])}return!0}catch(a){return J("Nao foi possivel salvar o agendamento."),!1}},Q=a=>{E(b=>{let c=b.findIndex(b=>b.id===a.id);if(c>=0){let d=[...b];return d[c]=a,d}return[...b,a]})};return g?(0,q.jsxs)("div",{className:"h-screen flex flex-col items-center justify-center bg-brand-dark text-white font-sans animate-pulse",children:[(0,q.jsx)(G,{size:48,className:"mb-4 text-brand-light"}),(0,q.jsx)("span",{className:"tracking-[0.3em] uppercase text-xs font-black",children:"Carregando Barvo..."})]}):a||c?(0,q.jsxs)(Y,{currentUser:a,currentView:e,onNavigate:f,onLogout:O,notifications:x,onMarkAllRead:()=>y(a=>a.map(a=>({...a,read:!0}))),children:[I&&(0,q.jsxs)("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 text-red-700 flex justify-between items-center rounded-r-xl shadow-sm animate-slide-in",children:[(0,q.jsxs)("div",{className:"flex items-center gap-2 font-bold",children:[(0,q.jsx)(pd,{size:20})," ",I]}),(0,q.jsx)("button",{onClick:()=>J(null),className:"text-xs font-black uppercase hover:underline",children:"Fechar"})]}),(0,q.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,q.jsxs)("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-[9px] font-black uppercase tracking-widest transition-all ${"connected"===F?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:["connected"===F?(0,q.jsx)(u2,{size:12}):(0,q.jsx)(u3,{size:12}),"connected"===F?"Sincronizado":"Modo Offline"]}),"connected"===F&&a&&(0,q.jsx)("button",{onClick:()=>M(a),className:"p-2 text-slate-400 hover:text-brand-dark transition-all",children:(0,q.jsx)(tf,{size:14,className:g?"animate-spin":""})})]}),(()=>{let c=a?.role||v.CUSTOMER;switch(e){case"dashboard":if(c===v.OWNER)return(0,q.jsx)(ph,{stats:pF,onNavigate:f});if(c===v.BARBER)return(0,q.jsx)(s9,{currentUser:a,appointments:i,commissionRate:s.defaultCommissionRate||50,onCompleteAppointment:a=>{sN()&&sW.updateAppointmentStatus(a,"COMPLETED"),j(b=>b.map(b=>b.id===a?{...b,status:"COMPLETED"}:b))},onNoShow:a=>{sN()&&sW.updateAppointmentStatus(a,"CANCELLED"),j(b=>b.map(b=>b.id===a?{...b,status:"CANCELLED"}:b))},services:k,exceptions:[],onBlockTime:()=>{}});return(0,q.jsx)(tc,{currentUser:a,appointments:i,onNavigate:f,membershipPlans:u});case"calendar":return(0,q.jsx)(pm,{appointments:i,barbers:K,services:k,onAddAppointment:P});case"queue":return(0,q.jsx)(pq,{initialQueue:pD,services:k});case"booking":return(0,q.jsx)(p1,{currentUser:a,initialData:null,services:k,onBook:P,shopSettings:s,allAppointments:i,availabilityExceptions:[]});case"appointments":return(0,q.jsx)(tj,{currentUser:a,appointments:i.filter(b=>b.customerId===a?.id),onRebook:a=>{f("booking")},onCancel:a=>{sN()&&sW.updateAppointmentStatus(a,"CANCELLED"),j(b=>b.map(b=>b.id===a?{...b,status:"CANCELLED"}:b))},onNavigate:f,services:k});case"shop":return(0,q.jsx)(uz,{currentUser:a,inventory:m,onPurchase:async(b,c,d,e)=>{try{if(b.forEach(a=>{if(a.id.startsWith("inv_")){let b=a.id.replace("inv_",""),c=m.find(a=>a.id===b);c&&c.quantity>=a.quantity&&n(c=>c.map(c=>c.id===b?{...c,quantity:c.quantity-a.quantity}:c))}}),sN()&&a){let d=a.role===v.OWNER?(await sW.getBarbershopByOwner(a.id))?.id:a.barbershopId;await sW.createOrder({customerId:a.id,items:b,totalAmount:c,barbershop_id:d,status:"PAID"}),await M(a)}return!0}catch{return J("Erro ao processar compra."),!1}}});case"orders":return(0,q.jsx)(uE,{orders:o.filter(b=>b.customerId===a?.id),onNavigate:f,onRepeatOrder:a=>{f("shop")}});case"inventory":return(0,q.jsx)(uk,{items:m,onUpdateItem:async(b,c)=>{if("UPSERT"===c)if(sN()&&a){let c=a.role===v.OWNER?(await sW.getBarbershopByOwner(a.id))?.id:a.barbershopId;await sW.upsertInventoryItem({...b,barbershop_id:c}),await M(a)}else n(a=>{let c=a.findIndex(a=>a.id===b.id);if(c>=0){let d=[...a];return d[c]=b,d}return[...a,b]});else n(a=>a.filter(a=>a.id!==b.id))}});case"services":return(0,q.jsx)(tm,{services:k,onUpdateServices:l});case"order_management":return(0,q.jsx)(uC,{orders:o,users:z,onNavigate:f,onUpdateStatus:async(b,c,d)=>{sN()?(await sW.updateOrderStatus(b,c,d),a&&await M(a)):p(a=>a.map(a=>a.id===b?{...a,status:c}:a))}});case"financials":return(0,q.jsx)(ud,{transactions:pE});case"team":return(0,q.jsx)(uf,{barbers:K,setUsers:A});case"crm":return(0,q.jsx)(um,{services:k,notes:D,onSaveNote:Q,customers:L,appointments:i,onScheduleReturn:a=>{f("calendar")}});case"marketing":return(0,q.jsx)(uo,{automations:B,setAutomations:C});case"strategic":return(0,q.jsx)(uI,{services:k,plans:u,setPlans:w,currentUser:a||void 0});case"investor":return(0,q.jsx)(u1,{appointments:i,membershipPlans:u,services:k,users:z});case"settings":return(0,q.jsx)(uv,{currentUser:a,settings:s,onUpdateSettings:t,onUpdateUser:b});default:return(0,q.jsx)(ph,{stats:pF,onNavigate:f})}})(),(0,q.jsx)(s5,{currentUser:a})]}):(0,q.jsx)(s0,{onLogin:N,onGuestContinue:()=>{d(!0),f("booking")}})}},85161:(a,b,c)=>{a.exports=c(86002)(c(98813),"Set")},85236:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},85511:(a,b,c)=>{var d=c(42424),e=c(55707),f=c(22790),g=Object.prototype,h=Function.prototype.toString,i=g.hasOwnProperty,j=h.call(Object);a.exports=function(a){if(!f(a)||"[object Object]"!=d(a))return!1;var b=e(a);if(null===b)return!0;var c=i.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&h.call(c)==j}},85806:(a,b,c)=>{var d=c(77336);a.exports=function(a,b,c){var e=a.length;return c=void 0===c?e:c,!b&&c>=e?a:d(a,b,c)}},85964:a=>{"use strict";var b=Object.prototype.hasOwnProperty,c="~";function d(){}function e(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function f(a,b,d,f,g){if("function"!=typeof d)throw TypeError("The listener must be a function");var h=new e(d,f||a,g),i=c?c+b:b;return a._events[i]?a._events[i].fn?a._events[i]=[a._events[i],h]:a._events[i].push(h):(a._events[i]=h,a._eventsCount++),a}function g(a,b){0==--a._eventsCount?a._events=new d:delete a._events[b]}function h(){this._events=new d,this._eventsCount=0}Object.create&&(d.prototype=Object.create(null),new d().__proto__||(c=!1)),h.prototype.eventNames=function(){var a,d,e=[];if(0===this._eventsCount)return e;for(d in a=this._events)b.call(a,d)&&e.push(c?d.slice(1):d);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(a)):e},h.prototype.listeners=function(a){var b=c?c+a:a,d=this._events[b];if(!d)return[];if(d.fn)return[d.fn];for(var e=0,f=d.length,g=Array(f);e<f;e++)g[e]=d[e].fn;return g},h.prototype.listenerCount=function(a){var b=c?c+a:a,d=this._events[b];return d?d.fn?1:d.length:0},h.prototype.emit=function(a,b,d,e,f,g){var h=c?c+a:a;if(!this._events[h])return!1;var i,j,k=this._events[h],l=arguments.length;if(k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,d),!0;case 4:return k.fn.call(k.context,b,d,e),!0;case 5:return k.fn.call(k.context,b,d,e,f),!0;case 6:return k.fn.call(k.context,b,d,e,f,g),!0}for(j=1,i=Array(l-1);j<l;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;j<n;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,d);break;case 4:k[j].fn.call(k[j].context,b,d,e);break;default:if(!i)for(m=1,i=Array(l-1);m<l;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},h.prototype.on=function(a,b,c){return f(this,a,b,c,!1)},h.prototype.once=function(a,b,c){return f(this,a,b,c,!0)},h.prototype.removeListener=function(a,b,d,e){var f=c?c+a:a;if(!this._events[f])return this;if(!b)return g(this,f),this;var h=this._events[f];if(h.fn)h.fn!==b||e&&!h.once||d&&h.context!==d||g(this,f);else{for(var i=0,j=[],k=h.length;i<k;i++)(h[i].fn!==b||e&&!h[i].once||d&&h[i].context!==d)&&j.push(h[i]);j.length?this._events[f]=1===j.length?j[0]:j:g(this,f)}return this},h.prototype.removeAllListeners=function(a){var b;return a?(b=c?c+a:a,this._events[b]&&g(this,b)):(this._events=new d,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=c,h.EventEmitter=h,a.exports=h},86002:(a,b,c)=>{var d=c(86607),e=c(45e3);a.exports=function(a,b){var c=e(a,b);return d(c)?c:void 0}},86280:(a,b,c)=>{var d=c(86797);function e(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw TypeError("Expected a function");var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g)||f,g};return c.cache=new(e.Cache||d),c}e.Cache=d,a.exports=e},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},86607:(a,b,c)=>{var d=c(45862),e=c(50464),f=c(65197),g=c(409),h=/^\[object .+?Constructor\]$/,i=Object.prototype,j=Function.prototype.toString,k=i.hasOwnProperty,l=RegExp("^"+j.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");a.exports=function(a){return!(!f(a)||e(a))&&(d(a)?l:h).test(g(a))}},86797:(a,b,c)=>{var d=c(43424),e=c(67066),f=c(45881),g=c(87757),h=c(1269);function i(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}i.prototype.clear=d,i.prototype.delete=e,i.prototype.get=f,i.prototype.has=g,i.prototype.set=h,a.exports=i},87130:(a,b,c)=>{var d=c(8972);a.exports=function(a){return null==a?"":d(a)}},87279:(a,b,c)=>{var d=c(85806),e=c(91166),f=c(18776),g=c(87130);a.exports=function(a){return function(b){var c=e(b=g(b))?f(b):void 0,h=c?c[0]:b.charAt(0),i=c?d(c,1).join(""):b.slice(1);return h[a]()+i}}},87516:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{default:function(){return i},getImageProps:function(){return h}});let d=c(35288),e=c(63974),f=c(40106),g=d._(c(49656));function h(a){let{props:b}=(0,e.getImgProps)(a,{defaultLoader:g.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[a,c]of Object.entries(b))void 0===c&&delete b[a];return{props:b}}let i=f.Image},87757:(a,b,c)=>{var d=c(43167);a.exports=function(a){return d(this,a).has(a)}},88241:a=>{a.exports=function(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}},88723:(a,b,c)=>{Promise.resolve().then(c.bind(c,17742))},89159:a=>{a.exports=function(a){return this.__data__.has(a)}},90230:(a,b,c)=>{var d=c(96882),e=c(78996),f=c(2451),g=c(95062),h=c(92828),i=c(54861),j=c(45157);a.exports=function(a,b){return g(a)&&h(b)?i(j(a),b):function(c){var g=e(c,a);return void 0===g&&g===b?f(c,a):d(b,g,3)}}},91166:a=>{var b=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");a.exports=function(a){return b.test(a)}},91429:(a,b,c)=>{var d=c(10446);a.exports=function(a,b){var c=this.__data__;return this.size+=+!this.has(a),c[a]=d&&void 0===b?"__lodash_hash_undefined__":b,this}},91594:(a,b,c)=>{var d=c(7709),e=c(65197);a.exports=function(a,b,c){var f=!0,g=!0;if("function"!=typeof a)throw TypeError("Expected a function");return e(c)&&(f="leading"in c?!!c.leading:f,g="trailing"in c?!!c.trailing:g),d(a,b,{leading:f,maxWait:b,trailing:g})}},92343:(a,b,c)=>{var d=c(61353),e=Object.prototype,f=e.hasOwnProperty,g=e.toString,h=d?d.toStringTag:void 0;a.exports=function(a){var b=f.call(a,h),c=a[h];try{a[h]=void 0;var d=!0}catch(a){}var e=g.call(a);return d&&(b?a[h]=c:delete a[h]),e}},92828:(a,b,c)=>{var d=c(65197);a.exports=function(a){return a==a&&!d(a)}},93145:a=>{a.exports=function(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}},93330:(a,b,c)=>{var d=c(74672),e=c(65197),f=c(80246),g=0/0,h=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,j=/^0o[0-7]+$/i,k=parseInt;a.exports=function(a){if("number"==typeof a)return a;if(f(a))return g;if(e(a)){var b="function"==typeof a.valueOf?a.valueOf():a;a=e(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=d(a);var c=i.test(a);return c||j.test(a)?k(a.slice(2),c?2:8):h.test(a)?g:+a}},94389:a=>{a.exports=function(a){return function(b,c,d){for(var e=-1,f=Object(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(!1===c(f[i],i,f))break}return b}}},94580:(a,b,c)=>{var d=c(66898),e=c(22790),f=Object.prototype,g=f.hasOwnProperty,h=f.propertyIsEnumerable;a.exports=d(function(){return arguments}())?d:function(a){return e(a)&&g.call(a,"callee")&&!h.call(a,"callee")}},94958:a=>{a.exports=function(a){return a.split("")}},95062:(a,b,c)=>{var d=c(11849),e=c(80246),f=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,g=/^\w*$/;a.exports=function(a,b){if(d(a))return!1;var c=typeof a;return!!("number"==c||"symbol"==c||"boolean"==c||null==a||e(a))||g.test(a)||!f.test(a)||null!=b&&a in Object(b)}},96882:(a,b,c)=>{var d=c(61188),e=c(22790);a.exports=function a(b,c,f,g,h){return b===c||(null!=b&&null!=c&&(e(b)||e(c))?d(b,c,f,g,a,h):b!=b&&c!=c)}},97376:(a,b,c)=>{a.exports=c(87279)("toUpperCase")},97510:a=>{a.exports=function(a){var b=null==a?0:a.length;return b?a[b-1]:void 0}},97987:a=>{var b=Object.prototype;a.exports=function(a){var c=a&&a.constructor;return a===("function"==typeof c&&c.prototype||b)}},98024:(a,b,c)=>{var d=c(93330),e=1/0;a.exports=function(a){return a?(a=d(a))===e||a===-e?(a<0?-1:1)*17976931348623157e292:a==a?a:0:0===a?a:0}},98038:a=>{a.exports=function(a){var b=typeof a;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}},98097:(a,b,c)=>{a.exports=c(94389)()},98228:()=>{},98813:(a,b,c)=>{var d=c(9640),e="object"==typeof self&&self&&self.Object===Object&&self;a.exports=d||e||Function("return this")()},99218:(a,b,c)=>{var d=c(99459),e=c(12968),f=c(70050);a.exports=function(a){return f(a)?d(a):e(a)}},99459:(a,b,c)=>{var d=c(2224),e=c(94580),f=c(11849),g=c(12024),h=c(40337),i=c(38331),j=Object.prototype.hasOwnProperty;a.exports=function(a,b){var c=f(a),k=!c&&e(a),l=!c&&!k&&g(a),m=!c&&!k&&!l&&i(a),n=c||k||l||m,o=n?d(a.length,String):[],p=o.length;for(var q in a)(b||j.call(a,q))&&!(n&&("length"==q||l&&("offset"==q||"parent"==q)||m&&("buffer"==q||"byteLength"==q||"byteOffset"==q)||h(q,p)))&&o.push(q);return o}},99625:(a,b,c)=>{var d=c(39517);a.exports=function(a,b){var c=!0;return d(a,function(a,d,e){return c=!!b(a,d,e)}),c}}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[819],()=>b(b.s=70033));module.exports=c})();